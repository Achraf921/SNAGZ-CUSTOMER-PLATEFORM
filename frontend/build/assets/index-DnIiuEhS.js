var H1=Object.defineProperty;var W1=(e,t,r)=>t in e?H1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ae=(e,t,r)=>W1(e,typeof t!="symbol"?t+"":t,r);function Y1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function bc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ex={exports:{}},wc={},tx={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=Symbol.for("react.element"),K1=Symbol.for("react.portal"),Q1=Symbol.for("react.fragment"),G1=Symbol.for("react.strict_mode"),J1=Symbol.for("react.profiler"),X1=Symbol.for("react.provider"),Z1=Symbol.for("react.context"),e2=Symbol.for("react.forward_ref"),t2=Symbol.for("react.suspense"),r2=Symbol.for("react.memo"),n2=Symbol.for("react.lazy"),Gf=Symbol.iterator;function s2(e){return e===null||typeof e!="object"?null:(e=Gf&&e[Gf]||e["@@iterator"],typeof e=="function"?e:null)}var rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nx=Object.assign,sx={};function La(e,t,r){this.props=e,this.context=t,this.refs=sx,this.updater=r||rx}La.prototype.isReactComponent={};La.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};La.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ax(){}ax.prototype=La.prototype;function rp(e,t,r){this.props=e,this.context=t,this.refs=sx,this.updater=r||rx}var np=rp.prototype=new ax;np.constructor=rp;nx(np,La.prototype);np.isPureReactComponent=!0;var Jf=Array.isArray,ox=Object.prototype.hasOwnProperty,sp={current:null},ix={key:!0,ref:!0,__self:!0,__source:!0};function lx(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)ox.call(t,n)&&!ix.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Zo,type:e,key:o,ref:i,props:a,_owner:sp.current}}function a2(e,t){return{$$typeof:Zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ap(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zo}function o2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xf=/\/+/g;function Ru(e,t){return typeof e=="object"&&e!==null&&e.key!=null?o2(""+e.key):t.toString(36)}function Yi(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Zo:case K1:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Ru(i,0):n,Jf(a)?(r="",e!=null&&(r=e.replace(Xf,"$&/")+"/"),Yi(a,t,r,"",function(u){return u})):a!=null&&(ap(a)&&(a=a2(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Xf,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Jf(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Ru(o,l);i+=Yi(o,t,r,c,a)}else if(c=s2(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Ru(o,l++),i+=Yi(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function yi(e,t,r){if(e==null)return e;var n=[],a=0;return Yi(e,n,"","",function(o){return t.call(r,o,a++)}),n}function i2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},Ki={transition:null},l2={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:sp};function cx(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:yi,forEach:function(e,t,r){yi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yi(e,function(){t++}),t},toArray:function(e){return yi(e,function(t){return t})||[]},only:function(e){if(!ap(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=La;Se.Fragment=Q1;Se.Profiler=J1;Se.PureComponent=rp;Se.StrictMode=G1;Se.Suspense=t2;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l2;Se.act=cx;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nx({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=sp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ox.call(t,c)&&!ix.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Zo,type:e.type,key:a,ref:o,props:n,_owner:i}};Se.createContext=function(e){return e={$$typeof:Z1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X1,_context:e},e.Consumer=e};Se.createElement=lx;Se.createFactory=function(e){var t=lx.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:e2,render:e}};Se.isValidElement=ap;Se.lazy=function(e){return{$$typeof:n2,_payload:{_status:-1,_result:e},_init:i2}};Se.memo=function(e,t){return{$$typeof:r2,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Ki.transition;Ki.transition={};try{e()}finally{Ki.transition=t}};Se.unstable_act=cx;Se.useCallback=function(e,t){return Ft.current.useCallback(e,t)};Se.useContext=function(e){return Ft.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Ft.current.useEffect(e,t)};Se.useId=function(){return Ft.current.useId()};Se.useImperativeHandle=function(e,t,r){return Ft.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Ft.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return Ft.current.useReducer(e,t,r)};Se.useRef=function(e){return Ft.current.useRef(e)};Se.useState=function(e){return Ft.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return Ft.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return Ft.current.useTransition()};Se.version="18.3.1";tx.exports=Se;var x=tx.exports;const W=bc(x),Eo=Y1({__proto__:null,default:W},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2=x,u2=Symbol.for("react.element"),d2=Symbol.for("react.fragment"),m2=Object.prototype.hasOwnProperty,p2=c2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f2={key:!0,ref:!0,__self:!0,__source:!0};function ux(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)m2.call(t,n)&&!f2.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:u2,type:e,key:o,ref:i,props:a,_owner:p2.current}}wc.Fragment=d2;wc.jsx=ux;wc.jsxs=ux;ex.exports=wc;var s=ex.exports,Pd={},dx={exports:{}},cr={},mx={exports:{}},px={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,D){var F=k.length;k.push(D);e:for(;0<F;){var O=F-1>>>1,q=k[O];if(0<a(q,D))k[O]=D,k[F]=q,F=O;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var D=k[0],F=k.pop();if(F!==D){k[0]=F;e:for(var O=0,q=k.length,Y=q>>>1;O<Y;){var K=2*(O+1)-1,X=k[K],R=K+1,H=k[R];if(0>a(X,F))R<q&&0>a(H,X)?(k[O]=H,k[R]=F,O=R):(k[O]=X,k[K]=F,O=K);else if(R<q&&0>a(H,F))k[O]=H,k[R]=F,O=R;else break e}}return D}function a(k,D){var F=k.sortIndex-D.sortIndex;return F!==0?F:k.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,m=null,p=3,f=!1,g=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(k){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=k)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function C(k){if(w=!1,N(k),!g)if(r(c)!==null)g=!0,P(T);else{var D=r(u);D!==null&&E(C,D.startTime-k)}}function T(k,D){g=!1,w&&(w=!1,y(_),_=-1),f=!0;var F=p;try{for(N(D),m=r(c);m!==null&&(!(m.expirationTime>D)||k&&!M());){var O=m.callback;if(typeof O=="function"){m.callback=null,p=m.priorityLevel;var q=O(m.expirationTime<=D);D=e.unstable_now(),typeof q=="function"?m.callback=q:m===r(c)&&n(c),N(D)}else n(c);m=r(c)}if(m!==null)var Y=!0;else{var K=r(u);K!==null&&E(C,K.startTime-D),Y=!1}return Y}finally{m=null,p=F,f=!1}}var j=!1,S=null,_=-1,I=5,h=-1;function M(){return!(e.unstable_now()-h<I)}function $(){if(S!==null){var k=e.unstable_now();h=k;var D=!0;try{D=S(!0,k)}finally{D?z():(j=!1,S=null)}}else j=!1}var z;if(typeof b=="function")z=function(){b($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,A=U.port2;U.port1.onmessage=$,z=function(){A.postMessage(null)}}else z=function(){v($,0)};function P(k){S=k,j||(j=!0,z())}function E(k,D){_=v(function(){k(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,P(T))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var F=p;p=D;try{return k()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,D){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=p;p=k;try{return D()}finally{p=F}},e.unstable_scheduleCallback=function(k,D,F){var O=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?O+F:O):F=O,k){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,k={id:d++,callback:D,priorityLevel:k,startTime:F,expirationTime:q,sortIndex:-1},F>O?(k.sortIndex=F,t(u,k),r(c)===null&&k===r(u)&&(w?(y(_),_=-1):w=!0,E(C,F-O))):(k.sortIndex=q,t(c,k),g||f||(g=!0,P(T))),k},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(k){var D=p;return function(){var F=p;p=D;try{return k.apply(this,arguments)}finally{p=F}}}})(px);mx.exports=px;var h2=mx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=x,or=h2;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fx=new Set,Po={};function $s(e,t){ba(e,t),ba(e+"Capture",t)}function ba(e,t){for(Po[e]=t,e=0;e<t.length;e++)fx.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dd=Object.prototype.hasOwnProperty,x2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zf={},eh={};function y2(e){return Dd.call(eh,e)?!0:Dd.call(Zf,e)?!1:x2.test(e)?eh[e]=!0:(Zf[e]=!0,!1)}function v2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b2(e,t,r,n){if(t===null||typeof t>"u"||v2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var op=/[\-:]([a-z])/g;function ip(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(op,ip);Et[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(op,ip);Et[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(op,ip);Et[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function lp(e,t,r,n){var a=Et.hasOwnProperty(t)?Et[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b2(t,r,a,n)&&(r=null),n||a===null?y2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var En=g2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vi=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),hx=Symbol.for("react.provider"),gx=Symbol.for("react.context"),up=Symbol.for("react.forward_ref"),Td=Symbol.for("react.suspense"),Md=Symbol.for("react.suspense_list"),dp=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),xx=Symbol.for("react.offscreen"),th=Symbol.iterator;function Ha(e){return e===null||typeof e!="object"?null:(e=th&&e[th]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,Lu;function io(e){if(Lu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lu=t&&t[1]||""}return`
`+Lu+e}var zu=!1;function $u(e,t){if(!e||zu)return"";zu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{zu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?io(e):""}function w2(e){switch(e.tag){case 5:return io(e.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return e=$u(e.type,!1),e;case 11:return e=$u(e.type.render,!1),e;case 1:return e=$u(e.type,!0),e;default:return""}}function Id(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xs:return"Fragment";case Js:return"Portal";case _d:return"Profiler";case cp:return"StrictMode";case Td:return"Suspense";case Md:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gx:return(e.displayName||"Context")+".Consumer";case hx:return(e._context.displayName||"Context")+".Provider";case up:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dp:return t=e.displayName||null,t!==null?t:Id(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return Id(e(t))}catch{}}return null}function j2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Id(t);case 8:return t===cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function N2(e){var t=yx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bi(e){e._valueTracker||(e._valueTracker=N2(e))}function vx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ad(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bx(e,t){t=t.checked,t!=null&&lp(e,"checked",t,!1)}function Od(e,t){bx(e,t);var r=Xn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rd(e,t.type,Xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rd(e,t,r){(t!=="number"||vl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lo=Array.isArray;function ca(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ld(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(lo(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xn(r)}}function wx(e,t){var r=Xn(t.value),n=Xn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ah(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wi,Nx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wi=wi||document.createElement("div"),wi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Do(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S2=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(e){S2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),go[t]=go[e]})});function Sx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||go.hasOwnProperty(e)&&go[e]?(""+t).trim():t+"px"}function Cx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Sx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var C2=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $d(e,t){if(t){if(C2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Fd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bd=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ud=null,ua=null,da=null;function oh(e){if(e=ri(e)){if(typeof Ud!="function")throw Error(re(280));var t=e.stateNode;t&&(t=kc(t),Ud(e.stateNode,e.type,t))}}function kx(e){ua?da?da.push(e):da=[e]:ua=e}function Ex(){if(ua){var e=ua,t=da;if(da=ua=null,oh(e),t)for(e=0;e<t.length;e++)oh(t[e])}}function Px(e,t){return e(t)}function Dx(){}var Fu=!1;function _x(e,t,r){if(Fu)return e(t,r);Fu=!0;try{return Px(e,t,r)}finally{Fu=!1,(ua!==null||da!==null)&&(Dx(),Ex())}}function _o(e,t){var r=e.stateNode;if(r===null)return null;var n=kc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var Vd=!1;if(wn)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Vd=!1}function k2(e,t,r,n,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xo=!1,bl=null,wl=!1,qd=null,E2={onError:function(e){xo=!0,bl=e}};function P2(e,t,r,n,a,o,i,l,c){xo=!1,bl=null,k2.apply(E2,arguments)}function D2(e,t,r,n,a,o,i,l,c){if(P2.apply(this,arguments),xo){if(xo){var u=bl;xo=!1,bl=null}else throw Error(re(198));wl||(wl=!0,qd=u)}}function Fs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Tx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ih(e){if(Fs(e)!==e)throw Error(re(188))}function _2(e){var t=e.alternate;if(!t){if(t=Fs(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return ih(a),e;if(o===n)return ih(a),t;o=o.sibling}throw Error(re(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function Mx(e){return e=_2(e),e!==null?Ix(e):null}function Ix(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ix(e);if(t!==null)return t;e=e.sibling}return null}var Ax=or.unstable_scheduleCallback,lh=or.unstable_cancelCallback,T2=or.unstable_shouldYield,M2=or.unstable_requestPaint,at=or.unstable_now,I2=or.unstable_getCurrentPriorityLevel,pp=or.unstable_ImmediatePriority,Ox=or.unstable_UserBlockingPriority,jl=or.unstable_NormalPriority,A2=or.unstable_LowPriority,Rx=or.unstable_IdlePriority,jc=null,Zr=null;function O2(e){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(jc,e,void 0,(e.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:z2,R2=Math.log,L2=Math.LN2;function z2(e){return e>>>=0,e===0?32:31-(R2(e)/L2|0)|0}var ji=64,Ni=4194304;function co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=co(l):(o&=i,o!==0&&(n=co(o)))}else i=r&~a,i!==0?n=co(i):o!==0&&(n=co(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ar(t),a=1<<r,n|=e[r],t&=~a;return n}function $2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ar(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=$2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Hd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lx(){var e=ji;return ji<<=1,!(ji&4194240)&&(ji=64),e}function Bu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ei(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ar(t),e[t]=r}function B2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ar(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function fp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ar(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ae=0;function zx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $x,hp,Fx,Bx,Ux,Wd=!1,Si=[],Bn=null,Un=null,Vn=null,To=new Map,Mo=new Map,Rn=[],U2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":To.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(t.pointerId)}}function Ya(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=ri(t),t!==null&&hp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function V2(e,t,r,n,a){switch(t){case"focusin":return Bn=Ya(Bn,e,t,r,n,a),!0;case"dragenter":return Un=Ya(Un,e,t,r,n,a),!0;case"mouseover":return Vn=Ya(Vn,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return To.set(o,Ya(To.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Mo.set(o,Ya(Mo.get(o)||null,e,t,r,n,a)),!0}return!1}function Vx(e){var t=ps(e.target);if(t!==null){var r=Fs(t);if(r!==null){if(t=r.tag,t===13){if(t=Tx(r),t!==null){e.blockedOn=t,Ux(e.priority,function(){Fx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bd=n,r.target.dispatchEvent(n),Bd=null}else return t=ri(r),t!==null&&hp(t),e.blockedOn=r,!1;t.shift()}return!0}function uh(e,t,r){Qi(e)&&r.delete(t)}function q2(){Wd=!1,Bn!==null&&Qi(Bn)&&(Bn=null),Un!==null&&Qi(Un)&&(Un=null),Vn!==null&&Qi(Vn)&&(Vn=null),To.forEach(uh),Mo.forEach(uh)}function Ka(e,t){e.blockedOn===t&&(e.blockedOn=null,Wd||(Wd=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,q2)))}function Io(e){function t(a){return Ka(a,e)}if(0<Si.length){Ka(Si[0],e);for(var r=1;r<Si.length;r++){var n=Si[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bn!==null&&Ka(Bn,e),Un!==null&&Ka(Un,e),Vn!==null&&Ka(Vn,e),To.forEach(t),Mo.forEach(t),r=0;r<Rn.length;r++)n=Rn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rn.length&&(r=Rn[0],r.blockedOn===null);)Vx(r),r.blockedOn===null&&Rn.shift()}var ma=En.ReactCurrentBatchConfig,Sl=!0;function H2(e,t,r,n){var a=Ae,o=ma.transition;ma.transition=null;try{Ae=1,gp(e,t,r,n)}finally{Ae=a,ma.transition=o}}function W2(e,t,r,n){var a=Ae,o=ma.transition;ma.transition=null;try{Ae=4,gp(e,t,r,n)}finally{Ae=a,ma.transition=o}}function gp(e,t,r,n){if(Sl){var a=Yd(e,t,r,n);if(a===null)Ju(e,t,n,Cl,r),ch(e,n);else if(V2(a,e,t,r,n))n.stopPropagation();else if(ch(e,n),t&4&&-1<U2.indexOf(e)){for(;a!==null;){var o=ri(a);if(o!==null&&$x(o),o=Yd(e,t,r,n),o===null&&Ju(e,t,n,Cl,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Ju(e,t,n,null,r)}}var Cl=null;function Yd(e,t,r,n){if(Cl=null,e=mp(n),e=ps(e),e!==null)if(t=Fs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Tx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cl=e,null}function qx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I2()){case pp:return 1;case Ox:return 4;case jl:case A2:return 16;case Rx:return 536870912;default:return 16}default:return 16}}var zn=null,xp=null,Gi=null;function Hx(){if(Gi)return Gi;var e,t=xp,r=t.length,n,a="value"in zn?zn.value:zn.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Gi=a.slice(e,1<n?1-n:void 0)}function Ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function dh(){return!1}function ur(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ci:dh,this.isPropagationStopped=dh,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),t}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yp=ur(za),ti=et({},za,{view:0,detail:0}),Y2=ur(ti),Uu,Vu,Qa,Nc=et({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(Uu=e.screenX-Qa.screenX,Vu=e.screenY-Qa.screenY):Vu=Uu=0,Qa=e),Uu)},movementY:function(e){return"movementY"in e?e.movementY:Vu}}),mh=ur(Nc),K2=et({},Nc,{dataTransfer:0}),Q2=ur(K2),G2=et({},ti,{relatedTarget:0}),qu=ur(G2),J2=et({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),X2=ur(J2),Z2=et({},za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ew=ur(Z2),tw=et({},za,{data:0}),ph=ur(tw),rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sw[e])?!!t[e]:!1}function vp(){return aw}var ow=et({},ti,{key:function(e){if(e.key){var t=rw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vp,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iw=ur(ow),lw=et({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fh=ur(lw),cw=et({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vp}),uw=ur(cw),dw=et({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),mw=ur(dw),pw=et({},Nc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fw=ur(pw),hw=[9,13,27,32],bp=wn&&"CompositionEvent"in window,yo=null;wn&&"documentMode"in document&&(yo=document.documentMode);var gw=wn&&"TextEvent"in window&&!yo,Wx=wn&&(!bp||yo&&8<yo&&11>=yo),hh=" ",gh=!1;function Yx(e,t){switch(e){case"keyup":return hw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zs=!1;function xw(e,t){switch(e){case"compositionend":return Kx(t);case"keypress":return t.which!==32?null:(gh=!0,hh);case"textInput":return e=t.data,e===hh&&gh?null:e;default:return null}}function yw(e,t){if(Zs)return e==="compositionend"||!bp&&Yx(e,t)?(e=Hx(),Gi=xp=zn=null,Zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wx&&t.locale!=="ko"?null:t.data;default:return null}}var vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vw[e.type]:t==="textarea"}function Qx(e,t,r,n){kx(n),t=kl(t,"onChange"),0<t.length&&(r=new yp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vo=null,Ao=null;function bw(e){oy(e,0)}function Sc(e){var t=ra(e);if(vx(t))return e}function ww(e,t){if(e==="change")return t}var Gx=!1;if(wn){var Hu;if(wn){var Wu="oninput"in document;if(!Wu){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),Wu=typeof yh.oninput=="function"}Hu=Wu}else Hu=!1;Gx=Hu&&(!document.documentMode||9<document.documentMode)}function vh(){vo&&(vo.detachEvent("onpropertychange",Jx),Ao=vo=null)}function Jx(e){if(e.propertyName==="value"&&Sc(Ao)){var t=[];Qx(t,Ao,e,mp(e)),_x(bw,t)}}function jw(e,t,r){e==="focusin"?(vh(),vo=t,Ao=r,vo.attachEvent("onpropertychange",Jx)):e==="focusout"&&vh()}function Nw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(Ao)}function Sw(e,t){if(e==="click")return Sc(t)}function Cw(e,t){if(e==="input"||e==="change")return Sc(t)}function kw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:kw;function Oo(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Dd.call(t,a)||!Lr(e[a],t[a]))return!1}return!0}function bh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wh(e,t){var r=bh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bh(r)}}function Xx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zx(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vl(e.document)}return t}function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ew(e){var t=Zx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Xx(r.ownerDocument.documentElement,r)){if(n!==null&&wp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=wh(r,o);var i=wh(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pw=wn&&"documentMode"in document&&11>=document.documentMode,ea=null,Kd=null,bo=null,Qd=!1;function jh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qd||ea==null||ea!==vl(n)||(n=ea,"selectionStart"in n&&wp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bo&&Oo(bo,n)||(bo=n,n=kl(Kd,"onSelect"),0<n.length&&(t=new yp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ea)))}function ki(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ta={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Yu={},ey={};wn&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Cc(e){if(Yu[e])return Yu[e];if(!ta[e])return e;var t=ta[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ey)return Yu[e]=t[r];return e}var ty=Cc("animationend"),ry=Cc("animationiteration"),ny=Cc("animationstart"),sy=Cc("transitionend"),ay=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(e,t){ay.set(e,t),$s(t,[e])}for(var Ku=0;Ku<Nh.length;Ku++){var Qu=Nh[Ku],Dw=Qu.toLowerCase(),_w=Qu[0].toUpperCase()+Qu.slice(1);ns(Dw,"on"+_w)}ns(ty,"onAnimationEnd");ns(ry,"onAnimationIteration");ns(ny,"onAnimationStart");ns("dblclick","onDoubleClick");ns("focusin","onFocus");ns("focusout","onBlur");ns(sy,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tw=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Sh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,D2(n,t,void 0,e),e.currentTarget=null}function oy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;Sh(a,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;Sh(a,l,u),o=c}}}if(wl)throw e=qd,wl=!1,qd=null,e}function Be(e,t){var r=t[em];r===void 0&&(r=t[em]=new Set);var n=e+"__bubble";r.has(n)||(iy(t,e,2,!1),r.add(n))}function Gu(e,t,r){var n=0;t&&(n|=4),iy(r,e,n,t)}var Ei="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[Ei]){e[Ei]=!0,fx.forEach(function(r){r!=="selectionchange"&&(Tw.has(r)||Gu(r,!1,e),Gu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ei]||(t[Ei]=!0,Gu("selectionchange",!1,t))}}function iy(e,t,r,n){switch(qx(t)){case 1:var a=H2;break;case 4:a=W2;break;default:a=gp}r=a.bind(null,t,r,e),a=void 0,!Vd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ju(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ps(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}_x(function(){var u=o,d=mp(r),m=[];e:{var p=ay.get(e);if(p!==void 0){var f=yp,g=e;switch(e){case"keypress":if(Ji(r)===0)break e;case"keydown":case"keyup":f=iw;break;case"focusin":g="focus",f=qu;break;case"focusout":g="blur",f=qu;break;case"beforeblur":case"afterblur":f=qu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Q2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=uw;break;case ty:case ry:case ny:f=X2;break;case sy:f=mw;break;case"scroll":f=Y2;break;case"wheel":f=fw;break;case"copy":case"cut":case"paste":f=ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=fh}var w=(t&4)!==0,v=!w&&e==="scroll",y=w?p!==null?p+"Capture":null:p;w=[];for(var b=u,N;b!==null;){N=b;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,y!==null&&(C=_o(b,y),C!=null&&w.push(Lo(b,C,N)))),v)break;b=b.return}0<w.length&&(p=new f(p,g,null,r,d),m.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==Bd&&(g=r.relatedTarget||r.fromElement)&&(ps(g)||g[jn]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?ps(g):null,g!==null&&(v=Fs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(w=mh,C="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(w=fh,C="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?p:ra(f),N=g==null?p:ra(g),p=new w(C,b+"leave",f,r,d),p.target=v,p.relatedTarget=N,C=null,ps(d)===u&&(w=new w(y,b+"enter",g,r,d),w.target=N,w.relatedTarget=v,C=w),v=C,f&&g)t:{for(w=f,y=g,b=0,N=w;N;N=Us(N))b++;for(N=0,C=y;C;C=Us(C))N++;for(;0<b-N;)w=Us(w),b--;for(;0<N-b;)y=Us(y),N--;for(;b--;){if(w===y||y!==null&&w===y.alternate)break t;w=Us(w),y=Us(y)}w=null}else w=null;f!==null&&Ch(m,p,f,w,!1),g!==null&&v!==null&&Ch(m,v,g,w,!0)}}e:{if(p=u?ra(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var T=ww;else if(xh(p))if(Gx)T=Cw;else{T=Nw;var j=jw}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=Sw);if(T&&(T=T(e,u))){Qx(m,T,r,d);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Rd(p,"number",p.value)}switch(j=u?ra(u):window,e){case"focusin":(xh(j)||j.contentEditable==="true")&&(ea=j,Kd=u,bo=null);break;case"focusout":bo=Kd=ea=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,jh(m,r,d);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":jh(m,r,d)}var S;if(bp)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Zs?Yx(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Wx&&r.locale!=="ko"&&(Zs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Zs&&(S=Hx()):(zn=d,xp="value"in zn?zn.value:zn.textContent,Zs=!0)),j=kl(u,_),0<j.length&&(_=new ph(_,e,null,r,d),m.push({event:_,listeners:j}),S?_.data=S:(S=Kx(r),S!==null&&(_.data=S)))),(S=gw?xw(e,r):yw(e,r))&&(u=kl(u,"onBeforeInput"),0<u.length&&(d=new ph("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=S))}oy(m,t)})}function Lo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=_o(e,r),o!=null&&n.unshift(Lo(e,o,a)),o=_o(e,t),o!=null&&n.push(Lo(e,o,a))),e=e.return}return n}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ch(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=_o(r,o),c!=null&&i.unshift(Lo(r,c,l))):a||(c=_o(r,o),c!=null&&i.push(Lo(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Mw=/\r\n?/g,Iw=/\u0000|\uFFFD/g;function kh(e){return(typeof e=="string"?e:""+e).replace(Mw,`
`).replace(Iw,"")}function Pi(e,t,r){if(t=kh(t),kh(e)!==t&&r)throw Error(re(425))}function El(){}var Gd=null,Jd=null;function Xd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zd=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(e){return Eh.resolve(null).then(e).catch(Rw)}:Zd;function Rw(e){setTimeout(function(){throw e})}function Xu(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Io(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Io(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $a=Math.random().toString(36).slice(2),Kr="__reactFiber$"+$a,zo="__reactProps$"+$a,jn="__reactContainer$"+$a,em="__reactEvents$"+$a,Lw="__reactListeners$"+$a,zw="__reactHandles$"+$a;function ps(e){var t=e[Kr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jn]||r[Kr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ph(e);e!==null;){if(r=e[Kr])return r;e=Ph(e)}return t}e=r,r=e.parentNode}return null}function ri(e){return e=e[Kr]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function kc(e){return e[zo]||null}var tm=[],na=-1;function ss(e){return{current:e}}function Ue(e){0>na||(e.current=tm[na],tm[na]=null,na--)}function Fe(e,t){na++,tm[na]=e.current,e.current=t}var Zn={},Ot=ss(Zn),Ht=ss(!1),Ps=Zn;function wa(e,t){var r=e.type.contextTypes;if(!r)return Zn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wt(e){return e=e.childContextTypes,e!=null}function Pl(){Ue(Ht),Ue(Ot)}function Dh(e,t,r){if(Ot.current!==Zn)throw Error(re(168));Fe(Ot,t),Fe(Ht,r)}function ly(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(re(108,j2(e)||"Unknown",a));return et({},r,n)}function Dl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zn,Ps=Ot.current,Fe(Ot,e),Fe(Ht,Ht.current),!0}function _h(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=ly(e,t,Ps),n.__reactInternalMemoizedMergedChildContext=e,Ue(Ht),Ue(Ot),Fe(Ot,e)):Ue(Ht),Fe(Ht,r)}var mn=null,Ec=!1,Zu=!1;function cy(e){mn===null?mn=[e]:mn.push(e)}function $w(e){Ec=!0,cy(e)}function as(){if(!Zu&&mn!==null){Zu=!0;var e=0,t=Ae;try{var r=mn;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mn=null,Ec=!1}catch(a){throw mn!==null&&(mn=mn.slice(e+1)),Ax(pp,as),a}finally{Ae=t,Zu=!1}}return null}var sa=[],aa=0,_l=null,Tl=0,gr=[],xr=0,Ds=null,pn=1,fn="";function cs(e,t){sa[aa++]=Tl,sa[aa++]=_l,_l=e,Tl=t}function uy(e,t,r){gr[xr++]=pn,gr[xr++]=fn,gr[xr++]=Ds,Ds=e;var n=pn;e=fn;var a=32-Ar(n)-1;n&=~(1<<a),r+=1;var o=32-Ar(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,pn=1<<32-Ar(t)+a|r<<a|n,fn=o+e}else pn=1<<o|r<<a|n,fn=e}function jp(e){e.return!==null&&(cs(e,1),uy(e,1,0))}function Np(e){for(;e===_l;)_l=sa[--aa],sa[aa]=null,Tl=sa[--aa],sa[aa]=null;for(;e===Ds;)Ds=gr[--xr],gr[xr]=null,fn=gr[--xr],gr[xr]=null,pn=gr[--xr],gr[xr]=null}var tr=null,er=null,Ye=!1,Ir=null;function dy(e,t){var r=br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Th(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tr=e,er=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tr=e,er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ds!==null?{id:pn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tr=e,er=null,!0):!1;default:return!1}}function rm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nm(e){if(Ye){var t=er;if(t){var r=t;if(!Th(e,t)){if(rm(e))throw Error(re(418));t=qn(r.nextSibling);var n=tr;t&&Th(e,t)?dy(n,r):(e.flags=e.flags&-4097|2,Ye=!1,tr=e)}}else{if(rm(e))throw Error(re(418));e.flags=e.flags&-4097|2,Ye=!1,tr=e}}}function Mh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function Di(e){if(e!==tr)return!1;if(!Ye)return Mh(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xd(e.type,e.memoizedProps)),t&&(t=er)){if(rm(e))throw my(),Error(re(418));for(;t;)dy(e,t),t=qn(t.nextSibling)}if(Mh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){er=qn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}er=null}}else er=tr?qn(e.stateNode.nextSibling):null;return!0}function my(){for(var e=er;e;)e=qn(e.nextSibling)}function ja(){er=tr=null,Ye=!1}function Sp(e){Ir===null?Ir=[e]:Ir.push(e)}var Fw=En.ReactCurrentBatchConfig;function Ga(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function _i(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ih(e){var t=e._init;return t(e._payload)}function py(e){function t(y,b){if(e){var N=y.deletions;N===null?(y.deletions=[b],y.flags|=16):N.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Kn(y,b),y.index=0,y.sibling=null,y}function o(y,b,N){return y.index=N,e?(N=y.alternate,N!==null?(N=N.index,N<b?(y.flags|=2,b):N):(y.flags|=2,b)):(y.flags|=1048576,b)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,N,C){return b===null||b.tag!==6?(b=od(N,y.mode,C),b.return=y,b):(b=a(b,N),b.return=y,b)}function c(y,b,N,C){var T=N.type;return T===Xs?d(y,b,N.props.children,C,N.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===In&&Ih(T)===b.type)?(C=a(b,N.props),C.ref=Ga(y,b,N),C.return=y,C):(C=sl(N.type,N.key,N.props,null,y.mode,C),C.ref=Ga(y,b,N),C.return=y,C)}function u(y,b,N,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=id(N,y.mode,C),b.return=y,b):(b=a(b,N.children||[]),b.return=y,b)}function d(y,b,N,C,T){return b===null||b.tag!==7?(b=js(N,y.mode,C,T),b.return=y,b):(b=a(b,N),b.return=y,b)}function m(y,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=od(""+b,y.mode,N),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vi:return N=sl(b.type,b.key,b.props,null,y.mode,N),N.ref=Ga(y,null,b),N.return=y,N;case Js:return b=id(b,y.mode,N),b.return=y,b;case In:var C=b._init;return m(y,C(b._payload),N)}if(lo(b)||Ha(b))return b=js(b,y.mode,N,null),b.return=y,b;_i(y,b)}return null}function p(y,b,N,C){var T=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return T!==null?null:l(y,b,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vi:return N.key===T?c(y,b,N,C):null;case Js:return N.key===T?u(y,b,N,C):null;case In:return T=N._init,p(y,b,T(N._payload),C)}if(lo(N)||Ha(N))return T!==null?null:d(y,b,N,C,null);_i(y,N)}return null}function f(y,b,N,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(N)||null,l(b,y,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vi:return y=y.get(C.key===null?N:C.key)||null,c(b,y,C,T);case Js:return y=y.get(C.key===null?N:C.key)||null,u(b,y,C,T);case In:var j=C._init;return f(y,b,N,j(C._payload),T)}if(lo(C)||Ha(C))return y=y.get(N)||null,d(b,y,C,T,null);_i(b,C)}return null}function g(y,b,N,C){for(var T=null,j=null,S=b,_=b=0,I=null;S!==null&&_<N.length;_++){S.index>_?(I=S,S=null):I=S.sibling;var h=p(y,S,N[_],C);if(h===null){S===null&&(S=I);break}e&&S&&h.alternate===null&&t(y,S),b=o(h,b,_),j===null?T=h:j.sibling=h,j=h,S=I}if(_===N.length)return r(y,S),Ye&&cs(y,_),T;if(S===null){for(;_<N.length;_++)S=m(y,N[_],C),S!==null&&(b=o(S,b,_),j===null?T=S:j.sibling=S,j=S);return Ye&&cs(y,_),T}for(S=n(y,S);_<N.length;_++)I=f(S,y,_,N[_],C),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?_:I.key),b=o(I,b,_),j===null?T=I:j.sibling=I,j=I);return e&&S.forEach(function(M){return t(y,M)}),Ye&&cs(y,_),T}function w(y,b,N,C){var T=Ha(N);if(typeof T!="function")throw Error(re(150));if(N=T.call(N),N==null)throw Error(re(151));for(var j=T=null,S=b,_=b=0,I=null,h=N.next();S!==null&&!h.done;_++,h=N.next()){S.index>_?(I=S,S=null):I=S.sibling;var M=p(y,S,h.value,C);if(M===null){S===null&&(S=I);break}e&&S&&M.alternate===null&&t(y,S),b=o(M,b,_),j===null?T=M:j.sibling=M,j=M,S=I}if(h.done)return r(y,S),Ye&&cs(y,_),T;if(S===null){for(;!h.done;_++,h=N.next())h=m(y,h.value,C),h!==null&&(b=o(h,b,_),j===null?T=h:j.sibling=h,j=h);return Ye&&cs(y,_),T}for(S=n(y,S);!h.done;_++,h=N.next())h=f(S,y,_,h.value,C),h!==null&&(e&&h.alternate!==null&&S.delete(h.key===null?_:h.key),b=o(h,b,_),j===null?T=h:j.sibling=h,j=h);return e&&S.forEach(function($){return t(y,$)}),Ye&&cs(y,_),T}function v(y,b,N,C){if(typeof N=="object"&&N!==null&&N.type===Xs&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case vi:e:{for(var T=N.key,j=b;j!==null;){if(j.key===T){if(T=N.type,T===Xs){if(j.tag===7){r(y,j.sibling),b=a(j,N.props.children),b.return=y,y=b;break e}}else if(j.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===In&&Ih(T)===j.type){r(y,j.sibling),b=a(j,N.props),b.ref=Ga(y,j,N),b.return=y,y=b;break e}r(y,j);break}else t(y,j);j=j.sibling}N.type===Xs?(b=js(N.props.children,y.mode,C,N.key),b.return=y,y=b):(C=sl(N.type,N.key,N.props,null,y.mode,C),C.ref=Ga(y,b,N),C.return=y,y=C)}return i(y);case Js:e:{for(j=N.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){r(y,b.sibling),b=a(b,N.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=id(N,y.mode,C),b.return=y,y=b}return i(y);case In:return j=N._init,v(y,b,j(N._payload),C)}if(lo(N))return g(y,b,N,C);if(Ha(N))return w(y,b,N,C);_i(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,N),b.return=y,y=b):(r(y,b),b=od(N,y.mode,C),b.return=y,y=b),i(y)):r(y,b)}return v}var Na=py(!0),fy=py(!1),Ml=ss(null),Il=null,oa=null,Cp=null;function kp(){Cp=oa=Il=null}function Ep(e){var t=Ml.current;Ue(Ml),e._currentValue=t}function sm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function pa(e,t){Il=e,Cp=oa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function Nr(e){var t=e._currentValue;if(Cp!==e)if(e={context:e,memoizedValue:t,next:null},oa===null){if(Il===null)throw Error(re(308));oa=e,Il.dependencies={lanes:0,firstContext:e}}else oa=oa.next=e;return t}var fs=null;function Pp(e){fs===null?fs=[e]:fs.push(e)}function hy(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Pp(t)):(r.next=a.next,a.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var An=!1;function Dp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Nn(e,r)}return a=n.interleaved,a===null?(t.next=t,Pp(n)):(t.next=a.next,a.next=t),n.interleaved=t,Nn(e,r)}function Xi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fp(e,r)}}function Ah(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Al(e,t,r,n){var a=e.updateQueue;An=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var m=a.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(p=t,f=r,w.tag){case 1:if(g=w.payload,typeof g=="function"){m=g.call(f,m,p);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(f,m,p):g,p==null)break e;m=et({},m,p);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=m):d=d.next=f,i|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(c=m),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Ts|=i,e.lanes=i,e.memoizedState=m}}function Oh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(re(191,a));a.call(n)}}}var ni={},en=ss(ni),$o=ss(ni),Fo=ss(ni);function hs(e){if(e===ni)throw Error(re(174));return e}function _p(e,t){switch(Fe(Fo,t),Fe($o,e),Fe(en,ni),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zd(t,e)}Ue(en),Fe(en,t)}function Sa(){Ue(en),Ue($o),Ue(Fo)}function xy(e){hs(Fo.current);var t=hs(en.current),r=zd(t,e.type);t!==r&&(Fe($o,e),Fe(en,r))}function Tp(e){$o.current===e&&(Ue(en),Ue($o))}var Je=ss(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ed=[];function Mp(){for(var e=0;e<ed.length;e++)ed[e]._workInProgressVersionPrimary=null;ed.length=0}var Zi=En.ReactCurrentDispatcher,td=En.ReactCurrentBatchConfig,_s=0,Ze=null,ft=null,xt=null,Rl=!1,wo=!1,Bo=0,Bw=0;function Dt(){throw Error(re(321))}function Ip(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}function Ap(e,t,r,n,a,o){if(_s=o,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zi.current=e===null||e.memoizedState===null?Hw:Ww,e=r(n,a),wo){o=0;do{if(wo=!1,Bo=0,25<=o)throw Error(re(301));o+=1,xt=ft=null,t.updateQueue=null,Zi.current=Yw,e=r(n,a)}while(wo)}if(Zi.current=Ll,t=ft!==null&&ft.next!==null,_s=0,xt=ft=Ze=null,Rl=!1,t)throw Error(re(300));return e}function Op(){var e=Bo!==0;return Bo=0,e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=e:xt=xt.next=e,xt}function Sr(){if(ft===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=xt===null?Ze.memoizedState:xt.next;if(t!==null)xt=t,ft=e;else{if(e===null)throw Error(re(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},xt===null?Ze.memoizedState=xt=e:xt=xt.next=e}return xt}function Uo(e,t){return typeof t=="function"?t(e):t}function rd(e){var t=Sr(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=ft,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((_s&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,i=n):c=c.next=m,Ze.lanes|=d,Ts|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Lr(n,t.memoizedState)||(qt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Ze.lanes|=o,Ts|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nd(e){var t=Sr(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Lr(o,t.memoizedState)||(qt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function yy(){}function vy(e,t){var r=Ze,n=Sr(),a=t(),o=!Lr(n.memoizedState,a);if(o&&(n.memoizedState=a,qt=!0),n=n.queue,Rp(jy.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Vo(9,wy.bind(null,r,n,a,t),void 0,null),yt===null)throw Error(re(349));_s&30||by(r,t,a)}return a}function by(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wy(e,t,r,n){t.value=r,t.getSnapshot=n,Ny(t)&&Sy(e)}function jy(e,t,r){return r(function(){Ny(t)&&Sy(e)})}function Ny(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lr(e,r)}catch{return!0}}function Sy(e){var t=Nn(e,1);t!==null&&Or(t,e,1,-1)}function Rh(e){var t=Vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=qw.bind(null,Ze,e),[t.memoizedState,e]}function Vo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cy(){return Sr().memoizedState}function el(e,t,r,n){var a=Vr();Ze.flags|=e,a.memoizedState=Vo(1|t,r,void 0,n===void 0?null:n)}function Pc(e,t,r,n){var a=Sr();n=n===void 0?null:n;var o=void 0;if(ft!==null){var i=ft.memoizedState;if(o=i.destroy,n!==null&&Ip(n,i.deps)){a.memoizedState=Vo(t,r,o,n);return}}Ze.flags|=e,a.memoizedState=Vo(1|t,r,o,n)}function Lh(e,t){return el(8390656,8,e,t)}function Rp(e,t){return Pc(2048,8,e,t)}function ky(e,t){return Pc(4,2,e,t)}function Ey(e,t){return Pc(4,4,e,t)}function Py(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dy(e,t,r){return r=r!=null?r.concat([e]):null,Pc(4,4,Py.bind(null,t,e),r)}function Lp(){}function _y(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ip(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ty(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ip(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function My(e,t,r){return _s&21?(Lr(r,t)||(r=Lx(),Ze.lanes|=r,Ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r)}function Uw(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=td.transition;td.transition={};try{e(!1),t()}finally{Ae=r,td.transition=n}}function Iy(){return Sr().memoizedState}function Vw(e,t,r){var n=Yn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ay(e))Oy(t,r);else if(r=hy(e,t,r,n),r!==null){var a=$t();Or(r,e,n,a),Ry(r,t,n)}}function qw(e,t,r){var n=Yn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ay(e))Oy(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,Lr(l,i)){var c=t.interleaved;c===null?(a.next=a,Pp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=hy(e,t,a,n),r!==null&&(a=$t(),Or(r,e,n,a),Ry(r,t,n))}}function Ay(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Oy(e,t){wo=Rl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ry(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fp(e,r)}}var Ll={readContext:Nr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Hw={readContext:Nr,useCallback:function(e,t){return Vr().memoizedState=[e,t===void 0?null:t],e},useContext:Nr,useEffect:Lh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,el(4194308,4,Py.bind(null,t,e),r)},useLayoutEffect:function(e,t){return el(4194308,4,e,t)},useInsertionEffect:function(e,t){return el(4,2,e,t)},useMemo:function(e,t){var r=Vr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Vw.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=Vr();return e={current:e},t.memoizedState=e},useState:Rh,useDebugValue:Lp,useDeferredValue:function(e){return Vr().memoizedState=e},useTransition:function(){var e=Rh(!1),t=e[0];return e=Uw.bind(null,e[1]),Vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,a=Vr();if(Ye){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),yt===null)throw Error(re(349));_s&30||by(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Lh(jy.bind(null,n,o,e),[e]),n.flags|=2048,Vo(9,wy.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Vr(),t=yt.identifierPrefix;if(Ye){var r=fn,n=pn;r=(n&~(1<<32-Ar(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Bw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ww={readContext:Nr,useCallback:_y,useContext:Nr,useEffect:Rp,useImperativeHandle:Dy,useInsertionEffect:ky,useLayoutEffect:Ey,useMemo:Ty,useReducer:rd,useRef:Cy,useState:function(){return rd(Uo)},useDebugValue:Lp,useDeferredValue:function(e){var t=Sr();return My(t,ft.memoizedState,e)},useTransition:function(){var e=rd(Uo)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:yy,useSyncExternalStore:vy,useId:Iy,unstable_isNewReconciler:!1},Yw={readContext:Nr,useCallback:_y,useContext:Nr,useEffect:Rp,useImperativeHandle:Dy,useInsertionEffect:ky,useLayoutEffect:Ey,useMemo:Ty,useReducer:nd,useRef:Cy,useState:function(){return nd(Uo)},useDebugValue:Lp,useDeferredValue:function(e){var t=Sr();return ft===null?t.memoizedState=e:My(t,ft.memoizedState,e)},useTransition:function(){var e=nd(Uo)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:yy,useSyncExternalStore:vy,useId:Iy,unstable_isNewReconciler:!1};function Tr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function am(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dc={isMounted:function(e){return(e=e._reactInternals)?Fs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$t(),a=Yn(e),o=hn(n,a);o.payload=t,r!=null&&(o.callback=r),t=Hn(e,o,a),t!==null&&(Or(t,e,a,n),Xi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$t(),a=Yn(e),o=hn(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Hn(e,o,a),t!==null&&(Or(t,e,a,n),Xi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$t(),n=Yn(e),a=hn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Hn(e,a,n),t!==null&&(Or(t,e,n,r),Xi(t,e,n))}};function zh(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Oo(r,n)||!Oo(a,o):!0}function Ly(e,t,r){var n=!1,a=Zn,o=t.contextType;return typeof o=="object"&&o!==null?o=Nr(o):(a=Wt(t)?Ps:Ot.current,n=t.contextTypes,o=(n=n!=null)?wa(e,a):Zn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function $h(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function om(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Dp(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Nr(o):(o=Wt(t)?Ps:Ot.current,a.context=wa(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(am(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dc.enqueueReplaceState(a,a.state,null),Al(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ca(e,t){try{var r="",n=t;do r+=w2(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function sd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function im(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kw=typeof WeakMap=="function"?WeakMap:Map;function zy(e,t,r){r=hn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$l||($l=!0,xm=n),im(e,t)},r}function $y(e,t,r){r=hn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){im(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){im(e,t),typeof n!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Fh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Kw;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=lj.bind(null,e,t,r),t.then(e,e))}function Bh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uh(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hn(-1,1),t.tag=2,Hn(r,t,1))),r.lanes|=1),e)}var Qw=En.ReactCurrentOwner,qt=!1;function Rt(e,t,r,n){t.child=e===null?fy(t,null,r,n):Na(t,e.child,r,n)}function Vh(e,t,r,n,a){r=r.render;var o=t.ref;return pa(t,a),n=Ap(e,t,r,n,o,a),r=Op(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sn(e,t,a)):(Ye&&r&&jp(t),t.flags|=1,Rt(e,t,n,a),t.child)}function qh(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Hp(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Fy(e,t,o,n,a)):(e=sl(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(i,n)&&e.ref===t.ref)return Sn(e,t,a)}return t.flags|=1,e=Kn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Fy(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Oo(o,n)&&e.ref===t.ref)if(qt=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Sn(e,t,a)}return lm(e,t,r,n,a)}function By(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(la,Jt),Jt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(la,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Fe(la,Jt),Jt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Fe(la,Jt),Jt|=n;return Rt(e,t,a,r),t.child}function Uy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lm(e,t,r,n,a){var o=Wt(r)?Ps:Ot.current;return o=wa(t,o),pa(t,a),r=Ap(e,t,r,n,o,a),n=Op(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sn(e,t,a)):(Ye&&n&&jp(t),t.flags|=1,Rt(e,t,r,a),t.child)}function Hh(e,t,r,n,a){if(Wt(r)){var o=!0;Dl(t)}else o=!1;if(pa(t,a),t.stateNode===null)tl(e,t),Ly(t,r,n),om(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nr(u):(u=Wt(r)?Ps:Ot.current,u=wa(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&$h(t,i,n,u),An=!1;var p=t.memoizedState;i.state=p,Al(t,n,i,a),c=t.memoizedState,l!==n||p!==c||Ht.current||An?(typeof d=="function"&&(am(t,r,d,n),c=t.memoizedState),(l=An||zh(t,r,l,n,p,c,u))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,gy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Tr(t.type,l),i.props=u,m=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nr(c):(c=Wt(r)?Ps:Ot.current,c=wa(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||p!==c)&&$h(t,i,n,c),An=!1,p=t.memoizedState,i.state=p,Al(t,n,i,a);var g=t.memoizedState;l!==m||p!==g||Ht.current||An?(typeof f=="function"&&(am(t,r,f,n),g=t.memoizedState),(u=An||zh(t,r,u,n,p,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return cm(e,t,r,n,o,a)}function cm(e,t,r,n,a,o){Uy(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&_h(t,r,!1),Sn(e,t,o);n=t.stateNode,Qw.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Na(t,e.child,null,o),t.child=Na(t,null,l,o)):Rt(e,t,l,o),t.memoizedState=n.state,a&&_h(t,r,!0),t.child}function Vy(e){var t=e.stateNode;t.pendingContext?Dh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dh(e,t.context,!1),_p(e,t.containerInfo)}function Wh(e,t,r,n,a){return ja(),Sp(a),t.flags|=256,Rt(e,t,r,n),t.child}var um={dehydrated:null,treeContext:null,retryLane:0};function dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function qy(e,t,r){var n=t.pendingProps,a=Je.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Fe(Je,a&1),e===null)return nm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Mc(i,n,0,null),e=js(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dm(r),t.memoizedState=um,e):zp(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Gw(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Kn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Kn(l,o):(o=js(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?dm(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=um,n}return o=e.child,e=o.sibling,n=Kn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zp(e,t){return t=Mc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ti(e,t,r,n){return n!==null&&Sp(n),Na(t,e.child,null,r),e=zp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gw(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=sd(Error(re(422))),Ti(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Mc({mode:"visible",children:n.children},a,0,null),o=js(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Na(t,e.child,null,i),t.child.memoizedState=dm(i),t.memoizedState=um,o);if(!(t.mode&1))return Ti(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(re(419)),n=sd(o,n,void 0),Ti(e,t,i,n)}if(l=(i&e.childLanes)!==0,qt||l){if(n=yt,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Nn(e,a),Or(n,e,a,-1))}return qp(),n=sd(Error(re(421))),Ti(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cj.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,er=qn(a.nextSibling),tr=t,Ye=!0,Ir=null,e!==null&&(gr[xr++]=pn,gr[xr++]=fn,gr[xr++]=Ds,pn=e.id,fn=e.overflow,Ds=t),t=zp(t,n.children),t.flags|=4096,t)}function Yh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sm(e.return,t,r)}function ad(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function Hy(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Rt(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,r,t);else if(e.tag===19)Yh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(Je,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ol(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ad(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ol(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ad(t,!0,r,null,o);break;case"together":ad(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=Kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Jw(e,t,r){switch(t.tag){case 3:Vy(t),ja();break;case 5:xy(t);break;case 1:Wt(t.type)&&Dl(t);break;case 4:_p(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Fe(Ml,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?qy(e,t,r):(Fe(Je,Je.current&1),e=Sn(e,t,r),e!==null?e.sibling:null);Fe(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Hy(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Fe(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,By(e,t,r)}return Sn(e,t,r)}var Wy,mm,Yy,Ky;Wy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mm=function(){};Yy=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,hs(en.current);var o=null;switch(r){case"input":a=Ad(e,a),n=Ad(e,n),o=[];break;case"select":a=et({},a,{value:void 0}),n=et({},n,{value:void 0}),o=[];break;case"textarea":a=Ld(e,a),n=Ld(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=El)}$d(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Po.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Po.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ky=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ja(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Xw(e,t,r){var n=t.pendingProps;switch(Np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Wt(t.type)&&Pl(),_t(t),null;case 3:return n=t.stateNode,Sa(),Ue(Ht),Ue(Ot),Mp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Di(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ir!==null&&(bm(Ir),Ir=null))),mm(e,t),_t(t),null;case 5:Tp(t);var a=hs(Fo.current);if(r=t.type,e!==null&&t.stateNode!=null)Yy(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return _t(t),null}if(e=hs(en.current),Di(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Kr]=t,n[zo]=o,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(a=0;a<uo.length;a++)Be(uo[a],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":rh(n,o),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Be("invalid",n);break;case"textarea":sh(n,o),Be("invalid",n)}$d(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Pi(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Pi(n.textContent,l,e),a=["children",""+l]):Po.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Be("scroll",n)}switch(r){case"input":bi(n),nh(n,o,!0);break;case"textarea":bi(n),ah(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=El)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Kr]=t,e[zo]=n,Wy(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fd(r,n),r){case"dialog":Be("cancel",e),Be("close",e),a=n;break;case"iframe":case"object":case"embed":Be("load",e),a=n;break;case"video":case"audio":for(a=0;a<uo.length;a++)Be(uo[a],e);a=n;break;case"source":Be("error",e),a=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),a=n;break;case"details":Be("toggle",e),a=n;break;case"input":rh(e,n),a=Ad(e,n),Be("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=et({},n,{value:void 0}),Be("invalid",e);break;case"textarea":sh(e,n),a=Ld(e,n),Be("invalid",e);break;default:a=n}$d(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Cx(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nx(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Do(e,c):typeof c=="number"&&Do(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Po.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Be("scroll",e):c!=null&&lp(e,o,c,i))}switch(r){case"input":bi(e),nh(e,n,!1);break;case"textarea":bi(e),ah(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ca(e,!!n.multiple,o,!1):n.defaultValue!=null&&ca(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=El)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)Ky(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=hs(Fo.current),hs(en.current),Di(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kr]=t,(o=n.nodeValue!==r)&&(e=tr,e!==null))switch(e.tag){case 3:Pi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pi(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kr]=t,t.stateNode=n}return _t(t),null;case 13:if(Ue(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&er!==null&&t.mode&1&&!(t.flags&128))my(),ja(),t.flags|=98560,o=!1;else if(o=Di(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(re(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[Kr]=t}else ja(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),o=!1}else Ir!==null&&(bm(Ir),Ir=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?ht===0&&(ht=3):qp())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return Sa(),mm(e,t),e===null&&Ro(t.stateNode.containerInfo),_t(t),null;case 10:return Ep(t.type._context),_t(t),null;case 17:return Wt(t.type)&&Pl(),_t(t),null;case 19:if(Ue(Je),o=t.memoizedState,o===null)return _t(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Ja(o,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ol(e),i!==null){for(t.flags|=128,Ja(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Je,Je.current&1|2),t.child}e=e.sibling}o.tail!==null&&at()>ka&&(t.flags|=128,n=!0,Ja(o,!1),t.lanes=4194304)}else{if(!n)if(e=Ol(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ja(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ye)return _t(t),null}else 2*at()-o.renderingStartTime>ka&&r!==1073741824&&(t.flags|=128,n=!0,Ja(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=at(),t.sibling=null,r=Je.current,Fe(Je,n?r&1|2:r&1),t):(_t(t),null);case 22:case 23:return Vp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Jt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function Zw(e,t){switch(Np(t),t.tag){case 1:return Wt(t.type)&&Pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(),Ue(Ht),Ue(Ot),Mp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tp(t),null;case 13:if(Ue(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Je),null;case 4:return Sa(),null;case 10:return Ep(t.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var Mi=!1,Mt=!1,ej=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ia(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function pm(e,t,r){try{r()}catch(n){nt(e,t,n)}}var Kh=!1;function tj(e,t){if(Gd=Sl,e=Zx(),wp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,m=e,p=null;t:for(;;){for(var f;m!==r||a!==0&&m.nodeType!==3||(l=i+a),m!==o||n!==0&&m.nodeType!==3||(c=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(f=m.firstChild)!==null;)p=m,m=f;for(;;){if(m===e)break t;if(p===r&&++u===a&&(l=i),p===o&&++d===n&&(c=i),(f=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jd={focusedElem:e,selectionRange:r},Sl=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:Tr(t.type,w),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(C){nt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return g=Kh,Kh=!1,g}function jo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&pm(t,r,o)}a=a.next}while(a!==n)}}function _c(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Qy(e){var t=e.alternate;t!==null&&(e.alternate=null,Qy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[zo],delete t[em],delete t[Lw],delete t[zw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gy(e){return e.tag===5||e.tag===3||e.tag===4}function Qh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=El));else if(n!==4&&(e=e.child,e!==null))for(hm(e,t,r),e=e.sibling;e!==null;)hm(e,t,r),e=e.sibling}function gm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gm(e,t,r),e=e.sibling;e!==null;)gm(e,t,r),e=e.sibling}var St=null,Mr=!1;function _n(e,t,r){for(r=r.child;r!==null;)Jy(e,t,r),r=r.sibling}function Jy(e,t,r){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(jc,r)}catch{}switch(r.tag){case 5:Mt||ia(r,t);case 6:var n=St,a=Mr;St=null,_n(e,t,r),St=n,Mr=a,St!==null&&(Mr?(e=St,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):St.removeChild(r.stateNode));break;case 18:St!==null&&(Mr?(e=St,r=r.stateNode,e.nodeType===8?Xu(e.parentNode,r):e.nodeType===1&&Xu(e,r),Io(e)):Xu(St,r.stateNode));break;case 4:n=St,a=Mr,St=r.stateNode.containerInfo,Mr=!0,_n(e,t,r),St=n,Mr=a;break;case 0:case 11:case 14:case 15:if(!Mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&pm(r,t,i),a=a.next}while(a!==n)}_n(e,t,r);break;case 1:if(!Mt&&(ia(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}_n(e,t,r);break;case 21:_n(e,t,r);break;case 22:r.mode&1?(Mt=(n=Mt)||r.memoizedState!==null,_n(e,t,r),Mt=n):_n(e,t,r);break;default:_n(e,t,r)}}function Gh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ej),t.forEach(function(n){var a=uj.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:St=l.stateNode,Mr=!1;break e;case 3:St=l.stateNode.containerInfo,Mr=!0;break e;case 4:St=l.stateNode.containerInfo,Mr=!0;break e}l=l.return}if(St===null)throw Error(re(160));Jy(o,i,a),St=null,Mr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){nt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xy(t,e),t=t.sibling}function Xy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),Fr(e),n&4){try{jo(3,e,e.return),_c(3,e)}catch(w){nt(e,e.return,w)}try{jo(5,e,e.return)}catch(w){nt(e,e.return,w)}}break;case 1:Pr(t,e),Fr(e),n&512&&r!==null&&ia(r,r.return);break;case 5:if(Pr(t,e),Fr(e),n&512&&r!==null&&ia(r,r.return),e.flags&32){var a=e.stateNode;try{Do(a,"")}catch(w){nt(e,e.return,w)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&bx(a,o),Fd(l,i);var u=Fd(l,o);for(i=0;i<c.length;i+=2){var d=c[i],m=c[i+1];d==="style"?Cx(a,m):d==="dangerouslySetInnerHTML"?Nx(a,m):d==="children"?Do(a,m):lp(a,d,m,u)}switch(l){case"input":Od(a,o);break;case"textarea":wx(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?ca(a,!!o.multiple,f,!1):p!==!!o.multiple&&(o.defaultValue!=null?ca(a,!!o.multiple,o.defaultValue,!0):ca(a,!!o.multiple,o.multiple?[]:"",!1))}a[zo]=o}catch(w){nt(e,e.return,w)}}break;case 6:if(Pr(t,e),Fr(e),n&4){if(e.stateNode===null)throw Error(re(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(w){nt(e,e.return,w)}}break;case 3:if(Pr(t,e),Fr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Io(t.containerInfo)}catch(w){nt(e,e.return,w)}break;case 4:Pr(t,e),Fr(e);break;case 13:Pr(t,e),Fr(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Bp=at())),n&4&&Gh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Mt=(u=Mt)||d,Pr(t,e),Mt=u):Pr(t,e),Fr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(m=ie=d;ie!==null;){switch(p=ie,f=p.child,p.tag){case 0:case 11:case 14:case 15:jo(4,p,p.return);break;case 1:ia(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){nt(n,r,w)}}break;case 5:ia(p,p.return);break;case 22:if(p.memoizedState!==null){Xh(m);continue}}f!==null?(f.return=p,ie=f):Xh(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{a=m.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sx("display",i))}catch(w){nt(e,e.return,w)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){nt(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Pr(t,e),Fr(e),n&4&&Gh(e);break;case 21:break;default:Pr(t,e),Fr(e)}}function Fr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gy(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Do(a,""),n.flags&=-33);var o=Qh(e);gm(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Qh(e);hm(e,l,i);break;default:throw Error(re(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rj(e,t,r){ie=e,Zy(e)}function Zy(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var a=ie,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Mi;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Mt;l=Mi;var u=Mt;if(Mi=i,(Mt=c)&&!u)for(ie=a;ie!==null;)i=ie,c=i.child,i.tag===22&&i.memoizedState!==null?Zh(a):c!==null?(c.return=i,ie=c):Zh(a);for(;o!==null;)ie=o,Zy(o),o=o.sibling;ie=a,Mi=l,Mt=u}Jh(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,ie=o):Jh(e)}}function Jh(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||_c(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Tr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Oh(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Oh(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Io(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Mt||t.flags&512&&fm(t)}catch(p){nt(t,t.return,p)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Xh(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Zh(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_c(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var o=t.return;try{fm(t)}catch(c){nt(t,o,c)}break;case 5:var i=t.return;try{fm(t)}catch(c){nt(t,i,c)}}}catch(c){nt(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var nj=Math.ceil,zl=En.ReactCurrentDispatcher,$p=En.ReactCurrentOwner,jr=En.ReactCurrentBatchConfig,Ee=0,yt=null,pt=null,kt=0,Jt=0,la=ss(0),ht=0,qo=null,Ts=0,Tc=0,Fp=0,No=null,Vt=null,Bp=0,ka=1/0,dn=null,$l=!1,xm=null,Wn=null,Ii=!1,$n=null,Fl=0,So=0,ym=null,rl=-1,nl=0;function $t(){return Ee&6?at():rl!==-1?rl:rl=at()}function Yn(e){return e.mode&1?Ee&2&&kt!==0?kt&-kt:Fw.transition!==null?(nl===0&&(nl=Lx()),nl):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:qx(e.type)),e):1}function Or(e,t,r,n){if(50<So)throw So=0,ym=null,Error(re(185));ei(e,r,n),(!(Ee&2)||e!==yt)&&(e===yt&&(!(Ee&2)&&(Tc|=r),ht===4&&Ln(e,kt)),Yt(e,n),r===1&&Ee===0&&!(t.mode&1)&&(ka=at()+500,Ec&&as()))}function Yt(e,t){var r=e.callbackNode;F2(e,t);var n=Nl(e,e===yt?kt:0);if(n===0)r!==null&&lh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lh(r),t===1)e.tag===0?$w(e0.bind(null,e)):cy(e0.bind(null,e)),Ow(function(){!(Ee&6)&&as()}),r=null;else{switch(zx(n)){case 1:r=pp;break;case 4:r=Ox;break;case 16:r=jl;break;case 536870912:r=Rx;break;default:r=jl}r=iv(r,ev.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ev(e,t){if(rl=-1,nl=0,Ee&6)throw Error(re(327));var r=e.callbackNode;if(fa()&&e.callbackNode!==r)return null;var n=Nl(e,e===yt?kt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Bl(e,n);else{t=n;var a=Ee;Ee|=2;var o=rv();(yt!==e||kt!==t)&&(dn=null,ka=at()+500,ws(e,t));do try{oj();break}catch(l){tv(e,l)}while(!0);kp(),zl.current=o,Ee=a,pt!==null?t=0:(yt=null,kt=0,t=ht)}if(t!==0){if(t===2&&(a=Hd(e),a!==0&&(n=a,t=vm(e,a))),t===1)throw r=qo,ws(e,0),Ln(e,n),Yt(e,at()),r;if(t===6)Ln(e,n);else{if(a=e.current.alternate,!(n&30)&&!sj(a)&&(t=Bl(e,n),t===2&&(o=Hd(e),o!==0&&(n=o,t=vm(e,o))),t===1))throw r=qo,ws(e,0),Ln(e,n),Yt(e,at()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:us(e,Vt,dn);break;case 3:if(Ln(e,n),(n&130023424)===n&&(t=Bp+500-at(),10<t)){if(Nl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){$t(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Zd(us.bind(null,e,Vt,dn),t);break}us(e,Vt,dn);break;case 4:if(Ln(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ar(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nj(n/1960))-n,10<n){e.timeoutHandle=Zd(us.bind(null,e,Vt,dn),n);break}us(e,Vt,dn);break;case 5:us(e,Vt,dn);break;default:throw Error(re(329))}}}return Yt(e,at()),e.callbackNode===r?ev.bind(null,e):null}function vm(e,t){var r=No;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=Bl(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&bm(t)),e}function bm(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function sj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Lr(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t){for(t&=~Fp,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ar(t),n=1<<r;e[r]=-1,t&=~n}}function e0(e){if(Ee&6)throw Error(re(327));fa();var t=Nl(e,0);if(!(t&1))return Yt(e,at()),null;var r=Bl(e,t);if(e.tag!==0&&r===2){var n=Hd(e);n!==0&&(t=n,r=vm(e,n))}if(r===1)throw r=qo,ws(e,0),Ln(e,t),Yt(e,at()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,Vt,dn),Yt(e,at()),null}function Up(e,t){var r=Ee;Ee|=1;try{return e(t)}finally{Ee=r,Ee===0&&(ka=at()+500,Ec&&as())}}function Ms(e){$n!==null&&$n.tag===0&&!(Ee&6)&&fa();var t=Ee;Ee|=1;var r=jr.transition,n=Ae;try{if(jr.transition=null,Ae=1,e)return e()}finally{Ae=n,jr.transition=r,Ee=t,!(Ee&6)&&as()}}function Vp(){Jt=la.current,Ue(la)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Aw(r)),pt!==null)for(r=pt.return;r!==null;){var n=r;switch(Np(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pl();break;case 3:Sa(),Ue(Ht),Ue(Ot),Mp();break;case 5:Tp(n);break;case 4:Sa();break;case 13:Ue(Je);break;case 19:Ue(Je);break;case 10:Ep(n.type._context);break;case 22:case 23:Vp()}r=r.return}if(yt=e,pt=e=Kn(e.current,null),kt=Jt=t,ht=0,qo=null,Fp=Tc=Ts=0,Vt=No=null,fs!==null){for(t=0;t<fs.length;t++)if(r=fs[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}fs=null}return e}function tv(e,t){do{var r=pt;try{if(kp(),Zi.current=Ll,Rl){for(var n=Ze.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Rl=!1}if(_s=0,xt=ft=Ze=null,wo=!1,Bo=0,$p.current=null,r===null||r.return===null){ht=1,qo=t,pt=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Bh(i);if(f!==null){f.flags&=-257,Uh(f,i,l,o,t),f.mode&1&&Fh(o,u,t),t=f,c=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(c),t.updateQueue=w}else g.add(c);break e}else{if(!(t&1)){Fh(o,u,t),qp();break e}c=Error(re(426))}}else if(Ye&&l.mode&1){var v=Bh(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Uh(v,i,l,o,t),Sp(Ca(c,l));break e}}o=c=Ca(c,l),ht!==4&&(ht=2),No===null?No=[o]:No.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=zy(o,c,t);Ah(o,y);break e;case 1:l=c;var b=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Wn===null||!Wn.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=$y(o,l,t);Ah(o,C);break e}}o=o.return}while(o!==null)}sv(r)}catch(T){t=T,pt===r&&r!==null&&(pt=r=r.return);continue}break}while(!0)}function rv(){var e=zl.current;return zl.current=Ll,e===null?Ll:e}function qp(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(Ts&268435455)&&!(Tc&268435455)||Ln(yt,kt)}function Bl(e,t){var r=Ee;Ee|=2;var n=rv();(yt!==e||kt!==t)&&(dn=null,ws(e,t));do try{aj();break}catch(a){tv(e,a)}while(!0);if(kp(),Ee=r,zl.current=n,pt!==null)throw Error(re(261));return yt=null,kt=0,ht}function aj(){for(;pt!==null;)nv(pt)}function oj(){for(;pt!==null&&!T2();)nv(pt)}function nv(e){var t=ov(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?sv(e):pt=t,$p.current=null}function sv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Zw(r,t),r!==null){r.flags&=32767,pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,pt=null;return}}else if(r=Xw(r,t,Jt),r!==null){pt=r;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);ht===0&&(ht=5)}function us(e,t,r){var n=Ae,a=jr.transition;try{jr.transition=null,Ae=1,ij(e,t,r,n)}finally{jr.transition=a,Ae=n}return null}function ij(e,t,r,n){do fa();while($n!==null);if(Ee&6)throw Error(re(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(B2(e,o),e===yt&&(pt=yt=null,kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ii||(Ii=!0,iv(jl,function(){return fa(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=jr.transition,jr.transition=null;var i=Ae;Ae=1;var l=Ee;Ee|=4,$p.current=null,tj(e,r),Xy(r,e),Ew(Jd),Sl=!!Gd,Jd=Gd=null,e.current=r,rj(r),M2(),Ee=l,Ae=i,jr.transition=o}else e.current=r;if(Ii&&(Ii=!1,$n=e,Fl=a),o=e.pendingLanes,o===0&&(Wn=null),O2(r.stateNode),Yt(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if($l)throw $l=!1,e=xm,xm=null,e;return Fl&1&&e.tag!==0&&fa(),o=e.pendingLanes,o&1?e===ym?So++:(So=0,ym=e):So=0,as(),null}function fa(){if($n!==null){var e=zx(Fl),t=jr.transition,r=Ae;try{if(jr.transition=null,Ae=16>e?16:e,$n===null)var n=!1;else{if(e=$n,$n=null,Fl=0,Ee&6)throw Error(re(331));var a=Ee;for(Ee|=4,ie=e.current;ie!==null;){var o=ie,i=o.child;if(ie.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:jo(8,d,o)}var m=d.child;if(m!==null)m.return=d,ie=m;else for(;ie!==null;){d=ie;var p=d.sibling,f=d.return;if(Qy(d),d===u){ie=null;break}if(p!==null){p.return=f,ie=p;break}ie=f}}}var g=o.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}ie=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ie=i;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:jo(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ie=y;break e}ie=o.return}}var b=e.current;for(ie=b;ie!==null;){i=ie;var N=i.child;if(i.subtreeFlags&2064&&N!==null)N.return=i,ie=N;else e:for(i=b;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_c(9,l)}}catch(T){nt(l,l.return,T)}if(l===i){ie=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ie=C;break e}ie=l.return}}if(Ee=a,as(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(jc,e)}catch{}n=!0}return n}finally{Ae=r,jr.transition=t}}return!1}function t0(e,t,r){t=Ca(r,t),t=zy(e,t,1),e=Hn(e,t,1),t=$t(),e!==null&&(ei(e,1,t),Yt(e,t))}function nt(e,t,r){if(e.tag===3)t0(e,e,r);else for(;t!==null;){if(t.tag===3){t0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wn===null||!Wn.has(n))){e=Ca(r,e),e=$y(t,e,1),t=Hn(t,e,1),e=$t(),t!==null&&(ei(t,1,e),Yt(t,e));break}}t=t.return}}function lj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&r,yt===e&&(kt&r)===r&&(ht===4||ht===3&&(kt&130023424)===kt&&500>at()-Bp?ws(e,0):Fp|=r),Yt(e,t)}function av(e,t){t===0&&(e.mode&1?(t=Ni,Ni<<=1,!(Ni&130023424)&&(Ni=4194304)):t=1);var r=$t();e=Nn(e,t),e!==null&&(ei(e,t,r),Yt(e,r))}function cj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),av(e,r)}function uj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),av(e,r)}var ov;ov=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qt=!1,Jw(e,t,r);qt=!!(e.flags&131072)}else qt=!1,Ye&&t.flags&1048576&&uy(t,Tl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;tl(e,t),e=t.pendingProps;var a=wa(t,Ot.current);pa(t,r),a=Ap(null,t,n,e,a,r);var o=Op();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(n)?(o=!0,Dl(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Dp(t),a.updater=Dc,t.stateNode=a,a._reactInternals=t,om(t,n,e,r),t=cm(null,t,n,!0,o,r)):(t.tag=0,Ye&&o&&jp(t),Rt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(tl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=mj(n),e=Tr(n,e),a){case 0:t=lm(null,t,n,e,r);break e;case 1:t=Hh(null,t,n,e,r);break e;case 11:t=Vh(null,t,n,e,r);break e;case 14:t=qh(null,t,n,Tr(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tr(n,a),lm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tr(n,a),Hh(e,t,n,a,r);case 3:e:{if(Vy(t),e===null)throw Error(re(387));n=t.pendingProps,o=t.memoizedState,a=o.element,gy(e,t),Al(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Ca(Error(re(423)),t),t=Wh(e,t,n,r,a);break e}else if(n!==a){a=Ca(Error(re(424)),t),t=Wh(e,t,n,r,a);break e}else for(er=qn(t.stateNode.containerInfo.firstChild),tr=t,Ye=!0,Ir=null,r=fy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ja(),n===a){t=Sn(e,t,r);break e}Rt(e,t,n,r)}t=t.child}return t;case 5:return xy(t),e===null&&nm(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Xd(n,a)?i=null:o!==null&&Xd(n,o)&&(t.flags|=32),Uy(e,t),Rt(e,t,i,r),t.child;case 6:return e===null&&nm(t),null;case 13:return qy(e,t,r);case 4:return _p(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Na(t,null,n,r):Rt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tr(n,a),Vh(e,t,n,a,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Fe(Ml,n._currentValue),n._currentValue=i,o!==null)if(Lr(o.value,i)){if(o.children===a.children&&!Ht.current){t=Sn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=hn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),sm(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(re(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),sm(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Rt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,pa(t,r),a=Nr(a),n=n(a),t.flags|=1,Rt(e,t,n,r),t.child;case 14:return n=t.type,a=Tr(n,t.pendingProps),a=Tr(n.type,a),qh(e,t,n,a,r);case 15:return Fy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Tr(n,a),tl(e,t),t.tag=1,Wt(n)?(e=!0,Dl(t)):e=!1,pa(t,r),Ly(t,n,a),om(t,n,a,r),cm(null,t,n,!0,e,r);case 19:return Hy(e,t,r);case 22:return By(e,t,r)}throw Error(re(156,t.tag))};function iv(e,t){return Ax(e,t)}function dj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,r,n){return new dj(e,t,r,n)}function Hp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mj(e){if(typeof e=="function")return Hp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===up)return 11;if(e===dp)return 14}return 2}function Kn(e,t){var r=e.alternate;return r===null?(r=br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function sl(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Hp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Xs:return js(r.children,a,o,t);case cp:i=8,a|=8;break;case _d:return e=br(12,r,t,a|2),e.elementType=_d,e.lanes=o,e;case Td:return e=br(13,r,t,a),e.elementType=Td,e.lanes=o,e;case Md:return e=br(19,r,t,a),e.elementType=Md,e.lanes=o,e;case xx:return Mc(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hx:i=10;break e;case gx:i=9;break e;case up:i=11;break e;case dp:i=14;break e;case In:i=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=br(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function js(e,t,r,n){return e=br(7,e,n,t),e.lanes=r,e}function Mc(e,t,r,n){return e=br(22,e,n,t),e.elementType=xx,e.lanes=r,e.stateNode={isHidden:!1},e}function od(e,t,r){return e=br(6,e,null,t),e.lanes=r,e}function id(e,t,r){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pj(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bu(0),this.expirationTimes=Bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wp(e,t,r,n,a,o,i,l,c){return e=new pj(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=br(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(o),e}function fj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lv(e){if(!e)return Zn;e=e._reactInternals;e:{if(Fs(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(Wt(r))return ly(e,r,t)}return t}function cv(e,t,r,n,a,o,i,l,c){return e=Wp(r,n,!0,e,a,o,i,l,c),e.context=lv(null),r=e.current,n=$t(),a=Yn(r),o=hn(n,a),o.callback=t??null,Hn(r,o,a),e.current.lanes=a,ei(e,a,n),Yt(e,n),e}function Ic(e,t,r,n){var a=t.current,o=$t(),i=Yn(a);return r=lv(r),t.context===null?t.context=r:t.pendingContext=r,t=hn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Hn(a,t,i),e!==null&&(Or(e,a,i,o),Xi(e,a,i)),i}function Ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yp(e,t){r0(e,t),(e=e.alternate)&&r0(e,t)}function hj(){return null}var uv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kp(e){this._internalRoot=e}Ac.prototype.render=Kp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Ic(e,t,null,null)};Ac.prototype.unmount=Kp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ms(function(){Ic(null,e,null,null)}),t[jn]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rn.length&&t!==0&&t<Rn[r].priority;r++);Rn.splice(r,0,e),r===0&&Vx(e)}};function Qp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function n0(){}function gj(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=Ul(i);o.call(u)}}var i=cv(t,n,e,0,null,!1,!1,"",n0);return e._reactRootContainer=i,e[jn]=i.current,Ro(e.nodeType===8?e.parentNode:e),Ms(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Ul(c);l.call(u)}}var c=Wp(e,0,!1,null,null,!1,!1,"",n0);return e._reactRootContainer=c,e[jn]=c.current,Ro(e.nodeType===8?e.parentNode:e),Ms(function(){Ic(t,c,r,n)}),c}function Rc(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=Ul(i);l.call(c)}}Ic(t,i,e,a)}else i=gj(r,t,e,a,n);return Ul(i)}$x=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=co(t.pendingLanes);r!==0&&(fp(t,r|1),Yt(t,at()),!(Ee&6)&&(ka=at()+500,as()))}break;case 13:Ms(function(){var n=Nn(e,1);if(n!==null){var a=$t();Or(n,e,1,a)}}),Yp(e,1)}};hp=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=$t();Or(t,e,134217728,r)}Yp(e,134217728)}};Fx=function(e){if(e.tag===13){var t=Yn(e),r=Nn(e,t);if(r!==null){var n=$t();Or(r,e,t,n)}Yp(e,t)}};Bx=function(){return Ae};Ux=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Ud=function(e,t,r){switch(t){case"input":if(Od(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=kc(n);if(!a)throw Error(re(90));vx(n),Od(n,a)}}}break;case"textarea":wx(e,r);break;case"select":t=r.value,t!=null&&ca(e,!!r.multiple,t,!1)}};Px=Up;Dx=Ms;var xj={usingClientEntryPoint:!1,Events:[ri,ra,kc,kx,Ex,Up]},Xa={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yj={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mx(e),e===null?null:e.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||hj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{jc=Ai.inject(yj),Zr=Ai}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xj;cr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qp(t))throw Error(re(200));return fj(e,t,null,r)};cr.createRoot=function(e,t){if(!Qp(e))throw Error(re(299));var r=!1,n="",a=uv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Wp(e,1,!1,null,null,r,!1,n,a),e[jn]=t.current,Ro(e.nodeType===8?e.parentNode:e),new Kp(t)};cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=Mx(t),e=e===null?null:e.stateNode,e};cr.flushSync=function(e){return Ms(e)};cr.hydrate=function(e,t,r){if(!Oc(t))throw Error(re(200));return Rc(null,e,t,!0,r)};cr.hydrateRoot=function(e,t,r){if(!Qp(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=uv;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=cv(t,null,e,1,r??null,a,!1,o,i),e[jn]=t.current,Ro(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ac(t)};cr.render=function(e,t,r){if(!Oc(t))throw Error(re(200));return Rc(null,e,t,!1,r)};cr.unmountComponentAtNode=function(e){if(!Oc(e))throw Error(re(40));return e._reactRootContainer?(Ms(function(){Rc(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};cr.unstable_batchedUpdates=Up;cr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Oc(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Rc(e,t,r,!1,n)};cr.version="18.3.1-next-f1338f8080-20240426";function dv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dv)}catch(e){console.error(e)}}dv(),dx.exports=cr;var Gp=dx.exports;const mv=bc(Gp);var s0=Gp;Pd.createRoot=s0.createRoot,Pd.hydrateRoot=s0.hydrateRoot;const pv="/assets/logo-DsNHeUkE.png",fv=()=>s.jsx("header",{className:"bg-white shadow-lg absolute top-0 left-0 right-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:pv,alt:"SNA GZ",className:"h-12 w-auto",style:{objectFit:"contain"}}),s.jsxs("div",{className:"ml-4 border-l-2 border-sna-gray pl-4",children:[s.jsx("h1",{className:"text-xl font-heading font-semibold text-sna-dark",children:"Création de Boutique"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Formulaire de configuration"})]})]}),s.jsx("div",{className:"hidden sm:block",children:s.jsx("div",{className:"bg-sna-gray/10 px-4 py-2 rounded-sna",children:s.jsx("span",{className:"text-sm text-sna-primary font-medium",children:"Support technique : support@snagz.com"})})})]})})}),vj=()=>{const e=new Date().getFullYear(),t={company:{title:"Entreprise",links:[{name:"À propos",href:"#about-us"},{name:"Carrières",href:"#careers"},{name:"Actualités",href:"#news"},{name:"Contact",href:"#contact"}]},legal:{title:"Mentions légales",links:[{name:"Conditions générales",href:"#terms"},{name:"Politique de confidentialité",href:"#privacy"},{name:"Mentions légales",href:"#legal-notice"},{name:"Cookies",href:"#cookies"}]},support:{title:"Support",links:[{name:"Centre d'aide",href:"#help-center"},{name:"FAQ",href:"#faq"},{name:"Support technique",href:"#tech-support"},{name:"Status des services",href:"#status"}]}},r=[{name:"Facebook",href:"#facebook",icon:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})},{name:"Instagram",href:"#",icon:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})},{name:"Twitter",href:"#",icon:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})},{name:"LinkedIn",href:"#",icon:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})}];return s.jsx("footer",{className:"bg-white border-t border-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("img",{src:pv,alt:"SNA GZ",className:"h-12 w-auto mb-4",style:{objectFit:"contain"}}),s.jsx("p",{className:"text-gray-500 text-sm",children:"SNA GZ est votre partenaire de confiance pour la création et la gestion de boutiques en ligne. Notre plateforme vous accompagne dans votre réussite digitale."})]}),Object.values(t).map(n=>s.jsxs("div",{className:"col-span-1",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4",children:n.title}),s.jsx("ul",{className:"space-y-3",children:n.links.map(a=>s.jsx("li",{children:s.jsx("a",{href:a.href,className:"text-base text-gray-500 hover:text-gray-900",children:a.name})},a.name))})]},n.title))]}),s.jsx("div",{className:"mt-8 border-t border-gray-200 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsx("div",{className:"flex space-x-6 md:order-2",children:r.map(n=>s.jsxs("a",{href:n.href,className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[s.jsx("span",{className:"sr-only",children:n.name}),n.icon]},n.name))}),s.jsxs("p",{className:"mt-8 text-base text-gray-400 md:mt-0 md:order-1",children:["© ",e," SNA GZ. Tous droits réservés."]})]})})]})})},bj="modulepreload",wj=function(e){return"/"+e},a0={},jj=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=wj(c),c in a0)return;a0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":bj,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((p,f)=>{m.addEventListener("load",p),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function Nj({username:e,session:t,portalType:r,onPasswordSet:n,onCancel:a,cognitoChallengeParameters:o}){const[i,l]=x.useState(""),[c,u]=x.useState(""),[d,m]=x.useState(""),[p,f]=x.useState(!1),g=()=>{switch(r){case"client":return"/complete-new-password-client";case"internal":return"/complete-new-password-internal";case"admin":return"/complete-new-password-admin";default:return console.error("Type de portail invalide:",r),null}},w=async v=>{if(v.preventDefault(),m(""),i!==c){m("Les mots de passe ne correspondent pas.");return}if(!i){m("Le nouveau mot de passe ne peut pas être vide.");return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>\/?]).{8,}$/.test(i)){m("Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial.");return}const b=g();if(!b){m("Erreur de configuration.");return}f(!0);try{const N=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,newPassword:i,session:t})}),C=await N.json();if(N.ok&&C.success){console.log("New password set successfully for:",e),sessionStorage.setItem("isFirstLogin","true");const T=`user_${e.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase()}`;sessionStorage.setItem("userId",T),localStorage.setItem("userId",T),n?n(C.redirectUrl):window.location.href=C.redirectUrl||"/"}else m(C.message||"Échec de la définition du nouveau mot de passe.")}catch(N){console.error("Erreur lors de la définition du nouveau mot de passe:",N),m("Une erreur inattendue s'est produite.")}f(!1)};return s.jsx("div",{className:"min-h-screen w-full bg-gray-100 flex flex-col justify-center items-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:"Définir un nouveau mot de passe"}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mb-6",children:["Bienvenue, ",e," ! Veuillez définir un nouveau mot de passe pour continuer."]}),s.jsxs("form",{onSubmit:w,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`${r}-new-password`,className:"block text-sm font-medium text-gray-700",children:"Nouveau mot de passe"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"password",id:`${r}-new-password`,value:i,onChange:v=>l(v.target.value),required:!0,autoFocus:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm"})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:`${r}-confirm-password`,className:"block text-sm font-medium text-gray-700",children:"Confirmer le nouveau mot de passe"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"password",id:`${r}-confirm-password`,value:c,onChange:v=>u(v.target.value),required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm"})})]}),d&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:s.jsx("span",{className:"block sm:inline",children:d})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:p,className:"w-full sm:w-auto justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary disabled:opacity-50",children:p?"Définition en cours...":"Définir le mot de passe"}),s.jsx("button",{type:"button",onClick:a,disabled:p,className:"w-full sm:w-auto justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary disabled:opacity-50",children:"Annuler"})]}),s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-md border border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Le mot de passe doit respecter les exigences suivantes :"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"Au moins 8 caractères"}),s.jsx("li",{children:"Au moins une lettre majuscule (A-Z)"}),s.jsx("li",{children:"Au moins une lettre minuscule (a-z)"}),s.jsx("li",{children:"Au moins un chiffre (0-9)"}),s.jsx("li",{children:"Au moins un caractère spécial (ex : !@#$%^&*)"})]})]})]})]})})}var hv={exports:{}},Sj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Cj=Sj,kj=Cj;function gv(){}function xv(){}xv.resetWarningCache=gv;var Ej=function(){function e(n,a,o,i,l,c){if(c!==kj){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xv,resetWarningCache:gv};return r.PropTypes=r,r};hv.exports=Ej();var Pj=hv.exports;const Ut=bc(Pj);var Dj=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(this,arguments)}function _j(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Oi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jm(e,t)}function jm(e,t){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jm(e,t)}var Lc=function(e){Tj(t,e);function t(){var n;return n=e.call(this)||this,n.handleExpired=n.handleExpired.bind(Oi(n)),n.handleErrored=n.handleErrored.bind(Oi(n)),n.handleChange=n.handleChange.bind(Oi(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(Oi(n)),n}var r=t.prototype;return r.getCaptchaFunction=function(a){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[a]:this.props.grecaptcha[a]:null},r.getValue=function(){var a=this.getCaptchaFunction("getResponse");return a&&this._widgetId!==void 0?a(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},r.execute=function(){var a=this.getCaptchaFunction("execute");if(a&&this._widgetId!==void 0)return a(this._widgetId);this._executeRequested=!0},r.executeAsync=function(){var a=this;return new Promise(function(o,i){a.executionResolve=o,a.executionReject=i,a.execute()})},r.reset=function(){var a=this.getCaptchaFunction("reset");a&&this._widgetId!==void 0&&a(this._widgetId)},r.forceReset=function(){var a=this.getCaptchaFunction("reset");a&&a()},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},r.handleChange=function(a){this.props.onChange&&this.props.onChange(a),this.executionResolve&&(this.executionResolve(a),delete this.executionReject,delete this.executionResolve)},r.explicitRender=function(){var a=this.getCaptchaFunction("render");if(a&&this._widgetId===void 0){var o=document.createElement("div");this._widgetId=a(o,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(o)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.handleRecaptchaRef=function(a){this.captcha=a},r.render=function(){var a=this.props;a.sitekey,a.onChange,a.theme,a.type,a.tabindex,a.onExpired,a.onErrored,a.size,a.stoken,a.grecaptcha,a.badge,a.hl,a.isolated;var o=_j(a,Dj);return x.createElement("div",wm({},o,{ref:this.handleRecaptchaRef}))},t}(x.Component);Lc.displayName="ReCAPTCHA";Lc.propTypes={sitekey:Ut.string.isRequired,onChange:Ut.func,grecaptcha:Ut.object,theme:Ut.oneOf(["dark","light"]),type:Ut.oneOf(["image","audio"]),tabindex:Ut.number,onExpired:Ut.func,onErrored:Ut.func,size:Ut.oneOf(["compact","normal","invisible"]),stoken:Ut.string,hl:Ut.string,badge:Ut.oneOf(["bottomright","bottomleft","inline"]),isolated:Ut.bool};Lc.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var yv={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=typeof Symbol=="function"&&Symbol.for,Jp=vt?Symbol.for("react.element"):60103,Xp=vt?Symbol.for("react.portal"):60106,zc=vt?Symbol.for("react.fragment"):60107,$c=vt?Symbol.for("react.strict_mode"):60108,Fc=vt?Symbol.for("react.profiler"):60114,Bc=vt?Symbol.for("react.provider"):60109,Uc=vt?Symbol.for("react.context"):60110,Zp=vt?Symbol.for("react.async_mode"):60111,Vc=vt?Symbol.for("react.concurrent_mode"):60111,qc=vt?Symbol.for("react.forward_ref"):60112,Hc=vt?Symbol.for("react.suspense"):60113,Mj=vt?Symbol.for("react.suspense_list"):60120,Wc=vt?Symbol.for("react.memo"):60115,Yc=vt?Symbol.for("react.lazy"):60116,Ij=vt?Symbol.for("react.block"):60121,Aj=vt?Symbol.for("react.fundamental"):60117,Oj=vt?Symbol.for("react.responder"):60118,Rj=vt?Symbol.for("react.scope"):60119;function dr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jp:switch(e=e.type,e){case Zp:case Vc:case zc:case Fc:case $c:case Hc:return e;default:switch(e=e&&e.$$typeof,e){case Uc:case qc:case Yc:case Wc:case Bc:return e;default:return t}}case Xp:return t}}}function vv(e){return dr(e)===Vc}Re.AsyncMode=Zp;Re.ConcurrentMode=Vc;Re.ContextConsumer=Uc;Re.ContextProvider=Bc;Re.Element=Jp;Re.ForwardRef=qc;Re.Fragment=zc;Re.Lazy=Yc;Re.Memo=Wc;Re.Portal=Xp;Re.Profiler=Fc;Re.StrictMode=$c;Re.Suspense=Hc;Re.isAsyncMode=function(e){return vv(e)||dr(e)===Zp};Re.isConcurrentMode=vv;Re.isContextConsumer=function(e){return dr(e)===Uc};Re.isContextProvider=function(e){return dr(e)===Bc};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jp};Re.isForwardRef=function(e){return dr(e)===qc};Re.isFragment=function(e){return dr(e)===zc};Re.isLazy=function(e){return dr(e)===Yc};Re.isMemo=function(e){return dr(e)===Wc};Re.isPortal=function(e){return dr(e)===Xp};Re.isProfiler=function(e){return dr(e)===Fc};Re.isStrictMode=function(e){return dr(e)===$c};Re.isSuspense=function(e){return dr(e)===Hc};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zc||e===Vc||e===Fc||e===$c||e===Hc||e===Mj||typeof e=="object"&&e!==null&&(e.$$typeof===Yc||e.$$typeof===Wc||e.$$typeof===Bc||e.$$typeof===Uc||e.$$typeof===qc||e.$$typeof===Aj||e.$$typeof===Oj||e.$$typeof===Rj||e.$$typeof===Ij)};Re.typeOf=dr;yv.exports=Re;var Lj=yv.exports,ef=Lj,zj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$j={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Fj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tf={};tf[ef.ForwardRef]=Fj;tf[ef.Memo]=bv;function o0(e){return ef.isMemo(e)?bv:tf[e.$$typeof]||zj}var Bj=Object.defineProperty,Uj=Object.getOwnPropertyNames,i0=Object.getOwnPropertySymbols,Vj=Object.getOwnPropertyDescriptor,qj=Object.getPrototypeOf,l0=Object.prototype;function wv(e,t,r){if(typeof t!="string"){if(l0){var n=qj(t);n&&n!==l0&&wv(e,n,r)}var a=Uj(t);i0&&(a=a.concat(i0(t)));for(var o=o0(e),i=o0(t),l=0;l<a.length;++l){var c=a[l];if(!$j[c]&&!(r&&r[c])&&!(i&&i[c])&&!(o&&o[c])){var u=Vj(t,c);try{Bj(e,c,u)}catch{}}}}return e}var Hj=wv;const Wj=bc(Hj);function Nm(){return Nm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nm.apply(this,arguments)}function Yj(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Kj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Dr={},Qj=0;function Gj(e,t){return t=t||{},function(n){var a=n.displayName||n.name||"Component",o=function(l){Kj(c,l);function c(d,m){var p;return p=l.call(this,d,m)||this,p.state={},p.__scriptURL="",p}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Qj++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(m){var p=this;this.setState(m,function(){return p.props.asyncScriptOnLoad&&p.props.asyncScriptOnLoad(p.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var m=Dr[this.__scriptURL];if(!m||!m.loaded)throw new Error("Script is not loaded.");for(var p in m.observers)m.observers[p](m);delete window[t.callbackName]},u.componentDidMount=function(){var m=this,p=this.setupScriptURL(),f=this.asyncScriptLoaderGetScriptLoaderID(),g=t,w=g.globalName,v=g.callbackName,y=g.scriptId;if(w&&typeof window[w]<"u"&&(Dr[p]={loaded:!0,observers:{}}),Dr[p]){var b=Dr[p];if(b&&(b.loaded||b.errored)){this.asyncScriptLoaderHandleLoad(b);return}b.observers[f]=function(S){return m.asyncScriptLoaderHandleLoad(S)};return}var N={};N[f]=function(S){return m.asyncScriptLoaderHandleLoad(S)},Dr[p]={loaded:!1,observers:N};var C=document.createElement("script");C.src=p,C.async=!0;for(var T in t.attributes)C.setAttribute(T,t.attributes[T]);y&&(C.id=y);var j=function(_){if(Dr[p]){var I=Dr[p],h=I.observers;for(var M in h)_(h[M])&&delete h[M]}};v&&typeof window<"u"&&(window[v]=function(){return m.asyncScriptLoaderTriggerOnScriptLoaded()}),C.onload=function(){var S=Dr[p];S&&(S.loaded=!0,j(function(_){return v?!1:(_(S),!0)}))},C.onerror=function(){var S=Dr[p];S&&(S.errored=!0,j(function(_){return _(S),!0}))},document.body.appendChild(C)},u.componentWillUnmount=function(){var m=this.__scriptURL;if(t.removeOnUnmount===!0)for(var p=document.getElementsByTagName("script"),f=0;f<p.length;f+=1)p[f].src.indexOf(m)>-1&&p[f].parentNode&&p[f].parentNode.removeChild(p[f]);var g=Dr[m];g&&(delete g.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete Dr[m])},u.render=function(){var m=t.globalName,p=this.props;p.asyncScriptOnLoad;var f=p.forwardedRef,g=Yj(p,["asyncScriptOnLoad","forwardedRef"]);return m&&typeof window<"u"&&(g[m]=typeof window[m]<"u"?window[m]:void 0),g.ref=f,x.createElement(n,g)},c}(x.Component),i=x.forwardRef(function(l,c){return x.createElement(o,Nm({},l,{forwardedRef:c}))});return i.displayName="AsyncScriptLoader("+a+")",i.propTypes={asyncScriptOnLoad:Ut.func},Wj(i,n)}}var Sm="onloadcallback",Jj="grecaptcha";function Cm(){return typeof window<"u"&&window.recaptchaOptions||{}}function Xj(){var e=Cm(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+Sm+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+Sm+"&render=explicit"}const Zj=Gj(Xj,{callbackName:Sm,globalName:Jj,attributes:Cm().nonce?{nonce:Cm().nonce}:{}})(Lc);var e4={};const rf=x.forwardRef(({onVerify:e,onExpired:t,onError:r,className:n=""},a)=>{const o=e4.REACT_APP_RECAPTCHA_SITE_KEY,[i,l]=x.useState(null),[c,u]=x.useState(!1);console.log("reCAPTCHA Configuration:",{siteKey:o,hasValidKey:!!(o&&o.trim()&&o.length>10),isDevelopmentMode:c,nodeEnv:"production"}),x.useEffect(()=>{(!o||o.trim()==="")&&e&&(console.log("🔧 reCAPTCHA not configured: Auto-completing CAPTCHA verification"),e("development-bypass-token"))},[o,e]);const d=f=>{console.error("❌ reCAPTCHA error:",f),l(f),r&&r(f)},m=()=>{console.log("✅ reCAPTCHA loaded successfully"),l(null)},p=()=>{l(null),u(!1)};return!o||o.trim()===""?(console.warn("reCAPTCHA site key not configured or empty."),s.jsx("div",{className:`bg-blue-50 border border-blue-200 rounded-lg p-3 ${n}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2",children:"🔧"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 text-sm font-medium",children:"Mode développement - CAPTCHA simulé"}),s.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Configurez REACT_APP_RECAPTCHA_SITE_KEY pour activer le CAPTCHA réel"})]})]})})):c||i?s.jsx("div",{className:`bg-orange-50 border border-orange-200 rounded-lg p-3 ${n}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2",children:"⚠️"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-700 text-sm font-medium",children:"CAPTCHA en mode bypass"}),s.jsx("p",{className:"text-orange-600 text-xs mt-1",children:i?"Erreur CAPTCHA - Vérification automatique activée":"Vérification automatique en mode développement"})]})]}),s.jsx("button",{onClick:p,className:"text-orange-600 text-xs underline hover:text-orange-700",children:"Réessayer"})]})}):s.jsx("div",{className:`flex justify-center ${n}`,children:s.jsxs("div",{className:"w-full",children:[s.jsx(Zj,{ref:a,sitekey:o,onChange:e,onExpired:t,onError:d,onLoad:m,theme:"light",size:"normal"}),!1]})})});rf.displayName="ReCaptcha";const t4=({isOpen:e,onClose:t,portalType:r="client"})=>{const[n,a]=x.useState(""),[o,i]=x.useState(r),[l,c]=x.useState(""),[u,d]=x.useState(!1),[m,p]=x.useState(""),[f,g]=x.useState(""),w=x.useRef(),v=async T=>{if(T.preventDefault(),g(""),p(""),!n.trim()){g("Veuillez saisir votre adresse email.");return}if(!n.includes("@")){g("Veuillez saisir une adresse email valide.");return}if(!l){g("Veuillez compléter la vérification CAPTCHA.");return}d(!0);try{const S=await fetch("/api/password-reset/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.trim(),userType:o,captchaToken:l})}),_=await S.json();S.ok?(p(_.message||"Email de réinitialisation envoyé avec succès."),a(""),c(""),w.current&&w.current.reset()):g(_.message||"Une erreur s'est produite. Veuillez réessayer.")}catch(j){console.error("Error requesting password reset:",j),g("Erreur de connexion. Veuillez vérifier votre connexion internet et réessayer.")}finally{d(!1)}},y=T=>{c(T),g("")},b=()=>{c("")},N=()=>{g("Erreur lors de la vérification CAPTCHA. Veuillez réessayer."),c("")},C=()=>{a(""),i(r),c(""),p(""),g(""),d(!1),w.current&&w.current.reset(),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Mot de passe oublié"}),s.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:u,children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de compte"}),s.jsxs("select",{value:o,onChange:T=>i(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:u,children:[s.jsx("option",{value:"client",children:"Client"}),s.jsx("option",{value:"internal",children:"Personnel interne"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),s.jsx("input",{type:"email",id:"email",value:n,onChange:T=>a(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"votre@email.com",disabled:u,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vérification de sécurité"}),s.jsx(rf,{ref:w,onVerify:y,onExpired:b,onError:N})]}),f&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f})})]})}),m&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-green-800",children:m})})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:u,children:"Annuler"}),s.jsx("button",{type:"submit",disabled:u||!n.trim()||!l,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?s.jsxs("div",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):"Envoyer le lien"})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Un lien de réinitialisation sera envoyé à votre adresse email.",s.jsx("br",{}),"Le lien est valable pendant 1 heure."]})})]})]})}):null};function r4({portalTitle:e,loginApiEndpoint:t,portalType:r,defaultRedirectUrl:n,showMainMenu:a}){const[o,i]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(""),[m,p]=x.useState(!1),[f,g]=x.useState(""),w=x.useRef(),[v,y]=x.useState(!1),[b,N]=x.useState(null),[C,T]=x.useState(null),[j,S]=x.useState(null),[_,I]=x.useState(!1),h=async P=>{if(P.preventDefault(),d(""),!f){d("Veuillez compléter la vérification CAPTCHA.");return}p(!0);try{const E=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:l,captchaToken:f})}),k=await E.json();if(p(!1),E.ok&&k.success){if(k.userInfo){console.log(`LoginCard (${r}): Received userInfo from server`);const{secureStoreUserData:D}=await jj(async()=>{const{secureStoreUserData:F}=await import("./authSecurity-hvIZLWdn.js");return{secureStoreUserData:F}},[]);try{D(k.userInfo),console.log(`✅ LoginCard (${r}): User data stored securely`)}catch(F){console.error(`🚨 LoginCard (${r}): Failed to store user data:`,F),d("Security validation failed. Please try logging in again.");return}}else{console.error(`🚨 LoginCard (${r}): No userInfo in login response`),d("Invalid login response. Please try again.");return}k.redirectUrl?window.location.replace(k.redirectUrl):window.location.replace(n)}else E.ok&&k.challengeName==="NEW_PASSWORD_REQUIRED"?(console.log(`LoginCard (${r}): Received NEW_PASSWORD_REQUIRED challenge.`),T(k.username),N(k.session),S(k.challengeParameters),y(!0)):d(k.message||"Échec de l'authentification. Veuillez vérifier vos identifiants.")}catch(E){p(!1),console.error(`Login request failed for ${r}:`,E),d("An unexpected error occurred. Please try again later."),w.current&&(w.current.reset(),g(""))}},M=P=>{g(P),d("")},$=()=>{g(""),d("La vérification CAPTCHA a expiré. Veuillez la recommencer.")},z=()=>{g(""),d("Erreur lors de la vérification CAPTCHA. Veuillez réessayer.")},U=P=>{console.log(`LoginCard (${r}): Password set successfully, redirecting...`),window.location.href=P||n},A=()=>{y(!1),d("")};return v?s.jsx(Nj,{username:C,session:b,portalType:r,onPasswordSet:U,onCancel:A,cognitoChallengeParameters:j}):s.jsxs("div",{className:"min-h-screen w-full bg-gray-100 flex flex-col justify-center items-center py-12 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-6",children:e}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`${r}-email`,className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:`${r}-email`,name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:P=>i(P.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",autoFocus:!0})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:`${r}-password`,className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:`${r}-password`,name:"password",type:"password",autoComplete:"current-password",required:!0,value:l,onChange:P=>c(P.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm"})})]}),s.jsx("div",{children:s.jsx(rf,{ref:w,onVerify:M,onExpired:$,onError:z,className:"mb-4"})}),u&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:s.jsx("span",{className:"block sm:inline",children:u})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:m||!f,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary disabled:opacity-50",children:m?"Connexion...":"Se connecter"})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{type:"button",onClick:()=>I(!0),className:"text-sm text-sna-primary hover:text-sna-primary/90 underline",disabled:m,children:"Mot de passe oublié ?"})})]}),a&&s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:a,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Retourner au menu"})})]}),s.jsx(t4,{isOpen:_,onClose:()=>I(!1),portalType:r})]})}function c0(){const[e,t]=x.useState("main"),r=()=>{t("main")},n={client:{title:"Client",description:"Accédez à votre espace client personnalisé.",view:"clientLogin",defaultRedirectUrl:"/client/dashboard",apiEndpoint:"/login-client"},internal:{title:"Personnel Interne",description:"Espace réservé aux collaborateurs SNA GZ.",view:"internalLogin",defaultRedirectUrl:"/internal/dashboard",apiEndpoint:"/login-internal"},admin:{title:"Administrateur",description:"Portail de gestion et configuration système.",view:"adminLogin",defaultRedirectUrl:"/admin/dashboard",apiEndpoint:"/login-admin-portal"}},a=()=>{if(e!=="main"){const i=Object.keys(n).find(c=>n[c].view===e),l=n[i];return s.jsx(r4,{portalTitle:l.title,loginApiEndpoint:l.apiEndpoint,portalType:i,defaultRedirectUrl:l.defaultRedirectUrl,showMainMenu:r})}return s.jsxs("div",{className:"portal-selection-fullscreen-container",children:[s.jsx("div",{className:"main-page-titles",children:s.jsx("h1",{className:"main-page-title-unified",children:"Bienvenue sur la plateforme SNA GZ"})}),s.jsx("p",{className:"main-page-subtitle",children:"Veuillez sélectionner votre portail d'accès."}),s.jsx("div",{className:"portal-buttons-grid",children:Object.keys(n).map(i=>{const l=n[i];return s.jsxs("button",{onClick:()=>t(l.view),className:"portal-btn-styled",children:[s.jsx("span",{className:"portal-btn-title",children:l.title}),s.jsx("span",{className:"portal-btn-description",children:l.description})]},i)})})]})},o=e==="main"?"main-page-no-card-container":"login-view-container";return s.jsxs("div",{className:o,children:[s.jsx(fv,{}),s.jsx("main",{className:`main-content ${e!=="main"?"full-width-content":""}`,children:a()})]})}var jv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u0=W.createContext&&W.createContext(jv),n4=["attr","size","title"];function s4(e,t){if(e==null)return{};var r=a4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function d0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d0(Object(r),!0).forEach(function(n){o4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o4(e,t,r){return t=i4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i4(e){var t=l4(e,"string");return typeof t=="symbol"?t:t+""}function l4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nv(e){return e&&e.map((t,r)=>W.createElement(t.tag,ql({key:r},t.attr),Nv(t.child)))}function he(e){return t=>W.createElement(c4,Vl({attr:ql({},e.attr)},t),Nv(e.child))}function c4(e){var t=r=>{var{attr:n,size:a,title:o}=e,i=s4(e,n4),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),W.createElement("svg",Vl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:ql(ql({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&W.createElement("title",null,o),e.children)};return u0!==void 0?W.createElement(u0.Consumer,null,r=>t(r)):t(jv)}function Co(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M388.32,104.1a4.66,4.66,0,0,0-4.4-4c-2,0-37.23-.8-37.23-.8s-21.61-20.82-29.62-28.83V503.2L442.76,472S388.72,106.5,388.32,104.1ZM288.65,70.47a116.67,116.67,0,0,0-7.21-17.61C271,32.85,255.42,22,237,22a15,15,0,0,0-4,.4c-.4-.8-1.2-1.2-1.6-2C223.4,11.63,213,7.63,200.58,8c-24,.8-48,18-67.25,48.83-13.61,21.62-24,48.84-26.82,70.06-27.62,8.4-46.83,14.41-47.23,14.81-14,4.4-14.41,4.8-16,18-1.2,10-38,291.82-38,291.82L307.86,504V65.67a41.66,41.66,0,0,0-4.4.4S297.86,67.67,288.65,70.47ZM233.41,87.69c-16,4.8-33.63,10.4-50.84,15.61,4.8-18.82,14.41-37.63,25.62-50,4.4-4.4,10.41-9.61,17.21-12.81C232.21,54.86,233.81,74.48,233.41,87.69ZM200.58,24.44A27.49,27.49,0,0,1,215,28c-6.4,3.2-12.81,8.41-18.81,14.41-15.21,16.42-26.82,42-31.62,66.45-14.42,4.41-28.83,8.81-42,12.81C131.33,83.28,163.75,25.24,200.58,24.44ZM154.15,244.61c1.6,25.61,69.25,31.22,73.25,91.66,2.8,47.64-25.22,80.06-65.65,82.47-48.83,3.2-75.65-25.62-75.65-25.62l10.4-44s26.82,20.42,48.44,18.82c14-.8,19.22-12.41,18.81-20.42-2-33.62-57.24-31.62-60.84-86.86-3.2-46.44,27.22-93.27,94.47-97.68,26-1.6,39.23,4.81,39.23,4.81L221.4,225.39s-17.21-8-37.63-6.4C154.15,221,153.75,239.8,154.15,244.61ZM249.42,82.88c0-12-1.6-29.22-7.21-43.63,18.42,3.6,27.22,24,31.23,36.43Q262.63,78.68,249.42,82.88Z"},child:[]}]})(e)}function u4(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function Hl(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function d4(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function Sv(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"},child:[]}]})(e)}function m4(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function Cv(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function p4(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function f4(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function h4(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function ot(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function kv(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function g4(e){return he({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function x4(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function y4(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function mr(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function Wl(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"},child:[]}]})(e)}function v4(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function ha(e){return he({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function b4(e){return he({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.706 413.765c-1.314-6.63-7.835-10.872-14.424-9.369-10.692 2.439-27.422 5.413-45.426 5.413-56.763 0-101.929-34.79-121.461-85.449h113.689a12 12 0 0 0 11.708-9.369l6.373-28.36c1.686-7.502-4.019-14.631-11.708-14.631H115.22c-1.21-14.328-1.414-28.287.137-42.245H261.95a12 12 0 0 0 11.723-9.434l6.512-29.755c1.638-7.484-4.061-14.566-11.723-14.566H130.184c20.633-44.991 62.69-75.03 117.619-75.03 14.486 0 28.564 2.25 37.851 4.145 6.216 1.268 12.347-2.498 14.002-8.623l11.991-44.368c1.822-6.741-2.465-13.616-9.326-14.917C290.217 34.912 270.71 32 249.635 32 152.451 32 74.03 92.252 45.075 176H12c-6.627 0-12 5.373-12 12v29.755c0 6.627 5.373 12 12 12h21.569c-1.009 13.607-1.181 29.287-.181 42.245H12c-6.627 0-12 5.373-12 12v28.36c0 6.627 5.373 12 12 12h30.114C67.139 414.692 145.264 480 249.635 480c26.301 0 48.562-4.544 61.101-7.788 6.167-1.595 10.027-7.708 8.788-13.957l-8.818-44.49z"},child:[]}]})(e)}function Yl(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ir(e){return he({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function tn(e){return he({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function rn(e){return he({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function w4(e){return he({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function j4(e){return he({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function nf(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function sf(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function N4(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function km(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Kl(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Ho(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function Ev(e){return he({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function Pv(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Xt(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function rr(e){return he({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function Ql(e){return he({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function an(e){return he({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Dv(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function S4(e){return he({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Gl(e){return he({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Em(e){return he({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Jl(e){return he({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"},child:[]}]})(e)}function C4(e){return he({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"},child:[]}]})(e)}const is=({children:e})=>{const t=[{name:"Créer une boutique",href:"/client/boutiques/create",icon:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})},{name:"Mes boutiques",href:"/client/boutiques",icon:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})},{name:"Mes produits",href:"/client/produits",icon:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})},{name:"Créer un produit",href:"/client/produits/create",icon:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})},{name:"Mon compte",href:"/client/compte",icon:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}],r=async()=>{console.log("Logging out...");try{(await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})).ok?console.log("Logout successful"):console.error("Logout API call failed")}catch(n){console.error("Error during logout:",n)}localStorage.removeItem("token"),sessionStorage.clear(),window.location.href="/logout"};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-0px)]",children:[" ",s.jsx("div",{className:"w-full md:w-64 bg-white shadow-md",children:s.jsxs("div",{className:"h-full flex flex-col justify-between",children:[s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:t.map(n=>s.jsxs("a",{href:n.href,className:"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100",children:[s.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.icon}),n.name]},n.name))}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:r,className:"flex w-full items-center px-4 py-3 text-sm font-medium rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(Pv,{className:"mr-3 h-5 w-5 flex-shrink-0"}),"Se déconnecter"]})})]})}),s.jsx("main",{className:"flex-1 py-8 px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})})};function Pm({onSubmit:e,onClose:t}){const[r,n]=x.useState({raisonSociale:"",formeJuridique:"",adresseSociete:"",codePostalSociete:"",villeSociete:"",paysSociete:"France",siret:"",numTVA:"",numEORI:"",capitalSocial:"",codeAPE:"",tvaIntracom:"",contact1Nom:"",contact1Telephone:"",contact1Email:"",contact2Nom:"",contact2Telephone:"",contact2Email:"",contactFacturationNom:"",contactFacturationTelephone:"",contactFacturationEmail:"",emailRetourColis:"",dateSoumission:new Date().toISOString().slice(0,10),nomSoumission:"",fonctionSoumission:""}),[a,o]=x.useState(!1),[i,l]=x.useState(""),c=f=>{const{name:g,value:w}=f.target;n(v=>({...v,[g]:w}))},u=async f=>{if(f.preventDefault(),o(!0),l(""),!r.raisonSociale||!r.contact1Email){l("Veuillez remplir tous les champs obligatoires (ex: Raison Sociale, Email Contact 1)."),o(!1);return}try{e&&await e(r),console.log("Données du formulaire de bienvenue:",r),o(!1)}catch(g){l("Erreur lors de la soumission du formulaire."),o(!1),console.error("Erreur soumission formulaire bienvenue:",g)}},d=f=>s.jsx("h3",{className:"text-xl font-semibold text-sna-primary mb-4 pt-3 pb-2 border-b border-gray-300",children:f}),m=(f,g,w="text",v=!1,y="")=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{htmlFor:f,className:"block text-sm font-medium text-gray-700 mb-1",children:[g,v&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:w,name:f,id:f,value:r[f],onChange:c,required:v,placeholder:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm"})]}),p=(f,g,w=!1)=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{htmlFor:f,className:"block text-sm font-medium text-gray-700 mb-1",children:[g,w&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:f,id:f,value:r[f],onChange:c,required:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",children:[s.jsx("option",{value:"France",children:"France"}),s.jsx("option",{value:"Belgique",children:"Belgique"}),s.jsx("option",{value:"Suisse",children:"Suisse"}),s.jsx("option",{value:"Luxembourg",children:"Luxembourg"}),s.jsx("option",{value:"Autre",children:"Autre"})]})]});return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-start z-50 overflow-y-auto py-10",children:s.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-xl w-full max-w-4xl my-auto",children:[s.jsx("div",{className:"flex justify-center items-center mb-8 mt-4",children:s.jsx("h2",{className:"text-3xl font-bold text-sna-primary",children:"Bienvenue sur notre portail !"})}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Pour activer complètement votre compte et accéder à toutes nos fonctionnalités, veuillez compléter les informations ci-dessous."}),i&&s.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:s.jsx("p",{children:i})}),s.jsxs("form",{onSubmit:u,className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[s.jsxs("fieldset",{className:"border border-gray-300 p-4 rounded-md",children:[s.jsx("legend",{className:"text-lg font-semibold text-sna-primary px-2",children:d("Information société")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("raisonSociale","Raison Sociale","text",!0),m("formeJuridique","Forme juridique")]}),m("adresseSociete","Adresse","text",!0),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6",children:[m("codePostalSociete","Code Postal","text",!0),m("villeSociete","Ville","text",!0),p("paysSociete","Pays",!0)]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("siret","SIRET"),m("numTVA","N° TVA Intracommunautaire")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("numEORI","N° EORI"),m("capitalSocial","Capital social","number")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("codeAPE","Code APE (NAF)"),m("tvaIntracom","TVA intracom. (si applicable)")]})]}),s.jsxs("fieldset",{className:"border border-gray-300 p-4 rounded-md",children:[s.jsx("legend",{className:"text-lg font-semibold text-sna-primary px-2",children:d("Contacts")}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Veuillez fournir au moins un contact principal."}),s.jsxs("div",{className:"border border-dashed border-gray-300 p-3 mb-4 rounded-md",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Contact Principal"}),m("contact1Nom","Nom et Prénom","text",!0),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("contact1Telephone","Téléphone","tel"),m("contact1Email","Email","email",!0)]})]}),s.jsxs("div",{className:"border border-dashed border-gray-300 p-3 mb-4 rounded-md",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Contact Secondaire (optionnel)"}),m("contact2Nom","Nom et Prénom"),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("contact2Telephone","Téléphone","tel"),m("contact2Email","Email","email")]})]}),s.jsxs("div",{className:"border border-dashed border-gray-300 p-3 mb-4 rounded-md",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Contact Facturation"}),m("contactFacturationNom","Nom et Prénom","text",!0),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("contactFacturationTelephone","Téléphone","tel",!0),m("contactFacturationEmail","Email","email",!0)]})]}),m("emailRetourColis","Email pour recevoir l'information de retour de colis","email",!0)]}),s.jsxs("fieldset",{className:"border border-gray-300 p-4 rounded-md",children:[s.jsx("legend",{className:"text-lg font-semibold text-sna-primary px-2",children:d("Validation")}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Veuillez confirmer les informations en tant que représentant autorisé."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6",children:[m("dateSoumission","Date de soumission","date",!0),m("nomSoumission","Nom du déclarant","text",!0),m("fonctionSoumission","Fonction du déclarant","text",!0)]})]}),s.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[t&&s.jsx("button",{type:"button",onClick:t,disabled:a,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary disabled:opacity-50",children:"Annuler (temporaire)"}),s.jsx("button",{type:"submit",disabled:a,className:"w-full sm:w-auto px-8 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary transition-all duration-200 transform hover:scale-105",children:a?"Soumission en cours...":"Enregistrer et continuer"})]})]})]})})}const k4=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(null);x.useEffect(()=>{const o=sessionStorage.getItem("isFirstLogin")==="true",i=localStorage.getItem("hasCompletedWelcomeForm")==="true",l=sessionStorage.getItem("userId")||localStorage.getItem("userId");o&&!i&&(t(!0),sessionStorage.removeItem("isFirstLogin")),n({name:"Achraf Bayi",userId:l||"unknown_user_id"})},[]);const a=async o=>{console.log("Welcome form data submitted from dashboard:",o);try{const i=sessionStorage.getItem("userId")||localStorage.getItem("userId")||(r==null?void 0:r.userId)||"unknown_user_id",l={...o,userId:i};console.log("Form data with userId:",l);const c="/api/customer/welcome-form";console.log("Sending form data to:",c);const u=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),credentials:"include"});if(!u.ok){const m=await u.json().catch(()=>({}));throw new Error(m.message||`HTTP error! status: ${u.status}`)}const d=await u.json();console.log("Form submission successful:",d),localStorage.setItem("hasCompletedWelcomeForm","true"),d.customerId&&localStorage.setItem("customerId",d.customerId),t(!1)}catch(i){console.error("Error submitting welcome form:",i)}};return r?s.jsxs("div",{className:"p-6 bg-gray-50 min-h-full",children:[s.jsx("h1",{className:"text-3xl font-bold text-sna-primary mb-6",children:"Tableau de Bord Client"}),s.jsxs("p",{className:"mb-4 text-lg",children:["Bonjour, ",r.name," !"]}),!1,s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Mes Boutiques"}),s.jsx("p",{className:"text-gray-600",children:"Gérer vos boutiques en ligne."}),s.jsx("a",{href:"/client/boutiques",className:"text-sna-primary hover:underline mt-4 inline-block",children:"Voir mes boutiques"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Mes Produits"}),s.jsx("p",{className:"text-gray-600",children:"Gérer tous vos produits par boutique."}),s.jsx("a",{href:"/client/produits",className:"text-sna-primary hover:underline mt-4 inline-block",children:"Voir mes produits"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Créer un Produit"}),s.jsx("p",{className:"text-gray-600",children:"Ajouter des produits à vos boutiques validées."}),s.jsx("a",{href:"/client/produits/create",className:"text-sna-primary hover:underline mt-4 inline-block",children:"Créer un produit"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Mon Compte"}),s.jsx("p",{className:"text-gray-600",children:"Mettre à jour vos informations personnelles."}),s.jsx("a",{href:"/client/compte",className:"text-sna-primary hover:underline mt-4 inline-block",children:"Gérer mon compte"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Support"}),s.jsx("p",{className:"text-gray-600",children:"Contacter notre équipe d'assistance."})]})]}),e&&s.jsx(Pm,{onSubmit:a})]}):s.jsx("div",{className:"p-4",children:"Chargement du tableau de bord..."})},E4=()=>{const[e,t]=x.useState(null),[r,n]=x.useState({}),[a,o]=x.useState({}),i=(y,b,N)=>{o(C=>({...C,[y]:{...C[y]||{},[b]:N}}))},l=async y=>{const b=c.find(C=>C.shopId===y);if(!b)return;const N=a[y];if(N)try{m(!0),f(null);const C=`/api/customer/shops/${g}/${y}`,T=await fetch(C,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,...N}),credentials:"include"}),j=await T.json();if(!T.ok)throw new Error(j.message||"Erreur lors de la mise à jour de la boutique");u(S=>S.map(_=>_.shopId===y?j.shop:_)),o(S=>({...S,[y]:{}})),n(S=>({...S,[y]:null}))}catch(C){f(C.message||"Une erreur est survenue lors de la mise à jour de la boutique")}finally{m(!1)}},[c,u]=x.useState([]),[d,m]=x.useState(!0),[p,f]=x.useState(null),[g,w]=x.useState(null);x.useEffect(()=>{let y=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),b=null;try{y&&(b=JSON.parse(y).sub,w(b),console.log("==== MES BOUTIQUES USER INFO ===="),console.log("User sub from storage:",b),console.log("==== END MES BOUTIQUES USER INFO ===="))}catch(N){console.error("Error parsing userInfo:",N),f("Erreur lors de la récupération des informations utilisateur. Veuillez vous reconnecter.")}if(!b){const N=sessionStorage.getItem("userId")||localStorage.getItem("userId");N?(console.warn("No sub found, using fallback userId:",N),w(N)):(console.error("No user identifier found in storage"),f("Identifiant utilisateur non trouvé. Veuillez vous reconnecter."),m(!1))}},[]),x.useEffect(()=>{(async()=>{if(g)try{m(!0);const b=`/api/customer/shops/${g}`,N=await fetch(b,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});let C;const T=N.headers.get("content-type");if(T&&T.includes("application/json"))C=await N.json();else{const j=await N.text();throw new Error(j)}if(!N.ok)throw new Error(C.message||`Erreur lors de la récupération des boutiques (${N.status})`);u(C.shops||[])}catch(b){console.error("Error fetching shops:",b),f(b.message||"Une erreur est survenue lors de la récupération des boutiques")}finally{m(!1)}})()},[g]);const v=()=>{window.location.href="/client/boutiques/create"};return d?s.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des boutiques..."})]})}):p?s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ir,{className:"mr-2"}),s.jsx("span",{className:"block sm:inline",children:p})]}),s.jsx("button",{onClick:v,className:"mt-4 bg-sna-primary text-white px-4 py-2 rounded-md hover:bg-sna-primary-dark transition duration-300",children:"Réessayer"})]})}):s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Mes Boutiques"}),c.length>0&&s.jsx("button",{onClick:v,className:"bg-sna-primary text-white px-4 py-2 rounded-md hover:bg-sna-primary-dark transition duration-300",children:"Créer une Boutique"})]}),e&&Object.keys(a[e]||{}).length>0&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-sna-primary text-white px-6 py-3 rounded-md shadow-lg flex items-center space-x-4 animate-fade-in",children:[s.jsx("span",{children:"Des modifications non enregistrées pour cette boutique."}),s.jsx("button",{className:"bg-white text-sna-primary font-semibold px-4 py-2 rounded shadow hover:bg-gray-100 transition",onClick:()=>l(e),children:"Enregistrer"})]}),c.length===0?s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[s.jsx(rr,{className:"mx-auto text-gray-400 text-6xl mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Aucune boutique trouvée"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas encore créé de boutique. Commencez par créer votre première boutique."}),s.jsx("button",{onClick:v,className:"bg-sna-primary text-white px-6 py-3 rounded-md hover:bg-sna-primary-dark transition duration-300 font-medium",children:"Créer ma première boutique"})]}):s.jsx("div",{className:"flex flex-col gap-6",children:c.map((y,b)=>{const N=e===y.shopId,C=a[y.shopId]||{},T=Object.keys(y).filter(j=>!["shopId","createdAt","updatedAt","_id","status","logo","imagesDeLaBoutique","name","shopName"].includes(j));return s.jsxs("div",{className:`bg-white rounded-lg shadow-md transition-shadow duration-300 w-full ${N?"border-2 border-sna-primary":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-5 cursor-pointer",onClick:()=>t(N?null:y.shopId),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[y.logo?s.jsx("img",{src:y.logo,alt:`Logo de ${y.name}`,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):s.jsx(rr,{className:"text-sna-primary text-2xl"}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-lg font-bold text-gray-800 flex items-center gap-3",children:[y.name||y.shopName||y.nomProjet||"Boutique",s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full "+(y.status==="valid"?"bg-green-500":"bg-yellow-400")}),s.jsx("span",{className:y.status==="valid"?"text-green-600":"text-yellow-600",children:y.status==="valid"?"Validée":"En attente"})]})]}),y.nomProjet&&s.jsx("div",{className:"text-sm text-gray-500",children:y.nomProjet})]})})]}),s.jsx("button",{className:"text-sna-primary text-2xl ml-4 focus:outline-none",tabIndex:-1,children:s.jsx("span",{style:{display:"inline-block",transition:"transform 0.2s",transform:N?"rotate(90deg)":"rotate(0deg)"},children:"▶"})})]}),N&&s.jsx("div",{className:"px-6 pb-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(j=>s.jsxs("div",{className:"flex flex-col mb-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm text-gray-500 font-medium",children:j.replace(/([A-Z])/g," $1").replace(/^./,S=>S.toUpperCase())}),r[y.shopId]===j?s.jsx("button",{className:"text-gray-400 hover:text-sna-primary ml-2",onClick:()=>n({...r,[y.shopId]:null}),title:"Annuler",children:"✕"}):s.jsx("button",{className:"text-gray-400 hover:text-sna-primary ml-2",onClick:()=>n({...r,[y.shopId]:j}),title:"Modifier ce champ",children:s.jsx(ha,{})})]}),r[y.shopId]===j?j==="typeAbonnementShopify"?s.jsxs("div",{className:"flex flex-col gap-2 mt-1",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`typeAbonnementShopify_${y.shopId}`,value:"mensuel",checked:(C[j]??y[j])==="mensuel",onChange:S=>i(y.shopId,j,S.target.value),className:"form-radio h-4 w-4 text-sna-primary border-gray-300"}),s.jsx("span",{className:"ml-2",children:"Abonnement mensuel SHOPIFY (sans engagement)"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`typeAbonnementShopify_${y.shopId}`,value:"annuel",checked:(C[j]??y[j])==="annuel",onChange:S=>i(y.shopId,j,S.target.value),className:"form-radio h-4 w-4 text-sna-primary border-gray-300"}),s.jsx("span",{className:"ml-2",children:"Abonnement annuel SHOPIFY (12 mois)"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`typeAbonnementShopify_${y.shopId}`,value:"aucun",checked:(C[j]??y[j])==="aucun"||(C[j]??y[j])==="",onChange:S=>i(y.shopId,j,S.target.value),className:"form-radio h-4 w-4 text-sna-primary border-gray-300"}),s.jsx("span",{className:"ml-2",children:"Aucun / Pas d'abonnement Shopify géré via ce projet"})]})]}):["dateMiseEnLigne","dateCommercialisation","dateSortieOfficielle"].includes(j)?s.jsx("input",{type:"date",value:C[j]!==void 0?C[j]:y[j]||"",onChange:S=>i(y.shopId,j,S.target.value),inputMode:"none",onKeyDown:S=>S.preventDefault(),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm mt-1 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",autoFocus:!0}):typeof y[j]=="boolean"||typeof C[j]=="boolean"||typeof y[j]=="string"&&["true","false","oui","non"].includes(String(y[j]||"").toLowerCase())?s.jsxs("label",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",checked:C[j]!==void 0?C[j]===!0||C[j]==="true"||C[j]==="oui":y[j]===!0||y[j]==="true"||y[j]==="oui",onChange:S=>i(y.shopId,j,S.target.checked),className:"form-checkbox h-5 w-5 text-sna-primary"}),s.jsx("span",{className:"text-base text-gray-900",children:(C[j]!==void 0?C[j]:y[j])?"Oui":"Non"})]}):s.jsx("input",{type:"text",value:C[j]!==void 0?C[j]:y[j]||"",onChange:S=>i(y.shopId,j,S.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm mt-1 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",autoFocus:!0}):s.jsx("div",{className:"mt-1 text-base text-gray-900",children:j==="typeAbonnementShopify"?y[j]==="mensuel"?"Abonnement mensuel SHOPIFY (sans engagement)":y[j]==="annuel"?"Abonnement annuel SHOPIFY (12 mois)":y[j]==="aucun"||y[j]===""?"Aucun / Pas d'abonnement Shopify géré via ce projet":y[j]||"-":["dateMiseEnLigne","dateCommercialisation","dateSortieOfficielle"].includes(j)?(()=>{const S=y[j];if(!S)return"-";const _=new Date(S);return isNaN(_)?S:_.toLocaleDateString("fr-FR")})():typeof y[j]=="boolean"?y[j]?"Oui":"Non":["true","false","oui","non"].includes(String(y[j]||"").toLowerCase())?["true","oui"].includes(String(y[j]||"").toLowerCase())?"Oui":"Non":j==="products"&&Array.isArray(y[j])?`${y[j].length} produit(s): ${y[j].map(S=>S.titre||S.title||"Produit sans titre").join(", ")}`:typeof y[j]=="object"&&y[j]!==null?JSON.stringify(y[j]):y[j]||"-"})]},j))})})]},y.shopId)})})]})},P4=({formData:e,handleChange:t})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Informations Générales du Projet"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Renseignez les informations de base concernant le projet et le client."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[s.jsxs("div",{className:"sm:col-span-3",children:[s.jsxs("label",{htmlFor:"nomProjet",className:"block text-sm font-medium text-gray-700",children:["Nom de projet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"text",name:"nomProjet",id:"nomProjet",value:e.nomProjet,onChange:t,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsxs("label",{htmlFor:"typeProjet",className:"block text-sm font-medium text-gray-700",children:["Type de projet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"text",name:"typeProjet",id:"typeProjet",value:e.typeProjet,onChange:t,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsxs("label",{htmlFor:"commercial",className:"block text-sm font-medium text-gray-700",children:["Commercial en charge ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"text",name:"commercial",id:"commercial",value:e.commercial,onChange:t,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsxs("label",{htmlFor:"demarrageProjet",className:"block text-sm font-medium text-gray-700",children:["Démarrage du projet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"date",name:"demarrageProjet",id:"demarrageProjet",value:e.demarrageProjet,onChange:t,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsxs("label",{htmlFor:"nomChefProjet",className:"block text-sm font-medium text-gray-700",children:["Nom chef de projet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"text",name:"nomChefProjet",id:"nomChefProjet",value:e.nomChefProjet,onChange:t,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsxs("label",{htmlFor:"prenomChefProjet",className:"block text-sm font-medium text-gray-700",children:["Prénom chef de projet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"text",name:"prenomChefProjet",id:"prenomChefProjet",value:e.prenomChefProjet,onChange:t,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-6",children:[s.jsx("hr",{className:"my-4"}),s.jsx("h4",{className:"text-md leading-6 font-medium text-gray-800",children:"Informations Client"})]}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsxs("label",{htmlFor:"nomClient",className:"block text-sm font-medium text-gray-700",children:["Nom du Client ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"text",name:"nomClient",id:"nomClient",value:e.nomClient,onChange:t,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsxs("label",{htmlFor:"contactsClient",className:"block text-sm font-medium text-gray-700",children:["Email Client ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"email",name:"contactsClient",id:"contactsClient",value:e.contactsClient,onChange:t,required:!0,placeholder:"ex: email@example.com",pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",title:"Veuillez entrer une adresse email valide.",className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})]}),D4=({formData:e,handleChange:t})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Planning et Lancement"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Définissez les dates clés et les options de lancement."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"dateMiseEnLigne",className:"block text-sm font-medium text-gray-700",children:"Date de Mise en Ligne Prévue"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"date",name:"dateMiseEnLigne",id:"dateMiseEnLigne",value:e.dateMiseEnLigne,onChange:t,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"dateCommercialisation",className:"block text-sm font-medium text-gray-700",children:"Date de Commercialisation"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"date",name:"dateCommercialisation",id:"dateCommercialisation",value:e.dateCommercialisation,onChange:t,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"dateSortieOfficielle",className:"block text-sm font-medium text-gray-700",children:"Date de Sortie Officielle"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{type:"date",name:"dateSortieOfficielle",id:"dateSortieOfficielle",value:e.dateSortieOfficielle,onChange:t,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsx("div",{className:"sm:col-span-6",children:s.jsxs("div",{className:"flex items-center space-x-8 pt-4",children:[s.jsxs("div",{className:"relative flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"precommande",name:"precommande",type:"checkbox",checked:e.precommande,onChange:t,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsx("label",{htmlFor:"precommande",className:"font-medium text-gray-700",children:"Précommande envisagée ?"})})]}),s.jsxs("div",{className:"relative flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"dedicaceEnvisagee",name:"dedicaceEnvisagee",type:"checkbox",checked:e.dedicaceEnvisagee,onChange:t,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsx("label",{htmlFor:"dedicaceEnvisagee",className:"font-medium text-gray-700",children:"Dédicace envisagée ?"})})]})]})})]})]}),_4=({formData:e,handleChange:t})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Services Shopify et Maintenance"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Sélectionnez le type d'abonnement Shopify et décrivez les autres services si besoin."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[s.jsx("div",{className:"sm:col-span-6",children:s.jsxs("fieldset",{children:[s.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Type d'abonnement Shopify"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Choisissez une option."}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"abonnementMensuelShopify",name:"typeAbonnementShopify",type:"radio",value:"mensuel",checked:e.typeAbonnementShopify==="mensuel",onChange:t,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300"}),s.jsx("label",{htmlFor:"abonnementMensuelShopify",className:"ml-3 block text-sm font-medium text-gray-700",children:"Abonnement mensuel SHOPIFY (sans engagement)"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"abonnementAnnuelShopify",name:"typeAbonnementShopify",type:"radio",value:"annuel",checked:e.typeAbonnementShopify==="annuel",onChange:t,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300"}),s.jsx("label",{htmlFor:"abonnementAnnuelShopify",className:"ml-3 block text-sm font-medium text-gray-700",children:"Abonnement annuel SHOPIFY (12 mois)"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"aucunAbonnementShopify",name:"typeAbonnementShopify",type:"radio",value:"aucun",checked:e.typeAbonnementShopify==="aucun"||e.typeAbonnementShopify==="",onChange:t,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300"}),s.jsx("label",{htmlFor:"aucunAbonnementShopify",className:"ml-3 block text-sm font-medium text-gray-700",children:"Aucun / Pas d'abonnement Shopify géré via ce projet"})]})]})]})}),s.jsxs("div",{className:"sm:col-span-6 pt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Tarifs Abonnement Shopify (à titre indicatif) :"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"Plan Mensuel : 105 € / mois"}),s.jsx("li",{children:"Plan Annuel : 948 € / an (soit 79 € / mois)"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ces tarifs sont directement facturés par Shopify et peuvent être sujets à modification."})]})]})]}),T4=()=>s.jsx("svg",{className:"h-5 w-5 text-red-500 mr-1 inline-block",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),M4=({formData:e,handleChange:t})=>{let r=0;e.estBoutiqueEnLigne&&(r+=250),e.estBoutiqueEnLigne&&e.snaResponsableDesign==="oui"&&(r+=250);const n=!e.estBoutiqueEnLigne;return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Détails de la Boutique et Services Design"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Précisez si une nouvelle boutique doit être créée et les besoins en design."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[s.jsx("div",{className:"sm:col-span-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"estBoutiqueEnLigne",name:"estBoutiqueEnLigne",type:"checkbox",checked:e.estBoutiqueEnLigne,onChange:t,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsx("label",{htmlFor:"estBoutiqueEnLigne",className:"font-medium text-gray-700",children:"Doit-on créer une nouvelle boutique en ligne ?"})})]})}),s.jsxs("div",{className:"sm:col-span-6",children:[s.jsxs("label",{className:`block text-sm font-medium ${n?"text-gray-400":"text-gray-700"}`,children:["SNA doit-il s'occuper du web design/direction artistique ?"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-2 flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"snaDesignOui",name:"snaResponsableDesign",type:"radio",value:"oui",checked:e.snaResponsableDesign==="oui",onChange:t,required:!0,disabled:n,className:`focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 ${n?"cursor-not-allowed bg-gray-100":""}`}),s.jsx("label",{htmlFor:"snaDesignOui",className:`ml-2 block text-sm ${n?"text-gray-400 cursor-not-allowed":"text-gray-900"}`,children:"Oui"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"snaDesignNon",name:"snaResponsableDesign",type:"radio",value:"non",checked:e.snaResponsableDesign==="non",onChange:t,required:!0,disabled:n,className:`focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 ${n?"cursor-not-allowed bg-gray-100":""}`}),s.jsx("label",{htmlFor:"snaDesignNon",className:`ml-2 block text-sm ${n?"text-gray-400 cursor-not-allowed":"text-gray-900"}`,children:"Non"})]})]})]}),s.jsxs("div",{className:"sm:col-span-6 pt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modules d'expédition optionnels :"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"moduleDelivengo",name:"moduleDelivengo",type:"checkbox",checked:e.moduleDelivengo,onChange:t,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsx("label",{htmlFor:"moduleDelivengo",className:"font-medium text-gray-700",children:"Ajouter le module Delivengo (34 € 44 pays jusqu'à 2 kg)"})})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"moduleMondialRelay",name:"moduleMondialRelay",type:"checkbox",checked:e.moduleMondialRelay,onChange:t,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsx("label",{htmlFor:"moduleMondialRelay",className:"font-medium text-gray-700",children:"Ajouter le module Mondial Relay (34 €)"})})]})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1 space-y-4",children:s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4 border-b pb-2",children:"Estimation Création Boutique"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Frais de création initiaux :"}),s.jsxs("span",{className:"text-xl font-bold text-gray-800",children:[r," €"]})]}),e.estBoutiqueEnLigne&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-red-600 font-semibold",children:[s.jsx(T4,{}),"Frais mensuels liés à la maintenance du site internet : 50 €"]})})]}),s.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"Les modules optionnels (Delivengo, Mondial Relay) et l'abonnement Shopify sont facturés séparément. Cette estimation est pour la création et configuration initiale par SNA GZ."})]})})]})},m0=[{id:1,name:"Informations Générales"},{id:2,name:"Planning et Lancement"},{id:3,name:"Services, Modules et Maintenance"},{id:4,name:"Détails Facturation"},{id:5,name:"Images de la Boutique"}],I4={nomProjet:"",typeProjet:"",commercial:"",demarrageProjet:"",nomChefProjet:"",prenomChefProjet:"",estBoutiqueEnLigne:!1,nomClient:"",contactsClient:"",dateMiseEnLigne:"",dateCommercialisation:"",dateSortieOfficielle:"",precommande:!1,dedicaceEnvisagee:!1,typeAbonnementShopify:"",coutsEtDetailsModuleMondialRelay:"",coutsEtDetailsModuleDelivengo:"",coutsEtDetailsMaintenanceSite:"",snaResponsableDesign:"",moduleDelivengo:!1,moduleMondialRelay:!1},A4=()=>{const[e,t]=x.useState(1),[r,n]=x.useState(I4),[a,o]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState(null),[d,m]=x.useState(null),[p,f]=x.useState({logo:null,desktopBanner:null,mobileBanner:null,favicon:null}),[g,w]=x.useState({logo:null,desktopBanner:null,mobileBanner:null,favicon:null}),[v,y]=x.useState(!1),b=I=>{const{name:h,value:M,type:$,checked:z}=I.target;n(U=>{const A={...U,[h]:$==="checkbox"?z:M};return h==="estBoutiqueEnLigne"&&!z&&(A.snaResponsableDesign=""),A})};x.useEffect(()=>{let I=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),h=null;try{I&&(h=JSON.parse(I).sub,u(h),console.log("==== CREATE SHOP USER INFO ===="),console.log("User sub from storage:",h),console.log("==== END CREATE SHOP USER INFO ===="))}catch(M){console.error("Error parsing userInfo:",M),l("Erreur lors de la récupération des informations utilisateur. Veuillez vous reconnecter.")}if(!h){const M=sessionStorage.getItem("userId")||localStorage.getItem("userId");M?(console.warn("No sub found, using fallback userId:",M),u(M)):(console.error("No user identifier found in storage"),l("Identifiant utilisateur non trouvé. Veuillez vous reconnecter."))}},[]);const N=(I,h)=>{if(h){f($=>({...$,[I]:h}));const M=new FileReader;M.onload=$=>{w(z=>({...z,[I]:$.target.result}))},M.readAsDataURL(h)}},C=async I=>{y(!0);const h=[];try{if(p.logo){const $=new FormData;$.append("logo",p.logo),h.push(fetch(`/api/customer/shops/${I}/upload/logo`,{method:"POST",body:$,credentials:"include"}))}if(p.desktopBanner||p.mobileBanner){const $=new FormData;p.desktopBanner&&$.append("desktopBanner",p.desktopBanner),p.mobileBanner&&$.append("mobileBanner",p.mobileBanner),h.push(fetch(`/api/customer/shops/${I}/upload/banner`,{method:"POST",body:$,credentials:"include"}))}if(p.favicon){const $=new FormData;$.append("favicon",p.favicon),h.push(fetch(`/api/customer/shops/${I}/upload/favicon`,{method:"POST",body:$,credentials:"include"}))}const M=await Promise.all(h);for(const $ of M)if(!$.ok){const z=await $.json();throw new Error(z.message||"Erreur lors de l'upload des images")}return!0}catch(M){return console.error("Error uploading images:",M),l("Erreur lors de l'upload des images: "+M.message),!1}finally{y(!1)}},T=async I=>{if(I.preventDefault(),e===4){if(!c){l("Identifiant utilisateur non trouvé. Veuillez vous reconnecter.");return}o(!0),l(null),console.log("Nouveau Formulaire Créer Boutique Soumis:",r),console.log("UserId (sub) utilisé pour la création:",c);try{const h=`/api/customer/shops/${c}`,M=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"}),$=await M.json();if(!M.ok)throw new Error($.message||`Erreur lors de la création de la boutique (${M.status})`);console.log("Boutique créée avec succès:",$),m($.shopId),t(5)}catch(h){console.error("Erreur soumission formulaire:",h),l(h.message||"Une erreur est survenue lors de la création de la boutique")}finally{o(!1)}}else e===5&&await C(d)&&(window.location.href="/client/boutiques")},j=I=>{I.preventDefault(),t(h=>Math.min(h+1,m0.length))},S=I=>{I.preventDefault(),t(h=>Math.max(h-1,1))},_=()=>{const I={formData:r,handleChange:b};switch(e){case 1:return s.jsx(P4,{...I});case 2:return s.jsx(D4,{...I});case 3:return s.jsx(_4,{...I});case 4:return s.jsx(M4,{...I});case 5:return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Images de la Boutique"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez le logo et les bannières de votre boutique (optionnel)."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Logo de la boutique"}),s.jsx("input",{type:"file",accept:"image/*",onChange:h=>N("logo",h.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),g.logo&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.logo,alt:"Logo preview",className:"h-20 w-20 object-cover rounded-lg border"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bannière Desktop (1920x400px recommandé)"}),s.jsx("input",{type:"file",accept:"image/*",onChange:h=>N("desktopBanner",h.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),g.desktopBanner&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.desktopBanner,alt:"Desktop banner preview",className:"h-20 w-40 object-cover rounded-lg border"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bannière Mobile (750x400px recommandé)"}),s.jsx("input",{type:"file",accept:"image/*",onChange:h=>N("mobileBanner",h.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),g.mobileBanner&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.mobileBanner,alt:"Mobile banner preview",className:"h-20 w-32 object-cover rounded-lg border"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Favicon (32x32px recommandé, format .ico ou .png)"}),s.jsx("input",{type:"file",accept:"image/*,.ico",onChange:h=>N("favicon",h.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),g.favicon&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:g.favicon,alt:"Favicon preview",className:"h-8 w-8 object-cover rounded border"})})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note :"}),` L'ajout d'images est optionnel. Vous pourrez toujours ajouter ou modifier ces images plus tard depuis la section "Mes Boutiques".`]})})]});default:return null}};return s.jsxs("div",{className:"max-w-9xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Créer une nouvelle boutique"}),s.jsx("form",{onSubmit:T,className:"space-y-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("nav",{"aria-label":"Progress",className:"border-b border-gray-200",children:s.jsx("ol",{className:"flex divide-x divide-gray-200",children:m0.map(I=>s.jsx("li",{className:`relative flex flex-1 ${I.id<e?"bg-sna-primary/10":I.id===e?"bg-white":"bg-gray-50"}`,children:s.jsxs("span",{className:`flex items-center px-6 py-4 text-sm font-medium ${I.id===e?"text-sna-primary":I.id<e?"text-sna-success":"text-gray-500"}`,children:[s.jsx("span",{className:"flex-shrink-0",children:s.jsx("span",{className:`flex h-8 w-8 items-center justify-center rounded-full border-2 ${I.id===e?"border-sna-primary":I.id<e?"border-sna-success":"border-gray-300"}`,children:I.id})}),s.jsx("span",{className:"ml-4 text-sm font-medium",children:I.name})]})},I.id))})}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:_()}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 sm:px-6",children:[i&&s.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:s.jsx("span",{className:"block sm:inline",children:i})}),s.jsxs("div",{className:"flex justify-between",children:[e>1&&e!==5&&s.jsx("button",{type:"button",onClick:S,disabled:a,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",children:"Précédent"}),s.jsx("div",{className:"flex-1"}),s.jsx("button",{type:e===4||e===5?"submit":"button",onClick:e===4||e===5?T:j,disabled:a||v,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white ${a||v?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary"}`,children:a&&e===4?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Création de la boutique..."]}):v&&e===5?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Upload des images..."]}):e===4?"Créer la boutique":e===5?"Finaliser et terminer":"Suivant"})]})]})]})})]})},O4=["shopId","createdAt","updatedAt","_id","status"],R4=({shop:e,isOpen:t,onClose:r,onSave:n})=>{const[a,o]=x.useState(e||{}),[i,l]=x.useState(null);if(x.useEffect(()=>{o(e||{}),l(null)},[e]),!t)return null;const c=m=>{const{name:p,value:f,type:g,checked:w}=m.target;o(v=>({...v,[p]:g==="checkbox"?w:f}))},u=m=>{if(m.preventDefault(),!!a)try{n(a)}catch{l("Erreur lors de la sauvegarde des modifications.")}},d=Object.keys(a||{}).filter(m=>!O4.includes(m));return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-lg w-full p-8 relative",children:[s.jsx("button",{onClick:r,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl font-bold","aria-label":"Fermer",children:"×"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Modifier la Boutique"}),i&&s.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:i}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.length===0&&s.jsx("div",{className:"text-gray-500",children:"Aucun champ éditable pour cette boutique."}),d.map(m=>s.jsxs("div",{children:[s.jsx("label",{htmlFor:m,className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").replace(/^./,p=>p.toUpperCase())}),typeof a[m]=="boolean"?s.jsx("input",{type:"checkbox",name:m,id:m,checked:!!a[m],onChange:c,className:"mt-1"}):typeof a[m]=="object"&&a[m]!==null?s.jsx("textarea",{name:m,id:m,value:JSON.stringify(a[m],null,2),disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-100 text-gray-500"}):s.jsx("input",{type:"text",name:m,id:m,value:a[m]||"",onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary"})]},m)),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Enregistrer les modifications"})]})]})]})})},L4=[{title:"Navigation vers le développement d'applications",steps:["Dans le tableau de bord Shopify, cliquez sur la flèche `>` à droite de `Applications`.","Cliquez sur l'icône en forme de roue dentée (⚙️) à gauche de `Paramètres des applications et canaux de vente` qui apparaît sous la barre de recherche.","Cliquez sur le bouton `Développer des applications`."]},{title:"Autorisation du développement",steps:["Cliquez sur le premier bouton noir `Autoriser le développement d'applications personnalisées`.","Confirmez en cliquant sur le deuxième bouton noir `Autoriser le développement d'applications personnalisées`."]},{title:"Création de l'application",steps:["Cliquez sur le bouton noir `Créer une application`.","Nommez l'application `Auto` et cliquez sur `Créer l'application`."]},{title:"Configuration des accès API Admin",steps:[{type:"notice",level:"warning",text:"Cette étape est cruciale. L'attribution des bonnes autorisations est essentielle au bon fonctionnement de nos automatisations."},"Dans le tableau de bord de l'application, cliquez sur le bouton blanc `Configurer les niveaux d'accès Admin API`.","Cochez les cases pour les autorisations suivantes. Vous pouvez utiliser la barre de recherche pour les trouver rapidement.",{type:"api_scopes",scopes:[{id:"write_products",label:"write_products",description:"Créer et modifier les produits et collections."},{id:"read_products",label:"read_products",description:"Consulter les produits et collections."},{id:"write_themes",label:"write_themes",description:"Modifier les fichiers du thème (logos, bannières, textes...)."},{id:"read_themes",label:"read_themes",description:"Consulter les fichiers du thème."},{id:"write_content",label:"write_content",description:"Créer et modifier le contenu de la boutique en ligne (pages, blogs...)."},{id:"read_content",label:"read_content",description:"Consulter le contenu de la boutique en ligne."}]},"Une fois toutes les cases cochées, cliquez sur `Enregistrer` en haut à droite."]},{title:"Installation et récupération des identifiants",steps:["Naviguez vers l'onglet `Aperçu` de votre application `Auto`.","Cliquez sur le bouton noir `Installer l'application` en haut à droite, puis confirmez en cliquant sur `Installer`.",{type:"notice",level:"critical",text:"ATTENTION : Le jeton d'accès Admin API ne sera affiché qu'UNE SEULE FOIS. Copiez-le soigneusement."},"Vous êtes maintenant dans la section `Identifiants d'API`."]}],z4=({onConfirm:e,onClose:t,shop:r})=>{const[n,a]=x.useState(""),[o,i]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(!1),[m,p]=x.useState(!1),[f,g]=x.useState(null),w=async()=>{p(!0),g(null);try{await e({apiKey:n,apiSecret:o,accessToken:l})}catch(v){g(v.message||"Une erreur est survenue.")}finally{p(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Clé API"}),s.jsx("input",{type:"text",id:"apiKey",value:n,onChange:v=>a(v.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"apiSecret",className:"block text-sm font-medium text-gray-700",children:"Clé secrète de l'API"}),s.jsx("input",{type:"text",id:"apiSecret",value:o,onChange:v=>i(v.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700",children:"Jeton d'accès à l'API Admin (mot de passe)"}),s.jsx("input",{type:"password",id:"accessToken",value:l,onChange:v=>c(v.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",autoComplete:"new-password"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("button",{onClick:()=>d(!u),className:"text-sm text-blue-600 hover:underline",children:u?"Masquer le tutoriel":"Tutoriel – créer l'app dans Shopify"}),u&&s.jsxs("div",{className:"mt-2 p-4 bg-gray-50 border rounded-lg space-y-6 max-h-[40vh] overflow-y-auto",children:[s.jsx("h4",{className:"text-base font-semibold text-gray-800",children:"Création d'une application personnalisée pour l'accès API."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-medium text-gray-700",children:"Instructions:"}),L4.map((v,y)=>v.title?s.jsxs("div",{className:"pl-2",children:[s.jsx("h6",{className:"font-semibold text-gray-800 mb-2",children:v.title}),s.jsx("ol",{className:"space-y-3",children:v.steps.map((b,N)=>{if(typeof b=="string")return s.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[s.jsxs("span",{className:"text-blue-500 font-medium",children:[N+1,"."]}),s.jsx("span",{className:"text-gray-700",children:b})]},`inst-${N}`);if(b.type==="notice"){const C={warning:"bg-yellow-50 border-yellow-300 text-yellow-800",critical:"bg-red-100 border-red-400 text-red-900"};return s.jsx("div",{className:`my-2 p-3 border rounded-md ${C[b.level]||C.warning}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yl,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"font-bold text-sm",children:b.text})]})},`notice-${N}`)}else if(b.type==="api_scopes")return s.jsxs("div",{className:"my-2 p-3 bg-gray-100 border rounded-md",children:[s.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:"Autorisations requises :"}),s.jsx("div",{className:"space-y-2",children:b.scopes.map(C=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",readOnly:!0,checked:!0,className:"h-4 w-4 mt-1 border-gray-300 rounded text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3 text-sm",children:[s.jsx("label",{className:"font-mono bg-gray-200 px-1 py-0.5 rounded text-xs",children:C.label}),s.jsx("p",{className:"text-gray-600",children:C.description})]})]},C.id))})]},`api-scopes-${N}`);return null})})]},`path-${y}`):null)]})]})]}),f&&s.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:f}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Annuler"}),s.jsxs("button",{type:"button",onClick:w,disabled:m,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[m&&s.jsx(Xt,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Enregistrer les clés"]})]})]})},Fa=({open:e,type:t,title:r,message:n,onClose:a,onConfirm:o,shop:i})=>{if(!e)return null;const l=()=>{switch(t){case"success":return s.jsx(ot,{className:"h-6 w-6 text-green-400","aria-hidden":"true"});case"warning":return s.jsx(ir,{className:"h-6 w-6 text-yellow-400","aria-hidden":"true"});case"error":return s.jsx(an,{className:"h-6 w-6 text-red-400","aria-hidden":"true"});default:return s.jsx(nf,{className:"h-6 w-6 text-blue-400","aria-hidden":"true"})}},c=()=>t==="api_keys"?s.jsx(z4,{onConfirm:o,onClose:a,shop:i}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-500",children:n}),s.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[t==="confirmation"&&s.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:a,children:"Annuler"}),s.jsx("button",{type:"button",className:"bg-blue-600 text-white py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium hover:bg-blue-700",onClick:t==="confirmation"?o:a,children:t==="confirmation"?"Confirmer":"OK"})]})]});return s.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:s.jsxs("div",{className:"sm:flex sm:items-start",children:[s.jsx("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${t==="error"?"bg-red-100":"bg-blue-100"} sm:mx-0 sm:h-10 sm:w-10`,children:l()}),s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:r}),s.jsx("div",{className:"mt-2",children:c()})]})]})})]})})},$4=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(null),[a,o]=x.useState(!0),[i,l]=x.useState(null),[c,u]=x.useState(!1),[d,m]=x.useState(!1),[p,f]=x.useState(null),[g,w]=x.useState({show:!1,message:"",title:"",type:"info"}),[v,y]=x.useState({titre:"",description:"",prix:"",poids:"",price:"",weight:"",eans:{},hasColors:!1,colors:[],hasSizes:!1,sizes:[],typeProduit:"Phono",produit:"",occ:!1,active:!1,documented:!1,hasShopify:!1,hasEC:!1,stock:{},skus:{}}),[b,N]=x.useState([]),[C,T]=x.useState([]),[j,S]=x.useState(!1),_=["XS","S","M","L","XL"],I=["Rouge","Bleu","Vert","Noir","Blanc","Jaune","Rose","Violet","Orange","Gris"],h={Phono:["CD","Vinyl","DVD","Blue-Ray","Autre"],Merch:["T-Shirt","Hoodie","Pantalon","Chemise","Coque","Casquette","Mug","Bracelet","Sticker","Lithographie","Livre","Photographie","Autre"],POD:["T-Shirt","Hoodie","Pantalon","Chemise","Coque","Casquette","Mug","Bracelet","Sticker","Lithographie","Livre","Photographie","Autre"]},M=B=>B?B.toString().toUpperCase().replace(/\s+/g,"").replace(/[^A-Z0-9]/g,""):"",$=B=>{const{typeProduit:V,produit:L,titre:te,occ:ne}=v,le=M(te),me=B.color?M(B.color):null,be=B.size?M(B.size):null;let je="";if(V==="Phono"){const dt=M(L||V),Ve=M((r==null?void 0:r.artist)||(r==null?void 0:r.name)||(r==null?void 0:r.nomProjet)||"ARTIST");je=[dt,le,Ve,ne?"OCC":null].filter(Boolean).join("-")}else if(V==="Merch"){const Ve=[M(L),le];me&&Ve.push(me),be&&Ve.push(be),je=Ve.filter(Boolean).join("-")}else if(V==="POD"){const Ve=["PRINT",M(L),le];me&&Ve.push(me),be&&Ve.push(be),je=Ve.filter(Boolean).join("-"),je.length>38&&(je=je.substring(0,38))}return je};x.useEffect(()=>{const B=E(),V={};B.forEach(L=>{V[L.key]=$(L)}),y(L=>({...L,skus:V}))},[v.sizes,v.colors,v.hasSizes,v.hasColors,v.typeProduit,v.produit,v.titre,v.occ]),x.useEffect(()=>{let B=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),V=null;try{B&&(V=JSON.parse(B).sub,f(V))}catch(L){console.error("Error parsing userInfo:",L),l("Erreur lors de la récupération des informations utilisateur. Veuillez vous reconnecter.")}if(!V){const L=sessionStorage.getItem("userId")||localStorage.getItem("userId");L?f(L):(l("Identifiant utilisateur non trouvé. Veuillez vous reconnecter."),o(!1))}},[]),x.useEffect(()=>{(async()=>{if(p)try{o(!0);const V=`/api/customer/shops/${p}`,L=await fetch(V,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!L.ok)throw new Error("Erreur lors de la récupération des boutiques");const ne=((await L.json()).shops||[]).filter(le=>le.status==="valid");t(ne)}catch(V){console.error("Error fetching shops:",V),l("Une erreur est survenue lors de la récupération des boutiques")}finally{o(!1)}})()},[p]),x.useEffect(()=>{if(e.length===0)return;const V=new URLSearchParams(window.location.search).get("shopId");if(V&&!r){const L=e.find(te=>te.shopId===V);L&&n(L)}},[e,r]),x.useEffect(()=>{F()},[v.sizes,v.colors,v.hasSizes,v.hasColors]);const z=(B,V)=>{y(B==="typeProduit"?L=>({...L,typeProduit:V,produit:""}):L=>({...L,[B]:V}))},U=B=>{y(V=>({...V,sizes:V.sizes.includes(B)?V.sizes.filter(L=>L!==B):[...V.sizes,B]}))},A=B=>{const V=B.target.value;V&&!v.colors.includes(V)&&y(L=>({...L,colors:[...L.colors,V]}))},P=B=>{y(V=>({...V,colors:V.colors.filter(L=>L!==B)}))},E=()=>{const B=[];return v.hasSizes&&v.hasColors?v.sizes.forEach(V=>{v.colors.forEach(L=>{B.push({key:`${V}-${L}`,label:`${V} - ${L}`,size:V,color:L})})}):v.hasSizes&&!v.hasColors?v.sizes.forEach(V=>{B.push({key:V,label:`Taille ${V}`,size:V,color:null})}):!v.hasSizes&&v.hasColors?v.colors.forEach(V=>{B.push({key:V,label:`Couleur ${V}`,size:null,color:V})}):B.push({key:"default",label:"Stock général",size:null,color:null}),B},k=(B,V)=>{const L=V===""?"":Math.max(0,parseInt(V)||0);y(te=>({...te,stock:{...te.stock,[B]:L}}))},D=(B,V)=>{const L=V.replace(/\D/g,"").slice(0,13);y(te=>({...te,eans:{...te.eans,[B]:L}}))},F=()=>{const V=E().map(L=>L.key);y(L=>{const te={},ne={};return V.forEach(le=>{L.stock[le]!==void 0&&(te[le]=L.stock[le]),L.eans[le]!==void 0&&(ne[le]=L.eans[le])}),{...L,stock:te,eans:ne}})},O=B=>{const V=Array.from(B);if(b.length+V.length>5){w({show:!0,message:"Vous ne pouvez télécharger que 5 images au maximum.",title:"Limite d'images atteinte",type:"warning"});return}const L=[...b,...V];N(L);const te=[];V.forEach(ne=>{const le=new FileReader;le.onload=me=>{te.push(me.target.result),te.length===V.length&&T(be=>[...be,...te])},le.readAsDataURL(ne)})},q=B=>{N(V=>V.filter((L,te)=>te!==B)),T(V=>V.filter((L,te)=>te!==B))},[Y,K]=x.useState(null),X=(B,V)=>{K(V),B.dataTransfer.effectAllowed="move"},R=B=>{B.preventDefault(),B.dataTransfer.dropEffect="move"},H=(B,V)=>{if(B.preventDefault(),Y===null||Y===V){K(null);return}const L=[...b],te=[...C],ne=L[Y],le=te[Y];L.splice(Y,1),te.splice(Y,1),L.splice(V,0,ne),te.splice(V,0,le),N(L),T(te),K(null)},Q=()=>{K(null)},G=async(B,V)=>{if(b.length===0)return!0;S(!0);const L=new FormData;b.forEach(te=>{L.append("productImages",te)});try{const te=await fetch(`/api/customer/shops/${B}/products/${V}/upload`,{method:"POST",body:L,credentials:"include"});if(!te.ok){const ne=await te.json();throw new Error(ne.message||"Erreur lors de l'upload des images")}return!0}catch(te){return console.error("Error uploading product images:",te),l("Erreur lors de l'upload des images: "+te.message),!1}finally{S(!1)}},ee=async B=>{var le;if(B.preventDefault(),!r)return;const V=!v.titre||!v.price||!v.typeProduit||!v.produit,L=E();let te=!1;L.forEach(me=>{const be=v.eans[me.key];(!be||!/^\d{13}$/.test(be))&&(te=!0)});let ne=!1;if(L.forEach(me=>{const be=v.skus[me.key];(!be||be.trim()==="")&&(ne=!0)}),V){l("Veuillez remplir tous les champs obligatoires (Titre, Prix, Type de produit, Produit)");return}if(te){l("Chaque variante doit avoir un EAN composé de 13 chiffres sans espaces ni virgules");return}if(ne){l("Un SKU est manquant ou invalide. Assurez-vous que les champs 'Type de produit' et 'Produit' sont bien remplis.");return}try{u(!0),l(null);const me={titre:v.titre,description:v.description,prix:parseFloat(v.price),poids:v.weight?parseFloat(v.weight):null,eans:v.eans,typeProduit:v.typeProduit,produit:v.produit,OCC:v.occ,tailles:v.hasSizes?v.sizes:[],couleurs:v.hasColors?v.colors:[],stock:v.stock,shopId:r.shopId,skus:v.skus},be=`/api/customer/shops/${p}/${r.shopId}/products`,je=await fetch(be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me),credentials:"include"});if(!je.ok){const Ve=await je.json();throw new Error(Ve.message||"Erreur lors de la création du produit")}const dt=await je.json();b.length>0&&((le=dt.product)!=null&&le.productId)&&(await G(r.shopId,dt.product.productId)||l("Produit créé avec succès, mais l'upload des images a échoué. Vous pouvez les ajouter plus tard.")),m(!0),y({titre:"",description:"",prix:"",poids:"",price:"",weight:"",eans:{},hasColors:!1,colors:[],hasSizes:!1,sizes:[],typeProduit:"Phono",produit:"",occ:!1,active:!1,documented:!1,hasShopify:!1,hasEC:!1,stock:{},skus:{}}),N([]),T([])}catch(me){l(me.message)}finally{u(!1)}};return a?s.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):i&&!e.length?s.jsx("div",{className:"container mx-auto p-4",children:s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ir,{className:"mr-2"}),s.jsx("span",{children:i})]})})}):s.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Créer un Produit"}),s.jsx("p",{className:"text-gray-600",children:"Seules les boutiques valides peuvent avoir des produits. Sélectionnez d'abord une boutique éligible."})]}),d&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ot,{className:"mr-2"}),s.jsx("span",{children:"Produit créé avec succès !"})]})}),i&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ir,{className:"mr-2"}),s.jsx("span",{children:i})]})}),r?s.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rr,{className:"text-sna-primary text-xl mr-3"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Créer un produit pour:"," ",r.nomProjet||r.name]}),s.jsx("span",{className:"text-sm text-green-600",children:"Boutique validée"})]})]}),s.jsx("button",{onClick:()=>n(null),className:"text-gray-500 hover:text-gray-700 text-sm underline",children:"Changer de boutique"})]})}),s.jsxs("form",{onSubmit:ee,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:v.titre,onChange:B=>z("titre",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de produit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:v.typeProduit,onChange:B=>z("typeProduit",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",required:!0,children:[s.jsx("option",{value:"Phono",children:"Phono"}),s.jsx("option",{value:"Merch",children:"Merch"}),s.jsx("option",{value:"POD",children:"POD (Print on Demand)"})]})]}),v.typeProduit&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Produit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:v.produit,onChange:B=>z("produit",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",required:!0,children:[s.jsx("option",{value:"",children:"Sélectionner un produit"}),h[v.typeProduit].map(B=>s.jsx("option",{value:B,children:B},B))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:v.description,onChange:B=>z("description",B.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Prix (€) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",step:"0.01",value:v.price,onChange:B=>z("price",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poids (grammes)"}),s.jsx("input",{type:"number",value:v.weight,onChange:B=>z("weight",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Tailles disponibles"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"hasSizes",checked:!v.hasSizes,onChange:()=>z("hasSizes",!1),className:"form-radio h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2",children:"Non"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"hasSizes",checked:v.hasSizes,onChange:()=>z("hasSizes",!0),className:"form-radio h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2",children:"Oui"})]})]})]}),v.hasSizes&&s.jsx("div",{className:"grid grid-cols-5 gap-2",children:_.map(B=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:v.sizes.includes(B),onChange:()=>U(B),className:"form-checkbox h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2",children:B})]},B))})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Couleurs (optionnel)"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:v.hasColors,onChange:B=>z("hasColors",B.target.checked),className:"form-checkbox h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2",children:"Ajouter des couleurs"})]})]}),v.hasColors&&s.jsxs("div",{children:[s.jsxs("select",{onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary mb-3",value:"",children:[s.jsx("option",{value:"",children:"Ajouter une couleur"}),I.filter(B=>!v.colors.includes(B)).map(B=>s.jsx("option",{value:B,children:B},B))]}),v.colors.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:v.colors.map(B=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[B,s.jsx("button",{type:"button",onClick:()=>P(B),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},B))})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gestion des stocks"}),(()=>{const B=E();return B.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"Sélectionnez des tailles et/ou couleurs pour gérer les stocks par variante."}):s.jsxs("div",{className:"space-y-4",children:[B.length>6?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(V=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:V.label}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:v.skus[V.key]||$(V)})]}),s.jsx("input",{type:"number",min:"0",value:v.stock[V.key]||"",onChange:L=>k(V.key,L.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary text-sm",placeholder:"0"}),s.jsx("input",{type:"text",value:v.eans[V.key]||"",onChange:L=>D(V.key,L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary text-sm",pattern:"^\\d{13}$",inputMode:"numeric",placeholder:"EAN"})]},V.key))}):s.jsx("div",{className:"space-y-3",children:B.map(V=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:V.label}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:v.skus[V.key]||$(V)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",min:"0",value:v.stock[V.key]||"",onChange:L=>k(V.key,L.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",placeholder:"0"}),s.jsx("input",{type:"text",value:v.eans[V.key]||"",onChange:L=>D(V.key,L.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",pattern:"^\\d{13}$",inputMode:"numeric",placeholder:"EAN"}),s.jsx("span",{className:"text-sm text-gray-500",children:"unités"})]})]},V.key))}),B.length>0&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Stock total :"}),s.jsxs("span",{className:"text-lg font-semibold text-sna-primary",children:[Object.values(v.stock).reduce((V,L)=>V+(parseInt(L)||0),0)," ","unités"]})]})})]})})()]}),v.typeProduit==="Phono"&&s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"OCC"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"occ",checked:!v.occ,onChange:()=>z("occ",!1),className:"form-radio h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2",children:"Non"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"occ",checked:v.occ,onChange:()=>z("occ",!0),className:"form-radio h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2",children:"Oui"})]})]})}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Images du produit (optionnel)"}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Vous pouvez ajouter jusqu'à 5 images pour ce produit."}),s.jsx("p",{className:"text-blue-600 text-sm font-medium mb-4",children:"📝 Les images seront ajoutées à Shopify dans l'ordre affiché ci-dessous. Vous pouvez réorganiser les images en les faisant glisser."}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:B=>O(B.target.files),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),C.length>0&&s.jsx("div",{className:"mt-2 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4",children:C.map((B,V)=>s.jsxs("div",{className:`relative group cursor-move ${Y===V?"opacity-50":""}`,draggable:!0,onDragStart:L=>X(L,V),onDragOver:R,onDrop:L=>H(L,V),onDragEnd:Q,children:[s.jsx("img",{src:B,alt:`Preview ${V+1}`,className:"h-24 w-24 object-cover rounded-lg border"}),s.jsx("div",{className:"absolute top-1 left-1 bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:V+1}),s.jsx("button",{type:"button",onClick:()=>q(V),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 text-xs opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:s.jsx(an,{})}),s.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black bg-opacity-70 text-white text-xs text-center rounded",children:"Glisser pour réorganiser"})]},V))}),j&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-blue-700",children:"Upload des images en cours..."})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>n(null),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition duration-300",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary-dark transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Création en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ho,{className:"mr-2"}),"Créer le produit"]})})]})]})]}):s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Sélectionner une Boutique"}),e.length===0?s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[s.jsx(rr,{className:"mx-auto text-gray-400 text-6xl mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Aucune boutique éligible trouvée"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Pour créer des produits, votre boutique doit être"," ",s.jsx("strong",{children:"validée"}),"."]}),s.jsx("a",{href:"/client/boutiques",className:"bg-sna-primary text-white px-6 py-3 rounded-md hover:bg-sna-primary-dark transition duration-300",children:"Gérer mes boutiques"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(B=>s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer border-2 border-gray-200 hover:border-sna-primary",onClick:()=>n(B),children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(rr,{className:"text-sna-primary text-2xl mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:B.nomProjet||B.name||"Boutique"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(ot,{className:"mr-1"}),"Validée"]})]})]}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Cliquez pour sélectionner cette boutique"})]},B.shopId))})]}),s.jsx(Fa,{open:g.show,type:g.type,title:g.title,message:g.message,onClose:()=>w({show:!1,message:"",title:"",type:"info"})})]})},F4=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(null),[a,o]=x.useState([]),[i,l]=x.useState(!0),[c,u]=x.useState(null),[d,m]=x.useState(null),[p,f]=x.useState({}),[g,w]=x.useState(!1),[v,y]=x.useState(null),b=["XS","S","M","L","XL"],N=["Rouge","Bleu","Vert","Noir","Blanc","Jaune","Rose","Violet","Orange","Gris"];x.useEffect(()=>{let A=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),P=null;try{A&&(P=JSON.parse(A).sub,y(P))}catch(E){console.error("Error parsing userInfo:",E),u("Erreur lors de la récupération des informations utilisateur. Veuillez vous reconnecter.")}if(!P){const E=sessionStorage.getItem("userId")||localStorage.getItem("userId");E?y(E):(u("Identifiant utilisateur non trouvé. Veuillez vous reconnecter."),l(!1))}},[]),x.useEffect(()=>{(async()=>{if(v)try{l(!0);const P=`/api/customer/shops/${v}`,E=await fetch(P,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!E.ok)throw new Error("Erreur lors de la récupération des boutiques");const D=((await E.json()).shops||[]).filter(F=>F.status==="valid");t(D)}catch(P){console.error("Error fetching shops:",P),u("Une erreur est survenue lors de la récupération des boutiques")}finally{l(!1)}})()},[v]);const C=async A=>{if(!(!v||!A))try{l(!0);const P=`/api/customer/shops/${v}/${A}/products`,E=await fetch(P,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!E.ok)throw new Error("Erreur lors de la récupération des produits");const k=await E.json();o(k.products||[])}catch(P){console.error("Error fetching products:",P),u("Une erreur est survenue lors de la récupération des produits")}finally{l(!1)}},T=A=>{n(A),m(null),C(A.shopId)},j=A=>{m(A.productId),f({...A,hasSizes:A.sizes&&A.sizes.length>0,hasColors:A.colors&&A.colors.length>0,stock:A.stock||{}})},S=(A,P)=>{f(E=>({...E,[A]:P}))},_=A=>{f(P=>{var E;return{...P,sizes:(E=P.sizes)!=null&&E.includes(A)?P.sizes.filter(k=>k!==A):[...P.sizes||[],A]}})},I=A=>{var E;const P=A.target.value;P&&!((E=p.colors)!=null&&E.includes(P))&&f(k=>({...k,colors:[...k.colors||[],P]}))},h=A=>{f(P=>{var E;return{...P,colors:((E=P.colors)==null?void 0:E.filter(k=>k!==A))||[]}})},M=()=>{if(!p)return[];const A=[];return p.hasSizes&&p.hasColors?(p.sizes||[]).forEach(P=>{(p.colors||[]).forEach(E=>{A.push({key:`${P}-${E}`,label:`${P} - ${E}`,size:P,color:E})})}):p.hasSizes&&!p.hasColors?(p.sizes||[]).forEach(P=>{A.push({key:P,label:`Taille ${P}`,size:P,color:null})}):!p.hasSizes&&p.hasColors?(p.colors||[]).forEach(P=>{A.push({key:P,label:`Couleur ${P}`,size:null,color:P})}):A.push({key:"default",label:"Stock général",size:null,color:null}),A},$=(A,P)=>{const E=P===""?"":Math.max(0,parseInt(P)||0);f(k=>({...k,stock:{...k.stock||{},[A]:E}}))},z=async()=>{if(!(!r||!d))try{w(!0),u(null);const A={...p,price:parseFloat(p.price),weight:p.weight?parseFloat(p.weight):null},P=`/api/customer/shops/${v}/${r.shopId}/products/${d}`,E=await fetch(P,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A),credentials:"include"});if(!E.ok){const k=await E.json();throw new Error(k.message||"Erreur lors de la mise à jour du produit")}await C(r.shopId),m(null),f({})}catch(A){u(A.message)}finally{w(!1)}},U=A=>{var P;return((P=A.products)==null?void 0:P.length)||0};return i?s.jsx("div",{className:"container mx-auto p-4 flex justify-center items-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):c&&!e.length?s.jsx("div",{className:"container mx-auto p-4",children:s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ir,{className:"mr-2"}),s.jsx("span",{children:c})]})})}):s.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Mes Produits"}),s.jsx("p",{className:"text-gray-600",children:"Gérez tous vos produits par boutique. Sélectionnez une boutique pour voir ses produits."})]}),c&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ir,{className:"mr-2"}),s.jsx("span",{children:c})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mes Boutiques"})}),s.jsx("div",{className:"p-4 space-y-3",children:e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(rr,{className:"mx-auto text-gray-400 text-4xl mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Aucune boutique trouvée"}),s.jsx("a",{href:"/client/boutiques/create",className:"text-sna-primary hover:underline mt-2 inline-block",children:"Créer ma première boutique"})]}):e.map(A=>s.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${(r==null?void 0:r.shopId)===A.shopId?"border-sna-primary bg-sna-primary bg-opacity-5":"border-gray-200 hover:border-sna-primary hover:bg-gray-50"}`,onClick:()=>T(A),children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(rr,{className:"text-sna-primary text-lg mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:A.nomProjet||A.name||"Boutique"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A.status==="valid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.status==="valid"?"Validée":"En attente"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[U(A)," produit(s)"]})]})]})]})})},A.shopId))})]})}),s.jsx("div",{className:"lg:col-span-2",children:r?s.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rr,{className:"text-sna-primary text-xl mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r.nomProjet||r.name}),s.jsxs("span",{className:"text-sm text-gray-600",children:[a.length," produit(s)"]})]})]}),s.jsxs("a",{href:`/client/produits/create?shopId=${r.shopId}`,className:"bg-sna-primary text-white px-4 py-2 rounded-md hover:bg-sna-primary-dark transition duration-300 flex items-center",children:[s.jsx(N4,{className:"mr-2"}),"Ajouter un produit"]})]})}),s.jsx("div",{className:"p-6",children:a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ho,{className:"mx-auto text-gray-400 text-4xl mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Aucun produit dans cette boutique"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par ajouter votre premier produit à cette boutique."}),s.jsx("a",{href:`/client/produits/create?shopId=${r.shopId}`,className:"bg-sna-primary text-white px-6 py-3 rounded-md hover:bg-sna-primary-dark transition duration-300",children:"Créer un produit"})]}):s.jsx("div",{className:"space-y-4",children:a.map(A=>{var P;return s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:d===A.productId?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),s.jsx("input",{type:"text",value:p.titre||"",onChange:E=>S("titre",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix (€)"}),s.jsx("input",{type:"number",step:"0.01",value:p.price||"",onChange:E=>S("price",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:p.description||"",onChange:E=>S("description",E.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Poids (g)"}),s.jsx("input",{type:"number",value:p.weight||"",onChange:E=>S("weight",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"EAN"}),s.jsx("input",{type:"text",value:p.ean||"",onChange:E=>S("ean",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:p.typeProduit||"",onChange:E=>S("typeProduit",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",children:[s.jsx("option",{value:"Phono",children:"Phono"}),s.jsx("option",{value:"Merch",children:"Merch"})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Tailles"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.hasSizes||!1,onChange:E=>S("hasSizes",E.target.checked),className:"form-checkbox h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2 text-sm",children:"Disponible en tailles"})]})]}),p.hasSizes&&s.jsx("div",{className:"grid grid-cols-5 gap-2",children:b.map(E=>{var k;return s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:((k=p.sizes)==null?void 0:k.includes(E))||!1,onChange:()=>_(E),className:"form-checkbox h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-1 text-sm",children:E})]},E)})})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Couleurs"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.hasColors||!1,onChange:E=>S("hasColors",E.target.checked),className:"form-checkbox h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2 text-sm",children:"Disponible en couleurs"})]})]}),p.hasColors&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("select",{onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:"",children:[s.jsx("option",{value:"",children:"Ajouter une couleur"}),N.filter(E=>{var k;return!((k=p.colors)!=null&&k.includes(E))}).map(E=>s.jsx("option",{value:E,children:E},E))]}),((P=p.colors)==null?void 0:P.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:p.colors.map(E=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[E,s.jsx("button",{type:"button",onClick:()=>h(E),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},E))})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gestion des stocks"}),(()=>{const E=M();return E.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"Sélectionnez des tailles et/ou couleurs pour gérer les stocks par variante."}):s.jsxs("div",{className:"space-y-4",children:[E.length>6?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(k=>{var D;return s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("label",{className:"flex-1 text-sm font-medium text-gray-700",children:k.label}),s.jsx("input",{type:"number",min:"0",value:((D=p.stock)==null?void 0:D[k.key])||"",onChange:F=>$(k.key,F.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary text-sm",placeholder:"0"})]},k.key)})}):s.jsx("div",{className:"space-y-3",children:E.map(k=>{var D;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:k.label}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",min:"0",value:((D=p.stock)==null?void 0:D[k.key])||"",onChange:F=>$(k.key,F.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",placeholder:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"unités"})]})]},k.key)})}),E.length>0&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Stock total :"}),s.jsxs("span",{className:"text-lg font-semibold text-sna-primary",children:[Object.values(p.stock||{}).reduce((k,D)=>k+(parseInt(D)||0),0)," ","unités"]})]})})]})})()]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut du produit (géré par l'équipe)"}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p.active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p.active?"Actif":"Inactif"})}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p.documented?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p.documented?"Documenté":"Non documenté"})}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p.hasShopify?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p.hasShopify?"Sur Shopify":"Pas sur Shopify"})}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p.hasEC?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p.hasEC?"EC":"Pas d'EC"})})]})]}),p.typeProduit==="Phono"&&s.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"OCC"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`occ_${A.productId}`,checked:!p.occ,onChange:()=>S("occ",!1),className:"form-radio h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2",children:"Non"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`occ_${A.productId}`,checked:p.occ||!1,onChange:()=>S("occ",!0),className:"form-radio h-4 w-4 text-sna-primary"}),s.jsx("span",{className:"ml-2",children:"Oui"})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>{m(null),f({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition duration-300",children:"Annuler"}),s.jsx("button",{onClick:z,disabled:g,className:"px-4 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary-dark transition duration-300 disabled:opacity-50",children:g?"Enregistrement...":"Enregistrer"})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:A.titre}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Prix: ",A.price,"€"]}),s.jsxs("span",{children:["Type: ",A.typeProduit]}),A.weight&&s.jsxs("span",{children:["Poids: ",A.weight,"g"]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>j(A),className:"text-blue-600 hover:text-blue-800 p-2",title:"Modifier",children:s.jsx(ha,{})})})]}),A.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:A.description}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A.active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.active?"Actif":"Inactif"}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A.documented?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.documented?"Documenté":"Non documenté"}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A.hasShopify?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.hasShopify?"Shopify":"Pas sur Shopify"}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A.hasEC?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.hasEC?"EC":"Pas d'EC"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[A.sizes&&A.sizes.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Tailles:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:A.sizes.map(E=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:E},E))})]}),A.colors&&A.colors.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Couleurs:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:A.colors.map(E=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:E},E))})]}),A.ean&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"EAN:"}),s.jsx("div",{className:"text-gray-600 mt-1",children:typeof A.ean=="object"?JSON.stringify(A.ean):A.ean})]})]}),A.stock&&Object.keys(A.stock).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Stock:"}),s.jsxs("div",{className:"mt-2",children:[Object.keys(A.stock).length===1&&A.stock.default!==void 0?s.jsxs("div",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-sna-primary",children:A.stock.default})," ","unités"]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:Object.entries(A.stock).map(([E,k])=>s.jsxs("div",{className:"flex justify-between items-center bg-gray-100 px-3 py-2 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700",children:E}),s.jsx("span",{className:"font-semibold text-sna-primary",children:k})]},E))}),s.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Total:"," ",s.jsx("span",{className:"font-semibold text-sna-primary",children:Object.values(A.stock).reduce((E,k)=>E+(parseInt(k)||0),0)})," ","unités"]})]})]})]}),A.typeProduit==="Phono"&&A.hasOwnProperty("occ")&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"OCC:"}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A.occ?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:A.occ?"Oui":"Non"})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500",children:["Créé le:"," ",new Date(A.createdAt).toLocaleDateString("fr-FR"),A.updatedAt!==A.createdAt&&s.jsxs("span",{children:[" ","• Modifié le:"," ",new Date(A.updatedAt).toLocaleDateString("fr-FR")]})]})]})},A.productId)})})})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[s.jsx(Ho,{className:"mx-auto text-gray-400 text-6xl mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Sélectionnez une boutique"}),s.jsx("p",{className:"text-gray-600",children:"Choisissez une boutique dans la liste de gauche pour voir ses produits."})]})})]})]})},B4=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(!1),[c,u]=x.useState({}),[d,m]=x.useState({}),[p,f]=x.useState(!1),[g,w]=x.useState(null),[v,y]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[b,N]=x.useState({current:!1,new:!1,confirm:!1}),[C,T]=x.useState({}),[j,S]=x.useState(!1),[_,I]=x.useState(!1);x.useEffect(()=>{if(sessionStorage.getItem("isFirstLogin")==="true"){console.log("🎉 First-time login detected - automatically showing welcome form"),l(!0),n(!1),sessionStorage.removeItem("isFirstLogin");return}let K=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),X={},R=null;try{K&&(X=JSON.parse(K),R=X.sub)}catch(G){console.error("Error parsing userInfo:",G)}let H=X.userId;H||(H=sessionStorage.getItem("userId")||localStorage.getItem("userId")),console.log("==== MANAGE ACCOUNT DEBUG INFO ===="),console.log("User Info from storage:",X),console.log("sub from userInfo:",R),console.log("userId from userInfo:",H),console.log("All Session Storage Keys:");for(let G=0;G<sessionStorage.length;G++){const ee=sessionStorage.key(G);console.log(`- ${ee}: ${sessionStorage.getItem(ee)}`)}console.log("All Local Storage Keys:");for(let G=0;G<localStorage.length;G++){const ee=localStorage.key(G);console.log(`- ${ee}: ${localStorage.getItem(ee)}`)}console.log("==== END DEBUG INFO ====");const Q=R||H;if(!Q){console.error("No user identifier found in storage"),o("Identifiant utilisateur non trouvé. Veuillez vous reconnecter."),n(!1);return}console.log("FINAL userId for API call (should be sub):",Q),h(Q)},[]);const h=async Y=>{try{n(!0),o(null),l(!1),console.log("==== FETCH CUSTOMER DEBUG INFO ===="),console.log("Fetching customer data for userId:",Y),console.log("Current timestamp:",new Date().toISOString()),console.log("==== END DEBUG INFO ====");const K=`/api/customer/by-user-id/${Y}`;console.log("API URL:",K);const X=await fetch(K,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});let R;const H=X.headers.get("content-type");if(H&&H.includes("application/json"))R=await X.json();else{const Q=await X.text();throw new Error(Q)}if(!X.ok){if(X.status===404){console.log("Customer profile not found for userId:",Y),o("Profil client non trouvé. Veuillez compléter le formulaire de bienvenue pour créer votre profil.");return}throw new Error(R.message||`Erreur lors de la récupération des données (${X.status})`)}R.success?(console.log("Customer data retrieved successfully:",R.customer),t(R.customer),m(R.customer)):R.isNewUser&&R.needsWelcomeForm?(console.log("✨ New user detected - showing welcome form automatically"),t(null),o(null),l(!0)):(console.log("API returned error:",R.message),o(R.message||"Erreur lors de la récupération des données"))}catch(K){console.error("Erreur lors de la récupération des données client:",K),o(K.message)}finally{n(!1)}},M=async()=>{try{f(!0),w(null);let Y=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),K={},X=null,R=null;try{Y&&(K=JSON.parse(Y),X=K.sub,R=K.userId)}catch(B){console.error("Error parsing userInfo:",B)}R||(R=sessionStorage.getItem("userId")||localStorage.getItem("userId"));const H=X||R;if(!H)throw new Error("Identifiant utilisateur non trouvé");console.log("==== SAVE CHANGES DEBUG INFO ===="),console.log("User Info from storage:",K),console.log("sub from userInfo:",X),console.log("userId from userInfo:",R),console.log("FINAL userId for saving changes (should be sub):",H),console.log("==== END SAVE CHANGES DEBUG INFO ====");const Q=`/api/customer/update/${H}`,G=await fetch(Q,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d),credentials:"include"});if(!G.ok){const B=await G.json().catch(()=>({}));throw new Error(B.message||`Erreur lors de la mise à jour des données (${G.status})`)}const ee=await G.json();t(ee.customer),u({}),w({type:"success",text:"Profil mis à jour avec succès"}),window.scrollTo({top:0,behavior:"smooth"})}catch(Y){console.error("Erreur lors de la mise à jour des données client:",Y),w({type:"error",text:Y.message})}finally{f(!1)}},$=(Y,K)=>{m(X=>({...X,[Y]:K}))},z=async Y=>{try{n(!0);let K=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),X={},R;try{K&&(X=JSON.parse(K),R=X.userId)}catch(L){console.error("Error parsing userInfo:",L)}if(R||(R=sessionStorage.getItem("userId")||localStorage.getItem("userId")),!R)throw new Error("Identifiant utilisateur non trouvé. Veuillez vous reconnecter.");let H=null;try{const L=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo");L&&(H=JSON.parse(L).sub)}catch(L){console.error("Error parsing userInfo for sub:",L)}H||console.error("WARNING: No sub found in userInfo - this may cause welcome form submission failures");const Q=H||R;console.log("FINAL userId for welcome form (should be sub):",Q);const G={...Y,userId:Q},B=await fetch("/api/customer/welcome-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G),credentials:"include"});if(!B.ok){const L=await B.json().catch(()=>({}));throw new Error(L.message||`Erreur lors de la soumission du formulaire (${B.status})`)}const V=await B.json();console.log("Welcome form submitted successfully:",V),localStorage.setItem("hasCompletedWelcomeForm","true"),l(!1),w({type:"success",text:"Profil client créé avec succès"}),h(R)}catch(K){console.error("Erreur lors de la soumission du formulaire:",K),o(`Erreur lors de la soumission du formulaire: ${K.message}`)}finally{n(!1)}},U=Y=>{const{name:K,value:X}=Y.target;y(R=>({...R,[K]:X})),C[K]&&T(R=>({...R,[K]:""}))},A=Y=>{N(K=>({...K,[Y]:!K[Y]}))},P=()=>{const Y={};return v.currentPassword||(Y.currentPassword="Le mot de passe actuel est requis"),v.newPassword?v.newPassword.length<8?Y.newPassword="Le mot de passe doit contenir au moins 8 caractères":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(v.newPassword)||(Y.newPassword="Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"):Y.newPassword="Le nouveau mot de passe est requis",v.confirmPassword?v.newPassword!==v.confirmPassword&&(Y.confirmPassword="Les mots de passe ne correspondent pas"):Y.confirmPassword="La confirmation du mot de passe est requise",v.currentPassword&&v.newPassword&&v.currentPassword===v.newPassword&&(Y.newPassword="Le nouveau mot de passe doit être différent de l'actuel"),T(Y),Object.keys(Y).length===0},E=async Y=>{if(Y.preventDefault(),I(!1),!!P()){S(!0);try{const X=await(await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:v.currentPassword,newPassword:v.newPassword})})).json();X.success?(I(!0),y({currentPassword:"",newPassword:"",confirmPassword:""}),T({}),setTimeout(()=>I(!1),3e3)):X.error==="Invalid current password"?T({currentPassword:"Mot de passe actuel incorrect"}):T({general:X.message||"Erreur lors du changement de mot de passe"})}catch(K){console.error("Error changing password:",K),T({general:"Erreur de connexion. Veuillez réessayer."})}finally{S(!1)}}},k=Y=>{u(K=>{const X={...K};return X[Y]?delete X[Y]:X[Y]=!0,X})},D=(Y,K)=>!Y||Object.keys(Y).length===0?null:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-sna-primary mb-4 pb-2 border-b border-gray-200",children:K}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Y).map(([X,R])=>{if(["userId","status","submittedAt","_id","shops","shopsCount","updatedAt"].includes(X))return null;const H=X.replace(/([A-Z])/g," $1").replace(/^./,G=>G.toUpperCase()).replace(/([0-9])/g," $1"),Q=c[X];return s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:H}),!Q&&s.jsx("button",{onClick:()=>k(X),className:"text-gray-400 hover:text-sna-primary focus:outline-none",title:"Modifier ce champ",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),Q?s.jsxs("div",{className:"flex mt-1",children:[s.jsx("input",{type:"text",value:d[X]||"",onChange:G=>$(X,G.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",autoFocus:!0}),s.jsx("button",{onClick:()=>k(X),className:"ml-2 inline-flex items-center p-2 border border-gray-300 rounded-md text-sm text-gray-500 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}):s.jsx("div",{className:"mt-1 text-base text-gray-900",children:(()=>{if(R==null||R==="")return"-";if(typeof R=="object"){if(Array.isArray(R))return R.length===0?"-":R.join(", ");try{return R.nomProjet||R.nomClient||R.shopId?Object.entries(R).map(([G,ee])=>`${G}: ${ee}`).join(", "):JSON.stringify(R)}catch{return"[Objet]"}}return R.toString()})()})]},X)})})]});if(r)return s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary"})});if(a||!e)return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("svg",{className:"mx-auto h-16 w-16 text-sna-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:a&&a.includes("Profil client non trouvé")?"Profil client non trouvé":"Erreur"}),s.jsx("p",{className:"mt-2 text-gray-600",children:a||"Nous n'avons pas pu trouver votre profil client."})]}),a&&a.includes("Profil client non trouvé")&&s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"mb-4 text-gray-700",children:"Votre profil client n'existe pas encore dans notre base de données. Veuillez compléter le formulaire de bienvenue pour créer votre profil."}),s.jsx("button",{onClick:()=>l(!0),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary transition-all duration-200 transform hover:scale-105",children:"Compléter le formulaire de bienvenue"})]}),i&&s.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-8",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Formulaire de bienvenue"}),s.jsx(Pm,{onSubmit:z})]})]});const F={},O={},q={};return Object.entries(e).forEach(([Y,K])=>{Y.includes("contact")?O[Y]=K:Y.includes("Soumission")?q[Y]=K:["userId","status","submittedAt","_id","shops","shopsCount","updatedAt"].includes(Y)||(F[Y]=K)}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Mon Profil"}),e.status&&s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status==="active"?"Validée":"En attente"})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Consultez et gérez vos informations personnelles."})]}),Object.keys(c).length>0&&s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:M,disabled:p,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:p?"Enregistrement...":"Enregistrer"}),s.jsx("button",{onClick:()=>{u({}),m(e)},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Annuler"})]})]}),g&&s.jsx("div",{className:`mb-6 p-4 rounded-md ${g.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.jsxs("div",{className:"flex",children:[g.type==="success"?s.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("p",{className:"ml-3",children:g.text})]})}),e.submittedAt&&s.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:["Soumis le:"," ",new Date(e.submittedAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),D(F,"Informations société"),D(O,"Contacts"),D(q,"Signature"),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-xl font-semibold text-sna-primary mb-2 pb-2 border-b border-gray-200 flex items-center",children:[s.jsx(sf,{className:"mr-2"}),"Sécurité"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Modifiez votre mot de passe pour sécuriser votre compte."})]}),_&&s.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ot,{className:"text-green-500 text-lg mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-green-800 font-medium",children:"Mot de passe modifié avec succès"}),s.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Votre mot de passe a été mis à jour. Utilisez-le lors de votre prochaine connexion."})]})]})}),C.general&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 text-sm",children:C.general})}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:["Mot de passe actuel ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:b.current?"text":"password",id:"currentPassword",name:"currentPassword",value:v.currentPassword,onChange:U,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm pr-10 ${C.currentPassword?"border-red-500":""}`,placeholder:"Saisissez votre mot de passe actuel"}),s.jsx("button",{type:"button",onClick:()=>A("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.current?s.jsx(tn,{className:"h-4 w-4 text-gray-400"}):s.jsx(rn,{className:"h-4 w-4 text-gray-400"})})]}),C.currentPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.currentPassword})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:["Nouveau mot de passe ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:b.new?"text":"password",id:"newPassword",name:"newPassword",value:v.newPassword,onChange:U,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm pr-10 ${C.newPassword?"border-red-500":""}`,placeholder:"Saisissez votre nouveau mot de passe"}),s.jsx("button",{type:"button",onClick:()=>A("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.new?s.jsx(tn,{className:"h-4 w-4 text-gray-400"}):s.jsx(rn,{className:"h-4 w-4 text-gray-400"})})]}),C.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.newPassword}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Le mot de passe doit contenir au moins 8 caractères avec une majuscule, une minuscule et un chiffre."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:["Confirmer le nouveau mot de passe"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:b.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:v.confirmPassword,onChange:U,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm pr-10 ${C.confirmPassword?"border-red-500":""}`,placeholder:"Confirmez votre nouveau mot de passe"}),s.jsx("button",{type:"button",onClick:()=>A("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.confirm?s.jsx(tn,{className:"h-4 w-4 text-gray-400"}):s.jsx(rn,{className:"h-4 w-4 text-gray-400"})})]}),C.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.confirmPassword})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{type:"submit",disabled:j,className:`px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary ${j?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90"}`,children:j?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):"Changer le mot de passe"})})]})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Formulaire de bienvenue"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6",children:s.jsx(Pm,{onSubmit:z})})]})})]})};function U4({clientId:e,allFieldsValidated:t,validatedCount:r,totalFields:n,onValidate:a}){const[o,i]=W.useState(!1),[l,c]=W.useState(null),u=async()=>{i(!0),c(null);try{await a()}catch(d){c(d.message||"Erreur lors de la validation")}finally{i(!1)}};return s.jsxs("div",{children:[s.jsx("button",{onClick:u,disabled:!t||o,className:`px-4 py-2 rounded ${t&&!o?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:t?o?"Validation en cours...":"Cliquez pour valider le client":`Veuillez vérifier tous les champs (${n} requis)`,type:"button",children:o?"Validation en cours...":`Valider le client (${r}/${n} vérifiés)`}),l&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:l})]})}function V4(){const[e,t]=x.useState({pending:[],valid:[]}),[r,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(null),[c,u]=x.useState(null),[d,m]=x.useState({}),[p,f]=x.useState(null),[g,w]=x.useState(!1),[v,y]=x.useState({}),[b,N]=x.useState(""),[C,T]=x.useState(""),j=x.useMemo(()=>[{key:"raisonSociale",label:"Raison Sociale"},{key:"formeJuridique",label:"Forme Juridique"},{key:"siret",label:"SIRET"},{key:"adresseSociete",label:"Adresse"},{key:"codePostalSociete",label:"Code Postal"},{key:"villeSociete",label:"Ville"},{key:"paysSociete",label:"Pays"},{key:"contact1Nom",label:"Contact Principal"},{key:"contact1Email",label:"Email Principal"},{key:"contact1Telephone",label:"Téléphone Principal"},{key:"contactFacturationNom",label:"Contact Facturation"},{key:"contactFacturationEmail",label:"Email Facturation"},{key:"contactFacturationTelephone",label:"Téléphone Facturation"},{key:"nomSoumission",label:"Soumis par"},{key:"fonctionSoumission",label:"Fonction"},{key:"dateSoumission",label:"Date de soumission"},{key:"CompteClientNumber",label:"Numéro Compte Client",editable:!0},{key:"Payement",label:"Type de Paiement",editable:!0,type:"radio",options:["vendeur","mandataire"]}],[]);x.useEffect(()=>{e.pending.length>0&&(console.log("Initializing validation state for clients:",e.pending),m(D=>{const F={...D};return e.pending.forEach(O=>{if(!F[O._id]){const q={};j.forEach(Y=>{q[Y.key]=!1}),F[O._id]=q,console.log(`Initialized validation state for client ${O._id}:`,F[O._id])}}),F}))},[e.pending,j]);const S=(D,F)=>{console.log(`Toggling validation for client ${D}, field: ${F}`),m(O=>{const q={...O[D]||{}},K=!(q[F]||!1),X={...O,[D]:{...q,[F]:K}};console.log(`Toggled ${F} to ${K} for client ${D}`),console.log("Updated validation state:",X[D]);const R=j.every(H=>{var Q;return((Q=X[D])==null?void 0:Q[H.key])===!0});return console.log(`All fields valid after toggle: ${R}`),console.log("Field states:",j.map(H=>{var Q;return{field:H.key,isValid:((Q=X[D])==null?void 0:Q[H.key])===!0}})),X})},_=(D,F,O)=>{let q=O;F==="CompteClientNumber"&&(q=O.replace(/[^0-9]/g,"").slice(0,6)),y(Y=>({...Y,[D]:{...Y[D]||{},[F]:q}}))},I=D=>{var R;if(!D||!d[D])return console.log(`No validation fields found for client ${D}`),!1;const F=d[D],O=v[D]||{},q=j.every(H=>F[H.key]===!0),Y=((R=O.CompteClientNumber)==null?void 0:R.length)===6,K=j.filter(H=>H.editable&&H.key!=="CompteClientNumber").every(H=>{const Q=O[H.key];return Q&&Q.trim()!==""}),X=q&&Y&&K;return console.log(`Validating client ${D}:`,{clientValidations:F,clientEditableValues:O,allChecked:q,isCompteClientNumValid:Y,otherEditableFieldsFilled:K,allValid:X,fieldStates:j.map(H=>({field:H.key,isValid:F[H.key]===!0,value:F[H.key],editableValue:H.editable?O[H.key]:null}))}),X},h=async D=>{if(!D){console.error("No client provided for validation");return}const F=D._id||D.id;if(!F){console.error("No client ID provided");return}console.log("Starting validation for client:",F),console.log("Current client:",D);try{u(F);const O=F.toString();console.log(`Validating client ${O}...`);const q={status:"active",...v[F]};console.log("Update data being sent:",q);const Y=await fetch(`/api/customer/clients/${O}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},body:JSON.stringify(q),credentials:"include"});if(!Y.ok){const X=await Y.text();console.error("Error response:",X);let R;try{R=JSON.parse(X)}catch{R={message:X}}throw new Error(R.message||`HTTP error! status: ${Y.status}`)}const K=await P();console.log("Updated clients after validation:",K),l(null),m(X=>{const R={...X};return delete R[F],R}),y(X=>{const R={...X};return delete R[F],R}),console.log("Client validation completed successfully")}catch(O){console.error("Error validating client:",O),o(`Échec de la validation du client: ${O.message}`)}finally{u(null)}},M=async D=>{const F=(D==null?void 0:D._id)||(D==null?void 0:D.id);if(!F){console.error("No client ID provided");return}try{u(F);const O=F.toString();console.log(`Unvalidating client ${O}...`);const q=await fetch(`/api/customer/clients/${O}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},body:JSON.stringify({status:"inactive"}),credentials:"include"});if(!q.ok){const Y=await q.text();console.error("Error response:",Y);let K;try{K=JSON.parse(Y)}catch{K={message:Y}}throw new Error(K.message||`HTTP error! status: ${q.status}`)}await P(),w(!1),u(null);return}catch(O){console.error("Error unvalidating client:",O),o(`Échec de l'invalidation du client: ${O.message}`),u(null)}},$=D=>{f(D),w(!0)},z=()=>{w(!1),f(null)},U=D=>{const F=i!==D._id;l(F?D._id:null),u(F?D._id:null),F&&(m(O=>({...O,[D._id]:O[D._id]||{}})),y(O=>({...O,[D._id]:{CompteClientNumber:D.CompteClientNumber||"",Payement:D.Payement||"",...O[D._id]||{}}})),A(D))},A=x.useCallback(async D=>{let F;if(typeof D=="object"&&D!==null){if(F=D._id||D.id,!F)return console.error("No valid client ID found in client object:",D),o("Invalid client data: Missing client ID"),null}else F=D;const O=F.toString().trim();try{console.log(`Fetching details for client ID: ${O}`);const q=await fetch(`/api/customer/${O}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"});if(!q.ok){const X=await q.text();return console.error(`Error response for client ${O}:`,X),null}const Y=await q.json();console.log("Raw client details response:",Y);const K=Y.customer||Y.data||Y;if(!K)throw new Error("No client data received from server");return K}catch(q){return console.error(`Error fetching details for client ${O}:`,q),null}},[o]),P=x.useCallback(async()=>{n(!0),o(null);try{console.log("Fetching clients from /api/customer/all...");const D=await fetch("/api/customer/all",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"});if(!D.ok){const R=await D.text();throw console.error("API Error Response:",R),new Error(`HTTP error! status: ${D.status}`)}const F=await D.json();console.log("Fetched clients raw data:",F);const O=F.customers||[];console.log("Initial client list:",O);const Y=(await Promise.all(O.map(async R=>{const H=R._id||R.id;if(!H)return null;try{const Q=await A(H);return Q?{...R,...Q,id:H,name:Q.raisonSociale||R.raisonSociale||"Sans nom",email:Q.contact1Email||Q.email||R.email||"Non spécifié",shops:Array.isArray(R.shops)?R.shops:[],shopsCount:Array.isArray(R.shops)?R.shops.length:0}:(console.error(`No details returned for client ${H}`),null)}catch(Q){return console.error(`Error processing client ${H}:`,Q),null}}))).filter(Boolean);console.log("Clients with full details:",Y);const K=Y.filter(R=>R.status==="active"),X=Y.filter(R=>R.status!=="active");t({pending:X,valid:K})}catch(D){console.error("Error fetching clients:",D),o(D.message||"Une erreur est survenue lors du chargement des clients")}finally{n(!1)}},[A]);x.useEffect(()=>{let D=!0;return D&&P(),()=>{D=!1}},[P]);const E=e.pending.filter(D=>(D.raisonSociale||D.name||"").toLowerCase().includes(b.toLowerCase())||(D.email||"").toLowerCase().includes(b.toLowerCase())),k=e.valid.filter(D=>(D.raisonSociale||D.name||"").toLowerCase().includes(C.toLowerCase())||(D.email||"").toLowerCase().includes(C.toLowerCase()));return r?s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Clients à Valider"}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})]}):a?s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Clients à Valider"}),s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a})]}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Clients à Valider"}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-semibold text-yellow-700",children:["Clients en attente (",E.length,")"]}),s.jsx("input",{type:"text",placeholder:"Rechercher un client en attente...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:b,onChange:D=>N(D.target.value)})]}),E.length===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:s.jsx("p",{className:"text-gray-600",children:b?"Aucun client en attente trouvé avec ce terme de recherche":"Aucun client en attente"})}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-yellow-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du Client"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(D=>s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gl,{className:"mr-2 text-blue-700"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.raisonSociale||D.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.email||"Non spécifié"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"En attente"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>U(D),className:`font-medium ${i===D._id?"text-blue-600 hover:text-blue-900":"text-green-600 hover:text-green-900"}`,children:i===D._id?"Fermer":"Valider"})})]}),i===D._id&&s.jsx("tr",{className:"bg-gray-50",children:s.jsx("td",{colSpan:"4",className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Informations du Client"}),j.map(F=>{var q,Y,K,X,R,H,Q;const O=F.key==="CompteClientNumber"&&((q=v[D._id])==null?void 0:q.CompteClientNumber)&&((Y=v[D._id])==null?void 0:Y.CompteClientNumber.length)!==6;return s.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-white rounded border mb-2",children:[s.jsx("span",{className:"w-40 text-sm font-medium text-gray-700 flex-shrink-0",children:F.label}),s.jsx("div",{className:"flex-1",children:F.editable?s.jsxs("div",{children:[F.type==="radio"?s.jsx("div",{className:"flex space-x-4",children:F.options.map(G=>{var ee;return s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`${F.key}-${D._id}`,value:G,checked:((ee=v[D._id])==null?void 0:ee[F.key])===G,onChange:B=>_(D._id,F.key,B.target.value),className:"form-radio"}),s.jsx("span",{className:"ml-2 capitalize",children:G})]},G)})}):s.jsx("input",{type:"text",id:`${F.key}-${D._id}`,value:((K=v[D._id])==null?void 0:K[F.key])||"",onChange:G=>_(D._id,F.key,G.target.value),className:`px-3 py-2 border rounded-md w-full ${O?"border-red-500 bg-red-50":(X=d[D._id])!=null&&X[F.key]?"border-green-200 bg-green-50":"border-gray-300"}`}),O&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:"Le numéro de compte doit contenir exactement 6 chiffres."})]}):s.jsx("span",{className:`px-3 py-2 rounded bg-gray-50 border block ${(R=d[D._id])!=null&&R[F.key]?"bg-green-50 border-green-200":"border-gray-300"}`,children:D[F.key]||"N/A"})}),s.jsx("button",{onClick:()=>S(D._id,F.key),className:"ml-2 p-2 rounded-full hover:bg-gray-200 flex-shrink-0",title:(H=d[D._id])!=null&&H[F.key]?"Marquer comme non vérifié":"Marquer comme vérifié",children:(Q=d[D._id])!=null&&Q[F.key]?s.jsx(ot,{className:"text-green-500 text-lg"}):s.jsx(Jl,{className:"text-gray-400 text-lg"})})]},F.key)}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx(U4,{clientId:D._id,allFieldsValidated:I(D._id),validatedCount:d[D._id]&&Object.values(d[D._id]).filter(Boolean).length||0,totalFields:j.length,onValidate:async()=>{try{await h(D)}catch{}}})})]})})})]},D._id))})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-semibold text-green-700",children:["Clients validés (",k.length,")"]}),s.jsx("input",{type:"text",placeholder:"Rechercher un client validé...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:C,onChange:D=>T(D.target.value)})]}),k.length===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:s.jsx("p",{className:"text-gray-600",children:C?"Aucun client validé trouvé avec ce terme de recherche":"Aucun client validé"})}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du Client"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(D=>s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gl,{className:"mr-2 text-blue-700"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.raisonSociale||D.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.email||"Non spécifié"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Validé"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>U(D),className:"text-blue-600 hover:text-blue-900 font-medium mr-4",children:i===D._id?"Fermer":"Voir détails"}),s.jsx("button",{onClick:F=>{F.stopPropagation(),$(D)},className:"text-red-600 hover:text-red-900 font-medium",children:"Annuler validation"})]})]}),i===D._id&&s.jsx("tr",{className:"bg-gray-50",children:s.jsx("td",{colSpan:"4",className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3 border-b pb-2",children:"Informations du Client - Client validé"}),j.map(F=>s.jsxs("div",{className:"flex items-start py-3 border-b border-gray-100",children:[s.jsx("span",{className:"font-medium w-1/3 text-gray-700",children:F.label}),s.jsx("div",{className:"flex-1 flex flex-col",children:s.jsx("span",{className:"px-3 py-2 rounded bg-green-50 border border-green-200",children:D[F.key]||"-"})}),s.jsx("div",{className:"ml-2 p-2 flex-shrink-0",children:s.jsx(ot,{className:"text-green-500 text-lg"})})]},F.key))]})})})]},D._id))})]})})]})]}),g&&s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow p-6 z-10 min-w-[320px]",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Confirmation"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Êtes-vous sûr de vouloir annuler la validation de ce client ?"}),s.jsxs("div",{className:"flex justify-end",children:[s.jsx("button",{onClick:z,className:"px-4 py-2 rounded bg-gray-300 text-gray-500 hover:bg-gray-400",children:"Annuler"}),s.jsx("button",{onClick:()=>M(p),className:"ml-4 px-4 py-2 rounded bg-yellow-500 hover:bg-yellow-600 text-white",children:"Confirmer"})]})]})]})]})}const q4=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(null);x.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0),o(null);const g=await(await fetch("/api/statistics")).json();if(g.success)t(g.statistics),l(new Date(g.generatedAt)),console.log("📊 Statistics loaded:",g.statistics);else throw new Error(g.message||"Failed to fetch statistics")}catch(f){console.error("❌ Error fetching statistics:",f),o(f.message)}finally{n(!1)}},u=()=>e?[{title:"Clients",value:e.totalCustomers,icon:s.jsx(Em,{className:"text-blue-500"}),description:`${e.customers.active} actifs, ${e.customers.pending} en attente`,trend:e.recentActivity.newCustomers>0?"up":"stable",trendValue:e.recentActivity.newCustomers,trendText:"nouveaux (30j)",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-200"},{title:"Boutiques",value:e.totalShops,icon:s.jsx(rr,{className:"text-green-500"}),description:`${e.shops.valid} validées, ${e.shops.pending} en attente`,trend:e.recentActivity.newShops>0?"up":"stable",trendValue:e.recentActivity.newShops,trendText:"nouvelles (30j)",bgGradient:"from-green-50 to-green-100",borderColor:"border-green-200"},{title:"Produits",value:e.totalProducts,icon:s.jsx(Wl,{className:"text-purple-500"}),description:`${e.products.active} actifs, ${e.products.inactive} inactifs`,trend:e.recentActivity.newProducts>0?"up":"stable",trendValue:e.recentActivity.newProducts,trendText:"nouveaux (30j)",bgGradient:"from-purple-50 to-purple-100",borderColor:"border-purple-200"},{title:"Shopify",value:e.shops.withShopify,icon:s.jsx(Co,{className:"text-green-600"}),description:`${Math.round(e.shops.withShopify/e.totalShops*100)}% des boutiques`,subValue:`${e.shops.parametrized} paramétrées`,bgGradient:"from-emerald-50 to-emerald-100",borderColor:"border-emerald-200"}]:[],d=()=>e?[{title:"Taux de validation",value:`${Math.round(e.shops.valid/e.totalShops*100)}%`,icon:s.jsx(ot,{className:"text-green-500"}),description:"Boutiques validées",color:"green"},{title:"Documentation",value:`${Math.round(e.shops.documented/e.totalShops*100)}%`,icon:s.jsx(w4,{className:"text-blue-500"}),description:"Boutiques documentées",color:"blue"},{title:"Type Vendeur",value:e.paymentTypes.vendeur,icon:s.jsx(b4,{className:"text-yellow-500"}),description:"Clients vendeurs",color:"yellow"},{title:"Type Mandataire",value:e.paymentTypes.mandataire,icon:s.jsx(Em,{className:"text-orange-500"}),description:"Clients mandataires",color:"orange"}]:[];if(r)return s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Chargement des statistiques..."})]});if(a)return s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ir,{className:"text-red-500 text-xl mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Erreur de chargement"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:a}),s.jsx("button",{onClick:c,className:"mt-3 px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors text-sm",children:"Réessayer"})]})]})});const m=u(),p=d();return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Vue d'ensemble des performances de la plateforme SNA"}),i&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.jsx(p4,{className:"inline mr-1"}),"Dernière mise à jour : ",i.toLocaleString("fr-FR")]})]}),s.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(h4,{className:"mr-2"}),"Actualiser"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((f,g)=>s.jsx("div",{className:`bg-gradient-to-br ${f.bgGradient} border ${f.borderColor} rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:f.title}),s.jsx("div",{className:"text-2xl",children:f.icon})]}),s.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:f.value.toLocaleString()}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:f.description}),f.subValue&&s.jsx("p",{className:"text-xs text-gray-500",children:f.subValue}),f.trend&&s.jsxs("div",{className:"flex items-center mt-3 text-xs",children:[f.trend==="up"?s.jsx(d4,{className:"text-green-500 mr-1"}):s.jsx(u4,{className:"text-gray-400 mr-1"}),s.jsxs("span",{className:f.trend==="up"?"text-green-600":"text-gray-500",children:["+",f.trendValue," ",f.trendText]})]})]})})},g))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((f,g)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:f.title}),s.jsx("div",{className:"text-xl",children:f.icon})]}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:typeof f.value=="number"?f.value.toLocaleString():f.value}),s.jsx("p",{className:"text-sm text-gray-500",children:f.description})]},g))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(rr,{className:"mr-3 text-green-500"}),"Répartition des Boutiques"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"Validées"]}),s.jsx("span",{className:"font-semibold text-green-700",children:e.shops.valid})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-3"}),"En attente"]}),s.jsx("span",{className:"font-semibold text-yellow-700",children:e.shops.pending})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full mr-3"}),"Inactives"]}),s.jsx("span",{className:"font-semibold text-gray-700",children:e.shops.inactive})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),"Avec Shopify"]}),s.jsx("span",{className:"font-semibold text-blue-700",children:e.shops.withShopify})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(Wl,{className:"mr-3 text-purple-500"}),"Répartition des Produits"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"Actifs"]}),s.jsx("span",{className:"font-semibold text-green-700",children:e.products.active})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full mr-3"}),"Inactifs"]}),s.jsx("span",{className:"font-semibold text-gray-700",children:e.products.inactive})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),"Avec Shopify"]}),s.jsx("span",{className:"font-semibold text-blue-700",children:e.products.withShopify})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-3"}),"Avec EC"]}),s.jsx("span",{className:"font-semibold text-purple-700",children:e.products.withEC})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(x4,{className:"mr-3 text-blue-500"}),"Activité Récente (30 derniers jours)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.recentActivity.newCustomers}),s.jsx("div",{className:"text-sm text-gray-600",children:"Nouveaux clients"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.recentActivity.newShops}),s.jsx("div",{className:"text-sm text-gray-600",children:"Nouvelles boutiques"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.recentActivity.newProducts}),s.jsx("div",{className:"text-sm text-gray-600",children:"Nouveaux produits"})]})]})]})]})},H4=()=>{const[e,t]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,n]=x.useState({current:!1,new:!1,confirm:!1}),[a,o]=x.useState({}),[i,l]=x.useState(!1),[c,u]=x.useState(!1),d=g=>{const{name:w,value:v}=g.target;t(y=>({...y,[w]:v})),a[w]&&o(y=>({...y,[w]:""}))},m=g=>{n(w=>({...w,[g]:!w[g]}))},p=()=>{const g={};return e.currentPassword||(g.currentPassword="Le mot de passe actuel est requis"),e.newPassword?e.newPassword.length<8?g.newPassword="Le mot de passe doit contenir au moins 8 caractères":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.newPassword)||(g.newPassword="Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"):g.newPassword="Le nouveau mot de passe est requis",e.confirmPassword?e.newPassword!==e.confirmPassword&&(g.confirmPassword="Les mots de passe ne correspondent pas"):g.confirmPassword="La confirmation du mot de passe est requise",e.currentPassword&&e.newPassword&&e.currentPassword===e.newPassword&&(g.newPassword="Le nouveau mot de passe doit être différent de l'actuel"),o(g),Object.keys(g).length===0},f=async g=>{if(g.preventDefault(),u(!1),!!p()){l(!0);try{const v=await(await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:e.currentPassword,newPassword:e.newPassword})})).json();v.success?(u(!0),t({currentPassword:"",newPassword:"",confirmPassword:""}),o({}),setTimeout(()=>u(!1),3e3)):v.error==="Invalid current password"?o({currentPassword:"Mot de passe actuel incorrect"}):o({general:v.message||"Erreur lors du changement de mot de passe"})}catch(w){console.error("Error changing password:",w),o({general:"Erreur de connexion. Veuillez réessayer."})}finally{l(!1)}}};return s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-white shadow-sm rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gl,{className:"text-blue-500 text-xl mr-3"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mon Profil"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gérez vos paramètres de compte et sécurité"})]})]})}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(sf,{className:"text-gray-500 mr-2"}),"Changer le mot de passe"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pour votre sécurité, veuillez saisir votre mot de passe actuel puis définir un nouveau mot de passe."})]}),c&&s.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ot,{className:"text-green-500 text-lg mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-green-800 font-medium",children:"Mot de passe modifié avec succès"}),s.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Votre mot de passe a été mis à jour. Utilisez-le lors de votre prochaine connexion."})]})]})}),a.general&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 text-sm",children:a.general})}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:["Mot de passe actuel ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:r.current?"text":"password",id:"currentPassword",name:"currentPassword",value:e.currentPassword,onChange:d,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 ${a.currentPassword?"border-red-500":""}`,placeholder:"Saisissez votre mot de passe actuel"}),s.jsx("button",{type:"button",onClick:()=>m("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.current?s.jsx(tn,{className:"h-4 w-4 text-gray-400"}):s.jsx(rn,{className:"h-4 w-4 text-gray-400"})})]}),a.currentPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.currentPassword})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:["Nouveau mot de passe ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:r.new?"text":"password",id:"newPassword",name:"newPassword",value:e.newPassword,onChange:d,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 ${a.newPassword?"border-red-500":""}`,placeholder:"Saisissez votre nouveau mot de passe"}),s.jsx("button",{type:"button",onClick:()=>m("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.new?s.jsx(tn,{className:"h-4 w-4 text-gray-400"}):s.jsx(rn,{className:"h-4 w-4 text-gray-400"})})]}),a.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.newPassword}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Le mot de passe doit contenir au moins 8 caractères avec une majuscule, une minuscule et un chiffre."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:["Confirmer le nouveau mot de passe"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:r.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:d,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 ${a.confirmPassword?"border-red-500":""}`,placeholder:"Confirmez votre nouveau mot de passe"}),s.jsx("button",{type:"button",onClick:()=>m("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.confirm?s.jsx(tn,{className:"h-4 w-4 text-gray-400"}):s.jsx(rn,{className:"h-4 w-4 text-gray-400"})})]}),a.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.confirmPassword})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{type:"submit",disabled:i,className:`px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):"Changer le mot de passe"})})]})]})]})})},W4=()=>{const t=new URLSearchParams(window.location.search).get("token"),[r,n]=x.useState(null),[a,o]=x.useState(!0),[i,l]=x.useState(""),[c,u]=x.useState({newPassword:"",confirmPassword:""}),[d,m]=x.useState({new:!1,confirm:!1}),[p,f]=x.useState({}),[g,w]=x.useState(!1),[v,y]=x.useState(!1);x.useEffect(()=>{if(!t){l("Token de réinitialisation manquant"),o(!1);return}b()},[t]);const b=async()=>{try{o(!0);const _=await(await fetch(`/api/password-reset/verify/${t}`)).json();_.success?(n(_),l("")):l(_.message||"Token invalide ou expiré")}catch(S){console.error("Error validating token:",S),l("Erreur lors de la validation du token")}finally{o(!1)}},N=S=>{const{name:_,value:I}=S.target;u(h=>({...h,[_]:I})),p[_]&&f(h=>({...h,[_]:""}))},C=S=>{m(_=>({..._,[S]:!_[S]}))},T=()=>{const S={};return c.newPassword?c.newPassword.length<8?S.newPassword="Le mot de passe doit contenir au moins 8 caractères":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(c.newPassword)||(S.newPassword="Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"):S.newPassword="Le nouveau mot de passe est requis",c.confirmPassword?c.newPassword!==c.confirmPassword&&(S.confirmPassword="Les mots de passe ne correspondent pas"):S.confirmPassword="La confirmation du mot de passe est requise",f(S),Object.keys(S).length===0},j=async S=>{if(S.preventDefault(),!!T()){w(!0),f({});try{const I=await(await fetch("/api/password-reset/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,newPassword:c.newPassword})})).json();I.success?(y(!0),setTimeout(()=>{window.location.href="/"},3e3)):f({general:I.message||"Erreur lors de la réinitialisation"})}catch(_){console.error("Error resetting password:",_),f({general:"Erreur de connexion. Veuillez réessayer."})}finally{w(!1)}}};return a?s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Validation du lien..."}),s.jsx("p",{className:"text-sm text-gray-600",children:"Veuillez patienter pendant que nous vérifions votre lien de réinitialisation."})]})})}):i?s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[s.jsx(ir,{className:"text-red-500 text-4xl mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lien invalide"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:i}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Retour à la connexion"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Vous pouvez demander un nouveau lien de réinitialisation depuis la page de connexion."})]})]})})}):v?s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[s.jsx(ot,{className:"text-green-500 text-4xl mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"Mot de passe réinitialisé !"}),s.jsx("p",{className:"text-sm text-green-600 mb-6",children:"Votre mot de passe a été modifié avec succès. Vous allez être redirigé vers la page de connexion."}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-green-700 text-xs",children:[s.jsx("strong",{children:"Conseil :"})," Utilisez votre nouveau mot de passe pour vous connecter."]})})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(sf,{className:"text-blue-500 text-3xl"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nouveau mot de passe"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Choisissez un nouveau mot de passe sécurisé pour"," ",s.jsx("span",{className:"font-medium text-blue-600",children:r==null?void 0:r.email})]})]}),p.general&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ir,{className:"text-red-500 text-sm mr-2"}),s.jsx("p",{className:"text-red-600 text-sm",children:p.general})]})}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:["Nouveau mot de passe ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:d.new?"text":"password",id:"newPassword",name:"newPassword",value:c.newPassword,onChange:N,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 ${p.newPassword?"border-red-500":""}`,placeholder:"Saisissez votre nouveau mot de passe",disabled:g}),s.jsx("button",{type:"button",onClick:()=>C("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:g,children:d.new?s.jsx(tn,{className:"h-4 w-4 text-gray-400"}):s.jsx(rn,{className:"h-4 w-4 text-gray-400"})})]}),p.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.newPassword}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Le mot de passe doit contenir au moins 8 caractères avec une majuscule, une minuscule et un chiffre."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:["Confirmer le nouveau mot de passe"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:d.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:N,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 ${p.confirmPassword?"border-red-500":""}`,placeholder:"Confirmez votre nouveau mot de passe",disabled:g}),s.jsx("button",{type:"button",onClick:()=>C("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:g,children:d.confirm?s.jsx(tn,{className:"h-4 w-4 text-gray-400"}):s.jsx(rn,{className:"h-4 w-4 text-gray-400"})})]}),p.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.confirmPassword})]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{type:"submit",disabled:g,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${g?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:g?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Réinitialisation..."]}):"Réinitialiser le mot de passe"})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-blue-600 hover:text-blue-500",disabled:g,children:"← Retour à la connexion"})})]})})})},Nt=({children:e})=>{const t=[{name:"Clients",href:"/internal/clients",icon:s.jsx(Em,{})},{name:"Boutiques",href:"/internal/boutiques",icon:s.jsx(rr,{})},{name:"Produits",href:"/internal/produits",icon:s.jsx(Wl,{})},{name:"Clients à valider",href:"/internal/clients-a-valider",icon:s.jsx(g4,{})},{name:"Boutiques à valider",href:"/internal/boutiques-a-valider",icon:s.jsx(ot,{})},{name:"Produits à valider",href:"/internal/produits-a-valider",icon:s.jsx(kv,{})},{name:"Documentation",href:"/internal/documentation",icon:s.jsx(m4,{})},{name:"Configuration Shopify",href:"/internal/configuration-shopify",icon:s.jsx(Co,{})},{name:"Fiche produits Shopify",href:"/internal/fiche-produits-shopify",icon:s.jsx(C4,{})},{name:"Génération d'EC",href:"/internal/generation-ec",icon:s.jsx(j4,{})},{name:"Creation de compte client",href:"/internal/creation-comptes-client",icon:s.jsx(S4,{})},{name:"Statistiques",href:"/internal/statistiques",icon:s.jsx(f4,{})},{name:"Mon profil",href:"/internal/profile",icon:s.jsx(Gl,{})}],r=async()=>{console.log("Logging out internal user...");try{(await fetch("/api/logout-internal",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})).ok?console.log("Internal logout successful"):console.error("Internal logout API call failed")}catch(n){console.error("Error during internal logout:",n)}localStorage.removeItem("token"),sessionStorage.clear(),window.location.href="/logout-internal"};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:s.jsxs("div",{className:"flex flex-1",children:[s.jsx("div",{className:"w-64 bg-white shadow-sm relative z-40 flex flex-col",children:s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("div",{className:"flex-1 py-6 px-4",children:s.jsx("nav",{className:"space-y-2",children:t.map(n=>s.jsxs("a",{href:n.href,className:"flex items-center px-4 py-3 text-sm rounded-lg transition-colors text-gray-600 hover:bg-gray-50",children:[W.isValidElement(n.icon)?W.cloneElement(n.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}):s.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.icon}),n.name]},n.name))})}),s.jsx("div",{className:"border-t border-gray-200 p-4",children:s.jsxs("button",{onClick:r,className:"flex w-full items-center px-4 py-3 text-sm rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(Pv,{className:"mr-3 h-5 w-5 flex-shrink-0"}),"Se déconnecter"]})})]})}),s.jsx("main",{className:"flex-1 py-8 px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})})},Y4=({client:e,onSave:t,onCancel:r})=>{const[n,a]=x.useState(e||{name:"",email:"",phone:"",address:""}),o=l=>{a({...n,[l.target.name]:l.target.value})},i=l=>{l.preventDefault(),t(n)};return s.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",onClick:r}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Modifier le client":"Ajouter un client"}),s.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-500",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Téléphone"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Adresse"}),s.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:o,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary",required:!0})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:e?"Mettre à jour":"Créer Client"})]})]})]})]})};function K4(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function Q4(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function G4(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function p0(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Vs(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function J4(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function ds(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const X4=({shops:e,clientId:t,onShopDeleted:r,onShopUpdated:n})=>{const[a,o]=x.useState(null),[i,l]=x.useState(null),[c,u]=x.useState({}),[d,m]=x.useState(!1),[p,f]=x.useState({open:!1});if(!e||e.length===0)return s.jsx("p",{className:"mt-4 text-gray-500",children:"Ce client n'a pas encore de boutiques enregistrées."});const g=async j=>{const S=String(j);T({type:"confirmation",title:"Supprimer la boutique",message:`Êtes-vous sûr de vouloir supprimer la boutique ID: ${S} ?`,onClose:()=>f({open:!1}),onConfirm:async()=>{f({open:!1});try{const _=await fetch(`http://localhost:3000/api/internal/clients/${t}/shops/${S}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),I=await _.json();if(_.ok)T({type:"success",title:"Supprimée",message:"Boutique supprimée avec succès !",onClose:()=>f({open:!1})}),r&&r(S,I.updatedClient);else throw new Error(I.message||"Erreur lors de la suppression de la boutique.")}catch(_){console.error("Failed to delete shop:",_),T({type:"error",title:"Erreur",message:`Erreur: ${_.message}`,onClose:()=>f({open:!1})})}}})},w=j=>{o(j.shopId||j._id),u({...j})},v=()=>{o(null)},y=(j,S)=>{u({...c,[j]:S})},b=async()=>{m(!0);const j={...c};delete j._id,delete j.shopId;try{for(const I in j)if(typeof j[I]=="string"&&j[I].trim().startsWith("{"))try{j[I]=JSON.parse(j[I])}catch{}const S=await fetch(`http://localhost:3000/api/internal/clients/${t}/shops/${a}?_=${new Date().getTime()}`,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(j),credentials:"include"}),_=await S.json();if(S.ok&&_.success)n&&n(_),v();else throw new Error(_.message||"Erreur lors de la mise à jour de la boutique.")}catch(S){console.error("Failed to update shop:",S),T({type:"error",title:"Erreur",message:`Erreur: ${S.message}`,onClose:()=>f({open:!1})})}finally{m(!1)}},N=async(j,S)=>{m(!0);const _={[S]:c[S]};try{const I=await fetch(`http://localhost:3000/api/internal/clients/${t}/shops/${a}?_=${new Date().getTime()}`,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(_),credentials:"include"}),h=await I.json();if(I.ok&&h.success)n&&n(h),l(null);else throw new Error(h.message||"Erreur lors de la mise à jour de la boutique.")}catch(I){console.error("Failed to update shop:",I),T({type:"error",title:"Erreur",message:`Erreur: ${I.message}`,onClose:()=>f({open:!1})})}finally{m(!1)}},C=(j,S,_)=>{const I=typeof _,h=a===(j.shopId||j._id);if(h&&i===S){if(S==="typeAbonnementShopify")return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:c[S]||"",onChange:U=>y(S,U.target.value),className:"border rounded p-1 text-sm flex-1",children:[s.jsx("option",{value:"aucun",children:"Aucun"}),s.jsx("option",{value:"mensuel",children:"Mensuel"}),s.jsx("option",{value:"annuel",children:"Annuel"})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>N(j,S),disabled:d,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:s.jsx(Vs,{size:16})}),s.jsx("button",{onClick:()=>l(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:s.jsx(ds,{size:16})})]})]});if(["precommande","dedicaceEnvisagee","snaResponsableDesign","moduleDelivengo","moduleMondialRelay"].includes(S)){const U=c[S],A=typeof _=="boolean";return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:A?U?"Oui":"Non":U||"Non",onChange:P=>{const E=P.target.value;A?y(S,E==="Oui"):y(S,E)},className:"border rounded p-1 text-sm flex-1",children:[s.jsx("option",{value:"Oui",children:"Oui"}),s.jsx("option",{value:"Non",children:"Non"})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>N(j,S),disabled:d,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:s.jsx(Vs,{size:16})}),s.jsx("button",{onClick:()=>l(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:s.jsx(ds,{size:16})})]})]})}return I==="boolean"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:c[S],onChange:U=>y(S,U.target.value==="true"),className:"border rounded p-1 text-sm flex-1",children:[s.jsx("option",{value:"true",children:"Oui"}),s.jsx("option",{value:"false",children:"Non"})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>N(j,S),disabled:d,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:s.jsx(Vs,{size:16})}),s.jsx("button",{onClick:()=>l(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:s.jsx(ds,{size:16})})]})]}):I==="object"&&_!==null?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:typeof c[S]=="string"?c[S]:JSON.stringify(c[S],null,2),onChange:U=>y(S,U.target.value),className:"border rounded p-1 w-full font-mono text-xs",rows:"3"}),s.jsxs("div",{className:"flex justify-end space-x-1",children:[s.jsx("button",{onClick:()=>N(j,S),disabled:d,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:s.jsx(Vs,{size:16})}),s.jsx("button",{onClick:()=>l(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:s.jsx(ds,{size:16})})]})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:S.toLowerCase().includes("date")?"date":"text",value:c[S]||"",onChange:U=>y(S,U.target.value),className:"border rounded p-1 text-sm flex-1"}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>N(j,S),disabled:d,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:s.jsx(Vs,{size:16})}),s.jsx("button",{onClick:()=>l(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:s.jsx(ds,{size:16})})]})]})}const $=(z,U)=>{const A=["precommande","dedicaceEnvisagee","snaResponsableDesign","moduleDelivengo","moduleMondialRelay"];return z==="typeAbonnementShopify"?U||"Aucun":A.includes(z)?typeof U=="boolean"?U?"Oui":"Non":U||"Non":I==="boolean"?U?"Oui":"Non":U instanceof Date||I==="string"&&z.toLowerCase().includes("date")?new Date(U).toLocaleDateString():I==="object"&&U!==null?JSON.stringify(U,null,2):String(U||"N/A")};return h?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"flex-1",children:$(S,_)}),s.jsx("button",{onClick:()=>{l(S),u({...c,[S]:_})},className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Modifier",children:s.jsx(p0,{size:16})})]}):$(S,_)},T=j=>f({open:!0,...j});return s.jsxs(s.Fragment,{children:[s.jsx(Fa,{open:p.open,type:p.type,title:p.title,message:p.message,onClose:p.onClose,onConfirm:p.onConfirm}),s.jsxs("div",{className:"mt-6 p-6 bg-white shadow-lg rounded-lg",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Boutiques associées au client"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du Projet"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documenté"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shopify"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-700",children:j.nomProjet||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${j.status==="valid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:j.status==="valid"?"Validée":"En attente"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${j.documented?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.documented?"Oui":"Non"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${j.hasShopify?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.hasShopify?"Oui":"Non"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[a===(j.shopId||j._id)?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:b,disabled:d,className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-full transition-colors duration-150 ease-in-out",title:"Enregistrer",children:s.jsx(Vs,{size:18})}),s.jsx("button",{onClick:v,className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full transition-colors duration-150 ease-in-out",title:"Annuler",children:s.jsx(ds,{size:18})})]}):s.jsx("button",{onClick:()=>w(j),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-full transition-colors duration-150 ease-in-out",title:"Modifier",children:s.jsx(p0,{size:18})}),s.jsx("button",{onClick:()=>g(j.shopId||j._id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full transition-colors duration-150 ease-in-out",title:"Supprimer la boutique",children:s.jsx(J4,{size:18})})]})]}),a===(j.shopId||j._id)&&s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"px-6 py-4 bg-gray-50",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(j).filter(([S])=>!["_id","shopId","createdAt","updatedAt","status","coutsEtDetailsModuleMondialRelay","coutsEtDetailsModuleDelivengo","coutsEtDetailsMaintenanceSite","hasShopify","shop","success","shopifyCreatedAt","documented","compteClientRef"].includes(S)).map(([S,_])=>s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:S.replace(/([A-Z])/g," $1").replace(/^./,I=>I.toUpperCase())})}),s.jsx("div",{className:"p-2 border rounded bg-white",children:C(j,S,_)})]},S))})})})]},j.shopId||j._id))})]})})]})]})},Z4=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState([]),[a,o]=x.useState(!0),[i,l]=x.useState(null),[c,u]=x.useState(""),[d,m]=x.useState(null),[p,f]=x.useState([]),[g,w]=x.useState(!1),[v,y]=x.useState(null);x.useEffect(()=>{(async()=>{try{const S=await fetch(`/api/customer/all?details=true&_=${new Date().getTime()}`,{headers:{"Cache-Control":"no-cache"}});if(!S.ok)throw new Error("Erreur lors du chargement des clients");const _=await S.json();n((_.customers||[]).map(I=>{const h=I.status||"inactive";return{id:I._id||I.id,name:I.raisonSociale||I.name||"-",email:I.email||"-",shopsCount:Array.isArray(I.shops)?I.shops.length:I.shopsCount||0,status:h}}))}catch(S){l(S.message)}o(!1)})()},[]);const b=async j=>{if(d===j){m(null),f([]);return}m(j),w(!0),y(null),f([]);try{const S=`http://localhost:3000/api/internal/clients/${j}`,_=await fetch(S,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"});if(!_.ok){const M=await _.text();throw new Error(M||`Erreur lors de la récupération des boutiques du client (${_.status})`)}const I=await _.json();if(!I.success||!I.customer)throw new Error("Données du client non valides ou manquantes.");const h=Array.isArray(I.customer.shops)?I.customer.shops:[];f(h)}catch(S){y(`Erreur: ${S.message||"Impossible de charger les boutiques du client"}`),f([])}finally{w(!1)}},N=(j,S)=>{let _=0;if(S&&Array.isArray(S.shops))f(S.shops),_=S.shops.length;else{let I=[];f(h=>(I=h.filter(M=>String(M.shopId||M._id)!==String(j)),I)),_=I.length}n(I=>I.map(h=>h.id===d?{...h,shopsCount:_}:h))},C=async j=>{if(j&&j.success)try{const S=await fetch(`http://localhost:3000/api/internal/clients/${d}?_=${new Date().getTime()}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},credentials:"include"});if(!S.ok)throw new Error("Failed to refresh shop data");const _=await S.json();if(!_.success||!_.customer)throw new Error("Invalid client data received");const I=Array.isArray(_.customer.shops)?_.customer.shops:[];f(I),n(h=>h.map(M=>M.id===d?{...M,shopsCount:I.length}:M))}catch(S){console.error("Error refreshing shop data:",S),y(`Error refreshing data: ${S.message}`)}else console.error("Failed to update shop in list due to invalid response:",j)},T=r.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.email.toLowerCase().includes(c.toLowerCase()));return a?s.jsx("p",{children:"Chargement des clients..."}):i?s.jsxs("p",{children:["Erreur: ",i]}):s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Liste des Clients"}),s.jsx("input",{type:"text",placeholder:"Rechercher un client...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:c,onChange:j=>u(j.target.value)})]}),T.length===0?s.jsx("p",{children:"Aucun client trouvé."}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Boutiques"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(j=>s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.shopsCount}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:j.status==="active"?"Validé":"En attente"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>b(j.id),className:"text-indigo-600 hover:text-indigo-900 font-medium mr-4",children:d===j.id?"Fermer boutiques":"Gérer les boutiques"}),s.jsx("a",{href:`/internal/clients/${j.id}`,className:"text-sna-primary hover:text-sna-primary/90",children:"Voir les détails"})]})]}),d===j.id&&s.jsx("tr",{className:"bg-gray-100",children:s.jsxs("td",{colSpan:"5",className:"p-4",children:[g&&s.jsx("p",{children:"Chargement des boutiques..."}),v&&s.jsx("p",{className:"text-red-500",children:v}),!g&&!v&&(p.length>0?s.jsx(X4,{shops:p,clientId:d,onShopDeleted:N,onShopUpdated:C}):s.jsx("p",{children:"Ce client n'a pas de boutiques enregistrées."})),s.jsx("button",{onClick:()=>m(null),className:"mt-2 text-sm text-gray-600 hover:text-gray-800 py-1 px-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50",children:"Fermer"})]})})]},j.id))})]})}),e&&s.jsx(Y4,{onClose:()=>t(!1)})]})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}var f0;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(f0||(f0={}));function Qn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _v(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var h0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(h0||(h0={}));function eN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?_v(e):e;return{pathname:r?r.startsWith("/")?r:tN(r,t):t,search:oN(n),hash:iN(a)}}function tN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ld(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nN(e,t){let r=rN(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=_v(e):(a=Dm({},e),Qn(!a.pathname||!a.pathname.includes("?"),ld("?","pathname","search",a)),Qn(!a.pathname||!a.pathname.includes("#"),ld("#","pathname","hash",a)),Qn(!a.search||!a.search.includes("#"),ld("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=eN(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const aN=e=>e.join("/").replace(/\/\/+/g,"/"),oN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Tv=["post","put","patch","delete"];new Set(Tv);const lN=["get",...Tv];new Set(lN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(this,arguments)}const Mv=x.createContext(null),Iv=x.createContext(null),Av=x.createContext(null),Kc=x.createContext({outlet:null,matches:[],isDataRoute:!1});function Ov(){return x.useContext(Av)!=null}function cN(){return Ov()||Qn(!1),x.useContext(Av).location}function Rv(e){x.useContext(Iv).static||x.useLayoutEffect(e)}function uN(){let{isDataRoute:e}=x.useContext(Kc);return e?gN():dN()}function dN(){Ov()||Qn(!1);let e=x.useContext(Mv),{basename:t,future:r,navigator:n}=x.useContext(Iv),{matches:a}=x.useContext(Kc),{pathname:o}=cN(),i=JSON.stringify(nN(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return Rv(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=sN(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:aN([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,i,o,e])}function mN(){let{matches:e}=x.useContext(Kc),t=e[e.length-1];return t?t.params:{}}var Lv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lv||{}),zv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zv||{});function pN(e){let t=x.useContext(Mv);return t||Qn(!1),t}function fN(e){let t=x.useContext(Kc);return t||Qn(!1),t}function hN(e){let t=fN(),r=t.matches[t.matches.length-1];return r.route.id||Qn(!1),r.route.id}function gN(){let{router:e}=pN(Lv.UseNavigateStable),t=hN(zv.UseNavigateStable),r=x.useRef(!1);return Rv(()=>{r.current=!0}),x.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_m({fromRouteId:t},o)))},[e,t])}new Promise(()=>{});function $v(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=$v(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=$v(e))&&(n&&(n+=" "),n+=t);return n}const Fv=6048e5,xN=864e5,Qc=6e4,Gc=36e5,yN=1e3,g0=Symbol.for("constructDateFrom");function Oe(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&g0 in e?e[g0](t):e instanceof Date?new e.constructor(t):new Date(t)}function de(e,t){return Oe(t||e,e)}function Rr(e,t,r){const n=de(e,r==null?void 0:r.in);return isNaN(t)?Oe((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function zr(e,t,r){const n=de(e,r==null?void 0:r.in);if(isNaN(t))return Oe(e,NaN);if(!t)return n;const a=n.getDate(),o=Oe(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const i=o.getDate();return a>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function Bv(e,t,r){return Oe(e,+de(e)+t)}function vN(e,t,r){return Bv(e,t*Gc)}let bN={};function Bs(){return bN}function Cn(e,t){var l,c,u,d;const r=Bs(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=de(e,t==null?void 0:t.in),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Ea(e,t){return Cn(e,{...t,weekStartsOn:1})}function Uv(e,t){const r=de(e,t==null?void 0:t.in),n=r.getFullYear(),a=Oe(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=Ea(a),i=Oe(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Ea(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Xl(e){const t=de(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Pn(e,...t){const r=Oe.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Is(e,t){const r=de(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Pa(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t),o=Is(n),i=Is(a),l=+o-Xl(o),c=+i-Xl(i);return Math.round((l-c)/xN)}function wN(e,t){const r=Uv(e,t),n=Oe(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ea(n)}function Tm(e,t,r){const n=de(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*Qc),n}function af(e,t,r){return zr(e,t*3,r)}function jN(e,t,r){return Bv(e,t*1e3)}function Zl(e,t,r){return Rr(e,t*7,r)}function gn(e,t,r){return zr(e,t*12,r)}function x0(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Oe.bind(null,a));const o=de(a,n);(!r||r<o||isNaN(+o))&&(r=o)}),Oe(n,r||NaN)}function y0(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Oe.bind(null,a));const o=de(a,n);(!r||r>o||isNaN(+o))&&(r=o)}),Oe(n,r||NaN)}function NN(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t);return+Is(n)==+Is(a)}function xn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ec(e){return!(!xn(e)&&typeof e!="number"||isNaN(+de(e)))}function tc(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t),o=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return o*12+i}function Ns(e,t){const r=de(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function rc(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t),o=n.getFullYear()-a.getFullYear(),i=Ns(n)-Ns(a);return o*4+i}function nc(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function SN(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t),o=v0(n,a),i=Math.abs(Pa(n,a));n.setDate(n.getDate()-o*i);const l=+(v0(n,a)===-o),c=o*(i-l);return c===0?0:c}function v0(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Vv(e,t){const r=de(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function qv(e,t){const r=de(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Mm(e,t){const r=de(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function Hv(e,t){const r=de(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Wv(e,t){const r=de(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Jc(e,t){const r=de(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function CN(e,t){var l,c;const r=Bs(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=de(e,t==null?void 0:t.in),o=a.getDay(),i=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const kN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EN=(e,t,r)=>{let n;const a=kN[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function cd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const PN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_N={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TN={date:cd({formats:PN,defaultWidth:"full"}),time:cd({formats:DN,defaultWidth:"full"}),dateTime:cd({formats:_N,defaultWidth:"full"})},MN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IN=(e,t,r,n)=>MN[e];function Za(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const AN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ON={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$N={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FN=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},BN={ordinalNumber:FN,era:Za({values:AN,defaultWidth:"wide"}),quarter:Za({values:ON,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Za({values:RN,defaultWidth:"wide"}),day:Za({values:LN,defaultWidth:"wide"}),dayPeriod:Za({values:zN,defaultWidth:"wide",formattingValues:$N,defaultFormattingWidth:"wide"})};function eo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?VN(l,m=>m.test(i)):UN(l,m=>m.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function UN(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function VN(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function qN(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const HN=/^(\d+)(th|st|nd|rd)?/i,WN=/\d+/i,YN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KN={any:[/^b/i,/^(a|c)/i]},QN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GN={any:[/1/i,/2/i,/3/i,/4/i]},JN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nS={ordinalNumber:qN({matchPattern:HN,parsePattern:WN,valueCallback:e=>parseInt(e,10)}),era:eo({matchPatterns:YN,defaultMatchWidth:"wide",parsePatterns:KN,defaultParseWidth:"any"}),quarter:eo({matchPatterns:QN,defaultMatchWidth:"wide",parsePatterns:GN,defaultParseWidth:"any",valueCallback:e=>e+1}),month:eo({matchPatterns:JN,defaultMatchWidth:"wide",parsePatterns:XN,defaultParseWidth:"any"}),day:eo({matchPatterns:ZN,defaultMatchWidth:"wide",parsePatterns:eS,defaultParseWidth:"any"}),dayPeriod:eo({matchPatterns:tS,defaultMatchWidth:"any",parsePatterns:rS,defaultParseWidth:"any"})},Yv={code:"en-US",formatDistance:EN,formatLong:TN,formatRelative:IN,localize:BN,match:nS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sS(e,t){const r=de(e,t==null?void 0:t.in);return Pa(r,Jc(r))+1}function of(e,t){const r=de(e,t==null?void 0:t.in),n=+Ea(r)-+wN(r);return Math.round(n/Fv)+1}function lf(e,t){var d,m,p,f;const r=de(e,t==null?void 0:t.in),n=r.getFullYear(),a=Bs(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(p=a.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,i=Oe((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=Cn(i,t),c=Oe((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=Cn(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function aS(e,t){var l,c,u,d;const r=Bs(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=lf(e,t),o=Oe((t==null?void 0:t.in)||e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Cn(o,t)}function Kv(e,t){const r=de(e,t==null?void 0:t.in),n=+Cn(r,t)-+aS(r,t);return Math.round(n/Fv)+1}function Ie(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Tn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ie(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ie(r+1,2)},d(e,t){return Ie(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ie(e.getHours()%12||12,t.length)},H(e,t){return Ie(e.getHours(),t.length)},m(e,t){return Ie(e.getMinutes(),t.length)},s(e,t){return Ie(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ie(a,t.length)}},qs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},b0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Tn.y(e,t)},Y:function(e,t,r,n){const a=lf(e,n),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Ie(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ie(o,t.length)},R:function(e,t){const r=Uv(e);return Ie(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ie(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ie(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ie(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Tn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ie(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Kv(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ie(a,t.length)},I:function(e,t,r){const n=of(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ie(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Tn.d(e,t)},D:function(e,t,r){const n=sS(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ie(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ie(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ie(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ie(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=qs.noon:n===0?a=qs.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=qs.evening:n>=12?a=qs.afternoon:n>=4?a=qs.morning:a=qs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Tn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Tn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ie(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ie(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Tn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Tn.s(e,t)},S:function(e,t){return Tn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return j0(n);case"XXXX":case"XX":return ms(n);case"XXXXX":case"XXX":default:return ms(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return j0(n);case"xxxx":case"xx":return ms(n);case"xxxxx":case"xxx":default:return ms(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+w0(n,":");case"OOOO":default:return"GMT"+ms(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+w0(n,":");case"zzzz":default:return"GMT"+ms(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ie(n,t.length)},T:function(e,t,r){return Ie(+e,t.length)}};function w0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+Ie(o,2)}function j0(e,t){return e%60===0?(e>0?"-":"+")+Ie(Math.abs(e)/60,2):ms(e,t)}function ms(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ie(Math.trunc(n/60),2),o=Ie(n%60,2);return r+a+t+o}const N0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Qv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},oS=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return N0(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",N0(n,t)).replace("{{time}}",Qv(a,t))},Im={p:Qv,P:oS},iS=/^D+$/,lS=/^Y+$/,cS=["D","DD","YY","YYYY"];function uS(e){return iS.test(e)}function dS(e){return lS.test(e)}function mS(e,t,r){const n=pS(e,t,r);if(console.warn(n),cS.includes(e))throw new RangeError(n)}function pS(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gS=/^'([^]*?)'?$/,xS=/''/g,yS=/[a-zA-Z]/;function S0(e,t,r){var d,m,p,f,g,w,v,y;const n=Bs(),a=(r==null?void 0:r.locale)??n.locale??Yv,o=(r==null?void 0:r.firstWeekContainsDate)??((m=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((w=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=de(e,r==null?void 0:r.in);if(!ec(l))throw new RangeError("Invalid time value");let c=t.match(hS).map(b=>{const N=b[0];if(N==="p"||N==="P"){const C=Im[N];return C(b,a.formatLong)}return b}).join("").match(fS).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const N=b[0];if(N==="'")return{isToken:!1,value:vS(b)};if(b0[N])return{isToken:!0,value:b};if(N.match(yS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const N=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&dS(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&uS(N))&&mS(N,t,String(e));const C=b0[N[0]];return C(l,N,a.localize,u)}).join("")}function vS(e){const t=e.match(gS);return t?t[1].replace(xS,"'"):e}function C0(e,t){return de(e,t==null?void 0:t.in).getDate()}function bS(e,t){return de(e,t==null?void 0:t.in).getDay()}function wS(e,t){const r=de(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),o=Oe(r,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function jS(){return Object.assign({},Bs())}function yn(e,t){return de(e,t==null?void 0:t.in).getHours()}function NS(e,t){const r=de(e,t==null?void 0:t.in).getDay();return r===0?7:r}function vn(e,t){return de(e,t==null?void 0:t.in).getMinutes()}function It(e,t){return de(e,t==null?void 0:t.in).getMonth()}function Gn(e){return de(e).getSeconds()}function Am(e){return+de(e)}function we(e,t){return de(e,t==null?void 0:t.in).getFullYear()}function es(e,t){return+de(e)>+de(t)}function As(e,t){return+de(e)<+de(t)}function SS(e,t){return+de(e)==+de(t)}function CS(e,t){const r=kS(t)?new t(0):Oe(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function kS(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const ES=10;class Gv{constructor(){ae(this,"subPriority",0)}validate(t,r){return!0}}class PS extends Gv{constructor(t,r,n,a,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class DS extends Gv{constructor(r,n){super();ae(this,"priority",ES);ae(this,"subPriority",-1);this.context=r||(a=>Oe(n,a))}set(r,n){return n.timestampIsSet?r:Oe(r,CS(r,this.context))}}class _e{run(t,r,n,a){const o=this.parse(t,r,n,a);return o?{setter:new PS(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}}class _S extends _e{constructor(){super(...arguments);ae(this,"priority",140);ae(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const it={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Qr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function lt(e,t){return e&&{value:t(e.value),rest:e.rest}}function Xe(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Gr(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(a*Gc+o*Qc+i*yN),rest:t.slice(r[0].length)}}function Jv(e){return Xe(it.anyDigitsSigned,e)}function st(e,t){switch(e){case 1:return Xe(it.singleDigit,t);case 2:return Xe(it.twoDigits,t);case 3:return Xe(it.threeDigits,t);case 4:return Xe(it.fourDigits,t);default:return Xe(new RegExp("^\\d{1,"+e+"}"),t)}}function sc(e,t){switch(e){case 1:return Xe(it.singleDigitSigned,t);case 2:return Xe(it.twoDigitsSigned,t);case 3:return Xe(it.threeDigitsSigned,t);case 4:return Xe(it.fourDigitsSigned,t);default:return Xe(new RegExp("^-?\\d{1,"+e+"}"),t)}}function cf(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Xv(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const o=n+50,i=Math.trunc(o/100)*100,l=e>=o%100;a=e+i-(l?100:0)}return r?a:1-a}function Zv(e){return e%400===0||e%4===0&&e%100!==0}class TS extends _e{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const o=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return lt(st(4,r),o);case"yo":return lt(a.ordinalNumber(r,{unit:"year"}),o);default:return lt(st(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const o=r.getFullYear();if(a.isTwoDigitYear){const l=Xv(a.year,o);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const i=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class MS extends _e{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const o=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return lt(st(4,r),o);case"Yo":return lt(a.ordinalNumber(r,{unit:"year"}),o);default:return lt(st(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,o){const i=lf(r,o);if(a.isTwoDigitYear){const c=Xv(a.year,i);return r.setFullYear(c,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Cn(r,o)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Cn(r,o)}}class IS extends _e{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return sc(n==="R"?4:n.length,r)}set(r,n,a){const o=Oe(r,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Ea(o)}}class AS extends _e{constructor(){super(...arguments);ae(this,"priority",130);ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return sc(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class OS extends _e{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return st(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class RS extends _e{constructor(){super(...arguments);ae(this,"priority",120);ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return st(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class LS extends _e{constructor(){super(...arguments);ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ae(this,"priority",110)}parse(r,n,a){const o=i=>i-1;switch(n){case"M":return lt(Xe(it.month,r),o);case"MM":return lt(st(2,r),o);case"Mo":return lt(a.ordinalNumber(r,{unit:"month"}),o);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class zS extends _e{constructor(){super(...arguments);ae(this,"priority",110);ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const o=i=>i-1;switch(n){case"L":return lt(Xe(it.month,r),o);case"LL":return lt(st(2,r),o);case"Lo":return lt(a.ordinalNumber(r,{unit:"month"}),o);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function $S(e,t,r){const n=de(e,r==null?void 0:r.in),a=Kv(n,r)-t;return n.setDate(n.getDate()-a*7),de(n,r==null?void 0:r.in)}class FS extends _e{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Xe(it.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return st(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,o){return Cn($S(r,a,o),o)}}function BS(e,t,r){const n=de(e,r==null?void 0:r.in),a=of(n,r)-t;return n.setDate(n.getDate()-a*7),n}class US extends _e{constructor(){super(...arguments);ae(this,"priority",100);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Xe(it.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return st(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Ea(BS(r,a))}}const VS=[31,28,31,30,31,30,31,31,30,31,30,31],qS=[31,29,31,30,31,30,31,31,30,31,30,31];class HS extends _e{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subPriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Xe(it.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return st(n.length,r)}}validate(r,n){const a=r.getFullYear(),o=Zv(a),i=r.getMonth();return o?n>=1&&n<=qS[i]:n>=1&&n<=VS[i]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class WS extends _e{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"subpriority",1);ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Xe(it.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return st(n.length,r)}}validate(r,n){const a=r.getFullYear();return Zv(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function uf(e,t,r){var m,p,f,g;const n=Bs(),a=(r==null?void 0:r.weekStartsOn)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,o=de(e,r==null?void 0:r.in),i=o.getDay(),c=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(i+u)%7:(c+u)%7-(i+u)%7;return Rr(o,d,r)}class YS extends _e{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=uf(r,a,o),r.setHours(0,0,0,0),r}}class KS extends _e{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return lt(st(n.length,r),i);case"eo":return lt(a.ordinalNumber(r,{unit:"day"}),i);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=uf(r,a,o),r.setHours(0,0,0,0),r}}class QS extends _e{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return lt(st(n.length,r),i);case"co":return lt(a.ordinalNumber(r,{unit:"day"}),i);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=uf(r,a,o),r.setHours(0,0,0,0),r}}function GS(e,t,r){const n=de(e,r==null?void 0:r.in),a=NS(n,r),o=t-a;return Rr(n,o,r)}class JS extends _e{constructor(){super(...arguments);ae(this,"priority",90);ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const o=i=>i===0?7:i;switch(n){case"i":case"ii":return st(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return lt(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return lt(a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return lt(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return lt(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=GS(r,a),r.setHours(0,0,0,0),r}}class XS extends _e{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(cf(a),0,0,0),r}}class ZS extends _e{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(cf(a),0,0,0),r}}class eC extends _e{constructor(){super(...arguments);ae(this,"priority",80);ae(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(cf(a),0,0,0),r}}class tC extends _e{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Xe(it.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return st(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const o=r.getHours()>=12;return o&&a<12?r.setHours(a+12,0,0,0):!o&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class rC extends _e{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Xe(it.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return st(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class nC extends _e{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Xe(it.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return st(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class sC extends _e{constructor(){super(...arguments);ae(this,"priority",70);ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Xe(it.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return st(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const o=a<=24?a%24:a;return r.setHours(o,0,0,0),r}}class aC extends _e{constructor(){super(...arguments);ae(this,"priority",60);ae(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Xe(it.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return st(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class oC extends _e{constructor(){super(...arguments);ae(this,"priority",50);ae(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Xe(it.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return st(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class iC extends _e{constructor(){super(...arguments);ae(this,"priority",30);ae(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return lt(st(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class lC extends _e{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Gr(Qr.basicOptionalMinutes,r);case"XX":return Gr(Qr.basic,r);case"XXXX":return Gr(Qr.basicOptionalSeconds,r);case"XXXXX":return Gr(Qr.extendedOptionalSeconds,r);case"XXX":default:return Gr(Qr.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Oe(r,r.getTime()-Xl(r)-a)}}class cC extends _e{constructor(){super(...arguments);ae(this,"priority",10);ae(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Gr(Qr.basicOptionalMinutes,r);case"xx":return Gr(Qr.basic,r);case"xxxx":return Gr(Qr.basicOptionalSeconds,r);case"xxxxx":return Gr(Qr.extendedOptionalSeconds,r);case"xxx":default:return Gr(Qr.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Oe(r,r.getTime()-Xl(r)-a)}}class uC extends _e{constructor(){super(...arguments);ae(this,"priority",40);ae(this,"incompatibleTokens","*")}parse(r){return Jv(r)}set(r,n,a){return[Oe(r,a*1e3),{timestampIsSet:!0}]}}class dC extends _e{constructor(){super(...arguments);ae(this,"priority",20);ae(this,"incompatibleTokens","*")}parse(r){return Jv(r)}set(r,n,a){return[Oe(r,a),{timestampIsSet:!0}]}}const mC={G:new _S,y:new TS,Y:new MS,R:new IS,u:new AS,Q:new OS,q:new RS,M:new LS,L:new zS,w:new FS,I:new US,d:new HS,D:new WS,E:new YS,e:new KS,c:new QS,i:new JS,a:new XS,b:new ZS,B:new eC,h:new tC,H:new rC,K:new nC,k:new sC,m:new aC,s:new oC,S:new iC,X:new lC,x:new cC,t:new uC,T:new dC},pC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hC=/^'([^]*?)'?$/,gC=/''/g,xC=/\S/,yC=/[a-zA-Z]/;function vC(e,t,r,n){var v,y,b,N,C,T,j,S;const a=()=>Oe((n==null?void 0:n.in)||r,NaN),o=jS(),i=(n==null?void 0:n.locale)??o.locale??Yv,l=(n==null?void 0:n.firstWeekContainsDate)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((N=(b=o.locale)==null?void 0:b.options)==null?void 0:N.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((T=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:T.weekStartsOn)??o.weekStartsOn??((S=(j=o.locale)==null?void 0:j.options)==null?void 0:S.weekStartsOn)??0;if(!t)return e?a():de(r,n==null?void 0:n.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:i},d=[new DS(n==null?void 0:n.in,r)],m=t.match(fC).map(_=>{const I=_[0];if(I in Im){const h=Im[I];return h(_,i.formatLong)}return _}).join("").match(pC),p=[];for(let _ of m){const I=_[0],h=mC[I];if(h){const{incompatibleTokens:M}=h;if(Array.isArray(M)){const z=p.find(U=>M.includes(U.token)||U.token===I);if(z)throw new RangeError(`The format string mustn't contain \`${z.fullToken}\` and \`${_}\` at the same time`)}else if(h.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);p.push({token:I,fullToken:_});const $=h.run(e,_,i.match,u);if(!$)return a();d.push($.setter),e=$.rest}else{if(I.match(yC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(_==="''"?_="'":I==="'"&&(_=bC(_)),e.indexOf(_)===0)e=e.slice(_.length);else return a()}}if(e.length>0&&xC.test(e))return a();const f=d.map(_=>_.priority).sort((_,I)=>I-_).filter((_,I,h)=>h.indexOf(_)===I).map(_=>d.filter(I=>I.priority===_).sort((I,h)=>h.subPriority-I.subPriority)).map(_=>_[0]);let g=de(r,n==null?void 0:n.in);if(isNaN(+g))return a();const w={};for(const _ of f){if(!_.validate(g,u))return a();const I=_.set(g,w,u);Array.isArray(I)?(g=I[0],Object.assign(w,I[1])):g=I}return g}function bC(e){return e.match(hC)[1].replace(gC,"'")}function wC(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function jC(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t);return+Mm(n)==+Mm(a)}function NC(e,t,r){const[n,a]=Pn(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function Wo(e,t,r){const n=+de(e,r==null?void 0:r.in),[a,o]=[+de(t.start,r==null?void 0:r.in),+de(t.end,r==null?void 0:r.in)].sort((i,l)=>i-l);return n>=a&&n<=o}function SC(e,t,r){return Rr(e,-1,r)}function CC(e,t){const r=()=>Oe(t==null?void 0:t.in,NaN),a=DC(e);let o;if(a.date){const u=_C(a.date,2);o=TC(u.restDateString,u.year)}if(!o||isNaN(+o))return r();const i=+o;let l=0,c;if(a.time&&(l=MC(a.time),isNaN(l)))return r();if(a.timezone){if(c=IC(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=de(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return de(i+l+c,t==null?void 0:t.in)}const Ri={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,EC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,PC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function DC(e){const t={},r=e.split(Ri.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Ri.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ri.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Ri.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function _C(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function TC(e,t){if(t===null)return new Date(NaN);const r=e.match(kC);if(!r)return new Date(NaN);const n=!!r[4],a=to(r[1]),o=to(r[2])-1,i=to(r[3]),l=to(r[4]),c=to(r[5])-1;if(n)return zC(t,l,c)?AC(t,l,c):new Date(NaN);{const u=new Date(0);return!RC(t,o,i)||!LC(t,a)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(a,i)),u)}}function to(e){return e?parseInt(e):1}function MC(e){const t=e.match(EC);if(!t)return NaN;const r=ud(t[1]),n=ud(t[2]),a=ud(t[3]);return $C(r,n,a)?r*Gc+n*Qc+a*1e3:NaN}function ud(e){return e&&parseFloat(e.replace(",","."))||0}function IC(e){if(e==="Z")return 0;const t=e.match(PC);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return FC(n,a)?r*(n*Gc+a*Qc):NaN}function AC(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,o=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const OC=[31,null,31,30,31,30,31,31,30,31,30,31];function eb(e){return e%400===0||e%4===0&&e%100!==0}function RC(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(OC[t]||(eb(e)?29:28))}function LC(e,t){return t>=1&&t<=(eb(e)?366:365)}function zC(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function $C(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function FC(e,t){return t>=0&&t<=59}function fr(e,t,r){const n=de(e,r==null?void 0:r.in),a=n.getFullYear(),o=n.getDate(),i=Oe(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const l=wS(i);return n.setMonth(t,Math.min(o,l)),n}function al(e,t,r){const n=de(e,r==null?void 0:r.in);return n.setHours(t),n}function ol(e,t,r){const n=de(e,r==null?void 0:r.in);return n.setMinutes(t),n}function Gs(e,t,r){const n=de(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,o=t-a;return fr(n,n.getMonth()+o*3)}function il(e,t,r){const n=de(e,r==null?void 0:r.in);return n.setSeconds(t),n}function qr(e,t,r){const n=de(e,r==null?void 0:r.in);return isNaN(+n)?Oe(e,NaN):(n.setFullYear(t),n)}function Ss(e,t,r){return zr(e,-t,r)}function tb(e,t,r){return af(e,-1,r)}function k0(e,t,r){return Zl(e,-1,r)}function Da(e,t,r){return gn(e,-t,r)}function Xc(){return typeof window<"u"}function Ba(e){return rb(e)?(e.nodeName||"").toLowerCase():"#document"}function nr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ln(e){var t;return(t=(rb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rb(e){return Xc()?e instanceof Node||e instanceof nr(e).Node:!1}function zt(e){return Xc()?e instanceof Element||e instanceof nr(e).Element:!1}function on(e){return Xc()?e instanceof HTMLElement||e instanceof nr(e).HTMLElement:!1}function E0(e){return!Xc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nr(e).ShadowRoot}const BC=new Set(["inline","contents"]);function si(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Cr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!BC.has(a)}const UC=new Set(["table","td","th"]);function VC(e){return UC.has(Ba(e))}const qC=[":popover-open",":modal"];function Zc(e){return qC.some(t=>{try{return e.matches(t)}catch{return!1}})}const HC=["transform","translate","scale","rotate","perspective"],WC=["transform","translate","scale","rotate","perspective","filter"],YC=["paint","layout","strict","content"];function df(e){const t=mf(),r=zt(e)?Cr(e):e;return HC.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||WC.some(n=>(r.willChange||"").includes(n))||YC.some(n=>(r.contain||"").includes(n))}function KC(e){let t=ts(e);for(;on(t)&&!_a(t);){if(df(t))return t;if(Zc(t))return null;t=ts(t)}return null}function mf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const QC=new Set(["html","body","#document"]);function _a(e){return QC.has(Ba(e))}function Cr(e){return nr(e).getComputedStyle(e)}function eu(e){return zt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ts(e){if(Ba(e)==="html")return e;const t=e.assignedSlot||e.parentNode||E0(e)&&e.host||ln(e);return E0(t)?t.host:t}function nb(e){const t=ts(e);return _a(t)?e.ownerDocument?e.ownerDocument.body:e.body:on(t)&&si(t)?t:nb(t)}function Yo(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=nb(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=nr(a);if(o){const l=Om(i);return t.concat(i,i.visualViewport||[],si(a)?a:[],l&&r?Yo(l):[])}return t.concat(a,Yo(a,[],r))}function Om(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Ta=Math.min,Cs=Math.max,ac=Math.round,Li=Math.floor,nn=e=>({x:e,y:e}),GC={left:"right",right:"left",bottom:"top",top:"bottom"},JC={start:"end",end:"start"};function XC(e,t,r){return Cs(e,Ta(t,r))}function tu(e,t){return typeof e=="function"?e(t):e}function Ma(e){return e.split("-")[0]}function ai(e){return e.split("-")[1]}function ZC(e){return e==="x"?"y":"x"}function pf(e){return e==="y"?"height":"width"}const ek=new Set(["top","bottom"]);function gs(e){return ek.has(Ma(e))?"y":"x"}function ff(e){return ZC(gs(e))}function tk(e,t,r){r===void 0&&(r=!1);const n=ai(e),a=ff(e),o=pf(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=oc(i)),[i,oc(i)]}function rk(e){const t=oc(e);return[Rm(e),t,Rm(t)]}function Rm(e){return e.replace(/start|end/g,t=>JC[t])}const P0=["left","right"],D0=["right","left"],nk=["top","bottom"],sk=["bottom","top"];function ak(e,t,r){switch(e){case"top":case"bottom":return r?t?D0:P0:t?P0:D0;case"left":case"right":return t?nk:sk;default:return[]}}function ok(e,t,r,n){const a=ai(e);let o=ak(Ma(e),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(Rm)))),o}function oc(e){return e.replace(/left|right|bottom|top/g,t=>GC[t])}function ik(e){return{top:0,right:0,bottom:0,left:0,...e}}function sb(e){return typeof e!="number"?ik(e):{top:e,right:e,bottom:e,left:e}}function ic(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}var lk=typeof document<"u",ck=function(){},lc=lk?x.useLayoutEffect:ck;const uk={...Eo},dk=uk.useInsertionEffect,mk=dk||(e=>e());function pk(e){const t=x.useRef(()=>{});return mk(()=>{t.current=e}),x.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function _0(e,t,r){let{reference:n,floating:a}=e;const o=gs(t),i=ff(t),l=pf(i),c=Ma(t),u=o==="y",d=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-a.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:m};break;case"left":f={x:n.x-a.width,y:m};break;default:f={x:n.x,y:n.y}}switch(ai(t)){case"start":f[i]-=p*(r&&u?-1:1);break;case"end":f[i]+=p*(r&&u?-1:1);break}return f}const fk=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:m}=_0(u,n,c),p=n,f={},g=0;for(let w=0;w<l.length;w++){const{name:v,fn:y}=l[w],{x:b,y:N,data:C,reset:T}=await y({x:d,y:m,initialPlacement:n,placement:p,strategy:a,middlewareData:f,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,m=N??m,f={...f,[v]:{...f[v],...C}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(u=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:d,y:m}=_0(u,p,c)),w=-1)}return{x:d,y:m,placement:p,strategy:a,middlewareData:f}};async function hk(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:p=!1,padding:f=0}=tu(t,e),g=sb(f),v=l[p?m==="floating"?"reference":"floating":m],y=ic(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=m==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),C=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},T=ic(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:N,strategy:c}):b);return{top:(y.top-T.top+g.top)/C.y,bottom:(T.bottom-y.bottom+g.bottom)/C.y,left:(y.left-T.left+g.left)/C.x,right:(T.right-y.right+g.right)/C.x}}const gk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=tu(e,t)||{};if(u==null)return{};const m=sb(d),p={x:r,y:n},f=ff(a),g=pf(f),w=await i.getDimensions(u),v=f==="y",y=v?"top":"left",b=v?"bottom":"right",N=v?"clientHeight":"clientWidth",C=o.reference[g]+o.reference[f]-p[f]-o.floating[g],T=p[f]-o.reference[f],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=j?j[N]:0;(!S||!await(i.isElement==null?void 0:i.isElement(j)))&&(S=l.floating[N]||o.floating[g]);const _=C/2-T/2,I=S/2-w[g]/2-1,h=Ta(m[y],I),M=Ta(m[b],I),$=h,z=S-w[g]-M,U=S/2-w[g]/2+_,A=XC($,U,z),P=!c.arrow&&ai(a)!=null&&U!==A&&o.reference[g]/2-(U<$?h:M)-w[g]/2<0,E=P?U<$?U-$:U-z:0;return{[f]:p[f]+E,data:{[f]:A,centerOffset:U-A-E,...P&&{alignmentOffset:E}},reset:P}}}),xk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=!0,...v}=tu(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=Ma(a),b=gs(l),N=Ma(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=p||(N||!w?[oc(l)]:rk(l)),j=g!=="none";!p&&j&&T.push(...ok(l,w,g,C));const S=[l,...T],_=await hk(t,v),I=[];let h=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&I.push(_[y]),m){const U=tk(a,i,C);I.push(_[U[0]],_[U[1]])}if(h=[...h,{placement:a,overflows:I}],!I.every(U=>U<=0)){var M,$;const U=(((M=o.flip)==null?void 0:M.index)||0)+1,A=S[U];if(A&&(!(m==="alignment"?b!==gs(A):!1)||h.every(k=>k.overflows[0]>0&&gs(k.placement)===b)))return{data:{index:U,overflows:h},reset:{placement:A}};let P=($=h.filter(E=>E.overflows[0]<=0).sort((E,k)=>E.overflows[1]-k.overflows[1])[0])==null?void 0:$.placement;if(!P)switch(f){case"bestFit":{var z;const E=(z=h.filter(k=>{if(j){const D=gs(k.placement);return D===b||D==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(D=>D>0).reduce((D,F)=>D+F,0)]).sort((k,D)=>k[1]-D[1])[0])==null?void 0:z[0];E&&(P=E);break}case"initialPlacement":P=l;break}if(a!==P)return{reset:{placement:P}}}return{}}}},yk=new Set(["left","top"]);async function vk(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=Ma(r),l=ai(r),c=gs(r)==="y",u=yk.has(i)?-1:1,d=o&&c?-1:1,m=tu(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const bk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await vk(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}};function ab(e){const t=Cr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=on(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=ac(r)!==o||ac(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function hf(e){return zt(e)?e:e.contextElement}function ga(e){const t=hf(e);if(!on(t))return nn(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=ab(t);let i=(o?ac(r.width):r.width)/n,l=(o?ac(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const wk=nn(0);function ob(e){const t=nr(e);return!mf()||!t.visualViewport?wk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jk(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==nr(e)?!1:t}function Os(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=hf(e);let i=nn(1);t&&(n?zt(n)&&(i=ga(n)):i=ga(e));const l=jk(o,r,n)?ob(o):nn(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,m=a.height/i.y;if(o){const p=nr(o),f=n&&zt(n)?nr(n):n;let g=p,w=Om(g);for(;w&&n&&f!==g;){const v=ga(w),y=w.getBoundingClientRect(),b=Cr(w),N=y.left+(w.clientLeft+parseFloat(b.paddingLeft))*v.x,C=y.top+(w.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,m*=v.y,c+=N,u+=C,g=nr(w),w=Om(g)}}return ic({width:d,height:m,x:c,y:u})}function gf(e,t){const r=eu(e).scrollLeft;return t?t.left+r:Os(ln(e)).left+r}function ib(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:gf(e,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function Nk(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=ln(n),l=t?Zc(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=nn(1);const d=nn(0),m=on(n);if((m||!m&&!o)&&((Ba(n)!=="body"||si(i))&&(c=eu(n)),on(n))){const f=Os(n);u=ga(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=i&&!m&&!o?ib(i,c,!0):nn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function Sk(e){return Array.from(e.getClientRects())}function Ck(e){const t=ln(e),r=eu(e),n=e.ownerDocument.body,a=Cs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Cs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+gf(e);const l=-r.scrollTop;return Cr(n).direction==="rtl"&&(i+=Cs(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function kk(e,t){const r=nr(e),n=ln(e),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=mf();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}const Ek=new Set(["absolute","fixed"]);function Pk(e,t){const r=Os(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=on(e)?ga(e):nn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function T0(e,t,r){let n;if(t==="viewport")n=kk(e,r);else if(t==="document")n=Ck(ln(e));else if(zt(t))n=Pk(t,r);else{const a=ob(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ic(n)}function lb(e,t){const r=ts(e);return r===t||!zt(r)||_a(r)?!1:Cr(r).position==="fixed"||lb(r,t)}function Dk(e,t){const r=t.get(e);if(r)return r;let n=Yo(e,[],!1).filter(l=>zt(l)&&Ba(l)!=="body"),a=null;const o=Cr(e).position==="fixed";let i=o?ts(e):e;for(;zt(i)&&!_a(i);){const l=Cr(i),c=df(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&Ek.has(a.position)||si(i)&&!c&&lb(e,i))?n=n.filter(d=>d!==i):a=l,i=ts(i)}return t.set(e,n),n}function _k(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?Zc(t)?[]:Dk(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const m=T0(t,d,a);return u.top=Cs(m.top,u.top),u.right=Ta(m.right,u.right),u.bottom=Ta(m.bottom,u.bottom),u.left=Cs(m.left,u.left),u},T0(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Tk(e){const{width:t,height:r}=ab(e);return{width:t,height:r}}function Mk(e,t,r){const n=on(t),a=ln(t),o=r==="fixed",i=Os(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=nn(0);function u(){c.x=gf(a)}if(n||!n&&!o)if((Ba(t)!=="body"||si(a))&&(l=eu(t)),n){const f=Os(t,!0,o,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&u();o&&!n&&a&&u();const d=a&&!n&&!o?ib(a,l):nn(0),m=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:m,y:p,width:i.width,height:i.height}}function dd(e){return Cr(e).position==="static"}function M0(e,t){if(!on(e)||Cr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ln(e)===r&&(r=r.ownerDocument.body),r}function cb(e,t){const r=nr(e);if(Zc(e))return r;if(!on(e)){let a=ts(e);for(;a&&!_a(a);){if(zt(a)&&!dd(a))return a;a=ts(a)}return r}let n=M0(e,t);for(;n&&VC(n)&&dd(n);)n=M0(n,t);return n&&_a(n)&&dd(n)&&!df(n)?r:n||KC(e)||r}const Ik=async function(e){const t=this.getOffsetParent||cb,r=this.getDimensions,n=await r(e.floating);return{reference:Mk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ak(e){return Cr(e).direction==="rtl"}const Ok={convertOffsetParentRelativeRectToViewportRelativeRect:Nk,getDocumentElement:ln,getClippingRect:_k,getOffsetParent:cb,getElementRects:Ik,getClientRects:Sk,getDimensions:Tk,getScale:ga,isElement:zt,isRTL:Ak};function ub(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rk(e,t){let r=null,n;const a=ln(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:m,width:p,height:f}=u;if(l||t(),!p||!f)return;const g=Li(m),w=Li(a.clientWidth-(d+p)),v=Li(a.clientHeight-(m+f)),y=Li(d),N={rootMargin:-g+"px "+-w+"px "+-v+"px "+-y+"px",threshold:Cs(0,Ta(1,c))||1};let C=!0;function T(j){const S=j[0].intersectionRatio;if(S!==c){if(!C)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!ub(u,e.getBoundingClientRect())&&i(),C=!1}try{r=new IntersectionObserver(T,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(T,N)}r.observe(e)}return i(!0),o}function Lk(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=hf(e),d=a||o?[...u?Yo(u):[],...Yo(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const m=u&&l?Rk(u,r):null;let p=-1,f=null;i&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=f)==null||N.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let g,w=c?Os(e):null;c&&v();function v(){const y=Os(e);w&&!ub(w,y)&&r(),w=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),m==null||m(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const zk=bk,$k=xk,I0=gk,Fk=(e,t,r)=>{const n=new Map,a={platform:Ok,...r},o={...a.platform,_c:n};return fk(e,t,{...a,platform:o})};var Bk=typeof document<"u",Uk=function(){},ll=Bk?x.useLayoutEffect:Uk;function cc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!cc(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!cc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function db(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function A0(e,t){const r=db(e);return Math.round(t*r)/r}function md(e){const t=x.useRef(e);return ll(()=>{t.current=e}),t}function Vk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,m]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=x.useState(n);cc(p,n)||f(n);const[g,w]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(k=>{k!==j.current&&(j.current=k,w(k))},[]),N=x.useCallback(k=>{k!==S.current&&(S.current=k,y(k))},[]),C=o||g,T=i||v,j=x.useRef(null),S=x.useRef(null),_=x.useRef(d),I=c!=null,h=md(c),M=md(a),$=md(u),z=x.useCallback(()=>{if(!j.current||!S.current)return;const k={placement:t,strategy:r,middleware:p};M.current&&(k.platform=M.current),Fk(j.current,S.current,k).then(D=>{const F={...D,isPositioned:$.current!==!1};U.current&&!cc(_.current,F)&&(_.current=F,Gp.flushSync(()=>{m(F)}))})},[p,t,r,M,$]);ll(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(k=>({...k,isPositioned:!1})))},[u]);const U=x.useRef(!1);ll(()=>(U.current=!0,()=>{U.current=!1}),[]),ll(()=>{if(C&&(j.current=C),T&&(S.current=T),C&&T){if(h.current)return h.current(C,T,z);z()}},[C,T,z,h,I]);const A=x.useMemo(()=>({reference:j,floating:S,setReference:b,setFloating:N}),[b,N]),P=x.useMemo(()=>({reference:C,floating:T}),[C,T]),E=x.useMemo(()=>{const k={position:r,left:0,top:0};if(!P.floating)return k;const D=A0(P.floating,d.x),F=A0(P.floating,d.y);return l?{...k,transform:"translate("+D+"px, "+F+"px)",...db(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:F}},[r,l,P.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:z,refs:A,elements:P,floatingStyles:E}),[d,z,A,P,E])}const qk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?I0({element:n.current,padding:a}).fn(r):{}:n?I0({element:n,padding:a}).fn(r):{}}}},Hk=(e,t)=>({...zk(e),options:[e,t]}),Wk=(e,t)=>({...$k(e),options:[e,t]}),Yk=(e,t)=>({...qk(e),options:[e,t]}),Kk={...Eo};let O0=!1,Qk=0;const R0=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Qk++;function Gk(){const[e,t]=x.useState(()=>O0?R0():void 0);return lc(()=>{e==null&&t(R0())},[]),x.useEffect(()=>{O0=!0},[]),e}const Jk=Kk.useId,mb=Jk||Gk,Xk=x.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:o,shift:i}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:m,stroke:p,d:f,style:{transform:g,...w}={},...v}=t,y=mb(),[b,N]=x.useState(!1);if(lc(()=>{if(!a)return;Cr(a).direction==="rtl"&&N(!0)},[a]),!a)return null;const[C,T]=n.split("-"),j=C==="top"||C==="bottom";let S=m;(j&&i!=null&&i.x||!j&&i!=null&&i.y)&&(S=null);const _=d*2,I=_/2,h=l/2*(u/-8+1),M=c/2*u/4,$=!!f,z=S&&T==="end"?"bottom":"top";let U=S&&T==="end"?"right":"left";S&&b&&(U=T==="end"?"left":"right");const A=(o==null?void 0:o.x)!=null?S||o.x:"",P=(o==null?void 0:o.y)!=null?S||o.y:"",E=f||"M0,0"+(" H"+l)+(" L"+(l-h)+","+(c-M))+(" Q"+l/2+","+c+" "+h+","+(c-M))+" Z",k={top:$?"rotate(180deg)":"",left:$?"rotate(90deg)":"rotate(-90deg)",bottom:$?"":"rotate(180deg)",right:$?"rotate(-90deg)":"rotate(90deg)"}[C];return s.jsxs("svg",{...v,"aria-hidden":!0,ref:r,width:$?l:l+_,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[U]:A,[z]:P,[C]:j||$?"100%":"calc(100% - "+_/2+"px)",transform:[k,g].filter(D=>!!D).join(" "),...w},children:[_>0&&s.jsx("path",{clipPath:"url(#"+y+")",fill:"none",stroke:p,strokeWidth:_+(f?0:1),d:E}),s.jsx("path",{stroke:_&&!f?v.fill:"none",d:E}),s.jsx("clipPath",{id:y,children:s.jsx("rect",{x:-I,y:I*($?-1:1),width:l+_,height:l})})]})});function Zk(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const e3=x.createContext(null),t3=x.createContext(null),r3=()=>{var e;return((e=x.useContext(e3))==null?void 0:e.id)||null},n3=()=>x.useContext(t3);function s3(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=mb(),o=x.useRef({}),[i]=x.useState(()=>Zk()),l=r3()!=null,[c,u]=x.useState(n.reference),d=pk((f,g,w)=>{o.current.openEvent=f?g:void 0,i.emit("openchange",{open:f,event:g,reason:w,nested:l}),r==null||r(f,g,w)}),m=x.useMemo(()=>({setPositionReference:u}),[]),p=x.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return x.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:p,events:i,floatingId:a,refs:m}),[t,d,p,i,a,m])}function a3(e){e===void 0&&(e={});const{nodeId:t}=e,r=s3({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[o,i]=x.useState(null),[l,c]=x.useState(null),d=(a==null?void 0:a.domReference)||o,m=x.useRef(null),p=n3();lc(()=>{d&&(m.current=d)},[d]);const f=Vk({...e,elements:{...a,...l&&{reference:l}}}),g=x.useCallback(N=>{const C=zt(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;c(C),f.refs.setReference(C)},[f.refs]),w=x.useCallback(N=>{(zt(N)||N===null)&&(m.current=N,i(N)),(zt(f.refs.reference.current)||f.refs.reference.current===null||N!==null&&!zt(N))&&f.refs.setReference(N)},[f.refs]),v=x.useMemo(()=>({...f.refs,setReference:w,setPositionReference:g,domReference:m}),[f.refs,w,g]),y=x.useMemo(()=>({...f.elements,domReference:d}),[f.elements,d]),b=x.useMemo(()=>({...f,...n,refs:v,elements:y,nodeId:t}),[f,v,y,t,n]);return lc(()=>{n.dataRef.current.floatingContext=b;const N=p==null?void 0:p.nodesRef.current.find(C=>C.id===t);N&&(N.context=b)}),x.useMemo(()=>({...f,context:b,refs:v,elements:y}),[f,v,y,b])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Lm=function(t,r){return Lm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},Lm(t,r)};function bt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Lm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ke=function(){return ke=Object.assign||function(r){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ke.apply(this,arguments)};function Xr(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var o3=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,o=e.className,i=e.children,l=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return W.createElement("div",{className:o,role:"dialog","aria-label":l,"aria-modal":"true"},i)},i3=function(e,t){var r=x.useRef(null),n=x.useRef(e);n.current=e;var a=x.useCallback(function(o){var i,l=o.composed&&o.composedPath&&o.composedPath().find(function(c){return c instanceof Node})||o.target;r.current&&!r.current.contains(l)&&(t&&l instanceof HTMLElement&&l.classList.contains(t)||(i=n.current)===null||i===void 0||i.call(n,o))},[t]);return x.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},ru=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,o=e.style,i=e.ignoreClass,l=i3(r,i);return W.createElement("div",{className:n,style:o,ref:function(c){l.current=c,a&&(a.current=c)}},t)},se;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(se||(se={}));function pb(){var e=typeof window<"u"?window:globalThis;return e}var oi=12;function Te(e){if(e==null)return new Date;var t=typeof e=="string"?CC(e):de(e);return nu(t)?t:new Date}function pd(e,t,r,n,a){a===void 0&&(a=Te());for(var o=Ia(r)||Ia(xf()),i=Array.isArray(t)?t:[t],l=0,c=i;l<c.length;l++){var u=c[l],d=vC(e,u,a,{locale:o});if(nu(d)&&(!n||e===Ke(d,u,r)))return d}return null}function nu(e,t){return ec(e)&&!As(e,new Date("1/1/1800"))}function Ke(e,t,r){if(r==="en")return S0(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Ia(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Ia(xf()),S0(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function pr(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Ke(e,a,n)||""}var fb=" - ";function l3(e,t,r){if(!e)return"";var n=pr(e,r),a=t?pr(t,r):"";return"".concat(n).concat(fb).concat(a)}function c3(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?pr(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=pr(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function fd(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,o=a===void 0?0:a,i=t.second,l=i===void 0?0:i;return al(ol(il(e,l),o),n)}function u3(e){return of(e)}function d3(e,t){return Ke(e,"ddd",t)}function cl(e){return Is(e)}function Jn(e,t,r){var n=Ia(t||xf());return Cn(e,{locale:n,weekStartsOn:r})}function bn(e){return Hv(e)}function mo(e){return Jc(e)}function L0(e){return Mm(e)}function z0(){return Is(Te())}function $0(e){return Vv(e)}function m3(e){return CN(e)}function p3(e){return qv(e)}function Hr(e,t){return e&&t?NC(e,t):!e&&!t}function Lt(e,t){return e&&t?wC(e,t):!e&&!t}function uc(e,t){return e&&t?jC(e,t):!e&&!t}function Ce(e,t){return e&&t?NN(e,t):!e&&!t}function xs(e,t){return e&&t?SS(e,t):!e&&!t}function po(e,t,r){var n,a=Is(t),o=Vv(r);try{n=Wo(e,{start:a,end:o})}catch{n=!1}return n}function xf(){var e=pb();return e.__localeId__}function Ia(e){if(typeof e=="string"){var t=pb();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function f3(e,t,r){return t(Ke(e,"EEEE",r))}function h3(e,t){return Ke(e,"EEEEEE",t)}function g3(e,t){return Ke(e,"EEE",t)}function yf(e,t){return Ke(fr(Te(),e),"LLLL",t)}function hb(e,t){return Ke(fr(Te(),e),"LLL",t)}function x3(e,t){return Ke(Gs(Te(),e),"QQQ",t)}function yr(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,u=r.filterDate;return ii(e,{minDate:n,maxDate:a})||o&&o.some(function(d){return d instanceof Date?Ce(e,d):Ce(e,d.date)})||i&&i.some(function(d){var m=d.start,p=d.end;return Wo(e,{start:m,end:p})})||l&&!l.some(function(d){return Ce(e,d)})||c&&!c.some(function(d){var m=d.start,p=d.end;return Wo(e,{start:m,end:p})})||u&&!u(Te(e))||!1}function vf(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var i=o.start,l=o.end;return Wo(e,{start:i,end:l})}):n&&n.some(function(o){var i;return o instanceof Date?Ce(e,o):Ce(e,(i=o.date)!==null&&i!==void 0?i:new Date)})||!1}function gb(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.includeDates,l=r.filterDate;return ii(e,{minDate:n?Hv(n):void 0,maxDate:a?qv(a):void 0})||(o==null?void 0:o.some(function(c){return Lt(e,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return Lt(e,c)})||l&&!l(Te(e))||!1}function zi(e,t,r,n){var a=we(e),o=It(e),i=we(t),l=It(t),c=we(n);return a===i&&a===c?o<=r&&r<=l:a<i?c===a&&o<=r||c===i&&l>=r||c<i&&c>a:!1}function y3(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.includeDates;return ii(e,{minDate:n,maxDate:a})||o&&o.some(function(l){return Lt(l instanceof Date?l:l.date,e)})||i&&!i.some(function(l){return Lt(l,e)})||!1}function $i(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.includeDates,l=r.filterDate;return ii(e,{minDate:n,maxDate:a})||(o==null?void 0:o.some(function(c){return uc(e,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return uc(e,c)})||l&&!l(Te(e))||!1}function Fi(e,t,r){if(!t||!r||!ec(t)||!ec(r))return!1;var n=we(t),a=we(r);return n<=e&&a>=e}function ul(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,o=r.excludeDates,i=r.includeDates,l=r.filterDate,c=new Date(e,0,1);return ii(c,{minDate:n?Jc(n):void 0,maxDate:a?Wv(a):void 0})||(o==null?void 0:o.some(function(u){return Hr(c,u instanceof Date?u:u.date)}))||i&&!i.some(function(u){return Hr(c,u)})||l&&!l(Te(c))||!1}function Bi(e,t,r,n){var a=we(e),o=Ns(e),i=we(t),l=Ns(t),c=we(n);return a===i&&a===c?o<=r&&r<=l:a<i?c===a&&o<=r||c===i&&l>=r||c<i&&c>a:!1}function ii(e,t){var r,n=t===void 0?{}:t,a=n.minDate,o=n.maxDate;return(r=a&&Pa(e,a)<0||o&&Pa(e,o)>0)!==null&&r!==void 0?r:!1}function F0(e,t){return t.some(function(r){return yn(r)===yn(e)&&vn(r)===vn(e)&&Gn(r)===Gn(e)})}function B0(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,o=r.filterTime;return n&&F0(e,n)||a&&!F0(e,a)||o&&!o(e)||!1}function U0(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=Te();a=al(a,yn(e)),a=ol(a,vn(e)),a=il(a,Gn(e));var o=Te();o=al(o,yn(r)),o=ol(o,vn(r)),o=il(o,Gn(r));var i=Te();i=al(i,yn(n)),i=ol(i,vn(n)),i=il(i,Gn(n));var l;try{l=!Wo(a,{start:o,end:i})}catch{l=!1}return l}function V0(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,o=Ss(e,1);return n&&tc(n,o)>0||a&&a.every(function(i){return tc(i,o)>0})||!1}function q0(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,o=zr(e,1);return n&&tc(o,n)>0||a&&a.every(function(i){return tc(o,i)>0})||!1}function v3(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,o=Jc(e),i=tb(o);return n&&rc(n,i)>0||a&&a.every(function(l){return rc(l,i)>0})||!1}function b3(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,o=Wv(e),i=af(o,1);return n&&rc(i,n)>0||a&&a.every(function(l){return rc(i,l)>0})||!1}function H0(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,o=Da(e,1);return n&&nc(n,o)>0||a&&a.every(function(i){return nc(i,o)>0})||!1}function w3(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,o=a===void 0?oi:a,i=mo(Da(e,o)),l=Fn(i,o).endPeriod,c=n&&we(n);return c&&c>l||!1}function W0(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,o=gn(e,1);return n&&nc(o,n)>0||a&&a.every(function(i){return nc(o,i)>0})||!1}function j3(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,o=a===void 0?oi:a,i=gn(e,o),l=Fn(i,o).startPeriod,c=n&&we(n);return c&&c<l||!1}function xb(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Pa(a,t)>=0});return y0(n)}else return r?y0(r):t}function yb(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Pa(a,t)<=0});return x0(n)}else return r?x0(r):t}function Y0(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,o=e.length;a<o;a++){var i=e[a];if(xn(i)){var l=Ke(i,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(t)||(c.push(t),n.set(l,c))}else if(typeof i=="object"){var u=Object.keys(i),d=(r=u[0])!==null&&r!==void 0?r:"",m=i[d];if(typeof d=="string"&&Array.isArray(m))for(var p=0,f=m.length;p<f;p++){var g=m[p];if(g){var l=Ke(g,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(d)||(c.push(d),n.set(l,c))}}}}return n}function N3(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function S3(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,o=n.holidayName;if(xn(a)){var i=Ke(a,"MM.dd.yyyy"),l=r.get(i)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&N3(l.holidayNames,[o]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?Xr(Xr([],c,!0),[o],!1):[o],r.set(i,l)}}}),r}function C3(e,t,r,n,a){for(var o=a.length,i=[],l=0;l<o;l++){var c=e,u=a[l];u&&(c=vN(c,yn(u)),c=Tm(c,vn(u)),c=jN(c,Gn(u)));var d=Tm(e,(r+1)*n);es(c,t)&&As(c,d)&&u!=null&&i.push(u)}return i}function K0(e){return e<10?"0".concat(e):"".concat(e)}function Fn(e,t){t===void 0&&(t=oi);var r=Math.ceil(we(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function k3(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function Q0(e){var t=e.getSeconds(),r=e.getMilliseconds();return de(e.getTime()-t*1e3-r)}function E3(e,t){return Q0(e).getTime()===Q0(t).getTime()}function G0(e){if(!xn(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function J0(e,t){if(!xn(e)||!xn(t))throw new Error("Invalid date received");var r=G0(e),n=G0(t);return As(r,n)}function vb(e){return e.key===se.Space}var P3=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=W.createRef(),n.onTimeChange=function(a){var o,i;n.setState({time:a});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),u=c?l:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),m=d[0],p=d[1];u.setHours(Number(m)),u.setMinutes(Number(p))}(i=(o=n.props).onChange)===null||i===void 0||i.call(o,u)},n.renderTimeInput=function(){var a=n.state.time,o=n.props,i=o.date,l=o.timeString,c=o.customTimeInput;return c?x.cloneElement(c,{date:i,value:a,onChange:n.onTimeChange}):W.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||l)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return W.createElement("div",{className:"react-datepicker__input-time-container"},W.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),W.createElement("div",{className:"react-datepicker-time__input-container"},W.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(x.Component),D3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=x.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,o,i=n.key;i===se.Space&&(n.preventDefault(),n.key=se.Enter),(o=(a=r.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},r.isSameDay=function(n){return Ce(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return r.isSameDayOrWeek(i)}):r.isSameDayOrWeek(r.props.selected),o=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!o},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),yr(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return vf(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Ce(r.props.day,Jn(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Ce(n,Jn(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,o=n.highlightDates;if(!o)return!1;var i=Ke(a,"MM.dd.yyyy");return o.get(i)},r.getHolidaysClass=function(){var n,a=r.props,o=a.day,i=a.holidays;if(!i)return[void 0];var l=Ke(o,"MM.dd.yyyy");return i.has(l)?[(n=i.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,o=n.startDate,i=n.endDate;return!o||!i?!1:po(a,o,i)},r.isInSelectingRange=function(){var n,a=r.props,o=a.day,i=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,m=a.endDate,p=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(i||l||c)||!p||!u&&r.isDisabled()?!1:i&&m&&(As(p,m)||xs(p,m))?po(o,p,m):l&&d&&(es(p,d)||xs(p,d))||c&&d&&!m&&(es(p,d)||xs(p,d))?po(o,d,p):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,o=a.day,i=a.startDate,l=a.selectsStart,c=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Ce(o,c):Ce(o,i)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,o=a.day,i=a.endDate,l=a.selectsEnd,c=a.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l||c?Ce(o,u):Ce(o,i)},r.isRangeStart=function(){var n=r.props,a=n.day,o=n.startDate,i=n.endDate;return!o||!i?!1:Ce(o,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,o=n.startDate,i=n.endDate;return!o||!i?!1:Ce(i,a)},r.isWeekend=function(){var n=bS(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===It(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(It(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Te())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return fe("react-datepicker__day",a,"react-datepicker__day--"+d3(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,o=n.ariaLabelPrefixWhenEnabled,i=o===void 0?"Choose":o,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,u=r.isDisabled()||r.isExcluded()?c:i;return"".concat(u," ").concat(Ke(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,o=n.holidays,i=o===void 0?new Map:o,l=n.excludeDates,c=Ke(a,"MM.dd.yyyy"),u=[];return i.has(c)&&u.push.apply(u,i.get(c).holidayNames),r.isExcluded()&&u.push(l==null?void 0:l.filter(function(d){return d instanceof Date?Ce(d,a):Ce(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,o=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Ce(a,n))?0:-1;return o},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(C0(r.props.day),r.props.day):C0(r.props.day)},r.render=function(){return W.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&W.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(x.Component),_3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=x.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,o,i=n.key;i===se.Space&&(n.preventDefault(),n.key=se.Enter),(o=(a=r.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ce(r.props.date,r.props.selected)&&Ce(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Ce(r.props.date,r.props.selected)&&Ce(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Ce(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,o=r.ariaLabelPrefix,i=o===void 0?t.defaultProps.ariaLabelPrefix:o,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&Ce(this.props.date,this.props.selected)};return W.createElement("div",{ref:this.weekNumberEl,className:fe(c),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(x.Component),T3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return yr(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,o){for(var i,l,c,u=new Date(n),d=0;d<7;d++){var m=new Date(n);m.setDate(m.getDate()+d);var p=!r.isDisabled(m);if(p){u=m;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,o),r.props.showWeekPicker&&r.handleDayClick(u,o),((i=r.props.shouldCloseOnSelect)!==null&&i!==void 0?i:t.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):u3(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=Rr(n,6),o=new Date(n);o<=a;){if(!r.isDisabled(o))return!1;o=Rr(o,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],o=r.formatWeekNumber(n);if(r.props.showWeekNumber){var i=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,o):void 0;a.push(W.createElement(_3,ke({key:"W"},t.defaultProps,r.props,{weekNumber:o,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:i})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=Rr(n,l);return W.createElement(D3,ke({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return Jn(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ce(r.startOfWeek(),r.props.selected)&&Ce(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Ce(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return W.createElement("div",{className:fe(r)},this.renderDays())},t}(x.Component),ro,M3=6,xa={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},hd=(ro={},ro[xa.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ro[xa.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ro[xa.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ro),Ui=1;function X0(e,t){return e?xa.FOUR_COLUMNS:t?xa.TWO_COLUMNS:xa.THREE_COLUMNS}var I3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Xr([],Array(12),!0).map(function(){return x.createRef()}),r.QUARTER_REFS=Xr([],Array(4),!0).map(function(){return x.createRef()}),r.isDisabled=function(n){return yr(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return vf(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var o,i;(i=(o=r.props).onDayClick)===null||i===void 0||i.call(o,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,o;(o=(a=r.props).onDayMouseEnter)===null||o===void 0||o.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,o=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:Lt(fr(o,n),i)},r.isRangeStartQuarter=function(n){var a=r.props,o=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:uc(Gs(o,n),i)},r.isRangeEndMonth=function(n){var a=r.props,o=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:Lt(fr(o,n),l)},r.isRangeEndQuarter=function(n){var a=r.props,o=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:uc(Gs(o,n),l)},r.isInSelectingRangeMonth=function(n){var a,o=r.props,i=o.day,l=o.selectsStart,c=o.selectsEnd,u=o.selectsRange,d=o.startDate,m=o.endDate,p=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!p?!1:l&&m?zi(p,m,n,i):c&&d||u&&d&&!m?zi(d,p,n,i):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var o=r.props,i=o.day,l=o.startDate,c=o.selectsStart,u=fr(i,n),d=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?Lt(u,d):Lt(u,l)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var o=r.props,i=o.day,l=o.endDate,c=o.selectsEnd,u=o.selectsRange,d=fr(i,n),m=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||u?Lt(d,m):Lt(d,l)},r.isInSelectingRangeQuarter=function(n){var a,o=r.props,i=o.day,l=o.selectsStart,c=o.selectsEnd,u=o.selectsRange,d=o.startDate,m=o.endDate,p=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!p?!1:l&&m?Bi(p,m,n,i):c&&d||u&&d&&!m?Bi(d,p,n,i):!1},r.isWeekInMonth=function(n){var a=r.props.day,o=Rr(n,6);return Lt(n,a)||Lt(o,a)},r.isCurrentMonth=function(n,a){return we(n)===we(Te())&&a===It(Te())},r.isCurrentQuarter=function(n,a){return we(n)===we(Te())&&a===Ns(Te())},r.isSelectedMonth=function(n,a,o){return It(o)===a&&we(n)===we(o)},r.isSelectMonthInList=function(n,a,o){return o.some(function(i){return r.isSelectedMonth(n,a,i)})},r.isSelectedQuarter=function(n,a,o){return Ns(n)===a&&we(n)===we(o)},r.isMonthSelected=function(){var n=r.props,a=n.day,o=n.selected,i=n.selectedDates,l=n.selectsMultiple,c=It(a);return l?i==null?void 0:i.some(function(u){return r.isSelectedMonth(a,c,u)}):!!o&&r.isSelectedMonth(a,c,o)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,o=0,i=!1,l=Jn(bn(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(g){return r.props.showWeekPicker?Jn(g,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(g){return r.props.showWeekPicker?Jn(g,r.props.locale,r.props.calendarStartDay):r.props.selected},d=r.props.selected?u(r.props.selected):void 0,m=r.props.preSelection?c(r.props.preSelection):void 0;n.push(W.createElement(T3,ke({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:o,day:l,month:It(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:d,preSelection:m,showWeekNumber:r.props.showWeekNumbers}))),!i;){o++,l=Zl(l,1);var p=a&&o>=M3,f=!a&&!r.isWeekInMonth(l);if(p||f)if(r.props.peekNextMonth)i=!0;else break}return n},r.onMonthClick=function(n,a){var o=r.isMonthDisabledForLabelDate(a),i=o.isDisabled,l=o.labelDate;i||r.handleDayClick(bn(l),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),o=a.isDisabled,i=a.labelDate;o||r.handleDayMouseEnter(bn(i))},r.handleMonthNavigation=function(n,a){var o,i,l,c;(i=(o=r.props).setPreSelection)===null||i===void 0||i.call(o,a),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,o){var i,l=r.props,c=l.selected,u=l.preSelection,d=l.setPreSelection,m=l.minDate,p=l.maxDate,f=l.showFourColumnMonthYearPicker,g=l.showTwoColumnMonthYearPicker;if(u){var w=X0(f,g),v=r.getVerticalOffset(w),y=(i=hd[w])===null||i===void 0?void 0:i.grid,b=function(S,_,I){var h,M,$=_,z=I;switch(S){case se.ArrowRight:$=zr(_,Ui),z=I===11?0:I+Ui;break;case se.ArrowLeft:$=Ss(_,Ui),z=I===0?11:I-Ui;break;case se.ArrowUp:$=Ss(_,v),z=!((h=y==null?void 0:y[0])===null||h===void 0)&&h.includes(I)?I+12-v:I-v;break;case se.ArrowDown:$=zr(_,v),z=!((M=y==null?void 0:y[y.length-1])===null||M===void 0)&&M.includes(I)?I-12+v:I+v;break}return{newCalculatedDate:$,newCalculatedMonth:z}},N=function(S,_,I){for(var h=40,M=S,$=!1,z=0,U=b(M,_,I),A=U.newCalculatedDate,P=U.newCalculatedMonth;!$;){if(z>=h){A=_,P=I;break}if(m&&A<m){M=se.ArrowRight;var E=b(M,A,P);A=E.newCalculatedDate,P=E.newCalculatedMonth}if(p&&A>p){M=se.ArrowLeft;var E=b(M,A,P);A=E.newCalculatedDate,P=E.newCalculatedMonth}if(y3(A,r.props)){var E=b(M,A,P);A=E.newCalculatedDate,P=E.newCalculatedMonth}else $=!0;z++}return{newCalculatedDate:A,newCalculatedMonth:P}};if(a===se.Enter){r.isMonthDisabled(o)||(r.onMonthClick(n,o),d==null||d(c));return}var C=N(a,u,o),T=C.newCalculatedDate,j=C.newCalculatedMonth;switch(a){case se.ArrowRight:case se.ArrowLeft:case se.ArrowUp:case se.ArrowDown:r.handleMonthNavigation(j,T);break}}},r.getVerticalOffset=function(n){var a,o;return(o=(a=hd[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},r.onMonthKeyDown=function(n,a){var o=r.props,i=o.disabledKeyboardNavigation,l=o.handleOnMonthKeyDown,c=n.key;c!==se.Tab&&n.preventDefault(),i||r.handleKeyboardNavigation(n,c,a),l&&l(n)},r.onQuarterClick=function(n,a){var o=Gs(r.props.day,a);$i(o,r.props)||r.handleDayClick(L0(o),n)},r.onQuarterMouseEnter=function(n){var a=Gs(r.props.day,n);$i(a,r.props)||r.handleDayMouseEnter(L0(a))},r.handleQuarterNavigation=function(n,a){var o,i,l,c;r.isDisabled(a)||r.isExcluded(a)||((i=(o=r.props).setPreSelection)===null||i===void 0||i.call(o,a),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var o,i,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case se.Enter:r.onQuarterClick(n,a),(i=(o=r.props).setPreSelection)===null||i===void 0||i.call(o,r.props.selected);break;case se.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,af(r.props.preSelection,1));break;case se.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,tb(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,o=r.props,i=o.day,l=o.minDate,c=o.maxDate,u=o.excludeDates,d=o.includeDates,m=fr(i,n);return{isDisabled:(a=(l||c||u||d)&&gb(m,r.props))!==null&&a!==void 0?a:!1,labelDate:m}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,o=a.day,i=a.startDate,l=a.endDate,c=a.preSelection,u=a.monthClassName,d=u?u(fr(o,n)):void 0,m=r.getSelection();return fe("react-datepicker__month-text","react-datepicker__month-".concat(n),d,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":m?r.isSelectMonthInList(o,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(o,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":i&&l?zi(i,l,n,o):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(o,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=It(r.props.preSelection),o=r.isMonthDisabledForLabelDate(a).isDisabled,i=n===a&&!(o||r.props.disabledKeyboardNavigation)?"0":"-1";return i},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Ns(r.props.preSelection),o=$i(r.props.day,r.props),i=n===a&&!(o||r.props.disabledKeyboardNavigation)?"0":"-1";return i},r.getAriaLabel=function(n){var a=r.props,o=a.chooseDayAriaLabelPrefix,i=o===void 0?"Choose":o,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,u=a.day,d=a.locale,m=fr(u,n),p=r.isDisabled(m)||r.isExcluded(m)?c:i;return"".concat(p," ").concat(Ke(m,"MMMM yyyy",d))},r.getQuarterClassNames=function(n){var a=r.props,o=a.day,i=a.startDate,l=a.endDate,c=a.selected,u=a.minDate,d=a.maxDate,m=a.excludeDates,p=a.includeDates,f=a.filterDate,g=a.preSelection,w=a.disabledKeyboardNavigation,v=(u||d||m||p||f)&&$i(Gs(o,n),r.props);return fe("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(o,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&g&&r.isSelectedQuarter(o,n,g)&&!v,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":i&&l?Bi(i,l,n,o):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(o,n)})},r.getMonthContent=function(n){var a=r.props,o=a.showFullMonthYearPicker,i=a.renderMonthContent,l=a.locale,c=a.day,u=hb(n,l),d=yf(n,l);return i?i(n,u,d,c):o?d:u},r.getQuarterContent=function(n){var a,o=r.props,i=o.renderQuarterContent,l=o.locale,c=x3(n,l);return(a=i==null?void 0:i(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,o=a.showTwoColumnMonthYearPicker,i=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,u=(n=hd[X0(i,o)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(d,m){return W.createElement("div",{className:"react-datepicker__month-wrapper",key:m},d.map(function(p,f){return W.createElement("div",{ref:r.MONTH_REFS[p],key:f,onClick:function(g){r.onMonthClick(g,p)},onKeyDown:function(g){vb(g)&&(g.preventDefault(),g.key=se.Enter),r.onMonthKeyDown(g,p)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(p)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(p)}:void 0,tabIndex:Number(r.getTabIndex(p)),className:r.getMonthClassNames(p),"aria-disabled":r.isMonthDisabled(p),role:"option","aria-label":r.getAriaLabel(p),"aria-current":r.isCurrentMonth(l,p)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,p,c):void 0},r.getMonthContent(p))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,o=n.selected,i=[1,2,3,4];return W.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(l,c){return W.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(u){r.onQuarterClick(u,l)},onKeyDown:function(u){r.onQuarterKeyDown(u,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":o?r.isSelectedQuarter(a,l,o):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(a,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,o=n.selectsStart,i=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,u=n.showWeekPicker;return fe("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||i)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,o=r.selectsMultiple;if(o)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,o=r.day,i=r.ariaLabelPrefix,l=i===void 0?"Month ":i,c=l?l.trim()+" ":"";return W.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Ke(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(x.Component),A3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,a){return W.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?W.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return W.createElement(ru,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),O3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,o){return W.createElement("option",{key:a,value:o},a)})},r.renderSelectMode=function(n){return W.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return W.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return W.createElement(A3,ke({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,o=[r.renderReadView(!a,n)];return a&&o.unshift(r.renderDropdown(n)),o},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return hb(o,r.props.locale)}:function(o){return yf(o,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return W.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(x.Component);function R3(e,t){for(var r=[],n=bn(e),a=bn(t);!es(n,a);)r.push(Te(n)),n=zr(n,1);return r}var L3=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var o=Am(a),i=Hr(n.props.date,a)&&Lt(n.props.date,a);return W.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":i?"true":void 0},i?W.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ke(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:R3(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=fe({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return W.createElement(ru,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),z3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=bn(r.props.minDate),a=bn(r.props.maxDate),o=[];!es(n,a);){var i=Am(n);o.push(W.createElement("option",{key:i,value:i},Ke(n,r.props.dateFormat,r.props.locale))),n=zr(n,1)}return o},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return W.createElement("select",{value:Am(bn(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Ke(r.props.date,r.props.dateFormat,r.props.locale);return W.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return W.createElement(L3,ke({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=Te(n);Hr(r.props.date,a)&&Lt(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return W.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(x.Component),$3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,o;r.list&&(r.list.scrollTop=(o=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&o!==void 0?o:0)})},r.handleClick=function(n){var a,o;(r.props.minTime||r.props.maxTime)&&U0(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&B0(n,r.props)||(o=(a=r.props).onChange)===null||o===void 0||o.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&E3(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&U0(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&B0(n,r.props)},r.liClasses=function(n){var a,o=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(yn(n)*3600+vn(n)*60+Gn(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},r.handleOnKeyDown=function(n,a){var o,i;n.key===se.Space&&(n.preventDefault(),n.key=se.Enter),(n.key===se.ArrowUp||n.key===se.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===se.ArrowDown||n.key===se.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===se.Enter&&r.handleClick(a),(i=(o=r.props).handleOnKeyDown)===null||i===void 0||i.call(o,n)},r.renderTimes=function(){for(var n,a=[],o=typeof r.props.format=="string"?r.props.format:"p",i=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,l=r.props.selected||r.props.openToDate||Te(),c=cl(l),u=r.props.injectTimes&&r.props.injectTimes.sort(function(v,y){return v.getTime()-y.getTime()}),d=60*k3(l),m=d/i,p=0;p<m;p++){var f=Tm(c,p*i);if(a.push(f),u){var g=C3(c,f,p,i,u);a=a.concat(g)}}var w=a.reduce(function(v,y){return y.getTime()<=l.getTime()?y:v},a[0]);return a.map(function(v){return W.createElement("li",{key:v.valueOf(),onClick:r.handleClick.bind(r,v),className:r.liClasses(v),ref:function(y){v===w&&(r.centerLi=y)},onKeyDown:function(y){r.handleOnKeyDown(y,v)},tabIndex:v===w?0:-1,role:"option","aria-selected":r.isSelectedTime(v)?"true":void 0,"aria-disabled":r.isDisabledTime(v)?"true":void 0},Ke(v,o,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?W.createElement(W.Fragment,null):W.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},W.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,a=this.state.height;return W.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),W.createElement("div",{className:"react-datepicker__time"},W.createElement("div",{className:"react-datepicker__time-box"},W.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(x.Component),Z0=3,F3=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Xr([],Array(n.props.yearItemNumber),!0).map(function(){return x.createRef()}),n.isDisabled=function(a){return yr(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return vf(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var o=function(){var i,l;(l=(i=n.YEAR_REFS[a])===null||i===void 0?void 0:i.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(a,o){n.props.onDayClick&&n.props.onDayClick(a,o)},n.handleYearNavigation=function(a,o){var i,l,c,u,d=n.props,m=d.date,p=d.yearItemNumber;if(!(m===void 0||p===void 0)){var f=Fn(m,p).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((l=(i=n.props).setPreSelection)===null||l===void 0||l.call(i,o),a-f<0?n.updateFocusOnPaginate(p-(f-a)):a-f>=p?n.updateFocusOnPaginate(Math.abs(p-(a-f))):(u=(c=n.YEAR_REFS[a-f])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,o){return Ce(a,o)},n.isCurrentYear=function(a){return a===we(Te())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Hr(qr(Te(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Hr(qr(Te(),a),n.props.endDate)},n.isInRange=function(a){return Fi(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var o=n.props,i=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate;return!(i||l||c)||!n.selectingDate()?!1:i&&d?Fi(a,n.selectingDate(),d):l&&u||c&&u&&!d?Fi(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var o;if(!n.isInSelectingRange(a))return!1;var i=n.props,l=i.startDate,c=i.selectsStart,u=qr(Te(),a);return c?Hr(u,(o=n.selectingDate())!==null&&o!==void 0?o:null):Hr(u,l??null)},n.isSelectingRangeEnd=function(a){var o;if(!n.isInSelectingRange(a))return!1;var i=n.props,l=i.endDate,c=i.selectsEnd,u=i.selectsRange,d=qr(Te(),a);return c||u?Hr(d,(o=n.selectingDate())!==null&&o!==void 0?o:null):Hr(d,l??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,i=o.minDate,l=o.maxDate,c=o.excludeDates,u=o.includeDates,d=o.filterDate,m=mo(qr(n.props.date,a)),p=(i||l||c||u||d)&&ul(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ce(m,mo(n.props.selected))&&Ce(m,mo(n.props.preSelection))&&!p}},n.isSelectedYear=function(a){var o=n.props,i=o.selectsMultiple,l=o.selected,c=o.selectedDates;return i?c==null?void 0:c.some(function(u){return a===we(u)}):!!l&&a===we(l)},n.onYearClick=function(a,o){var i=n.props.date;i!==void 0&&n.handleYearClick(mo(qr(i,o)),a)},n.onYearKeyDown=function(a,o){var i,l,c=a.key,u=n.props,d=u.date,m=u.yearItemNumber,p=u.handleOnKeyDown;if(c!==se.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case se.Enter:if(n.props.selected==null)break;n.onYearClick(a,o),(l=(i=n.props).setPreSelection)===null||l===void 0||l.call(i,n.props.selected);break;case se.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,gn(n.props.preSelection,1));break;case se.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Da(n.props.preSelection,1));break;case se.ArrowUp:{if(d===void 0||m===void 0||n.props.preSelection==null)break;var f=Fn(d,m).startPeriod,g=Z0,w=o-g;if(w<f){var v=m%g;o>=f&&o<f+v?g=v:g+=v,w=o-g}n.handleYearNavigation(w,Da(n.props.preSelection,g));break}case se.ArrowDown:{if(d===void 0||m===void 0||n.props.preSelection==null)break;var y=Fn(d,m).endPeriod,g=Z0,w=o+g;if(w>y){var v=m%g;o<=y&&o>y-v?g=v:g+=v,w=o+g}n.handleYearNavigation(w,gn(n.props.preSelection,g));break}}p&&p(a)},n.getYearClassNames=function(a){var o=n.props,i=o.date,l=o.minDate,c=o.maxDate,u=o.excludeDates,d=o.includeDates,m=o.filterDate,p=o.yearClassName;return fe("react-datepicker__year-text","react-datepicker__year-".concat(a),i?p==null?void 0:p(qr(i,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(l||c||u||d||m)&&ul(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=we(n.props.preSelection),i=ul(a,n.props);return a===o&&!i?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,o=a.date,i=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(o===void 0)return null;for(var u=Fn(o,i),d=u.startPeriod,m=u.endPeriod,p=function(w){n.push(W.createElement("div",{ref:f.YEAR_REFS[w-d],onClick:function(v){r.onYearClick(v,w)},onKeyDown:function(v){vb(v)&&(v.preventDefault(),v.key=se.Enter),r.onYearKeyDown(v,w)},tabIndex:Number(f.getYearTabIndex(w)),className:f.getYearClassNames(w),onMouseEnter:f.props.usePointerEvent?void 0:function(v){return l(v,w)},onPointerEnter:f.props.usePointerEvent?function(v){return l(v,w)}:void 0,onMouseLeave:f.props.usePointerEvent?void 0:function(v){return c(v,w)},onPointerLeave:f.props.usePointerEvent?function(v){return c(v,w)}:void 0,key:w,"aria-current":f.isCurrentYear(w)?"date":void 0},f.getYearContent(w)))},f=this,g=d;g<=m;g++)p(g);return W.createElement("div",{className:"react-datepicker__year"},W.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(x.Component);function B3(e,t,r,n){for(var a=[],o=0;o<2*t+1;o++){var i=e+t-o,l=!0;r&&(l=we(r)<=i),n&&l&&(l=we(n)>=i),l&&a.push(i)}return a}var U3=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var l=n.props.year,c=n.state.yearsList.map(function(m){return W.createElement("div",{className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),"aria-selected":l===m?"true":void 0},l===m?W.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",m)}),u=n.props.minDate?we(n.props.minDate):null,d=n.props.maxDate?we(n.props.maxDate):null;return(!d||!n.state.yearsList.find(function(m){return m===d}))&&c.unshift(W.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(m){return m===u}))&&c.push(W.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(u){return u+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,o=r.scrollableYearDropdown,i=a||(o?10:5);return n.state={yearsList:B3(n.props.year,i,n.props.minDate,n.props.maxDate)},n.dropdownRef=x.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(o){return o.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=fe({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return W.createElement(ru,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),V3=function(e){bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?we(r.props.minDate):1900,a=r.props.maxDate?we(r.props.maxDate):2100,o=[],i=n;i<=a;i++)o.push(W.createElement("option",{key:i,value:i},i));return o},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return W.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return W.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},W.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return W.createElement(U3,ke({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var o;(o=r.onSelect)===null||o===void 0||o.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var o,i;(i=(o=r.props).onSelect)===null||i===void 0||i.call(o,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return W.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(x.Component),q3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],H3=function(e){var t=(e.className||"").split(/\s+/);return q3.some(function(r){return t.indexOf(r)>=0})},W3=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var o,i;H3(a.target)&&((i=(o=n.props).onDropdownFocus)===null||i===void 0||i.call(o,a))},n.getDateInView=function(){var a=n.props,o=a.preSelection,i=a.selected,l=a.openToDate,c=xb(n.props),u=yb(n.props),d=Te(),m=l||i||o;return m||(c&&As(d,c)?c:u&&es(d,u)?u:d)},n.increaseMonth=function(){n.setState(function(a){var o=a.date;return{date:zr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var o=a.date;return{date:Ss(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,o,i){n.props.onSelect(a,o,i),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,o){n.setState({selectingDate:qr(Te(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,o)},n.handleYearMouseLeave=function(a,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,o)},n.handleYearChange=function(a){var o,i,l,c;(i=(o=n.props).onYearChange)===null||i===void 0||i.call(o,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!yr(a,n.props))return a;for(var o=bn(a),i=p3(a),l=SN(i,o),c=null,u=0;u<=l;u++){var d=Rr(o,u);if(!yr(d,n.props)){c=d;break}}return c},n.handleMonthChange=function(a){var o,i,l,c=(o=n.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(i=n.props).setOpen)===null||l===void 0||l.call(i,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var o,i;(i=(o=n.props).onMonthChange)===null||i===void 0||i.call(o,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(o){var i=o.date;return{date:qr(i,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(o){var i=o.date;return{date:fr(i,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(o){var i=o.date;return{date:qr(fr(i,It(a)),we(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var o=Jn(a,n.props.locale,n.props.calendarStartDay),i=[];return n.props.showWeekNumbers&&i.push(W.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(l){var c=Rr(o,l),u=n.formatWeekday(c,n.props.locale),d=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return W.createElement("div",{key:l,"aria-label":Ke(c,"EEEE",n.props.locale),className:fe("react-datepicker__day-name",d)},u)}))},n.formatWeekday=function(a,o){return n.props.formatWeekDay?f3(a,n.props.formatWeekDay,o):n.props.useWeekdaysShort?g3(a,o):h3(a,o)},n.decreaseYear=function(){n.setState(function(a){var o,i=a.date;return{date:Da(i,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,o,i;if(!n.props.renderCustomHeader){var l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:c,d=Ss(n.state.date,u),m;switch(!0){case n.props.showMonthYearPicker:m=H0(n.state.date,n.props);break;case n.props.showYearPicker:m=w3(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=v3(n.state.date,n.props);break;default:m=V0(d,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],f=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(g=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(f.push("react-datepicker__navigation--previous--disabled"),g=void 0);var w=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,v=n.props,y=v.previousMonthButtonLabel,b=y===void 0?t.defaultProps.previousMonthButtonLabel:y,N=v.previousYearButtonLabel,C=N===void 0?t.defaultProps.previousYearButtonLabel:N,T=n.props,j=T.previousMonthAriaLabel,S=j===void 0?typeof b=="string"?b:"Previous Month":j,_=T.previousYearAriaLabel,I=_===void 0?typeof C=="string"?C:"Previous Year":_;return W.createElement("button",{type:"button",className:f.join(" "),onClick:g,onKeyDown:n.props.handleOnKeyDown,"aria-label":w?I:S},W.createElement("span",{className:p.join(" ")},w?C:b))}}},n.increaseYear=function(){n.setState(function(a){var o,i=a.date;return{date:gn(i,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=W0(n.state.date,n.props);break;case n.props.showYearPicker:o=j3(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=b3(n.state.date,n.props);break;default:o=q0(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,d=n.props,m=d.nextMonthButtonLabel,p=m===void 0?t.defaultProps.nextMonthButtonLabel:m,f=d.nextYearButtonLabel,g=f===void 0?t.defaultProps.nextYearButtonLabel:f,w=n.props,v=w.nextMonthAriaLabel,y=v===void 0?typeof p=="string"?p:"Next Month":v,b=w.nextYearAriaLabel,N=b===void 0?typeof g=="string"?g:"Next Year":b;return W.createElement("button",{type:"button",className:i.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?N:y},W.createElement("span",{className:l.join(" ")},u?g:p))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),W.createElement("h2",{className:o.join(" ")},Ke(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return W.createElement(V3,ke({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:we(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return W.createElement(O3,ke({},t.defaultProps,n.props,{month:It(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return W.createElement(z3,ke({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(z0(),a),n.props.setPreSelection&&n.props.setPreSelection(z0())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return W.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var o=a.monthDate,i=a.i;return W.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),W.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(i!==0),n.renderMonthYearDropdown(i!==0),n.renderYearDropdown(i!==0)),W.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(a){var o,i,l=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=V0(n.state.date,n.props),d=q0(n.state.date,n.props),m=H0(n.state.date,n.props),p=W0(n.state.date,n.props),f=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return W.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(i=(o=n.props).renderCustomHeader)===null||i===void 0?void 0:i.call(o,ke(ke({},n.state),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:m,nextYearButtonDisabled:p})),f&&W.createElement("div",{className:"react-datepicker__day-names"},n.header(l)))},n.renderYearHeader=function(a){var o=a.monthDate,i=n.props,l=i.showYearPicker,c=i.yearItemNumber,u=c===void 0?t.defaultProps.yearItemNumber:c,d=Fn(o,u),m=d.startPeriod,p=d.endPeriod;return W.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(p):we(o))},n.renderHeader=function(a){var o=a.monthDate,i=a.i,l=i===void 0?0:i,c={monthDate:o,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var i=[],l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?gn(n.state.date,c):Ss(n.state.date,c),d=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:c,m=0;m<l;++m){var p=m-d+c,f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?gn(u,p):zr(u,p),g="month-".concat(m),w=m<l-1,v=m>0;i.push(W.createElement("div",{key:g,ref:function(y){n.monthContainer=y??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:f,i:m}),W.createElement(I3,ke({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:f,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:v}))))}return i}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return W.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),W.createElement(F3,ke({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return W.createElement($3,ke({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,o=a&&nu(a)&&!!n.props.selected,i=o?"".concat(K0(a.getHours()),":").concat(K0(a.getMinutes())):"";if(n.props.showTimeInput)return W.createElement(P3,ke({},t.defaultProps,n.props,{date:a,timeString:i,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,o=Fn(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),i=o.startPeriod,l=o.endPeriod,c;return n.props.showYearPicker?c="".concat(i," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=we(n.state.date):c="".concat(yf(It(n.state.date),n.props.locale)," ").concat(we(n.state.date)),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return W.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=x.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:oi}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Ce(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Lt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ce(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||o3;return W.createElement(ru,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},W.createElement("div",{style:{display:"contents"},ref:this.containerRef},W.createElement(r,{className:fe("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(x.Component),Y3=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,o="react-datepicker__calendar-icon";if(typeof t=="string")return W.createElement("i",{className:"".concat(o," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(W.isValidElement(t)){var i=t;return W.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(o," ").concat(n),onClick:function(l){typeof i.props.onClick=="function"&&i.props.onClick(l),typeof a=="function"&&a(l)}})}return W.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},W.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},bb=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return mv.createPortal(this.props.children,this.el)},t}(x.Component),K3="[tabindex], a, button, input, select, textarea",Q3=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},wb=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(K3),1,-1).filter(Q3)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=x.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?W.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},W.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,W.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(x.Component);function G3(e){var t=function(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,o=x.useRef(null),i=a3(ke({open:!a,whileElementsMounted:Lk,placement:r.popperPlacement,middleware:Xr([Wk({padding:15}),Hk(10),Yk({element:o})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=ke(ke({},r),{hidePopper:a,popperProps:ke(ke({},i),{arrowRef:o})});return W.createElement(e,ke({},l))};return t}var J3=function(e){bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,a=r.wrapperClassName,o=r.hidePopper,i=o===void 0?t.defaultProps.hidePopper:o,l=r.popperComponent,c=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,m=r.portalId,p=r.portalHost,f=r.popperProps,g=r.showArrow,w=void 0;if(!i){var v=fe("react-datepicker-popper",n);w=W.createElement(wb,{enableTabLoop:u},W.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:v,"data-placement":f.placement,onKeyDown:d},l,g&&W.createElement(Xk,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(w=x.createElement(this.props.popperContainer,{},w)),m&&!i&&(w=W.createElement(bb,{portalId:m,portalHost:p},w));var y=fe("react-datepicker-wrapper",a);return W.createElement(W.Fragment,null,W.createElement("div",{ref:f.refs.setReference,className:y},c),w)},t}(x.Component),X3=G3(J3),eg="react-datepicker-ignore-onclickoutside";function Z3(e,t){return e&&t?It(e)!==It(t)||we(e)!==we(t):e!==t}var gd="Date input not valid.",e6=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Te()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,i){var l=new Date(i.date);return nu(l)?Xr(Xr([],o,!0),[ke(ke({},i),{date:l})],!1):o},[])},n.calcInitialState=function(){var a,o=n.getPreSelection(),i=xb(n.props),l=yb(n.props),c=i&&As(o,cl(i))?i:l&&es(o,$0(l))?l:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:Y0(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(ke(ke({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(ke(ke({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},n.setBlur=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,o){o===void 0&&(o=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:xd},function(){a||n.setState(function(i){return{focused:o?i.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return xn(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var o,i,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((i=(o=n.props).onFocus)===null||i===void 0||i.call(o,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var o,i;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((i=(o=n.props).onBlur)===null||i===void 0||i.call(o,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var o,i;n.props.inline||n.setOpen(!1),(i=(o=n.props).onClickOutside)===null||i===void 0||i.call(o,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,o,i,l,c,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var m=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:t6});var p=n.props,f=p.selectsRange,g=p.startDate,w=p.endDate,v=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,y=(o=n.props.strictParsing)!==null&&o!==void 0?o:t.defaultProps.strictParsing,b=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(f){var N=b.split(v.includes("-")?fb:"-",2).map(function(M){return M.trim()}),C=N[0],T=N[1],j=pd(C??"",v,n.props.locale,y),S=pd(T??"",v,n.props.locale,y),_=(g==null?void 0:g.getTime())!==(j==null?void 0:j.getTime()),I=(w==null?void 0:w.getTime())!==(S==null?void 0:S.getTime());if(!_&&!I||j&&yr(j,n.props)||S&&yr(S,n.props))return;(l=(i=n.props).onChange)===null||l===void 0||l.call(i,[j,S],m)}else{var h=pd(b,v,n.props.locale,y,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(h||!b)&&n.setSelected(h,m,!0)}}},n.handleSelect=function(a,o,i){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(a,o,!1,i),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var l=n.props,c=l.startDate,u=l.endDate;c&&!u&&(n.props.swapRange||!J0(a,c))&&n.setOpen(!1)}}},n.setSelected=function(a,o,i,l){var c,u,d=a;if(n.props.showYearPicker){if(d!==null&&ul(we(d),n.props))return}else if(n.props.showMonthYearPicker){if(d!==null&&gb(d,n.props))return}else if(d!==null&&yr(d,n.props))return;var m=n.props,p=m.onChange,f=m.selectsRange,g=m.startDate,w=m.endDate,v=m.selectsMultiple,y=m.selectedDates,b=m.minTime,N=m.swapRange;if(!xs(n.props.selected,d)||n.props.allowSameDay||f||v)if(d!==null&&(n.props.selected&&(!i||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(d=fd(d,{hour:yn(n.props.selected),minute:vn(n.props.selected),second:Gn(n.props.selected)})),!i&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&b&&(d=fd(d,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),n.props.inline||n.setState({preSelection:d}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),f){var C=!g&&!w,T=g&&!w,j=g&&w;C?p==null||p([d,null],o):T&&(d===null?p==null||p([null,null],o):J0(d,g)?N?p==null||p([d,g],o):p==null||p([d,null],o):p==null||p([g,d],o)),j&&(p==null||p([d,null],o))}else if(v){if(d!==null)if(!(y!=null&&y.length))p==null||p([d],o);else{var S=y.some(function(I){return Ce(I,d)});if(S){var _=y.filter(function(I){return!Ce(I,d)});p==null||p(_,o)}else p==null||p(Xr(Xr([],y,!0),[d],!1),o)}}else p==null||p(d,o);i||((u=(c=n.props).onSelect)===null||u===void 0||u.call(c,d,o),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var o=xn(n.props.minDate),i=xn(n.props.maxDate),l=!0;if(a){var c=cl(a);if(o&&i)l=po(a,n.props.minDate,n.props.maxDate);else if(o){var u=cl(n.props.minDate);l=es(a,u)||xs(c,u)}else if(i){var d=$0(n.props.maxDate);l=As(a,d)||xs(c,d)}}l&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var o,i;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?a:fd(l,{hour:yn(a),minute:vn(a)});n.setState({preSelection:c}),(i=(o=n.props).onChange)===null||i===void 0||i.call(o,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(a=n.props).onInputClick)===null||o===void 0||o.call(a)},n.onInputKeyDown=function(a){var o,i,l,c,u,d;(i=(o=n.props).onKeyDown)===null||i===void 0||i.call(o,a);var m=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===se.ArrowDown||m===se.ArrowUp||m===se.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(m===se.ArrowDown||m===se.ArrowUp){a.preventDefault();var p=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(p);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var g=Te(n.state.preSelection);m===se.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===xd?(n.handleSelect(g,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(g)):n.setOpen(!1)):m===se.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===se.Tab&&n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:gd})}},n.onPortalKeyDown=function(a){var o=a.key;o===se.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var o,i,l,c,u,d,m=n.props,p=m.minDate,f=m.maxDate,g=m.disabledKeyboardNavigation,w=m.showWeekPicker,v=m.shouldCloseOnSelect,y=m.locale,b=m.calendarStartDay,N=m.adjustDateOnChange,C=m.inline;if((i=(o=n.props).onKeyDown)===null||i===void 0||i.call(o,a),!g){var T=a.key,j=a.shiftKey,S=Te(n.state.preSelection),_=function(A,P){var E=P;switch(A){case se.ArrowRight:E=w?Zl(P,1):Rr(P,1);break;case se.ArrowLeft:E=w?k0(P):SC(P);break;case se.ArrowUp:E=k0(P);break;case se.ArrowDown:E=Zl(P,1);break;case se.PageUp:E=j?Da(P,1):Ss(P,1);break;case se.PageDown:E=j?gn(P,1):zr(P,1);break;case se.Home:E=Jn(P,y,b);break;case se.End:E=m3(P);break}return E},I=function(A,P){for(var E=40,k=A,D=!1,F=0,O=_(A,P);!D;){if(F>=E){O=P;break}p&&O<p&&(k=se.ArrowRight,O=yr(p,n.props)?_(k,O):p),f&&O>f&&(k=se.ArrowLeft,O=yr(f,n.props)?_(k,O):f),yr(O,n.props)?((k===se.PageUp||k===se.Home)&&(k=se.ArrowRight),(k===se.PageDown||k===se.End)&&(k=se.ArrowLeft),O=_(k,O)):D=!0,F++}return O};if(T===se.Enter){a.preventDefault(),n.handleSelect(S,a),!v&&n.setPreSelection(S);return}else if(T===se.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:gd});return}var h=null;switch(T){case se.ArrowLeft:case se.ArrowRight:case se.ArrowUp:case se.ArrowDown:case se.PageUp:case se.PageDown:case se.Home:case se.End:h=I(T,S);break}if(!h){(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:gd});return}if(a.preventDefault(),n.setState({lastPreSelectChange:xd}),N&&n.setSelected(h),n.setPreSelection(h),C){var M=It(S),$=It(h),z=we(S),U=we(h);M!==$||z!==U?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var o=a.key;o===se.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var o=n.props,i=o.selectsRange,l=o.onChange;i?l==null||l([null,null],a):l==null||l(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,o;return!n.props.inline&&!n.isCalendarOpen()?null:W.createElement(W3,ke({showMonthYearDropdown:void 0,ref:function(i){n.calendar=i}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:S3(n.modifyHolidays()),outsideClickIgnoreClass:eg,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,o=a.dateFormat,i=o===void 0?t.defaultProps.dateFormat:o,l=a.locale,c=n.props.showTimeInput||n.props.showTimeSelect,u=c?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(pr(n.props.startDate,{dateFormat:u,locale:l}),". ").concat(n.props.endDate?"End date: "+pr(n.props.endDate,{dateFormat:u,locale:l}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(pr(n.props.selected,{dateFormat:i,locale:l})):n.props.showYearPicker?d="Selected year: ".concat(pr(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?d="Selected month: ".concat(pr(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(pr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):d="Selected date: ".concat(pr(n.props.selected,{dateFormat:u,locale:l})),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,o,i,l=fe(n.props.className,(a={},a[eg]=n.state.open,a)),c=n.props.customInput||W.createElement("input",{type:"text"}),u=n.props.customInputRef||"ref",d=n.props,m=d.dateFormat,p=m===void 0?t.defaultProps.dateFormat:m,f=d.locale,g=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?l3(n.props.startDate,n.props.endDate,{dateFormat:p,locale:f}):n.props.selectsMultiple?c3((i=n.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:p,locale:f}):pr(n.props.selected,{dateFormat:p,locale:f});return x.cloneElement(c,(o={},o[u]=function(w){n.input=w},o.value=g,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=fe(c.props.className,l),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var a=n.props,o=a.isClearable,i=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,d=a.clearButtonTitle,m=a.clearButtonClassName,p=m===void 0?"":m,f=a.ariaLabelClose,g=f===void 0?"Close":f,w=a.selectedDates,v=a.readOnly;return o&&!v&&(l!=null||c!=null||u!=null||w!=null&&w.length)?W.createElement("button",{type:"button",className:fe("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":g,onClick:n.onClearClick,title:d,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:oi,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,o,i,l;r.inline&&Z3(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Y0(this.props.highlightDates)}),!n.focused&&!xs(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),n.open===!0&&this.state.open===!1&&((l=(i=this.props).onCalendarClose)===null||l===void 0||l.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,o=r.calendarIconClassname,i=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),W.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&W.createElement(Y3,ke({icon:a,className:fe(i,!i&&o,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?W.createElement(wb,{enableTabLoop:this.props.enableTabLoop},W.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=W.createElement(bb,ke({portalId:this.props.portalId},this.props),n)),W.createElement("div",null,this.renderInputContainer(),n)}return W.createElement(X3,ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(x.Component),t6="input",xd="navigate";const r6=e=>{const t=mN(),r=e.clientId||t.clientId||t.id,[n,a]=x.useState(null),[o,i]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(null),[m,p]=x.useState(!1),[f,g]=x.useState(null),[w,v]=x.useState(null),[y,b]=x.useState({}),[N,C]=x.useState(!1),T=A=>A?A.replace(/([A-Z])/g," $1").replace(/^./,P=>P.toUpperCase()).replace(/_/g," "):"",j=x.useCallback(async()=>{if(!r||r==="undefined"){c("Aucun ID client valide fourni"),i(!1);return}i(!0),c(null);try{const A=`http://localhost:3000/api/internal/clients/${r}`,P=await fetch(A,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"});if(!P.ok){const k=await P.text();throw new Error(k||`Erreur lors de la récupération du client (${P.status})`)}const E=await P.json();if(!E.success||!E.customer)throw new Error("Données client non valides");a(E.customer),b({}),C(!1)}catch(A){c(`Erreur: ${A.message||"Impossible de charger les détails du client"}`)}finally{i(!1)}},[r]);x.useEffect(()=>{r&&r!=="undefined"?j():(c("ID client manquant ou invalide"),i(!1))},[r,j]);const S=(A,P)=>A.toLowerCase().includes("email")?"email":A.toLowerCase().includes("phone")||A.toLowerCase().includes("tel")?"tel":A.toLowerCase().includes("date")?"date":typeof P=="boolean"?"checkbox":typeof P=="number"?"number":"text",_=(A,P)=>{d(A);const E=y[A]!==void 0?y[A]:P;v(E)},I=()=>{d(null)},h=A=>{const{value:P,type:E,checked:k}=A.target;v(E==="checkbox"?k:P)},M=A=>{v(A)},$=A=>{const P={...y,[A]:w};b(P),C(!0),d(null)},z=async()=>{if(Object.keys(y).length===0){g("Aucune modification à enregistrer."),setTimeout(()=>g(null),3e3);return}if(!r){g("Erreur: ID client manquant pour la sauvegarde.");return}p(!0),g(null);try{const A=`http://localhost:3000/api/internal/clients/${r}`,P=await fetch(A,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include",body:JSON.stringify(y)});if(!P.ok){const E=await P.text();throw new Error(E||`Erreur lors de la sauvegarde (${P.status} ${P.statusText})`)}a(E=>({...E,...y})),b({}),C(!1),g("Toutes les modifications ont été enregistrées avec succès !"),setTimeout(()=>g(null),3e3)}catch(A){g(`Erreur lors de la sauvegarde: ${A.message}`)}finally{p(!1)}};if(o)return s.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary"})});if(l)return s.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-md",children:[s.jsx("p",{className:"font-medium",children:"Erreur"}),s.jsx("p",{children:l}),s.jsx("button",{onClick:()=>{i(!0),j()},className:"mt-2 text-sm text-red-600 hover:underline",children:"Réessayer"})]});if(!n)return s.jsx("div",{className:"p-4 bg-yellow-50 text-yellow-700 rounded-md",children:"Aucune donnée client disponible."});const U=["_id","__v","createdAt","updatedAt","password","hashedPassword","salt","shops","userId","status","submittedAt","dateSoumission","nomSoumission","fonctionSoumission","documented"];return s.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Détails du client:"," ",n.raisonSociale||n.nomSoumission||r]}),(N||f)&&s.jsxs("div",{className:"mb-4 p-4 sticky top-0 bg-white z-10 shadow-sm rounded-md",children:[f&&s.jsx("div",{className:`mb-2 p-3 rounded-md text-sm ${f.includes("Erreur")?"bg-red-100 text-red-800":f.includes("Aucune modification")?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f}),N&&s.jsx("button",{onClick:z,disabled:m,className:"w-full px-4 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary-dark focus:outline-none focus:ring-2 focus:ring-sna-primary-light focus:ring-opacity-50 disabled:opacity-50 flex items-center justify-center",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Enregistrement..."]}):"Enregistrer les modifications"})]}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:s.jsx("div",{className:"border-t border-gray-200",children:s.jsx("dl",{children:Object.entries(n).filter(([A])=>!U.includes(A)).map(([A,P])=>{const E=n&&n[A],k=y[A]!==void 0?y[A]:E,D=u===A,F=S(A,k);let O;if(typeof k=="boolean")O=k?"Oui":"Non";else if(k instanceof Date||typeof k=="string"&&A.toLowerCase().includes("date"))try{const q=new Date(k);isNaN(q.getTime())?O=k||"-":O=q.toLocaleDateString("fr-FR")}catch{O=k||"-"}else O=k==null||k===""?"-":String(k);return s.jsxs("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 border-b border-gray-100 hover:bg-gray-50 group relative",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:T(A)}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 flex items-center justify-between",children:D?s.jsxs("div",{className:"flex items-center w-full",children:[F==="checkbox"?s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("input",{type:"checkbox",checked:!!w,onChange:h,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}):F==="date"?s.jsxs("div",{className:"relative w-full",children:[s.jsx(e6,{selected:w&&!isNaN(new Date(w).getTime())?new Date(w):null,onChange:M,dateFormat:"dd/MM/yyyy",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholderText:"JJ/MM/AAAA",popperPlacement:"top-start"}),s.jsx(K4,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"})]}):A==="Payement"||A==="payement"?s.jsxs("select",{value:w||"",onChange:h,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",autoFocus:!0,children:[s.jsx("option",{value:"",children:"Sélectionner..."}),s.jsx("option",{value:"vendeur",children:"Vendeur"}),s.jsx("option",{value:"mandataire",children:"Mandataire"})]}):s.jsx("input",{type:F,value:w??"",onChange:h,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),s.jsx("button",{onClick:()=>$(A),className:"ml-2 p-1 text-green-600 hover:bg-green-100 rounded-full",title:"Confirmer",children:s.jsx(Q4,{size:20})}),s.jsx("button",{onClick:I,className:"ml-1 p-1 text-red-600 hover:bg-red-100 rounded-full",title:"Annuler",children:s.jsx(ds,{size:20})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"flex-grow break-words",children:O}),s.jsx("button",{onClick:()=>_(A,k),className:"ml-2 p-1 text-gray-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity rounded-full hover:bg-gray-100",title:"Modifier",children:s.jsx(G4,{size:16})})]})})]},A)})})})})]})},n6=({clientId:e})=>{const[t,r]=x.useState([]),[n,a]=x.useState(!0),[o,i]=x.useState(null);return x.useEffect(()=>{e&&(async()=>{try{r([{id:"shop1",name:"Boutique Alpha",products:5},{id:"shop2",name:"Magasin Beta",products:12}])}catch(c){i(c.message)}a(!1)})()},[e]),n?s.jsx("p",{children:"Chargement des boutiques du client..."}):o?s.jsxs("p",{children:["Erreur: ",o]}):s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Boutiques du Client: ",e]}),t.length===0?s.jsx("p",{children:"Ce client n'a pas encore de boutiques."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:l.name}),s.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Nombre de produits: ",l.products]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("a",{href:`/internal/clients/${e}/boutiques/${l.id}`,className:"text-sm text-sna-primary hover:underline",children:"Voir Détails"})})]},l.id))})]})},s6=({isOpen:e,onClose:t,onConfirm:r,shopName:n})=>e?mv.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmer la suppression"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:['Êtes-vous sûr de vouloir supprimer la boutique "',n,'" ? Cette action est irréversible.']}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Annuler"}),s.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Supprimer"})]})]})}),document.body):null,jb=({clientId:e,shopId:t,onDelete:r})=>{const[n,a]=x.useState(null),[o,i]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(null),[m,p]=x.useState({}),[f,g]=x.useState(!1);x.useEffect(()=>{(async()=>{try{i(!0);const S=await fetch(`/api/internal/clients/${e}/shops/${t}`);if(!S.ok)throw new Error("Failed to fetch shop details");const _=await S.json(),I=_.shop||_;if(console.log("Shop data:",I),!I||typeof I!="object")throw new Error("Invalid shop data format");a(I),c(null)}catch(S){console.error("Error details:",S),c(S.message)}finally{i(!1)}})()},[e,t]);const w=async()=>{try{if(!(await fetch(`/api/internal/clients/${e}/shops/${t}`,{method:"DELETE"})).ok)throw new Error("La suppression de la boutique a échoué");g(!1),r&&r(t)}catch(j){console.error("Erreur lors de la suppression:",j),alert(j.message)}},v=j=>{const S=n[j.key];return S==null?"Non spécifié":j.type==="date"&&S?new Date(S).toLocaleDateString():j.type==="checkbox"?S?j.trueLabel:j.falseLabel:(j.type==="input",S)},y=j=>{d(j.key),p({...m,[j.key]:n[j.key]})},b=async j=>{try{const S=await fetch(`/api/internal/clients/${e}/shops/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[j.key]:m[j.key]})});if(!S.ok)throw new Error("Failed to update shop");const _=await S.json(),I=_.shop||_;a(I),d(null)}catch(S){console.error("Error updating field:",S),c(S.message)}},N=()=>{d(null)},C=(j,S)=>{p({...m,[j.key]:S})};if(o)return s.jsx("p",{children:"Chargement des détails de la boutique..."});if(l)return s.jsxs("p",{children:["Erreur: ",l]});if(!n)return s.jsx("p",{children:"Boutique non trouvée."});console.log("Shop data in state:",n);const T=[{key:"nomProjet",label:"Nom Projet",type:"text"},{key:"typeProjet",label:"Type Projet",type:"text"},{key:"commercial",label:"Commercial",type:"text"},{key:"demarrageProjet",label:"Démarrage du projet",type:"date"},{key:"nomChefProjet",label:"Nom chef de projet",type:"text"},{key:"prenomChefProjet",label:"Prénom chef de projet",type:"text"},{key:"estBoutiqueEnLigne",label:"Est Boutique En Ligne",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"status",label:"Statut",type:"text"},{key:"clientName",label:"Client",type:"text"},{key:"createdAt",label:"Date de Création",type:"date"},{key:"nomClient",label:"Nom Client"},{key:"contactsClient",label:"Contacts Client"},{key:"dateMiseEnLigne",label:"Date Mise En Ligne",type:"date"},{key:"dateCommercialisation",label:"Date Commercialisation",type:"date"},{key:"dateSortieOfficielle",label:"Date Sortie Officielle",type:"date"},{key:"precommande",label:"Precommande",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"dedicaceEnvisagee",label:"Dedicace Envisagee",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"typeAbonnementShopify",label:"Type Abonnement Shopify",type:"select",options:["aucun","mensuel","annuel"]},{key:"snaResponsableDesign",label:"Sna Responsable Design",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"moduleDelivengo",label:"Module Delivengo",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"moduleMondialRelay",label:"Module Mondial Relay",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"}].filter(j=>!["shopifyCreatedAt","documented","compteClientRef"].includes(j.key));return s.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[n.logoUrl&&s.jsx("img",{src:n.logoUrl,alt:"Logo",className:"h-12 w-12 rounded-full mr-3 object-cover"}),s.jsx("h2",{className:"text-xl font-bold",children:n.nomProjet||n.name})]}),s.jsx(s6,{isOpen:f,onClose:()=>g(!1),onConfirm:w,shopName:(n==null?void 0:n.nomProjet)||(n==null?void 0:n.name)||""}),(n.logoUrl||n.desktopBannerUrl||n.mobileBannerUrl)&&s.jsxs("div",{className:"space-y-3 border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Images de la boutique"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.logoUrl&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Logo"}),s.jsx("img",{src:n.logoUrl,alt:"Logo de la boutique",className:"h-20 w-20 object-cover rounded-lg border cursor-pointer transition-transform hover:scale-105",onClick:()=>window.open(n.logoUrl,"_blank")})]}),n.desktopBannerUrl&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Bannière Desktop"}),s.jsx("img",{src:n.desktopBannerUrl,alt:"Bannière desktop",className:"h-20 w-40 object-cover rounded-lg border cursor-pointer transition-transform hover:scale-105",onClick:()=>window.open(n.desktopBannerUrl,"_blank")})]}),n.mobileBannerUrl&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Bannière Mobile"}),s.jsx("img",{src:n.mobileBannerUrl,alt:"Bannière mobile",className:"h-20 w-32 object-cover rounded-lg border cursor-pointer transition-transform hover:scale-105",onClick:()=>window.open(n.mobileBannerUrl,"_blank")})]})]})]}),T.map(j=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium w-48",children:[j.label,":"]}),u===j.key?s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[j.type==="checkbox"?s.jsxs("select",{className:"px-3 py-1 border rounded flex-1",value:m[j.key]?"true":"false",onChange:S=>C(j,S.target.value==="true"),children:[s.jsx("option",{value:"true",children:"Oui"}),s.jsx("option",{value:"false",children:"Non"})]}):j.type==="select"?s.jsx("select",{className:"px-3 py-1 border rounded flex-1",value:m[j.key]||"",onChange:S=>C(j,S.target.value),children:j.options.map(S=>s.jsx("option",{value:S,children:S},S))}):s.jsx("input",{className:"px-3 py-1 border rounded flex-1",type:j.type==="date"?"date":"text",value:m[j.key]||"",onChange:S=>C(j,S.target.value)}),s.jsx("button",{className:"p-1 text-green-600 hover:text-green-800",onClick:()=>b(j),children:s.jsx(km,{})}),s.jsx("button",{className:"p-1 text-red-600 hover:text-red-800",onClick:N,children:s.jsx(an,{})})]}):s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded flex-1",children:v(j)}),s.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-800",onClick:()=>y(j),children:s.jsx(ha,{})})]})]},j.key))]})},a6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(""),[c,u]=x.useState({});x.useEffect(()=>{(async()=>{try{const g=await fetch("/api/customer/all-shops");if(!g.ok)throw new Error("Erreur lors du chargement des boutiques");const w=await g.json();t((w.shops||[]).map(v=>({id:v.shopId,name:v.nomProjet||v.name||"-",clientName:v.clientName,clientId:v.clientId,productsCount:v.productsCount,status:v.status,hasShopify:v.hasShopify,documented:v.documented,logoUrl:v.logoUrl})))}catch(g){o(g.message)}n(!1)})()},[]);const d=e.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())||f.clientName.toLowerCase().includes(i.toLowerCase())),m=f=>{u(g=>({...g,[f]:!g[f]}))},p=f=>{t(g=>g.filter(w=>w.id!==f))};return r?s.jsx("p",{children:"Chargement de toutes les boutiques..."}):a?s.jsxs("p",{children:["Erreur: ",a]}):s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Toutes les Boutiques"}),s.jsx("input",{type:"text",placeholder:"Rechercher une boutique ou un client...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:i,onChange:f=>l(f.target.value)})]}),d.length===0?s.jsx("p",{children:"Aucune boutique trouvée."}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom Boutique"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom Client"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documenté"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shopify"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(f=>s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.jsxs("div",{className:"flex items-center",children:[console.log(f.logoUrl),f.logoUrl&&s.jsx("img",{src:f.logoUrl,alt:"Logo",className:"h-8 w-8 rounded-full mr-3 object-cover"}),s.jsx("span",{children:f.name||"-"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.clientName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.status==="valid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:f.status==="valid"?"Validée":"En attente"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.documented==="documented"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.documented==="documented"?"Oui":"Non"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.hasShopify?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.hasShopify?"Oui":"Non"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>m(f.id),className:"text-sna-primary hover:underline",children:c[f.id]?"Masquer":"Voir Détails"})})]}),c[f.id]&&s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-6 py-4 bg-gray-50",children:s.jsx(jb,{clientId:f.clientId,shopId:f.id,onDelete:p})})})]},f.id))})]})})]})};function o6(){const[e,t]=x.useState({pending:[],valid:[]}),[r,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(null),[c,u]=x.useState({}),[d,m]=x.useState(null),[p,f]=x.useState(!1),[g,w]=x.useState(null),[v,y]=x.useState(""),[b,N]=x.useState(""),C=["nomProjet","typeProjet","commercial","demarrageProjet","nomChefProjet","prenomChefProjet","estBoutiqueEnLigne","clientName","createdAt","nomClient","contactsClient","dateMiseEnLigne","dateCommercialisation","dateSortieOfficielle","precommande","dedicaceEnvisagee","typeAbonnementShopify","snaResponsableDesign","moduleDelivengo","moduleMondialRelay","logoUrl","desktopBannerUrl","mobileBannerUrl","faviconUrl","pourcentageSNA"],T=(E,k)=>{k!=="pourcentageSNA"&&u(D=>{var F;return{...D,[E]:{...D[E]||{},[k]:!((F=D[E])!=null&&F[k])}}})},j=(E,k)=>{u(D=>({...D,[E]:{...D[E]||{},pourcentageSNA:k}}))},S=E=>{const k=c[E]||{};return C.every(D=>{if(D==="pourcentageSNA"){const F=k[D];return F&&!isNaN(F)&&F>0&&F<=100}return k[D]})},_=async E=>{var k;try{m(E.shopId);const D=(k=c[E.shopId])==null?void 0:k.pourcentageSNA;if(!D||D<=0||D>100){o("Le pourcentage SNA doit être entre 1 et 100%"),m(null);return}const F=await fetch(`/api/internal/clients/${E.clientId}/shops/${E.shopId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"valid",pourcentageSNA:D})}),O=await F.json();if(!F.ok)throw new Error(O.message||"Failed to validate shop");t(q=>({pending:q.pending.filter(Y=>Y.shopId!==E.shopId),valid:[...q.valid,{...E,status:"valid",pourcentageSNA:D}]})),l(null),m(null)}catch(D){console.error("Error validating shop:",D),o("Failed to validate shop"),m(null)}},I=async E=>{try{m(E.shopId);const k=await fetch(`/api/internal/clients/${E.clientId}/shops/${E.shopId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"pending"})}),D=await k.json();if(!k.ok)throw new Error(D.message||"Failed to unvalidate shop");t(F=>({pending:[...F.pending,{...E,status:"pending"}],valid:F.valid.filter(O=>O.shopId!==E.shopId)})),l(null),m(null),f(!1)}catch(k){console.error("Error unvalidating shop:",k),o("Failed to unvalidate shop"),m(null),f(!1)}},h=E=>{w(E),f(!0)},M=()=>{f(!1),w(null)},$=E=>{const k=i!==E.shopId;l(k?E.shopId:null),m(k?E.shopId:null),k&&(u(D=>({...D,[E.shopId]:D[E.shopId]||{}})),U(E))},z=async()=>{try{const E=await fetch("/api/internal/all-shops",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},credentials:"include"});if(!E.ok)throw new Error("Failed to fetch shops");const k=await E.json(),D=Array.isArray(k.shops)?k.shops:[];t({pending:D.filter(F=>F.status!=="valid"),valid:D.filter(F=>F.status==="valid")})}catch(E){console.error("Error fetching shops:",E),o(E.message)}finally{n(!1)}},U=async E=>{try{const k=await fetch(`/api/internal/clients/${E.clientId}/shops/${E.shopId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},credentials:"include"});if(!k.ok)throw new Error("Failed to fetch shop details");const D=await k.json(),F=D.shop||D;t(O=>({pending:O.pending.map(q=>q.shopId===E.shopId?{...q,...F}:q),valid:O.valid.map(q=>q.shopId===E.shopId?{...q,...F}:q)}))}catch(k){console.error("Error fetching shop details:",k),o(k.message)}};if(x.useEffect(()=>{z()},[]),r)return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Boutiques à Valider"}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})]});if(a)return s.jsxs("div",{className:"p-6 text-center text-red-600",children:[s.jsxs("p",{children:["Error loading shops: ",a]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try Again"})]});const A=e.pending.filter(E=>{if(!v)return!0;const k=v.toLowerCase();return E.name.toLowerCase().includes(k)||E.clientName.toLowerCase().includes(k)}),P=e.valid.filter(E=>{if(!b)return!0;const k=b.toLowerCase();return E.name.toLowerCase().includes(k)||E.clientName.toLowerCase().includes(k)});return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Validation des Boutiques"}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-semibold text-yellow-700",children:["Boutiques en attente (",e.pending.length,")"]}),s.jsx("input",{type:"text",placeholder:"Rechercher une boutique en attente...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:v,onChange:E=>y(E.target.value)})]}),A.length===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:s.jsx("p",{className:"text-gray-600",children:v?"Aucune boutique en attente trouvée avec ce terme de recherche":"Aucune boutique en attente"})}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-yellow-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la Boutique"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(E=>s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(rr,{className:"mr-2 text-blue-700"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.clientName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"En attente"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>$(E),className:`font-medium ${i===E.shopId?"text-blue-600 hover:text-blue-900":"text-green-600 hover:text-green-900"}`,children:i===E.shopId?"Fermer":"Valider"})})]}),i===E.shopId&&s.jsx("tr",{className:"bg-gray-50",children:s.jsx("td",{colSpan:"4",className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3 border-b pb-2",children:"Informations du Projet"}),C.map(k=>{var D,F,O,q,Y,K,X,R,H;return s.jsxs("div",{className:"flex items-start py-3 border-b border-gray-100",children:[s.jsx("span",{className:"font-medium w-1/3 text-gray-700",children:k==="nomProjet"?"Nom Projet":k==="typeProjet"?"Type Projet":k==="commercial"?"Commercial":k==="demarrageProjet"?"Démarrage du projet":k==="nomChefProjet"?"Nom chef de projet":k==="prenomChefProjet"?"Prénom chef de projet":k==="estBoutiqueEnLigne"?"Est Boutique En Ligne":k==="clientName"?"Client":k==="createdAt"?"Date de Création":k==="nomClient"?"Nom Client":k==="contactsClient"?"Contacts Client":k==="dateMiseEnLigne"?"Date Mise En Ligne":k==="dateCommercialisation"?"Date Commercialisation":k==="dateSortieOfficielle"?"Date Sortie Officielle":k==="precommande"?"Precommande":k==="dedicaceEnvisagee"?"Dédicace Envisagée":k==="typeAbonnementShopify"?"Type Abonnement Shopify":k==="snaResponsableDesign"?"SNA Responsable Design":k==="moduleDelivengo"?"Module Delivengo":k==="moduleMondialRelay"?"Module Mondial Relay":k==="logoUrl"?"Logo":k==="desktopBannerUrl"?"Bannière Desktop":k==="mobileBannerUrl"?"Bannière Mobile":k==="faviconUrl"?"Favicon":k==="pourcentageSNA"?"Pourcentage SNA":k}),s.jsx("div",{className:"flex-1 flex flex-col",children:k==="pourcentageSNA"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",min:"1",max:"100",step:"0.1",placeholder:"Ex: 15.5",value:((D=c[E.shopId])==null?void 0:D.pourcentageSNA)||"",onChange:Q=>j(E.shopId,parseFloat(Q.target.value)),className:`px-3 py-2 border rounded flex-1 ${(F=c[E.shopId])!=null&&F.pourcentageSNA&&((O=c[E.shopId])==null?void 0:O.pourcentageSNA)>0&&((q=c[E.shopId])==null?void 0:q.pourcentageSNA)<=100?"border-green-200 bg-green-50":"border-gray-300"}`}),s.jsx("span",{className:"text-sm text-gray-500",children:"%"})]}):s.jsx("span",{className:`px-3 py-2 rounded bg-gray-50 border ${(Y=c[E.shopId])!=null&&Y[k]?"bg-green-50 border-green-200":""}`,children:(()=>{var G;const Q=E[k]||((G=E.shop)==null?void 0:G[k]);if(k==="moduleDelivengo"||k==="moduleMondialRelay"||k==="estBoutiqueEnLigne"||k==="dedicaceEnvisagee"||k==="precommande"){if(Q===!0||Q==="true"||Q==="Oui")return"Oui";if(Q===!1||Q==="false"||Q==="Non"||Q===""||Q===null||Q===void 0)return"Non"}if((k==="dateSortieOfficielle"||k==="createdAt"||k==="demarrageProjet")&&Q){const ee=new Date(Q);if(!isNaN(ee.getTime()))return ee.toISOString().split("T")[0]}return Q||"-"})()})}),s.jsx("button",{onClick:()=>T(E.shopId,k),className:`ml-2 p-2 rounded-full hover:bg-gray-200 flex-shrink-0 ${k==="pourcentageSNA"?"pointer-events-none":""}`,children:k==="pourcentageSNA"?(K=c[E.shopId])!=null&&K.pourcentageSNA&&((X=c[E.shopId])==null?void 0:X.pourcentageSNA)>0&&((R=c[E.shopId])==null?void 0:R.pourcentageSNA)<=100?s.jsx(ot,{className:"text-green-500 text-lg"}):s.jsx(Jl,{className:"text-gray-400"}):(H=c[E.shopId])!=null&&H[k]?s.jsx(ot,{className:"text-green-500 text-lg"}):s.jsx(Jl,{className:"text-gray-400"})})]},k)}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>_(E),disabled:!S(E.shopId),className:`px-4 py-2 rounded ${S(E.shopId)?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:d===E.shopId?"Validation en cours...":"Valider la boutique"})})]})})})]},E.shopId))})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-semibold text-green-700",children:["Boutiques validées (",e.valid.length,")"]}),s.jsx("input",{type:"text",placeholder:"Rechercher une boutique validée...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:b,onChange:E=>N(E.target.value)})]}),P.length===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:s.jsx("p",{className:"text-gray-600",children:b?"Aucune boutique validée trouvée avec ce terme de recherche":"Aucune boutique validée"})}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la Boutique"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(E=>s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(rr,{className:"mr-2 text-blue-700"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.clientName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Validée"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>$(E),className:"text-blue-600 hover:text-blue-900 font-medium mr-4",children:i===E.shopId?"Fermer":"Voir détails"}),s.jsx("button",{onClick:k=>{k.stopPropagation(),h(E)},className:"text-red-600 hover:text-red-900 font-medium",children:"Annuler validation"})]})]}),i===E.shopId&&s.jsx("tr",{className:"bg-gray-50",children:s.jsx("td",{colSpan:"4",className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3 border-b pb-2",children:"Informations du Projet - Boutique validée"}),C.map(k=>s.jsxs("div",{className:"flex items-start py-3 border-b border-gray-100",children:[s.jsx("span",{className:"font-medium w-1/3 text-gray-700",children:k==="nomProjet"?"Nom Projet":k==="typeProjet"?"Type Projet":k==="commercial"?"Commercial":k==="demarrageProjet"?"Démarrage du projet":k==="nomChefProjet"?"Nom chef de projet":k==="prenomChefProjet"?"Prénom chef de projet":k==="estBoutiqueEnLigne"?"Est Boutique En Ligne":k==="clientName"?"Client":k==="createdAt"?"Date de Création":k==="nomClient"?"Nom Client":k==="contactsClient"?"Contacts Client":k==="dateMiseEnLigne"?"Date Mise En Ligne":k==="dateCommercialisation"?"Date Commercialisation":k==="dateSortieOfficielle"?"Date Sortie Officielle":k==="precommande"?"Precommande":k==="dedicaceEnvisagee"?"Dédicace Envisagée":k==="typeAbonnementShopify"?"Type Abonnement Shopify":k==="snaResponsableDesign"?"SNA Responsable Design":k==="moduleDelivengo"?"Module Delivengo":k==="moduleMondialRelay"?"Module Mondial Relay":k==="logoUrl"?"Logo":k==="desktopBannerUrl"?"Bannière Desktop":k==="mobileBannerUrl"?"Bannière Mobile":k==="faviconUrl"?"Favicon":"Pourcentage SNA"}),s.jsx("div",{className:"flex-1 flex flex-col",children:s.jsx("span",{className:"px-3 py-2 rounded bg-green-50 border border-green-200",children:(()=>{var F;const D=E[k]||((F=E.shop)==null?void 0:F[k]);if(k==="moduleDelivengo"||k==="moduleMondialRelay"||k==="estBoutiqueEnLigne"||k==="dedicaceEnvisagee"||k==="precommande"){if(D===!0||D==="true"||D==="Oui")return"Oui";if(D===!1||D==="false"||D==="Non"||D===""||D===null||D===void 0)return"Non"}if((k==="dateSortieOfficielle"||k==="createdAt"||k==="demarrageProjet")&&D){const O=new Date(D);if(!isNaN(O.getTime()))return O.toISOString().split("T")[0]}return D||"-"})()})}),s.jsx("div",{className:"ml-2 p-2 flex-shrink-0",children:s.jsx(ot,{className:"text-green-500 text-lg"})})]},k))]})})})]},E.shopId))})]})})]})]}),p&&s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow p-6 z-10 min-w-[320px]",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Confirmation"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Êtes-vous sûr de vouloir annuler la validation de cette boutique ?"}),s.jsxs("div",{className:"flex justify-end",children:[s.jsx("button",{onClick:M,className:"px-4 py-2 rounded bg-gray-300 text-gray-500 hover:bg-gray-400",children:"Annuler"}),s.jsx("button",{onClick:()=>I(g),className:"ml-4 px-4 py-2 rounded bg-yellow-500 hover:bg-yellow-600 text-white",children:"Confirmer"})]})]})]})]})}function i6({isOpen:e,onClose:t,onConfirm:r,productTitle:n,isLoading:a}){return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmer l'invalidation"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:['Êtes-vous sûr de vouloir invalider le produit "',n,'" ? Cette action déplacera le produit vers la liste des produits en attente de validation.']}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:t,disabled:a,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50",children:"Annuler"}),s.jsx("button",{onClick:r,disabled:a,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50 flex items-center",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Invalidation..."]}):"Invalider"})]})]})}):null}function l6({productId:e,allFieldsValidated:t,validatedCount:r,totalFields:n,onValidate:a}){const[o,i]=W.useState(!1),[l,c]=W.useState(null),u=async()=>{i(!0),c(null);try{await a()}catch(d){c(d.message||"Erreur lors de la validation")}finally{i(!1)}};return s.jsxs("div",{children:[s.jsx("button",{onClick:u,disabled:!t||o,className:`px-4 py-2 rounded ${t&&!o?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:t?o?"Validation en cours...":"Cliquez pour valider le produit":`Veuillez vérifier tous les champs (${n} requis)`,type:"button",children:o?"Validation en cours...":`Valider le produit (${r}/${n} vérifiés)`}),l&&s.jsx("div",{className:"text-red-600 text-xs mt-1",children:l})]})}function c6(){const[e,t]=x.useState({pending:[],validated:[]}),[r,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(null),[c,u]=x.useState(null),[d,m]=x.useState({}),[p,f]=x.useState(""),[g,w]=x.useState(""),[v,y]=x.useState(!1),[b,N]=x.useState(null),C=(P,E,k)=>{const D=P[E],F=P[k];return D!=null&&D!==""?D:F!=null&&F!==""?F:E==="tailles"||E==="couleurs"?[]:""},T=[{key:"titre",label:"Titre"},{key:"description",label:"Description"},{key:"typeProduit",label:"Type de produit"},{key:"price",label:"Prix"},{key:"weight",label:"Poids"},{key:"ean",label:"Code EAN"},{key:"skus",label:"SKUs"},{key:"sizes",label:"Tailles disponibles"},{key:"colors",label:"Couleurs disponibles"},{key:"images",label:"Images produit"},{key:"occ",label:"OCC"},{key:"clientName",label:"Client"},{key:"shopName",label:"Boutique"},{key:"createdAt",label:"Date de création"}],j=(P,E)=>{m(k=>{var D;return{...k,[P]:{...k[P]||{},[E]:!((D=k[P])!=null&&D[E])}}})},S=P=>{const E=d[P]||{};return T.every(k=>E[k.key])},_=P=>{const E=d[P]||{};return Object.values(E).filter(Boolean).length},I=async P=>{try{u(P.productId);const E=await fetch(`/api/internal/products/${P.clientId}/${P.shopId}/${P.productId}/validate`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({active:!0}),credentials:"include"});if(!E.ok){const k=await E.json();throw new Error(k.message||"Failed to validate product")}t(k=>({pending:k.pending.filter(D=>D.productId!==P.productId),validated:[...k.validated,{...P,active:!0}]})),l(null),u(null)}catch(E){console.error("Error validating product:",E),o("Failed to validate product"),u(null)}},h=async P=>{try{const E=await fetch(`/api/internal/products/${P.clientId}/${P.shopId}/${P.productId}/validate`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({active:!1,documented:!1,hasShopify:!1,hasEC:!1}),credentials:"include"});if(!E.ok){const k=await E.json();throw new Error(k.message||"Failed to unvalidate product")}t(k=>({pending:[...k.pending,{...P,active:!1,documented:!1,hasShopify:!1,hasEC:!1}],validated:k.validated.filter(D=>D.productId!==P.productId)})),l(null),u(null)}catch(E){console.error("Error unvalidating product:",E),o("Failed to unvalidate product"),u(null)}},M=P=>{const E=`${P.clientId}-${P.shopId}-${P.productId}`,k=i!==E;l(k?E:null),u(k?P.productId:null),k&&m(D=>({...D,[E]:D[E]||{}}))},$=async()=>{try{n(!0);const P=await fetch("/api/internal/all-products",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},credentials:"include"});if(!P.ok)throw new Error("Failed to fetch products");const E=await P.json(),k=Array.isArray(E.products)?E.products:[],D=k.filter(O=>!O.active),F=k.filter(O=>O.active);t({pending:D,validated:F})}catch(P){console.error("Error fetching products:",P),o(P.message)}finally{n(!1)}};x.useEffect(()=>{$()},[]),x.useEffect(()=>{e.pending.length>0&&m(P=>{const E={...P};return e.pending.forEach(k=>{const D=`${k.clientId}-${k.shopId}-${k.productId}`;if(!E[D]){const F={};T.forEach(O=>{F[O.key]=!1}),E[D]=F}}),E})},[e.pending]);const z=e.pending.filter(P=>(P.titre||"").toLowerCase().includes(p.toLowerCase())||(P.clientName||"").toLowerCase().includes(p.toLowerCase())||(P.shopName||"").toLowerCase().includes(p.toLowerCase())),U=e.validated.filter(P=>(P.titre||"").toLowerCase().includes(g.toLowerCase())||(P.clientName||"").toLowerCase().includes(g.toLowerCase())||(P.shopName||"").toLowerCase().includes(g.toLowerCase())),A=(P,E,k=null)=>{if(k&&(E==="price"||E==="weight"||E==="ean"||E==="sizes"||E==="colors"))switch(E){case"price":P=C(k,"prix","price");break;case"weight":P=C(k,"poids","weight");break;case"ean":const D=k.eans||{};P=Object.values(D).find(Boolean)||C(k,"codeEAN","ean");break;case"sizes":P=C(k,"tailles","sizes");break;case"colors":P=C(k,"couleurs","colors");break;case"skus":P=k.skus||{};break;case"images":P=k.images||[];break}if(E==="occ")return P?"Oui":"Non";if(!P&&P!==0)return"-";switch(E){case"sizes":case"colors":return Array.isArray(P)&&P.length>0?P.join(", "):"-";case"skus":const D=Object.values(P).filter(Boolean);return D.length>0?D.join(", "):"-";case"images":return Array.isArray(P)&&P.length>0?`${P.length} image(s)`:"-";case"price":return`${P}€`;case"weight":return`${P}g`;case"createdAt":return new Date(P).toLocaleDateString();default:return P.toString()}};return r?s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Produits à Valider"}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})]}):a?s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Produits à Valider"}),s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a})]}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Produits à Valider"}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-semibold text-yellow-700",children:["Produits en attente (",z.length,")"]}),s.jsx("input",{type:"text",placeholder:"Rechercher un produit en attente...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:p,onChange:P=>f(P.target.value)})]}),z.length===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:s.jsx("p",{className:"text-gray-600",children:p?"Aucun produit en attente trouvé avec ce terme de recherche":"Aucun produit en attente de validation"})}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-yellow-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Boutique"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),s.jsx("th",{className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(P=>{const E=`${P.clientId}-${P.shopId}-${P.productId}`;return s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ho,{className:"mr-2 text-blue-700"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.titre})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.clientName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.shopName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.typeProduit}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(P.price,"price",P)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>M(P),className:"text-blue-600 hover:text-blue-900 font-medium",children:i===E?"Fermer":"Valider"})})]}),i===E&&s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-6 py-4 bg-gray-50",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-4",children:["Validation des champs - ",P.titre]}),T.map(k=>{var D,F;return s.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-white rounded border",children:[s.jsx("span",{className:"w-40 text-sm font-medium text-gray-700 flex-shrink-0",children:k.label}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:`px-3 py-2 rounded bg-gray-50 border block ${(D=d[E])!=null&&D[k.key]?"bg-green-50 border-green-200":""}`,children:A(P[k.key],k.key,P)})}),s.jsx("button",{onClick:()=>j(E,k.key),className:"ml-2 p-2 rounded-full hover:bg-gray-200 flex-shrink-0",children:(F=d[E])!=null&&F[k.key]?s.jsx(ot,{className:"text-green-500 text-lg"}):s.jsx(Jl,{className:"text-gray-400 text-lg"})})]},k.key)}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx(l6,{productId:P.productId,allFieldsValidated:S(E),validatedCount:_(E),totalFields:T.length,onValidate:async()=>{await I(P)}})})]})})})]},E)})})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-semibold text-green-700",children:["Produits validés (",U.length,")"]}),s.jsx("input",{type:"text",placeholder:"Rechercher un produit validé...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:g,onChange:P=>w(P.target.value)})]}),U.length===0?s.jsx("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:s.jsx("p",{className:"text-gray-600",children:g?"Aucun produit validé trouvé avec ce terme de recherche":"Aucun produit validé"})}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-green-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Boutique"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),s.jsx("th",{className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(P=>{const E=`${P.clientId}-${P.shopId}-${P.productId}`;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ho,{className:"mr-2 text-green-700"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.titre})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.clientName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.shopName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.typeProduit}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(P.price,"price",P)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>{N(P),y(!0)},className:"text-red-600 hover:text-red-900 font-medium",disabled:c===P.productId,children:c===P.productId?"...":"Invalider"})})]},E)})})]})})]})]}),v&&s.jsx(i6,{isOpen:v,onClose:()=>{y(!1),N(null),u(null)},onConfirm:async()=>{try{u(b.productId),await h(b),y(!1),N(null),u(null)}catch(P){console.error("Error unvalidating product:",P),o("Failed to unvalidate product"),u(null)}},productTitle:b==null?void 0:b.titre,isLoading:c===(b==null?void 0:b.productId)})]})}const u6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(""),[c,u]=x.useState({}),[d,m]=x.useState(null),[p,f]=x.useState({}),[g,w]=x.useState(!1),[v,y]=x.useState(!1),[b,N]=x.useState(null),C=O=>{N(O),y(!0)},T=async()=>{if(b)try{const q=await(await fetch(`/api/internal/products/${b.clientId}/${b.shopId}/${b.productId}`,{method:"DELETE"})).json();q.success?(t(Y=>Y.filter(K=>K.productId!==b.productId)),o(null)):o(q.message||"Erreur lors de la suppression du produit")}catch{o("Erreur de connexion lors de la suppression")}finally{y(!1),N(null)}},j=["Rouge","Bleu","Vert","Jaune","Orange","Violet","Rose","Cyan","Marron","Gris","Noir","Blanc"],S=["XS","S","M","L","XL"],_=O=>{if(!O)return[];const q=[],Y=h(O,"tailles","sizes")||[],K=h(O,"couleurs","colors")||[];return Y.length>0&&K.length>0?Y.forEach(X=>{K.forEach(R=>{q.push({key:`${X}-${R}`,label:`${X} - ${R}`,size:X,color:R})})}):Y.length>0&&K.length===0?Y.forEach(X=>{q.push({key:X,label:`Taille ${X}`,size:X,color:null})}):Y.length===0&&K.length>0?K.forEach(X=>{q.push({key:X,label:`Couleur ${X}`,size:null,color:X})}):q.push({key:"default",label:"Stock général",size:null,color:null}),q},I=(O,q,Y)=>{const K=q===""?"":Math.max(0,parseInt(q)||0);f(X=>({...X,[Y]:{...X[Y]||{},[O]:K}}))},h=(O,q,Y)=>{const K=O[q],X=O[Y];return K!=null&&K!==""?K:X!=null&&X!==""?X:q==="tailles"||q==="couleurs"?[]:""};x.useEffect(()=>{M()},[]);const M=async()=>{try{n(!0);const O=await fetch("/api/internal/all-products");if(!O.ok)throw new Error("Erreur lors du chargement des produits");const q=await O.json();if(q.success)t(q.products||[]);else throw new Error("Erreur lors du chargement des produits")}catch(O){o(O.message)}finally{n(!1)}},$=e.filter(O=>{var q,Y,K,X;return((q=O.titre)==null?void 0:q.toLowerCase().includes(i.toLowerCase()))||((Y=O.clientName)==null?void 0:Y.toLowerCase().includes(i.toLowerCase()))||((K=O.shopName)==null?void 0:K.toLowerCase().includes(i.toLowerCase()))||((X=O.typeProduit)==null?void 0:X.toLowerCase().includes(i.toLowerCase()))}),z=O=>{u(q=>({...q,[O]:!q[O]}))},U=(O,q)=>{const Y=`${O.productId}-${q}`;m(Y);let K;if(q==="eans"){const X=O.eans||{};K=Object.values(X).find(Boolean)||O.codeEAN||""}else{const R={prix:"price",poids:"weight",tailles:"sizes",couleurs:"colors"}[q]||q;K=h(O,q,R)||O[q]}f({[q]:K})},A=()=>{m(null),f({})},P=async(O,q)=>{try{w(!0);let Y;q==="eans"?Y={eans:{...O.eans||{},default:p[q]}}:Y={[q]:p[q]},(await(await fetch(`/api/internal/products/${O.clientId}/${O.shopId}/${O.productId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})).json()).success?(t(R=>R.map(H=>H.productId===O.productId?{...H,...q==="eans"?{eans:Y.eans}:{[q]:p[q]},updatedAt:new Date().toISOString()}:H)),m(null),f({}),o(null)):o("Erreur lors de la mise à jour du produit")}catch(Y){console.error("Error updating product:",Y),o("Erreur de connexion lors de la mise à jour")}finally{w(!1)}},E=({product:O,fieldName:q,label:Y,type:K="text",options:X=null})=>{const R=`${O.productId}-${q}`,H=d===R,G={prix:"price",poids:"weight",eans:"ean",tailles:"sizes",couleurs:"colors"}[q]||q;let ee;if(q==="eans"){const V=O.eans||{};ee=Object.values(V).find(Boolean)||O.codeEAN||""}else ee=h(O,q,G)||(typeof O[q]=="object"?JSON.stringify(O[q]):O[q]);if(H)return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("strong",{className:"w-20 text-sm",children:[Y,":"]}),s.jsx("div",{className:"flex-1",children:K==="select"?s.jsx("select",{value:p[q]||"",onChange:V=>f(L=>({...L,[q]:V.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:X.map(V=>s.jsx("option",{value:V.value,children:V.label},V.value))}):K==="checkbox"?s.jsx("input",{type:"checkbox",checked:!!p[q],onChange:V=>f(L=>({...L,[q]:V.target.checked})),className:"h-4 w-4"}):K==="textarea"?s.jsx("textarea",{value:p[q]||"",onChange:V=>f(L=>({...L,[q]:V.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:"2"}):K==="array"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Sélectionnez les options:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(V=>s.jsxs("label",{className:"flex items-center text-xs",children:[s.jsx("input",{type:"checkbox",checked:(p[q]||[]).includes(V),onChange:L=>{const te=p[q]||[],ne=L.target.checked?[...te,V]:te.filter(le=>le!==V);f(le=>({...le,[q]:ne}))},className:"mr-1"}),V]},V))})]}):s.jsx("input",{type:K,step:K==="number"?"0.01":void 0,value:p[q]||"",onChange:V=>f(L=>({...L,[q]:V.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})}),s.jsx("button",{onClick:()=>P(O,q),disabled:g,className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:s.jsx(km,{})}),s.jsx("button",{onClick:A,disabled:g,className:"px-2 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700 disabled:opacity-50",children:s.jsx(an,{})})]});let B;return K==="checkbox"?B=ee?"Oui":"Non":K==="array"?B=Array.isArray(ee)&&ee.length>0?ee.join(", "):"-":K==="number"&&q==="prix"?B=ee?`${ee}€`:"-":K==="number"&&q==="poids"?B=ee?`${ee}g`:"-":B=ee||"-",s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("strong",{children:[Y,":"]})," ",B]}),s.jsx("button",{onClick:()=>U(O,q),className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded text-xs transition-colors",title:"Modifier ce champ",children:s.jsx(ha,{})})]})},k=({product:O})=>{const q=`${O.productId}-stock`,Y=d===q,K=O.stock||{},X=_(O),R=()=>{m(q),f({stock:{...K}})},H=async()=>{try{w(!0),(await(await fetch(`/api/internal/products/${O.clientId}/${O.shopId}/${O.productId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({stock:p.stock})})).json()).success?(t(B=>B.map(V=>V.productId===O.productId?{...V,stock:p.stock,updatedAt:new Date().toISOString()}:V)),m(null),f({}),o(null)):o("Erreur lors de la mise à jour du stock")}catch(G){console.error("Error updating stock:",G),o("Erreur de connexion lors de la mise à jour du stock")}finally{w(!1)}};if(Y)return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("strong",{className:"text-sm",children:"Stock par variante:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:H,disabled:g,className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:s.jsx(km,{})}),s.jsx("button",{onClick:A,disabled:g,className:"px-2 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700 disabled:opacity-50",children:s.jsx(an,{})})]})]}),X.length===0?s.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune variante définie. Ajoutez des tailles et/ou couleurs pour gérer les stocks par variante."}):s.jsxs("div",{className:"space-y-3",children:[X.length>6?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:X.map(G=>{var ee;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"flex-1 text-xs font-medium text-gray-700",children:G.label}),s.jsx("input",{type:"number",min:"0",value:((ee=p.stock)==null?void 0:ee[G.key])||"",onChange:B=>I(G.key,B.target.value,"stock"),className:"w-16 px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"0"})]},G.key)})}):s.jsx("div",{className:"space-y-2",children:X.map(G=>{var ee;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:G.label}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",min:"0",value:((ee=p.stock)==null?void 0:ee[G.key])||"",onChange:B=>I(G.key,B.target.value,"stock"),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0"}),s.jsx("span",{className:"text-xs text-gray-500",children:"unités"})]})]},G.key)})}),X.length>0&&s.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Stock total :"}),s.jsxs("span",{className:"text-lg font-semibold text-sna-primary",children:[Object.values(p.stock||{}).reduce((G,ee)=>G+(parseInt(ee)||0),0)," ","unités"]})]})})]})]});if(!K||Object.keys(K).length===0)return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Stock:"})," Non défini"]}),s.jsx("button",{onClick:R,className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded text-xs transition-colors",title:"Modifier le stock",children:s.jsx(ha,{})})]});const Q=Object.values(K).reduce((G,ee)=>G+(parseInt(ee)||0),0);return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Stock:"}),s.jsxs("div",{className:"mt-1",children:[Object.keys(K).length===1&&K.default!==void 0?s.jsxs("div",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-sna-primary",children:K.default})," ","unités"]}):s.jsxs("div",{className:"space-y-1",children:[Object.entries(K).slice(0,3).map(([G,ee])=>s.jsxs("div",{className:"flex justify-between items-center text-xs bg-gray-100 px-2 py-1 rounded",children:[s.jsx("span",{className:"text-gray-700",children:G}),s.jsx("span",{className:"font-semibold text-sna-primary",children:ee})]},G)),Object.keys(K).length>3&&s.jsxs("div",{className:"text-xs text-gray-500",children:["... et ",Object.keys(K).length-3," autre(s)"]})]}),s.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Total:"," ",s.jsx("span",{className:"font-semibold text-sna-primary",children:Q})," ","unités"]})]})]}),s.jsx("button",{onClick:R,className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded text-xs transition-colors",title:"Modifier le stock",children:s.jsx(ha,{})})]})},D=O=>O?new Date(O).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",F=(O,q,Y)=>{const K=O?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",X=O?q:Y;return s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${K}`,children:X})};return r?s.jsx("p",{children:"Chargement des produits..."}):a?s.jsxs("p",{children:["Erreur: ",a]}):s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Tous les Produits"}),s.jsx("input",{type:"text",placeholder:"Rechercher par titre, client, boutique ou type...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:i,onChange:O=>l(O.target.value)})]}),$.length===0?s.jsx("p",{children:"Aucun produit trouvé."}):s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client / Boutique"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statuts"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(O=>{const q=`${O.clientId}-${O.shopId}-${O.productId}`;return s.jsxs(W.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:O.imageUrls&&O.imageUrls.length>0?s.jsx("img",{className:"h-10 w-10 rounded-md object-cover",src:O.imageUrls[0],alt:O.titre||"Product image"}):s.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center",children:s.jsx(Wl,{className:"h-5 w-5 text-gray-400"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.titre||"-"}),O.description&&s.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:O.description})]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.clientName}),s.jsx("div",{className:"text-sm text-gray-500",children:O.shopName})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:O.typeProduit}),O.typeProduit==="Phono"&&s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O.OCC?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:["OCC: ",O.OCC||O.occ?"Oui":"Non"]})})]}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[s.jsx("div",{className:"font-medium",children:h(O,"prix","price")?`${h(O,"prix","price")}€`:"-"}),h(O,"poids","weight")&&s.jsxs("div",{className:"text-gray-500",children:[h(O,"poids","weight"),"g"]})]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:O.stock&&Object.keys(O.stock).length>0?s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-sna-primary",children:[Object.values(O.stock).reduce((Y,K)=>Y+(parseInt(K)||0),0)," ","unités"]}),Object.keys(O.stock).length>1&&s.jsxs("div",{className:"text-gray-500 text-xs",children:[Object.keys(O.stock).length," variante(s)"]})]}):s.jsx("div",{className:"text-gray-500",children:"Non défini"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[F(O.active,"Actif","Inactif"),F(O.documented,"Documenté","Non documenté"),F(O.hasShopify,"Shopify","Pas Shopify"),F(O.hasEC,"EC","Pas d'EC")]})}),s.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>z(q),className:"text-sna-primary hover:underline",children:c[q]?"Masquer":"Voir Détails"})})]}),c[q]&&s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"px-6 py-4 bg-gray-50",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Détails du Produit: ",O.titre]}),s.jsxs("button",{onClick:()=>C(O),className:"flex items-center px-3 py-1 bg-red-600 text-white rounded-md text-sm hover:bg-red-700 transition-colors",children:[s.jsx(Dv,{className:"mr-2"}),"Supprimer"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Informations générales"}),s.jsx(E,{product:O,fieldName:"titre",label:"Titre",type:"text"}),s.jsx(E,{product:O,fieldName:"description",label:"Description",type:"textarea"}),s.jsx(E,{product:O,fieldName:"typeProduit",label:"Type",type:"select",options:[{value:"Phono",label:"Phono"},{value:"Merch",label:"Merch"}]}),O.typeProduit==="Phono"&&s.jsx(E,{product:O,fieldName:"OCC",label:"OCC",type:"checkbox"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Détails techniques"}),s.jsx(E,{product:O,fieldName:"prix",label:"Prix",type:"number"}),s.jsx(E,{product:O,fieldName:"poids",label:"Poids",type:"number"}),s.jsx(E,{product:O,fieldName:"eans",label:"Code EAN",type:"text"}),O.skus&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"SKU(s):"})," ",Object.keys(O.skus).length===1&&O.skus.default!==void 0?s.jsx("span",{className:"text-sna-primary font-medium",children:O.skus.default}):s.jsxs("span",{children:[Object.values(O.skus).filter(Boolean).slice(0,3).join(", "),Object.values(O.skus).filter(Boolean).length>3&&` + ${Object.values(O.skus).filter(Boolean).length-3} autre(s)`]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Variantes"}),s.jsx(E,{product:O,fieldName:"tailles",label:"Tailles",type:"array",options:S}),s.jsx(E,{product:O,fieldName:"couleurs",label:"Couleurs",type:"array",options:j}),s.jsx(k,{product:O})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Statuts"," ",s.jsx("span",{className:"text-xs text-gray-500",children:"(géré par l'équipe)"})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Actif:"})," ",O.active?"Oui":"Non"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Documenté:"})," ",O.documented?"Oui":"Non"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Shopify:"})," ",O.hasShopify?"Oui":"Non"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"E-Commerce:"})," ",O.hasEC?"Oui":"Non"]})]})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1 text-sm text-gray-600",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Dates"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Créé le:"})," ",D(O.createdAt)]}),O.updatedAt&&O.updatedAt!==O.createdAt&&s.jsxs("div",{children:[s.jsx("strong",{children:"Modifié le:"})," ",D(O.updatedAt)]})]}),s.jsxs("div",{className:"md:col-span-2 space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Images du produit",O.imageUrls&&O.imageUrls.length>0?` (${O.imageUrls.length})`:" (aucune)"]}),O.imageUrls&&O.imageUrls.length>0?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:O.imageUrls.map((Y,K)=>s.jsxs("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-gray-300 transition-all duration-200",children:[s.jsx("div",{className:"aspect-square",children:s.jsx("img",{src:Y,alt:`${O.titre} - Image ${K+1}`,className:"w-full h-full object-cover cursor-pointer transition-transform duration-200 group-hover:scale-105",onClick:()=>window.open(Y,"_blank"),onError:X=>{X.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2Y3ZjdmNyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub24gZGlzcG9uaWJsZTwvdGV4dD48L3N2Zz4=",X.target.classList.add("opacity-50")}})}),s.jsx("div",{className:"absolute top-1 right-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:K+1}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center",children:s.jsx("div",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})})]},K))}):s.jsx("div",{className:"flex items-center justify-center h-24 bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Aucune image ajoutée"})]})})]}),!1]})]})})})]},q)})})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:s.jsx(ir,{className:"h-6 w-6 text-red-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Supprimer le produit"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:['Êtes-vous sûr de vouloir supprimer le produit "',s.jsx("strong",{children:b==null?void 0:b.titre}),'"? Cette action est irréversible.']})]}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Annuler"}),s.jsx("button",{onClick:T,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Supprimer"})]})]})})]})},d6=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,o]=x.useState(null),[i,l]=x.useState(null),[c,u]=x.useState(new Set),[d,m]=x.useState(!1),[p,f]=x.useState(""),[g,w]=x.useState({}),[v,y]=x.useState(new Set),[b,N]=x.useState({});x.useEffect(()=>{const h=async()=>{try{const $=await fetch("/api/customer/all?details=true");if(!$.ok)throw new Error("Erreur lors du chargement des boutiques");const U=((await $.json()).customers||[]).reduce((A,P)=>{if(P.status==="active"&&Array.isArray(P.shops)){const E=P.shops.filter(k=>k.status==="valid").map(k=>({...k,customerName:P.raisonSociale,customerId:P._id,customerStatus:P.status}));return[...A,...E]}return A},[]);t(U),U.forEach(A=>{M(A.shopId)})}catch($){o($.message)}finally{n(!1)}},M=async $=>{try{const z=await fetch(`/api/customer/shop/${$}/products`);if(!z.ok)return;const U=await z.json();N(A=>{var P;return{...A,[$]:((P=U.products)==null?void 0:P.length)||0}})}catch(z){console.error("Error fetching product count for shop:",$,z),N(U=>({...U,[$]:0}))}};h()},[]);const C=async h=>{try{const M=await fetch(`/api/customer/shop/${h}/products`);if(!M.ok)throw new Error("Erreur lors du chargement des produits");const $=await M.json();w(z=>({...z,[h]:$.products||[]}))}catch(M){console.error("Error fetching shop products:",M),l({type:"error",message:"Erreur lors du chargement des produits: "+M.message})}},T=async h=>{v.has(h)?y(M=>{const $=new Set(M);return $.delete(h),$}):(g[h]||await C(h),y(M=>new Set(M).add(h)))},j=async(h,M,$)=>{try{const z=await fetch(`/api/customer/shop/${h}/product/${M}/documentation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:$})}),U=await z.json();if(!z.ok)throw new Error(U.message||"Erreur lors de l'action sur le produit");w(A=>{var P;return{...A,[h]:((P=A[h])==null?void 0:P.map(E=>E.productId===M?{...E,documented:U.documented}:E))||[]}}),l({type:"success",message:U.message})}catch(z){l({type:"error",message:"Erreur: "+z.message})}},S=async(h,M,$=!1)=>{M==="document"&&(u(z=>new Set(z).add(h)),m(!0));try{const z=await fetch(`/api/customer/shop/${h}/documentation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:M,forceOverwrite:$})}),U=await z.json();if(z.status===409&&U.message==="DOCUMENTATION_EXISTS"){l({type:"overwrite_confirmation",message:"La documentation existe déjà pour cette boutique. Voulez-vous la remplacer ou simplement marquer la boutique comme documentée ?",shopId:h,onOverwrite:()=>{l(null),S(h,"document",!0)},onMarkDocumented:()=>{l(null),S(h,"mark_documented")},onCancel:()=>l(null)});return}if(!z.ok)throw new Error(U.message||"Erreur lors de la mise à jour de la documentation");t(A=>A.map(P=>P.shopId===h?{...P,documented:U.documented}:P)),l({type:"success",message:U.message})}catch(z){l({type:"error",message:"Erreur: "+z.message})}finally{M==="document"&&(u(z=>{const U=new Set(z);return U.delete(h),U}),m(!1))}},_=(h,M)=>{let $="";switch(M){case"mark_documented":$="Êtes-vous sûr de vouloir marquer cette boutique comme déjà documentée ?";break;case"document":$="Êtes-vous sûr de vouloir générer la documentation SharePoint pour cette boutique ?";break;case"undocument":$=`⚠️ ATTENTION: Cette action ne supprimera que le statut 'documenté' dans la base de données. Si une documentation existe dans SharePoint, elle y restera et devra être supprimée manuellement.

Êtes-vous sûr de vouloir continuer ?`;break;default:return}l({type:"confirmation",message:$,onConfirm:()=>{S(h,M),l(null)},onCancel:()=>l(null)})},I=(h,M,$)=>{let z="";switch($){case"document":z="Êtes-vous sûr de vouloir documenter ce produit dans SharePoint ?";break;case"mark_documented":z="Êtes-vous sûr de vouloir marquer ce produit comme déjà documenté ?";break;case"undocument":z=`⚠️ ATTENTION: Cette action ne supprimera que le statut 'documenté' dans la base de données. Si une documentation existe dans SharePoint, elle y restera et devra être supprimée manuellement.

Êtes-vous sûr de vouloir continuer ?`;break;default:return}l({type:"confirmation",message:z,onConfirm:()=>{j(h,M,$),l(null)},onCancel:()=>l(null)})};return r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary"})}):a?s.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:a})]})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsx("div",{className:"text-center",children:i.type==="confirmation"?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmation"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:i.message}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:i.onCancel,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Annuler"}),s.jsx("button",{onClick:i.onConfirm,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Confirmer"})]})]}):i.type==="overwrite_confirmation"?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Documentation existante"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:i.message}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:i.onMarkDocumented,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Marquer comme documentée"}),s.jsx("button",{onClick:i.onCancel,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Annuler"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${i.type==="success"?"bg-green-100":"bg-red-100"}`,children:i.type==="success"?s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:i.type==="success"?"Succès":"Erreur"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:i.message}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Fermer"})})]})})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Générer la documentation"}),s.jsx("input",{type:"text",placeholder:"Rechercher une boutique ou un client...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:p,onChange:h=>f(h.target.value)})]}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:s.jsx("div",{className:"flex",children:s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-blue-700",children:["Seules les boutiques"," ",s.jsx("span",{className:"font-semibold",children:"validées"})," des clients"," ",s.jsx("span",{className:"font-semibold",children:"actifs"})," peuvent être documentées."]})})})})]}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("ul",{className:"divide-y divide-gray-200",children:e.filter(h=>{var M,$;return((M=h.nomProjet)==null?void 0:M.toLowerCase().includes(p.toLowerCase()))||(($=h.customerName)==null?void 0:$.toLowerCase().includes(p.toLowerCase()))}).map(h=>{var M,$;return s.jsxs("li",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-sna-primary truncate",children:h.nomProjet}),s.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:s.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Boutique validée"})})]}),s.jsxs("div",{className:"mt-2 flex justify-between",children:[s.jsx("div",{className:"sm:flex",children:s.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:["Client: ",h.customerName]})}),s.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:s.jsxs("p",{children:["Statut documentation:"," ",s.jsx("span",{className:`font-medium ${h.documented==="documented"||h.documented===!0?"text-green-600":"text-yellow-600"}`,children:h.documented==="documented"||h.documented===!0?"Documentée":"Non documentée"})]})})]})]}),s.jsx("div",{className:"ml-4 flex-shrink-0 flex space-x-4",children:h.documented!=="documented"&&h.documented!==!0?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>_(h.shopId,"mark_documented"),disabled:c.size>0||d,className:`inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary ${c.size>0||d?"bg-gray-100 text-gray-400 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50"}`,children:"Boutique déjà documentée"}),s.jsx("button",{onClick:()=>_(h.shopId,"document"),disabled:c.size>0||d,className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary ${c.size>0||d?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90"}`,children:c.has(h.shopId)?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Génération en cours..."]}):"Générer documentation SharePoint"})]}):s.jsx("button",{onClick:()=>_(h.shopId,"undocument"),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Supprimer documentation"})})]}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[s.jsxs("button",{onClick:()=>T(h.shopId),className:"flex items-center justify-between w-full text-xs font-medium text-gray-600 hover:text-sna-primary hover:bg-gray-50 p-1.5 rounded-md transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:`w-4 h-4 mr-2 transform transition-transform ${v.has(h.shopId)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx("span",{children:"Gérer les produits"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:b[h.shopId]!==void 0?s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:b[h.shopId]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-500",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-2 w-2 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]})})]}),v.has(h.shopId)&&s.jsx("div",{className:"mt-2 bg-gray-50 rounded p-2 border border-gray-100",children:s.jsx("div",{className:"space-y-2",children:((M=g[h.shopId])==null?void 0:M.length)===0?s.jsxs("div",{className:"text-center py-3",children:[s.jsx("svg",{className:"mx-auto h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8l-3 3-3-3m-4 8l3-3 3 3"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Aucun produit valide trouvé"})]}):($=g[h.shopId])==null?void 0:$.map(z=>s.jsx("div",{className:"bg-white p-2 rounded border border-gray-200 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-900 truncate",children:z.titre}),s.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${z.documented?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:z.documented?"✓":"○"})]})}),s.jsx("div",{className:"ml-2 flex-shrink-0",children:s.jsx("div",{className:"flex space-x-1",children:z.documented?s.jsx("button",{onClick:()=>I(h.shopId,z.productId,"undocument"),disabled:d||c.size>0,className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white focus:outline-none transition-colors ${d||c.size>0?"bg-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,title:"Supprimer la documentation",children:"Supprimer doc"}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>I(h.shopId,z.productId,"document"),disabled:d||c.size>0,className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white focus:outline-none transition-colors ${d||c.size>0?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90"}`,title:"Documenter ce produit dans SharePoint",children:"Documenter"}),s.jsx("button",{onClick:()=>I(h.shopId,z.productId,"mark_documented"),disabled:d||c.size>0,className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white focus:outline-none transition-colors ${d||c.size>0?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,title:"Marquer comme déjà documenté",children:"Marquer documenté"})]})})})]})},z.productId))})})]})]},h.shopId)})})})]})},Ko={black:"#000",white:"#fff"},Hs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ws={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ys={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ks={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Qs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},no={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},m6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rs(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const bf="$$material";function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(null,arguments)}function p6(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function f6(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var h6=function(){function e(r){var n=this;this._insertTag=function(a){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,o),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(f6(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=p6(a);try{o.insertRule(n,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Tt="-ms-",mc="-moz-",Pe="-webkit-",Nb="comm",wf="rule",jf="decl",g6="@import",Sb="@keyframes",x6="@layer",y6=Math.abs,su=String.fromCharCode,v6=Object.assign;function b6(e,t){return Ct(e,0)^45?(((t<<2^Ct(e,0))<<2^Ct(e,1))<<2^Ct(e,2))<<2^Ct(e,3):0}function Cb(e){return e.trim()}function w6(e,t){return(e=t.exec(e))?e[0]:e}function De(e,t,r){return e.replace(t,r)}function zm(e,t){return e.indexOf(t)}function Ct(e,t){return e.charCodeAt(t)|0}function Qo(e,t,r){return e.slice(t,r)}function Wr(e){return e.length}function Nf(e){return e.length}function Vi(e,t){return t.push(e),e}function j6(e,t){return e.map(t).join("")}var au=1,Aa=1,kb=0,Gt=0,mt=0,Ua="";function ou(e,t,r,n,a,o,i){return{value:e,root:t,parent:r,type:n,props:a,children:o,line:au,column:Aa,length:i,return:""}}function so(e,t){return v6(ou("",null,null,"",null,null,0),e,{length:-e.length},t)}function N6(){return mt}function S6(){return mt=Gt>0?Ct(Ua,--Gt):0,Aa--,mt===10&&(Aa=1,au--),mt}function sr(){return mt=Gt<kb?Ct(Ua,Gt++):0,Aa++,mt===10&&(Aa=1,au++),mt}function sn(){return Ct(Ua,Gt)}function dl(){return Gt}function li(e,t){return Qo(Ua,e,t)}function Go(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Eb(e){return au=Aa=1,kb=Wr(Ua=e),Gt=0,[]}function Pb(e){return Ua="",e}function ml(e){return Cb(li(Gt-1,$m(e===91?e+2:e===40?e+1:e)))}function C6(e){for(;(mt=sn())&&mt<33;)sr();return Go(e)>2||Go(mt)>3?"":" "}function k6(e,t){for(;--t&&sr()&&!(mt<48||mt>102||mt>57&&mt<65||mt>70&&mt<97););return li(e,dl()+(t<6&&sn()==32&&sr()==32))}function $m(e){for(;sr();)switch(mt){case e:return Gt;case 34:case 39:e!==34&&e!==39&&$m(mt);break;case 40:e===41&&$m(e);break;case 92:sr();break}return Gt}function E6(e,t){for(;sr()&&e+mt!==57;)if(e+mt===84&&sn()===47)break;return"/*"+li(t,Gt-1)+"*"+su(e===47?e:sr())}function P6(e){for(;!Go(sn());)sr();return li(e,Gt)}function D6(e){return Pb(pl("",null,null,null,[""],e=Eb(e),0,[0],e))}function pl(e,t,r,n,a,o,i,l,c){for(var u=0,d=0,m=i,p=0,f=0,g=0,w=1,v=1,y=1,b=0,N="",C=a,T=o,j=n,S=N;v;)switch(g=b,b=sr()){case 40:if(g!=108&&Ct(S,m-1)==58){zm(S+=De(ml(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=ml(b);break;case 9:case 10:case 13:case 32:S+=C6(g);break;case 92:S+=k6(dl()-1,7);continue;case 47:switch(sn()){case 42:case 47:Vi(_6(E6(sr(),dl()),t,r),c);break;default:S+="/"}break;case 123*w:l[u++]=Wr(S)*y;case 125*w:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+d:y==-1&&(S=De(S,/\f/g,"")),f>0&&Wr(S)-m&&Vi(f>32?rg(S+";",n,r,m-1):rg(De(S," ","")+";",n,r,m-2),c);break;case 59:S+=";";default:if(Vi(j=tg(S,t,r,u,d,a,l,N,C=[],T=[],m),o),b===123)if(d===0)pl(S,t,j,j,C,o,m,l,T);else switch(p===99&&Ct(S,3)===110?100:p){case 100:case 108:case 109:case 115:pl(e,j,j,n&&Vi(tg(e,j,j,0,0,a,l,N,a,C=[],m),T),a,T,m,l,n?C:T);break;default:pl(S,j,j,j,[""],T,0,l,T)}}u=d=f=0,w=y=1,N=S="",m=i;break;case 58:m=1+Wr(S),f=g;default:if(w<1){if(b==123)--w;else if(b==125&&w++==0&&S6()==125)continue}switch(S+=su(b),b*w){case 38:y=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Wr(S)-1)*y,y=1;break;case 64:sn()===45&&(S+=ml(sr())),p=sn(),d=m=Wr(N=S+=P6(dl())),b++;break;case 45:g===45&&Wr(S)==2&&(w=0)}}return o}function tg(e,t,r,n,a,o,i,l,c,u,d){for(var m=a-1,p=a===0?o:[""],f=Nf(p),g=0,w=0,v=0;g<n;++g)for(var y=0,b=Qo(e,m+1,m=y6(w=i[g])),N=e;y<f;++y)(N=Cb(w>0?p[y]+" "+b:De(b,/&\f/g,p[y])))&&(c[v++]=N);return ou(e,t,r,a===0?wf:l,c,u,d)}function _6(e,t,r){return ou(e,t,r,Nb,su(N6()),Qo(e,2,-2),0)}function rg(e,t,r,n){return ou(e,t,r,jf,Qo(e,0,n),Qo(e,n+1,-1),n)}function ya(e,t){for(var r="",n=Nf(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function T6(e,t,r,n){switch(e.type){case x6:if(e.children.length)break;case g6:case jf:return e.return=e.return||e.value;case Nb:return"";case Sb:return e.return=e.value+"{"+ya(e.children,n)+"}";case wf:e.value=e.props.join(",")}return Wr(r=ya(e.children,n))?e.return=e.value+"{"+r+"}":""}function M6(e){var t=Nf(e);return function(r,n,a,o){for(var i="",l=0;l<t;l++)i+=e[l](r,n,a,o)||"";return i}}function I6(e){return function(t){t.root||(t=t.return)&&e(t)}}function Db(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var A6=function(t,r,n){for(var a=0,o=0;a=o,o=sn(),a===38&&o===12&&(r[n]=1),!Go(o);)sr();return li(t,Gt)},O6=function(t,r){var n=-1,a=44;do switch(Go(a)){case 0:a===38&&sn()===12&&(r[n]=1),t[n]+=A6(Gt-1,r,n);break;case 2:t[n]+=ml(a);break;case 4:if(a===44){t[++n]=sn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=su(a)}while(a=sr());return t},R6=function(t,r){return Pb(O6(Eb(t),r))},ng=new WeakMap,L6=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!ng.get(n))&&!a){ng.set(t,!0);for(var o=[],i=R6(r,o),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)t.props[u]=o[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},z6=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function _b(e,t){switch(b6(e,t)){case 5103:return Pe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+e+mc+e+Tt+e+e;case 6828:case 4268:return Pe+e+Tt+e+e;case 6165:return Pe+e+Tt+"flex-"+e+e;case 5187:return Pe+e+De(e,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+Tt+"flex-$1$2")+e;case 5443:return Pe+e+Tt+"flex-item-"+De(e,/flex-|-self/,"")+e;case 4675:return Pe+e+Tt+"flex-line-pack"+De(e,/align-content|flex-|-self/,"")+e;case 5548:return Pe+e+Tt+De(e,"shrink","negative")+e;case 5292:return Pe+e+Tt+De(e,"basis","preferred-size")+e;case 6060:return Pe+"box-"+De(e,"-grow","")+Pe+e+Tt+De(e,"grow","positive")+e;case 4554:return Pe+De(e,/([^-])(transform)/g,"$1"+Pe+"$2")+e;case 6187:return De(De(De(e,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),e,"")+e;case 5495:case 3959:return De(e,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return De(De(e,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+Tt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+e+e;case 4095:case 3583:case 4068:case 2532:return De(e,/(.+)-inline(.+)/,Pe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wr(e)-1-t>6)switch(Ct(e,t+1)){case 109:if(Ct(e,t+4)!==45)break;case 102:return De(e,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+mc+(Ct(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~zm(e,"stretch")?_b(De(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ct(e,t+1)!==115)break;case 6444:switch(Ct(e,Wr(e)-3-(~zm(e,"!important")&&10))){case 107:return De(e,":",":"+Pe)+e;case 101:return De(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pe+(Ct(e,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+Tt+"$2box$3")+e}break;case 5936:switch(Ct(e,t+11)){case 114:return Pe+e+Tt+De(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pe+e+Tt+De(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pe+e+Tt+De(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Pe+e+Tt+e+e}return e}var $6=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case jf:t.return=_b(t.value,t.length);break;case Sb:return ya([so(t,{value:De(t.value,"@","@"+Pe)})],a);case wf:if(t.length)return j6(t.props,function(o){switch(w6(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ya([so(t,{props:[De(o,/:(read-\w+)/,":"+mc+"$1")]})],a);case"::placeholder":return ya([so(t,{props:[De(o,/:(plac\w+)/,":"+Pe+"input-$1")]}),so(t,{props:[De(o,/:(plac\w+)/,":"+mc+"$1")]}),so(t,{props:[De(o,/:(plac\w+)/,Tt+"input-$1")]})],a)}return""})}},F6=[$6],B6=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var v=w.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var a=t.stylisPlugins||F6,o={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var v=w.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)o[v[y]]=!0;l.push(w)});var c,u=[L6,z6];{var d,m=[T6,I6(function(w){d.insert(w)})],p=M6(u.concat(a,m)),f=function(v){return ya(D6(v),p)};c=function(v,y,b,N){d=b,f(v?v+"{"+y.styles+"}":y.styles),N&&(g.inserted[y.name]=!0)}}var g={key:r,sheet:new h6({key:r,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return g.sheet.hydrate(l),g},U6=!0;function Tb(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var Sf=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||U6===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},Mb=function(t,r,n){Sf(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+a:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function V6(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var q6={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},H6=/[A-Z]|^ms/g,W6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ib=function(t){return t.charCodeAt(1)===45},sg=function(t){return t!=null&&typeof t!="boolean"},yd=Db(function(e){return Ib(e)?e:e.replace(H6,"-$&").toLowerCase()}),ag=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(W6,function(n,a,o){return Yr={name:a,styles:o,next:Yr},a})}return q6[t]!==1&&!Ib(t)&&typeof r=="number"&&r!==0?r+"px":r};function Jo(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Yr={name:a.name,styles:a.styles,next:Yr},a.name;var o=r;if(o.styles!==void 0){var i=o.next;if(i!==void 0)for(;i!==void 0;)Yr={name:i.name,styles:i.styles,next:Yr},i=i.next;var l=o.styles+";";return l}return Y6(e,t,r)}case"function":{if(e!==void 0){var c=Yr,u=r(e);return Yr=c,Jo(e,t,u)}break}}var d=r;if(t==null)return d;var m=t[d];return m!==void 0?m:d}function Y6(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Jo(e,t,r[a])+";";else for(var o in r){var i=r[o];if(typeof i!="object"){var l=i;t!=null&&t[l]!==void 0?n+=o+"{"+t[l]+"}":sg(l)&&(n+=yd(o)+":"+ag(o,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var c=0;c<i.length;c++)sg(i[c])&&(n+=yd(o)+":"+ag(o,i[c])+";");else{var u=Jo(e,t,i);switch(o){case"animation":case"animationName":{n+=yd(o)+":"+u+";";break}default:n+=o+"{"+u+"}"}}}return n}var og=/label:\s*([^\s;{]+)\s*(;|$)/g,Yr;function iu(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";Yr=void 0;var o=e[0];if(o==null||o.raw===void 0)n=!1,a+=Jo(r,t,o);else{var i=o;a+=i[0]}for(var l=1;l<e.length;l++)if(a+=Jo(r,t,e[l]),n){var c=o;a+=c[l]}og.lastIndex=0;for(var u="",d;(d=og.exec(a))!==null;)u+="-"+d[1];var m=V6(a)+u;return{name:m,styles:a,next:Yr}}var K6=function(t){return t()},Q6=Eo.useInsertionEffect?Eo.useInsertionEffect:!1,Ab=Q6||K6,Ob=x.createContext(typeof HTMLElement<"u"?B6({key:"css"}):null);Ob.Provider;var Rb=function(t){return x.forwardRef(function(r,n){var a=x.useContext(Ob);return t(r,a,n)})},Cf=x.createContext({}),kf={}.hasOwnProperty,Fm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",G6=function(t,r){var n={};for(var a in r)kf.call(r,a)&&(n[a]=r[a]);return n[Fm]=t,n},J6=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return Sf(r,n,a),Ab(function(){return Mb(r,n,a)}),null},X6=Rb(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[Fm],o=[n],i="";typeof e.className=="string"?i=Tb(t.registered,o,e.className):e.className!=null&&(i=e.className+" ");var l=iu(o,void 0,x.useContext(Cf));i+=t.key+"-"+l.name;var c={};for(var u in e)kf.call(e,u)&&u!=="css"&&u!==Fm&&(c[u]=e[u]);return c.className=i,r&&(c.ref=r),x.createElement(x.Fragment,null,x.createElement(J6,{cache:t,serialized:l,isStringTag:typeof a=="string"}),x.createElement(a,c))}),Z6=X6,ig=function(t,r){var n=arguments;if(r==null||!kf.call(r,"css"))return x.createElement.apply(void 0,n);var a=n.length,o=new Array(a);o[0]=Z6,o[1]=G6(t,r);for(var i=2;i<a;i++)o[i]=n[i];return x.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(ig||(ig={}));function Ef(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return iu(t)}function ci(){var e=Ef.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var e5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,t5=Db(function(e){return e5.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),r5=t5,n5=function(t){return t!=="theme"},lg=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?r5:n5},cg=function(t,r,n){var a;if(r){var o=r.shouldForwardProp;a=t.__emotion_forwardProp&&o?function(i){return t.__emotion_forwardProp(i)&&o(i)}:o}return typeof a!="function"&&n&&(a=t.__emotion_forwardProp),a},s5=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return Sf(r,n,a),Ab(function(){return Mb(r,n,a)}),null},a5=function e(t,r){var n=t.__emotion_real===t,a=n&&t.__emotion_base||t,o,i;r!==void 0&&(o=r.label,i=r.target);var l=cg(t,r,n),c=l||lg(a),u=!c("as");return function(){var d=arguments,m=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&m.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)m.push.apply(m,d);else{var p=d[0];m.push(p[0]);for(var f=d.length,g=1;g<f;g++)m.push(d[g],p[g])}var w=Rb(function(v,y,b){var N=u&&v.as||a,C="",T=[],j=v;if(v.theme==null){j={};for(var S in v)j[S]=v[S];j.theme=x.useContext(Cf)}typeof v.className=="string"?C=Tb(y.registered,T,v.className):v.className!=null&&(C=v.className+" ");var _=iu(m.concat(T),y.registered,j);C+=y.key+"-"+_.name,i!==void 0&&(C+=" "+i);var I=u&&l===void 0?lg(N):c,h={};for(var M in v)u&&M==="as"||I(M)&&(h[M]=v[M]);return h.className=C,b&&(h.ref=b),x.createElement(x.Fragment,null,x.createElement(s5,{cache:y,serialized:_,isStringTag:typeof N=="string"}),x.createElement(N,h))});return w.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=a,w.__emotion_styles=m,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+i}}),w.withComponent=function(v,y){var b=e(v,dc({},r,y,{shouldForwardProp:cg(w,y,!0)}));return b.apply(void 0,m)},w}},o5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Bm=a5.bind(null);o5.forEach(function(e){Bm[e]=Bm(e)});function Lb(e,t){return Bm(e,t)}function i5(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const ug=[];function ks(e){return ug[0]=e,iu(ug)}var zb={exports:{}},$e={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=Symbol.for("react.transitional.element"),Df=Symbol.for("react.portal"),lu=Symbol.for("react.fragment"),cu=Symbol.for("react.strict_mode"),uu=Symbol.for("react.profiler"),du=Symbol.for("react.consumer"),mu=Symbol.for("react.context"),pu=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),gu=Symbol.for("react.memo"),xu=Symbol.for("react.lazy"),l5=Symbol.for("react.view_transition"),c5=Symbol.for("react.client.reference");function kr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Pf:switch(e=e.type,e){case lu:case uu:case cu:case fu:case hu:case l5:return e;default:switch(e=e&&e.$$typeof,e){case mu:case pu:case xu:case gu:return e;case du:return e;default:return t}}case Df:return t}}}$e.ContextConsumer=du;$e.ContextProvider=mu;$e.Element=Pf;$e.ForwardRef=pu;$e.Fragment=lu;$e.Lazy=xu;$e.Memo=gu;$e.Portal=Df;$e.Profiler=uu;$e.StrictMode=cu;$e.Suspense=fu;$e.SuspenseList=hu;$e.isContextConsumer=function(e){return kr(e)===du};$e.isContextProvider=function(e){return kr(e)===mu};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pf};$e.isForwardRef=function(e){return kr(e)===pu};$e.isFragment=function(e){return kr(e)===lu};$e.isLazy=function(e){return kr(e)===xu};$e.isMemo=function(e){return kr(e)===gu};$e.isPortal=function(e){return kr(e)===Df};$e.isProfiler=function(e){return kr(e)===uu};$e.isStrictMode=function(e){return kr(e)===cu};$e.isSuspense=function(e){return kr(e)===fu};$e.isSuspenseList=function(e){return kr(e)===hu};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lu||e===uu||e===cu||e===fu||e===hu||typeof e=="object"&&e!==null&&(e.$$typeof===xu||e.$$typeof===gu||e.$$typeof===mu||e.$$typeof===du||e.$$typeof===pu||e.$$typeof===c5||e.getModuleId!==void 0)};$e.typeOf=kr;zb.exports=$e;var $b=zb.exports;function Jr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Fb(e){if(x.isValidElement(e)||$b.isValidElementType(e)||!Jr(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=Fb(e[r])}),t}function ar(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return Jr(e)&&Jr(t)&&Object.keys(t).forEach(a=>{x.isValidElement(t[a])||$b.isValidElementType(t[a])?n[a]=t[a]:Jr(t[a])&&Object.prototype.hasOwnProperty.call(e,a)&&Jr(e[a])?n[a]=ar(e[a],t[a],r):r.clone?n[a]=Jr(t[a])?Fb(t[a]):t[a]:n[a]=t[a]}),n}const u5=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function d5(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...a}=e,o=u5(t),i=Object.keys(o);function l(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${r})`}function c(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-n/100}${r})`}function u(p,f){const g=i.indexOf(f);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${r}) and (max-width:${(g!==-1&&typeof t[i[g]]=="number"?t[i[g]]:f)-n/100}${r})`}function d(p){return i.indexOf(p)+1<i.length?u(p,i[i.indexOf(p)+1]):l(p)}function m(p){const f=i.indexOf(p);return f===0?l(i[1]):f===i.length-1?c(i[f]):u(p,i[i.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:i,values:o,up:l,down:c,between:u,only:d,not:m,unit:r,...a}}function dg(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,a)=>{var i,l;const o=/min-width:\s*([0-9.]+)/;return+(((i=n.match(o))==null?void 0:i[1])||0)-+(((l=a.match(o))==null?void 0:l[1])||0)});return r.length?r.reduce((n,a)=>{const o=t[a];return delete n[a],n[a]=o,n},{...t}):t}function m5(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function p5(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,a]=r,o=Number.isNaN(+n)?n||0:+n;return e.containerQueries(a).up(o)}function f5(e){const t=(o,i)=>o.replace("@media",i?`@container ${i}`:"@container");function r(o,i){o.up=(...l)=>t(e.breakpoints.up(...l),i),o.down=(...l)=>t(e.breakpoints.down(...l),i),o.between=(...l)=>t(e.breakpoints.between(...l),i),o.only=(...l)=>t(e.breakpoints.only(...l),i),o.not=(...l)=>{const c=t(e.breakpoints.not(...l),i);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const n={},a=o=>(r(n,o),n);return r(a),{...e,containerQueries:a}}const h5={borderRadius:4};function ko(e,t){return t?ar(e,t,{clone:!1}):e}const yu={xs:0,sm:600,md:900,lg:1200,xl:1536},mg={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${yu[e]}px)`},g5={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:yu[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function kn(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||mg;return t.reduce((i,l,c)=>(i[o.up(o.keys[c])]=r(t[c]),i),{})}if(typeof t=="object"){const o=n.breakpoints||mg;return Object.keys(t).reduce((i,l)=>{if(m5(o.keys,l)){const c=p5(n.containerQueries?n:g5,l);c&&(i[c]=r(t[l],l))}else if(Object.keys(o.values||yu).includes(l)){const c=o.up(l);i[c]=r(t[l],l)}else{const c=l;i[c]=t[c]}return i},{})}return r(t)}function x5(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((n,a)=>{const o=e.up(a);return n[o]={},n},{}))||{}}function pg(e,t){return e.reduce((r,n)=>{const a=r[n];return(!a||Object.keys(a).length===0)&&delete r[n],r},t)}function oe(e){if(typeof e!="string")throw new Error(Rs(7));return e.charAt(0).toUpperCase()+e.slice(1)}function vu(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,a)=>n&&n[a]!=null?n[a]:null,e)}function pc(e,t,r,n=r){let a;return typeof e=="function"?a=e(r):Array.isArray(e)?a=e[r]||n:a=vu(e,r)||n,t&&(a=t(a,n,e)),a}function ut(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:a}=e,o=i=>{if(i[t]==null)return null;const l=i[t],c=i.theme,u=vu(c,n)||{};return kn(i,l,m=>{let p=pc(u,a,m);return m===p&&typeof m=="string"&&(p=pc(u,a,`${t}${m==="default"?"":oe(m)}`,m)),r===!1?p:{[r]:p}})};return o.propTypes={},o.filterProps=[t],o}function y5(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const v5={m:"margin",p:"padding"},b5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},fg={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},w5=y5(e=>{if(e.length>2)if(fg[e])e=fg[e];else return[e];const[t,r]=e.split(""),n=v5[t],a=b5[r]||"";return Array.isArray(a)?a.map(o=>n+o):[n+a]}),_f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Tf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._f,...Tf];function ui(e,t,r,n){const a=vu(e,t,!0)??r;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?a.startsWith("var(")&&o===0?0:a.startsWith("var(")&&o===1?a:`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const i=Math.abs(o),l=a[i];return o>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof a=="function"?a:()=>{}}function Mf(e){return ui(e,"spacing",8)}function di(e,t){return typeof t=="string"||t==null?t:e(t)}function j5(e,t){return r=>e.reduce((n,a)=>(n[a]=di(t,r),n),{})}function N5(e,t,r,n){if(!t.includes(r))return null;const a=w5(r),o=j5(a,n),i=e[r];return kn(e,i,o)}function Bb(e,t){const r=Mf(e.theme);return Object.keys(e).map(n=>N5(e,t,n,r)).reduce(ko,{})}function tt(e){return Bb(e,_f)}tt.propTypes={};tt.filterProps=_f;function rt(e){return Bb(e,Tf)}rt.propTypes={};rt.filterProps=Tf;function Ub(e=8,t=Mf({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(o=>{const i=t(o);return typeof i=="number"?`${i}px`:i}).join(" ");return r.mui=!0,r}function bu(...e){const t=e.reduce((n,a)=>(a.filterProps.forEach(o=>{n[o]=a}),n),{}),r=n=>Object.keys(n).reduce((a,o)=>t[o]?ko(a,t[o](n)):a,{});return r.propTypes={},r.filterProps=e.reduce((n,a)=>n.concat(a.filterProps),[]),r}function vr(e){return typeof e!="number"?e:`${e}px solid`}function Er(e,t){return ut({prop:e,themeKey:"borders",transform:t})}const S5=Er("border",vr),C5=Er("borderTop",vr),k5=Er("borderRight",vr),E5=Er("borderBottom",vr),P5=Er("borderLeft",vr),D5=Er("borderColor"),_5=Er("borderTopColor"),T5=Er("borderRightColor"),M5=Er("borderBottomColor"),I5=Er("borderLeftColor"),A5=Er("outline",vr),O5=Er("outlineColor"),wu=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=ui(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:di(t,n)});return kn(e,e.borderRadius,r)}return null};wu.propTypes={};wu.filterProps=["borderRadius"];bu(S5,C5,k5,E5,P5,D5,_5,T5,M5,I5,wu,A5,O5);const ju=e=>{if(e.gap!==void 0&&e.gap!==null){const t=ui(e.theme,"spacing",8),r=n=>({gap:di(t,n)});return kn(e,e.gap,r)}return null};ju.propTypes={};ju.filterProps=["gap"];const Nu=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=ui(e.theme,"spacing",8),r=n=>({columnGap:di(t,n)});return kn(e,e.columnGap,r)}return null};Nu.propTypes={};Nu.filterProps=["columnGap"];const Su=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=ui(e.theme,"spacing",8),r=n=>({rowGap:di(t,n)});return kn(e,e.rowGap,r)}return null};Su.propTypes={};Su.filterProps=["rowGap"];const R5=ut({prop:"gridColumn"}),L5=ut({prop:"gridRow"}),z5=ut({prop:"gridAutoFlow"}),$5=ut({prop:"gridAutoColumns"}),F5=ut({prop:"gridAutoRows"}),B5=ut({prop:"gridTemplateColumns"}),U5=ut({prop:"gridTemplateRows"}),V5=ut({prop:"gridTemplateAreas"}),q5=ut({prop:"gridArea"});bu(ju,Nu,Su,R5,L5,z5,$5,F5,B5,U5,V5,q5);function va(e,t){return t==="grey"?t:e}const H5=ut({prop:"color",themeKey:"palette",transform:va}),W5=ut({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:va}),Y5=ut({prop:"backgroundColor",themeKey:"palette",transform:va});bu(H5,W5,Y5);function Zt(e){return e<=1&&e!==0?`${e*100}%`:e}const K5=ut({prop:"width",transform:Zt}),If=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var a,o,i,l,c;const n=((i=(o=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:o.values)==null?void 0:i[r])||yu[r];return n?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Zt(r)}};return kn(e,e.maxWidth,t)}return null};If.filterProps=["maxWidth"];const Q5=ut({prop:"minWidth",transform:Zt}),G5=ut({prop:"height",transform:Zt}),J5=ut({prop:"maxHeight",transform:Zt}),X5=ut({prop:"minHeight",transform:Zt});ut({prop:"size",cssProperty:"width",transform:Zt});ut({prop:"size",cssProperty:"height",transform:Zt});const Z5=ut({prop:"boxSizing"});bu(K5,If,Q5,G5,J5,X5,Z5);const mi={border:{themeKey:"borders",transform:vr},borderTop:{themeKey:"borders",transform:vr},borderRight:{themeKey:"borders",transform:vr},borderBottom:{themeKey:"borders",transform:vr},borderLeft:{themeKey:"borders",transform:vr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:vr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wu},color:{themeKey:"palette",transform:va},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:va},backgroundColor:{themeKey:"palette",transform:va},p:{style:rt},pt:{style:rt},pr:{style:rt},pb:{style:rt},pl:{style:rt},px:{style:rt},py:{style:rt},padding:{style:rt},paddingTop:{style:rt},paddingRight:{style:rt},paddingBottom:{style:rt},paddingLeft:{style:rt},paddingX:{style:rt},paddingY:{style:rt},paddingInline:{style:rt},paddingInlineStart:{style:rt},paddingInlineEnd:{style:rt},paddingBlock:{style:rt},paddingBlockStart:{style:rt},paddingBlockEnd:{style:rt},m:{style:tt},mt:{style:tt},mr:{style:tt},mb:{style:tt},ml:{style:tt},mx:{style:tt},my:{style:tt},margin:{style:tt},marginTop:{style:tt},marginRight:{style:tt},marginBottom:{style:tt},marginLeft:{style:tt},marginX:{style:tt},marginY:{style:tt},marginInline:{style:tt},marginInlineStart:{style:tt},marginInlineEnd:{style:tt},marginBlock:{style:tt},marginBlockStart:{style:tt},marginBlockEnd:{style:tt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ju},rowGap:{style:Su},columnGap:{style:Nu},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zt},maxWidth:{style:If},minWidth:{transform:Zt},height:{transform:Zt},maxHeight:{transform:Zt},minHeight:{transform:Zt},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function e8(...e){const t=e.reduce((n,a)=>n.concat(Object.keys(a)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function t8(e,t){return typeof e=="function"?e(t):e}function r8(){function e(r,n,a,o){const i={[r]:n,theme:a},l=o[r];if(!l)return{[r]:n};const{cssProperty:c=r,themeKey:u,transform:d,style:m}=l;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const p=vu(a,u)||{};return m?m(i):kn(i,n,g=>{let w=pc(p,d,g);return g===w&&typeof g=="string"&&(w=pc(p,d,`${r}${g==="default"?"":oe(g)}`,g)),c===!1?w:{[c]:w}})}function t(r){const{sx:n,theme:a={},nested:o}=r||{};if(!n)return null;const i=a.unstable_sxConfig??mi;function l(c){let u=c;if(typeof c=="function")u=c(a);else if(typeof c!="object")return c;if(!u)return null;const d=x5(a.breakpoints),m=Object.keys(d);let p=d;return Object.keys(u).forEach(f=>{const g=t8(u[f],a);if(g!=null)if(typeof g=="object")if(i[f])p=ko(p,e(f,g,a,i));else{const w=kn({theme:a},g,v=>({[f]:v}));e8(w,g)?p[f]=t({sx:g,theme:a,nested:!0}):p=ko(p,w)}else p=ko(p,e(f,g,a,i))}),!o&&a.modularCssLayers?{"@layer sx":dg(a,pg(m,p))}:dg(a,pg(m,p))}return Array.isArray(n)?n.map(l):l(n)}return t}const Ls=r8();Ls.filterProps=["sx"];function n8(e,t){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[e])||typeof r.getColorSchemeSelector!="function")return{};let a=r.getColorSchemeSelector(e);return a==="&"?t:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:t})}return r.palette.mode===e?t:{}}function Af(e={},...t){const{breakpoints:r={},palette:n={},spacing:a,shape:o={},...i}=e,l=d5(r),c=Ub(a);let u=ar({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:c,shape:{...h5,...o}},i);return u=f5(u),u.applyStyles=n8,u=t.reduce((d,m)=>ar(d,m),u),u.unstable_sxConfig={...mi,...i==null?void 0:i.unstable_sxConfig},u.unstable_sx=function(m){return Ls({sx:m,theme:this})},u}function s8(e){return Object.keys(e).length===0}function a8(e=null){const t=x.useContext(Cf);return!t||s8(t)?e:t}const o8=Af();function Vb(e=o8){return a8(e)}const i8=e=>{var n;const t={systemProps:{},otherProps:{}},r=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??mi;return Object.keys(e).forEach(a=>{r[a]?t.systemProps[a]=e[a]:t.otherProps[a]=e[a]}),t};function qb(e){const{sx:t,...r}=e,{systemProps:n,otherProps:a}=i8(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...i)=>{const l=t(...i);return Jr(l)?{...n,...l}:n}:o={...n,...t},{...a,sx:o}}const hg=e=>e,l8=()=>{let e=hg;return{configure(t){e=t},generate(t){return e(t)},reset(){e=hg}}},Hb=l8();function c8(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:a}=e,o=Lb("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Ls);return x.forwardRef(function(c,u){const d=Vb(r),{className:m,component:p="div",...f}=qb(c);return s.jsx(o,{as:p,ref:u,className:fe(m,a?a(n):n),theme:t&&d[t]||d,...f})})}const u8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wt(e,t,r="Mui"){const n=u8[t];return n?`${r}-${n}`:`${Hb.generate(e)}-${t}`}function gt(e,t,r="Mui"){const n={};return t.forEach(a=>{n[a]=wt(e,a,r)}),n}function Wb(e){const{variants:t,...r}=e,n={variants:t,style:ks(r),isProcessed:!0};return n.style===r||t&&t.forEach(a=>{typeof a.style!="function"&&(a.style=ks(a.style))}),n}const d8=Af();function vd(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ys(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function m8(e){return e?(t,r)=>r[e]:null}function p8(e,t,r){e.theme=g8(e.theme)?r:e.theme[t]||e.theme}function fl(e,t,r){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(a=>fl(e,a,r));if(Array.isArray(n==null?void 0:n.variants)){let a;if(n.isProcessed)a=r?ys(n.style,r):n.style;else{const{variants:o,...i}=n;a=r?ys(ks(i),r):i}return Yb(e,n.variants,[a],r)}return n!=null&&n.isProcessed?r?ys(ks(n.style),r):n.style:r?ys(ks(n),r):n}function Yb(e,t,r=[],n=void 0){var o;let a;e:for(let i=0;i<t.length;i+=1){const l=t[i];if(typeof l.props=="function"){if(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(a))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((o=e.ownerState)==null?void 0:o[c])!==l.props[c])continue e;typeof l.style=="function"?(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),r.push(n?ys(ks(l.style(a)),n):l.style(a))):r.push(n?ys(ks(l.style),n):l.style)}return r}function f8(e={}){const{themeId:t,defaultTheme:r=d8,rootShouldForwardProp:n=vd,slotShouldForwardProp:a=vd}=e;function o(l){p8(l,t,r)}return(l,c={})=>{i5(l,j=>j.filter(S=>S!==Ls));const{name:u,slot:d,skipVariantsResolver:m,skipSx:p,overridesResolver:f=m8(y8(d)),...g}=c,w=u&&u.startsWith("Mui")||d?"components":"custom",v=m!==void 0?m:d&&d!=="Root"&&d!=="root"||!1,y=p||!1;let b=vd;d==="Root"||d==="root"?b=n:d?b=a:x8(l)&&(b=void 0);const N=Lb(l,{shouldForwardProp:b,label:h8(),...g}),C=j=>{if(j.__emotion_real===j)return j;if(typeof j=="function")return function(_){return fl(_,j,_.theme.modularCssLayers?w:void 0)};if(Jr(j)){const S=Wb(j);return function(I){return S.variants?fl(I,S,I.theme.modularCssLayers?w:void 0):I.theme.modularCssLayers?ys(S.style,w):S.style}}return j},T=(...j)=>{const S=[],_=j.map(C),I=[];if(S.push(o),u&&f&&I.push(function(z){var E,k;const A=(k=(E=z.theme.components)==null?void 0:E[u])==null?void 0:k.styleOverrides;if(!A)return null;const P={};for(const D in A)P[D]=fl(z,A[D],z.theme.modularCssLayers?"theme":void 0);return f(z,P)}),u&&!v&&I.push(function(z){var P,E;const U=z.theme,A=(E=(P=U==null?void 0:U.components)==null?void 0:P[u])==null?void 0:E.variants;return A?Yb(z,A,[],z.theme.modularCssLayers?"theme":void 0):null}),y||I.push(Ls),Array.isArray(_[0])){const $=_.shift(),z=new Array(S.length).fill(""),U=new Array(I.length).fill("");let A;A=[...z,...$,...U],A.raw=[...z,...$.raw,...U],S.unshift(A)}const h=[...S,..._,...I],M=N(...h);return l.muiName&&(M.muiName=l.muiName),M};return N.withConfig&&(T.withConfig=N.withConfig),T}}function h8(e,t){return void 0}function g8(e){for(const t in e)return!1;return!0}function x8(e){return typeof e=="string"&&e.charCodeAt(0)>96}function y8(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function fc(e,t,r=!1){const n={...t};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const o=a;if(o==="components"||o==="slots")n[o]={...e[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const i=e[o],l=t[o];if(!l)n[o]=i||{};else if(!i)n[o]=l;else{n[o]={...l};for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)){const u=c;n[o][u]=fc(i[u],l[u],r)}}}else o==="className"&&r&&t.className?n.className=fe(e==null?void 0:e.className,t==null?void 0:t.className):o==="style"&&r&&t.style?n.style={...e==null?void 0:e.style,...t==null?void 0:t.style}:n[o]===void 0&&(n[o]=e[o])}return n}const v8=typeof window<"u"?x.useLayoutEffect:x.useEffect;function b8(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function Of(e,t=0,r=1){return b8(e,t,r)}function w8(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,a)=>a<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function rs(e){if(e.type)return e;if(e.charAt(0)==="#")return rs(w8(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Rs(9,e));let n=e.substring(t+1,e.length-1),a;if(r==="color"){if(n=n.split(" "),a=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Rs(10,a))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:a}}const j8=e=>{const t=rs(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},fo=(e,t)=>{try{return j8(e)}catch{return e}};function Cu(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((a,o)=>o<3?parseInt(a,10):a):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function Kb(e){e=rs(e);const{values:t}=e,r=t[0],n=t[1]/100,a=t[2]/100,o=n*Math.min(a,1-a),i=(u,d=(u+r/30)%12)=>a-o*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),Cu({type:l,values:c})}function Um(e){e=rs(e);let t=e.type==="hsl"||e.type==="hsla"?rs(Kb(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function N8(e,t){const r=Um(e),n=Um(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function We(e,t){return e=rs(e),t=Of(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Cu(e)}function qi(e,t,r){try{return We(e,t)}catch{return e}}function Oa(e,t){if(e=rs(e),t=Of(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Cu(e)}function Le(e,t,r){try{return Oa(e,t)}catch{return e}}function Ra(e,t){if(e=rs(e),t=Of(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Cu(e)}function ze(e,t,r){try{return Ra(e,t)}catch{return e}}function S8(e,t=.15){return Um(e)>.5?Oa(e,t):Ra(e,t)}function Hi(e,t,r){try{return S8(e,t)}catch{return e}}const C8=x.createContext(void 0);function k8(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const a=t.components[r];return a.defaultProps?fc(a.defaultProps,n,t.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?fc(a,n,t.components.mergeClassNameAndStyle):n}function E8({props:e,name:t}){const r=x.useContext(C8);return k8({props:e,name:t,theme:{components:r}})}let gg=0;function P8(e){const[t,r]=x.useState(e),n=e||t;return x.useEffect(()=>{t==null&&(gg+=1,r(`mui-${gg}`))},[t]),n}const D8={...Eo},xg=D8.useId;function Qb(e){if(xg!==void 0){const t=xg();return e??t}return P8(e)}const yg={theme:void 0};function _8(e){let t,r;return function(a){let o=t;return(o===void 0||a.theme!==r)&&(yg.theme=a.theme,o=Wb(e(yg)),t=o,r=a.theme),o}}function T8(e=""){function t(...n){if(!n.length)return"";const a=n[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${a}${t(...n.slice(1))})`:`, ${a}`}return(n,...a)=>`var(--${e?`${e}-`:""}${n}${t(...a)})`}const vg=(e,t,r,n=[])=>{let a=e;t.forEach((o,i)=>{i===t.length-1?Array.isArray(a)?a[Number(o)]=r:a&&typeof a=="object"&&(a[o]=r):a&&typeof a=="object"&&(a[o]||(a[o]=n.includes(o)?[]:{}),a=a[o])})},M8=(e,t,r)=>{function n(a,o=[],i=[]){Object.entries(a).forEach(([l,c])=>{(!r||r&&!r([...o,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?n(c,[...o,l],Array.isArray(c)?[...i,l]:i):t([...o,l],c,i))})}n(e)},I8=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function bd(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},a={},o={},i={};return M8(e,(l,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!n||!n(l,c))){const d=`--${r?`${r}-`:""}${l.join("-")}`,m=I8(l,c);Object.assign(a,{[d]:m}),vg(o,l,`var(${d})`,u),vg(i,l,`var(${d}, ${m})`,u)}},l=>l[0]==="vars"),{css:a,vars:o,varsWithDefaults:i}}function A8(e,t={}){const{getSelector:r=v,disableCssColorScheme:n,colorSchemeSelector:a}=t,{colorSchemes:o={},components:i,defaultColorScheme:l="light",...c}=e,{vars:u,css:d,varsWithDefaults:m}=bd(c,t);let p=m;const f={},{[l]:g,...w}=o;if(Object.entries(w||{}).forEach(([N,C])=>{const{vars:T,css:j,varsWithDefaults:S}=bd(C,t);p=ar(p,S),f[N]={css:j,vars:T}}),g){const{css:N,vars:C,varsWithDefaults:T}=bd(g,t);p=ar(p,T),f[l]={css:N,vars:C}}function v(N,C){var j,S;let T=a;if(a==="class"&&(T=".%s"),a==="data"&&(T="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(T=`[${a}="%s"]`),N){if(T==="media")return e.defaultColorScheme===N?":root":{[`@media (prefers-color-scheme: ${((S=(j=o[N])==null?void 0:j.palette)==null?void 0:S.mode)||N})`]:{":root":C}};if(T)return e.defaultColorScheme===N?`:root, ${T.replace("%s",String(N))}`:T.replace("%s",String(N))}return":root"}return{vars:p,generateThemeVars:()=>{let N={...u};return Object.entries(f).forEach(([,{vars:C}])=>{N=ar(N,C)}),N},generateStyleSheets:()=>{var _,I;const N=[],C=e.defaultColorScheme||"light";function T(h,M){Object.keys(M).length&&N.push(typeof h=="string"?{[h]:{...M}}:h)}T(r(void 0,{...d}),d);const{[C]:j,...S}=f;if(j){const{css:h}=j,M=(I=(_=o[C])==null?void 0:_.palette)==null?void 0:I.mode,$=!n&&M?{colorScheme:M,...h}:{...h};T(r(C,{...$}),$)}return Object.entries(S).forEach(([h,{css:M}])=>{var U,A;const $=(A=(U=o[h])==null?void 0:U.palette)==null?void 0:A.mode,z=!n&&$?{colorScheme:$,...M}:{...M};T(r(h,{...z}),z)}),N}}}function O8(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function Pt(e,t,r=void 0){const n={};for(const a in e){const o=e[a];let i="",l=!0;for(let c=0;c<o.length;c+=1){const u=o[c];u&&(i+=(l===!0?"":" ")+t(u),l=!1,r&&r[u]&&(i+=" "+r[u]))}n[a]=i}return n}function Gb(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ko.white,default:Ko.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const R8=Gb();function Jb(){return{text:{primary:Ko.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ko.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const bg=Jb();function wg(e,t,r,n){const a=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=Ra(e.main,a):t==="dark"&&(e.dark=Oa(e.main,o)))}function L8(e="light"){return e==="dark"?{main:Ys[200],light:Ys[50],dark:Ys[400]}:{main:Ys[700],light:Ys[400],dark:Ys[800]}}function z8(e="light"){return e==="dark"?{main:Ws[200],light:Ws[50],dark:Ws[400]}:{main:Ws[500],light:Ws[300],dark:Ws[700]}}function $8(e="light"){return e==="dark"?{main:Hs[500],light:Hs[300],dark:Hs[700]}:{main:Hs[700],light:Hs[400],dark:Hs[800]}}function F8(e="light"){return e==="dark"?{main:Ks[400],light:Ks[300],dark:Ks[700]}:{main:Ks[700],light:Ks[500],dark:Ks[900]}}function B8(e="light"){return e==="dark"?{main:Qs[400],light:Qs[300],dark:Qs[700]}:{main:Qs[800],light:Qs[500],dark:Qs[900]}}function U8(e="light"){return e==="dark"?{main:no[400],light:no[300],dark:no[700]}:{main:"#ed6c02",light:no[500],dark:no[900]}}function Rf(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,...a}=e,o=e.primary||L8(t),i=e.secondary||z8(t),l=e.error||$8(t),c=e.info||F8(t),u=e.success||B8(t),d=e.warning||U8(t);function m(w){return N8(w,bg.text.primary)>=r?bg.text.primary:R8.text.primary}const p=({color:w,name:v,mainShade:y=500,lightShade:b=300,darkShade:N=700})=>{if(w={...w},!w.main&&w[y]&&(w.main=w[y]),!w.hasOwnProperty("main"))throw new Error(Rs(11,v?` (${v})`:"",y));if(typeof w.main!="string")throw new Error(Rs(12,v?` (${v})`:"",JSON.stringify(w.main)));return wg(w,"light",b,n),wg(w,"dark",N,n),w.contrastText||(w.contrastText=m(w.main)),w};let f;return t==="light"?f=Gb():t==="dark"&&(f=Jb()),ar({common:{...Ko},mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:i,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:u,name:"success"}),grey:m6,contrastThreshold:r,getContrastText:m,augmentColor:p,tonalOffset:n,...f},a)}function V8(e){const t={};return Object.entries(e).forEach(n=>{const[a,o]=n;typeof o=="object"&&(t[a]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function q8(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function H8(e){return Math.round(e*1e5)/1e5}const jg={textTransform:"uppercase"},Ng='"Roboto", "Helvetica", "Arial", sans-serif';function W8(e,t){const{fontFamily:r=Ng,fontSize:n=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:i=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d,...m}=typeof t=="function"?t(e):t,p=n/14,f=d||(v=>`${v/c*p}rem`),g=(v,y,b,N,C)=>({fontFamily:r,fontWeight:v,fontSize:f(y),lineHeight:b,...r===Ng?{letterSpacing:`${H8(N/y)}em`}:{},...C,...u}),w={h1:g(a,96,1.167,-1.5),h2:g(a,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(i,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(i,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(i,14,1.75,.4,jg),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,jg),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ar({htmlFontSize:c,pxToRem:f,fontFamily:r,fontSize:n,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:i,fontWeightBold:l,...w},m,{clone:!1})}const Y8=.2,K8=.14,Q8=.12;function He(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Y8})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${K8})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Q8})`].join(",")}const G8=["none",He(0,2,1,-1,0,1,1,0,0,1,3,0),He(0,3,1,-2,0,2,2,0,0,1,5,0),He(0,3,3,-2,0,3,4,0,0,1,8,0),He(0,2,4,-1,0,4,5,0,0,1,10,0),He(0,3,5,-1,0,5,8,0,0,1,14,0),He(0,3,5,-1,0,6,10,0,0,1,18,0),He(0,4,5,-2,0,7,10,1,0,2,16,1),He(0,5,5,-3,0,8,10,1,0,3,14,2),He(0,5,6,-3,0,9,12,1,0,3,16,2),He(0,6,6,-3,0,10,14,1,0,4,18,3),He(0,6,7,-4,0,11,15,1,0,4,20,3),He(0,7,8,-4,0,12,17,2,0,5,22,4),He(0,7,8,-4,0,13,19,2,0,5,24,4),He(0,7,9,-4,0,14,21,2,0,5,26,4),He(0,8,9,-5,0,15,22,2,0,6,28,5),He(0,8,10,-5,0,16,24,2,0,6,30,5),He(0,8,11,-5,0,17,26,2,0,6,32,5),He(0,9,11,-5,0,18,28,2,0,7,34,6),He(0,9,12,-6,0,19,29,2,0,7,36,6),He(0,10,13,-6,0,20,31,3,0,8,38,7),He(0,10,13,-6,0,21,33,3,0,8,40,7),He(0,10,14,-6,0,22,35,3,0,8,42,7),He(0,11,14,-7,0,23,36,3,0,9,44,8),He(0,11,15,-7,0,24,38,3,0,9,46,8)],J8={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},X8={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Sg(e){return`${Math.round(e)}ms`}function Z8(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function eE(e){const t={...J8,...e.easing},r={...X8,...e.duration};return{getAutoHeightDuration:Z8,create:(a=["all"],o={})=>{const{duration:i=r.standard,easing:l=t.easeInOut,delay:c=0,...u}=o;return(Array.isArray(a)?a:[a]).map(d=>`${d} ${typeof i=="string"?i:Sg(i)} ${l} ${typeof c=="string"?c:Sg(c)}`).join(",")},...e,easing:t,duration:r}}const tE={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function rE(e){return Jr(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Xb(e={}){const t={...e};function r(n){const a=Object.entries(n);for(let o=0;o<a.length;o++){const[i,l]=a[o];!rE(l)||i.startsWith("unstable_")?delete n[i]:Jr(l)&&(n[i]={...l},r(n[i]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Vm(e={},...t){const{breakpoints:r,mixins:n={},spacing:a,palette:o={},transitions:i={},typography:l={},shape:c,...u}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Rs(20));const d=Rf(o),m=Af(e);let p=ar(m,{mixins:q8(m.breakpoints,n),palette:d,shadows:G8.slice(),typography:W8(d,l),transitions:eE(i),zIndex:{...tE}});return p=ar(p,u),p=t.reduce((f,g)=>ar(f,g),p),p.unstable_sxConfig={...mi,...u==null?void 0:u.unstable_sxConfig},p.unstable_sx=function(g){return Ls({sx:g,theme:this})},p.toRuntimeSource=Xb,p}function qm(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const nE=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=qm(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function Zb(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function e1(e){return e==="dark"?nE:[]}function sE(e){const{palette:t={mode:"light"},opacity:r,overlays:n,...a}=e,o=Rf(t);return{palette:o,opacity:{...Zb(o.mode),...r},overlays:n||e1(o.mode),...a}}function aE(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const oE=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],iE=e=>(t,r)=>{const n=e.rootSelector||":root",a=e.colorSchemeSelector;let o=a;if(a==="class"&&(o=".%s"),a==="data"&&(o="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(o=`[${a}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const i={};return oE(e.cssVarPrefix).forEach(l=>{i[l]=r[l],delete r[l]}),o==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:i}}:o?{[o.replace("%s",t)]:i,[`${n}, ${o.replace("%s",t)}`]:r}:{[n]:{...r,...i}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(o)return o.replace("%s",String(t))}return n};function lE(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function Z(e,t,r){!e[t]&&r&&(e[t]=r)}function ho(e){return typeof e!="string"||!e.startsWith("hsl")?e:Kb(e)}function cn(e,t){`${t}Channel`in e||(e[`${t}Channel`]=fo(ho(e[t])))}function cE(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Br=e=>{try{return e()}catch{}},uE=(e="mui")=>T8(e);function wd(e,t,r,n){if(!t)return;t=t===!0?{}:t;const a=n==="dark"?"dark":"light";if(!r){e[n]=sE({...t,palette:{mode:a,...t==null?void 0:t.palette}});return}const{palette:o,...i}=Vm({...r,palette:{mode:a,...t==null?void 0:t.palette}});return e[n]={...t,palette:o,opacity:{...Zb(a),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||e1(a)},i}function dE(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:a=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:i=aE,colorSchemeSelector:l=r.light&&r.dark?"media":void 0,rootSelector:c=":root",...u}=e,d=Object.keys(r)[0],m=n||(r.light&&d!=="light"?"light":d),p=uE(o),{[m]:f,light:g,dark:w,...v}=r,y={...v};let b=f;if((m==="dark"&&!("dark"in r)||m==="light"&&!("light"in r))&&(b=!0),!b)throw new Error(Rs(21,m));const N=wd(y,b,u,m);g&&!y.light&&wd(y,g,void 0,"light"),w&&!y.dark&&wd(y,w,void 0,"dark");let C={defaultColorScheme:m,...N,cssVarPrefix:o,colorSchemeSelector:l,rootSelector:c,getCssVar:p,colorSchemes:y,font:{...V8(N.typography),...N.font},spacing:cE(u.spacing)};Object.keys(C.colorSchemes).forEach(I=>{const h=C.colorSchemes[I].palette,M=$=>{const z=$.split("-"),U=z[1],A=z[2];return p($,h[U][A])};if(h.mode==="light"&&(Z(h.common,"background","#fff"),Z(h.common,"onBackground","#000")),h.mode==="dark"&&(Z(h.common,"background","#000"),Z(h.common,"onBackground","#fff")),lE(h,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),h.mode==="light"){Z(h.Alert,"errorColor",Le(h.error.light,.6)),Z(h.Alert,"infoColor",Le(h.info.light,.6)),Z(h.Alert,"successColor",Le(h.success.light,.6)),Z(h.Alert,"warningColor",Le(h.warning.light,.6)),Z(h.Alert,"errorFilledBg",M("palette-error-main")),Z(h.Alert,"infoFilledBg",M("palette-info-main")),Z(h.Alert,"successFilledBg",M("palette-success-main")),Z(h.Alert,"warningFilledBg",M("palette-warning-main")),Z(h.Alert,"errorFilledColor",Br(()=>h.getContrastText(h.error.main))),Z(h.Alert,"infoFilledColor",Br(()=>h.getContrastText(h.info.main))),Z(h.Alert,"successFilledColor",Br(()=>h.getContrastText(h.success.main))),Z(h.Alert,"warningFilledColor",Br(()=>h.getContrastText(h.warning.main))),Z(h.Alert,"errorStandardBg",ze(h.error.light,.9)),Z(h.Alert,"infoStandardBg",ze(h.info.light,.9)),Z(h.Alert,"successStandardBg",ze(h.success.light,.9)),Z(h.Alert,"warningStandardBg",ze(h.warning.light,.9)),Z(h.Alert,"errorIconColor",M("palette-error-main")),Z(h.Alert,"infoIconColor",M("palette-info-main")),Z(h.Alert,"successIconColor",M("palette-success-main")),Z(h.Alert,"warningIconColor",M("palette-warning-main")),Z(h.AppBar,"defaultBg",M("palette-grey-100")),Z(h.Avatar,"defaultBg",M("palette-grey-400")),Z(h.Button,"inheritContainedBg",M("palette-grey-300")),Z(h.Button,"inheritContainedHoverBg",M("palette-grey-A100")),Z(h.Chip,"defaultBorder",M("palette-grey-400")),Z(h.Chip,"defaultAvatarColor",M("palette-grey-700")),Z(h.Chip,"defaultIconColor",M("palette-grey-700")),Z(h.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Z(h.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Z(h.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Z(h.LinearProgress,"primaryBg",ze(h.primary.main,.62)),Z(h.LinearProgress,"secondaryBg",ze(h.secondary.main,.62)),Z(h.LinearProgress,"errorBg",ze(h.error.main,.62)),Z(h.LinearProgress,"infoBg",ze(h.info.main,.62)),Z(h.LinearProgress,"successBg",ze(h.success.main,.62)),Z(h.LinearProgress,"warningBg",ze(h.warning.main,.62)),Z(h.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),Z(h.Slider,"primaryTrack",ze(h.primary.main,.62)),Z(h.Slider,"secondaryTrack",ze(h.secondary.main,.62)),Z(h.Slider,"errorTrack",ze(h.error.main,.62)),Z(h.Slider,"infoTrack",ze(h.info.main,.62)),Z(h.Slider,"successTrack",ze(h.success.main,.62)),Z(h.Slider,"warningTrack",ze(h.warning.main,.62));const $=Hi(h.background.default,.8);Z(h.SnackbarContent,"bg",$),Z(h.SnackbarContent,"color",Br(()=>h.getContrastText($))),Z(h.SpeedDialAction,"fabHoverBg",Hi(h.background.paper,.15)),Z(h.StepConnector,"border",M("palette-grey-400")),Z(h.StepContent,"border",M("palette-grey-400")),Z(h.Switch,"defaultColor",M("palette-common-white")),Z(h.Switch,"defaultDisabledColor",M("palette-grey-100")),Z(h.Switch,"primaryDisabledColor",ze(h.primary.main,.62)),Z(h.Switch,"secondaryDisabledColor",ze(h.secondary.main,.62)),Z(h.Switch,"errorDisabledColor",ze(h.error.main,.62)),Z(h.Switch,"infoDisabledColor",ze(h.info.main,.62)),Z(h.Switch,"successDisabledColor",ze(h.success.main,.62)),Z(h.Switch,"warningDisabledColor",ze(h.warning.main,.62)),Z(h.TableCell,"border",ze(qi(h.divider,1),.88)),Z(h.Tooltip,"bg",qi(h.grey[700],.92))}if(h.mode==="dark"){Z(h.Alert,"errorColor",ze(h.error.light,.6)),Z(h.Alert,"infoColor",ze(h.info.light,.6)),Z(h.Alert,"successColor",ze(h.success.light,.6)),Z(h.Alert,"warningColor",ze(h.warning.light,.6)),Z(h.Alert,"errorFilledBg",M("palette-error-dark")),Z(h.Alert,"infoFilledBg",M("palette-info-dark")),Z(h.Alert,"successFilledBg",M("palette-success-dark")),Z(h.Alert,"warningFilledBg",M("palette-warning-dark")),Z(h.Alert,"errorFilledColor",Br(()=>h.getContrastText(h.error.dark))),Z(h.Alert,"infoFilledColor",Br(()=>h.getContrastText(h.info.dark))),Z(h.Alert,"successFilledColor",Br(()=>h.getContrastText(h.success.dark))),Z(h.Alert,"warningFilledColor",Br(()=>h.getContrastText(h.warning.dark))),Z(h.Alert,"errorStandardBg",Le(h.error.light,.9)),Z(h.Alert,"infoStandardBg",Le(h.info.light,.9)),Z(h.Alert,"successStandardBg",Le(h.success.light,.9)),Z(h.Alert,"warningStandardBg",Le(h.warning.light,.9)),Z(h.Alert,"errorIconColor",M("palette-error-main")),Z(h.Alert,"infoIconColor",M("palette-info-main")),Z(h.Alert,"successIconColor",M("palette-success-main")),Z(h.Alert,"warningIconColor",M("palette-warning-main")),Z(h.AppBar,"defaultBg",M("palette-grey-900")),Z(h.AppBar,"darkBg",M("palette-background-paper")),Z(h.AppBar,"darkColor",M("palette-text-primary")),Z(h.Avatar,"defaultBg",M("palette-grey-600")),Z(h.Button,"inheritContainedBg",M("palette-grey-800")),Z(h.Button,"inheritContainedHoverBg",M("palette-grey-700")),Z(h.Chip,"defaultBorder",M("palette-grey-700")),Z(h.Chip,"defaultAvatarColor",M("palette-grey-300")),Z(h.Chip,"defaultIconColor",M("palette-grey-300")),Z(h.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Z(h.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Z(h.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Z(h.LinearProgress,"primaryBg",Le(h.primary.main,.5)),Z(h.LinearProgress,"secondaryBg",Le(h.secondary.main,.5)),Z(h.LinearProgress,"errorBg",Le(h.error.main,.5)),Z(h.LinearProgress,"infoBg",Le(h.info.main,.5)),Z(h.LinearProgress,"successBg",Le(h.success.main,.5)),Z(h.LinearProgress,"warningBg",Le(h.warning.main,.5)),Z(h.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),Z(h.Slider,"primaryTrack",Le(h.primary.main,.5)),Z(h.Slider,"secondaryTrack",Le(h.secondary.main,.5)),Z(h.Slider,"errorTrack",Le(h.error.main,.5)),Z(h.Slider,"infoTrack",Le(h.info.main,.5)),Z(h.Slider,"successTrack",Le(h.success.main,.5)),Z(h.Slider,"warningTrack",Le(h.warning.main,.5));const $=Hi(h.background.default,.98);Z(h.SnackbarContent,"bg",$),Z(h.SnackbarContent,"color",Br(()=>h.getContrastText($))),Z(h.SpeedDialAction,"fabHoverBg",Hi(h.background.paper,.15)),Z(h.StepConnector,"border",M("palette-grey-600")),Z(h.StepContent,"border",M("palette-grey-600")),Z(h.Switch,"defaultColor",M("palette-grey-300")),Z(h.Switch,"defaultDisabledColor",M("palette-grey-600")),Z(h.Switch,"primaryDisabledColor",Le(h.primary.main,.55)),Z(h.Switch,"secondaryDisabledColor",Le(h.secondary.main,.55)),Z(h.Switch,"errorDisabledColor",Le(h.error.main,.55)),Z(h.Switch,"infoDisabledColor",Le(h.info.main,.55)),Z(h.Switch,"successDisabledColor",Le(h.success.main,.55)),Z(h.Switch,"warningDisabledColor",Le(h.warning.main,.55)),Z(h.TableCell,"border",Le(qi(h.divider,1),.68)),Z(h.Tooltip,"bg",qi(h.grey[700],.92))}cn(h.background,"default"),cn(h.background,"paper"),cn(h.common,"background"),cn(h.common,"onBackground"),cn(h,"divider"),Object.keys(h).forEach($=>{const z=h[$];$!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&Z(h[$],"mainChannel",fo(ho(z.main))),z.light&&Z(h[$],"lightChannel",fo(ho(z.light))),z.dark&&Z(h[$],"darkChannel",fo(ho(z.dark))),z.contrastText&&Z(h[$],"contrastTextChannel",fo(ho(z.contrastText))),$==="text"&&(cn(h[$],"primary"),cn(h[$],"secondary")),$==="action"&&(z.active&&cn(h[$],"active"),z.selected&&cn(h[$],"selected")))})}),C=t.reduce((I,h)=>ar(I,h),C);const T={prefix:o,disableCssColorScheme:a,shouldSkipGeneratingVar:i,getSelector:iE(C)},{vars:j,generateThemeVars:S,generateStyleSheets:_}=A8(C,T);return C.vars=j,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([I,h])=>{C[I]=h}),C.generateThemeVars=S,C.generateStyleSheets=_,C.generateSpacing=function(){return Ub(u.spacing,Mf(this))},C.getColorSchemeSelector=O8(l),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=i,C.unstable_sxConfig={...mi,...u==null?void 0:u.unstable_sxConfig},C.unstable_sx=function(h){return Ls({sx:h,theme:this})},C.toRuntimeSource=Xb,C}function Cg(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:Rf({...r===!0?{}:r.palette,mode:t})})}function t1(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:a=r?void 0:{light:!0},defaultColorScheme:o=r==null?void 0:r.mode,...i}=e,l=o||"light",c=a==null?void 0:a[l],u={...a,...r?{[l]:{...typeof c!="boolean"&&c,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return Vm(e,...t);let d=r;"palette"in e||u[l]&&(u[l]!==!0?d=u[l].palette:l==="dark"&&(d={mode:"dark"}));const m=Vm({...e,palette:d},...t);return m.defaultColorScheme=l,m.colorSchemes=u,m.palette.mode==="light"&&(m.colorSchemes.light={...u.light!==!0&&u.light,palette:m.palette},Cg(m,"dark",u.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:m.palette},Cg(m,"light",u.light)),m}return!r&&!("light"in u)&&l==="light"&&(u.light=!0),dE({...i,colorSchemes:u,defaultColorScheme:l,...typeof n!="boolean"&&n},...t)}const r1=t1();function mE(){const e=Vb(r1);return e[bf]||e}function pE(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const n1=e=>pE(e)&&e!=="classes",Me=f8({themeId:bf,defaultTheme:r1,rootShouldForwardProp:n1});function fE(){return qb}const lr=_8;function jt(e){return E8(e)}function hE(e){return wt("MuiSvgIcon",e)}gt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const gE=e=>{const{color:t,fontSize:r,classes:n}=e,a={root:["root",t!=="inherit"&&`color${oe(t)}`,`fontSize${oe(r)}`]};return Pt(a,hE,n)},xE=Me("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${oe(r.color)}`],t[`fontSize${oe(r.fontSize)}`]]}})(lr(({theme:e})=>{var t,r,n,a,o,i,l,c,u,d,m,p,f,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(t=e.transitions)==null?void 0:t.create)==null?void 0:a.call(t,"fill",{duration:(n=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((i=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:i.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,w])=>w&&w.main).map(([w])=>{var v,y;return{props:{color:w},style:{color:(y=(v=(e.vars??e).palette)==null?void 0:v[w])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(p=(m=(e.vars??e).palette)==null?void 0:m.action)==null?void 0:p.active}},{props:{color:"disabled"},style:{color:(g=(f=(e.vars??e).palette)==null?void 0:f.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Hm=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiSvgIcon"}),{children:a,className:o,color:i="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:m,viewBox:p="0 0 24 24",...f}=n,g=x.isValidElement(a)&&a.type==="svg",w={...n,color:i,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:g},v={};d||(v.viewBox=p);const y=gE(w);return s.jsxs(xE,{as:l,className:fe(y.root,o),focusable:"false",color:u,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:r,...v,...f,...g&&a.props,ownerState:w,children:[g?a.props.children:a,m?s.jsx("title",{children:m}):null]})});Hm.muiName="SvgIcon";function os(e,t){function r(n,a){return s.jsx(Hm,{"data-testid":void 0,ref:a,...n,children:e})}return r.muiName=Hm.muiName,x.memo(x.forwardRef(r))}function hl(e){const t=x.useRef(e);return v8(()=>{t.current=e}),x.useRef((...r)=>(0,t.current)(...r)).current}function hc(...e){const t=x.useRef(void 0),r=x.useCallback(n=>{const a=e.map(o=>{if(o==null)return null;if(typeof o=="function"){const i=o,l=i(n);return typeof l=="function"?l:()=>{i(null)}}return o.current=n,()=>{o.current=null}});return()=>{a.forEach(o=>o==null?void 0:o())}},e);return x.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function yE(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wm(e,t)}function vE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wm(e,t)}const kg=W.createContext(null);function bE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lf(e,t){var r=function(o){return t&&x.isValidElement(o)?t(o):o},n=Object.create(null);return e&&x.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=r(a)}),n}function wE(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),a=[];for(var o in e)o in t?a.length&&(n[o]=a,a=[]):a.push(o);var i,l={};for(var c in t){if(n[c])for(i=0;i<n[c].length;i++){var u=n[c][i];l[n[c][i]]=r(u)}l[c]=r(c)}for(i=0;i<a.length;i++)l[a[i]]=r(a[i]);return l}function vs(e,t,r){return r[t]!=null?r[t]:e.props[t]}function jE(e,t){return Lf(e.children,function(r){return x.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:vs(r,"appear",e),enter:vs(r,"enter",e),exit:vs(r,"exit",e)})})}function NE(e,t,r){var n=Lf(e.children),a=wE(t,n);return Object.keys(a).forEach(function(o){var i=a[o];if(x.isValidElement(i)){var l=o in t,c=o in n,u=t[o],d=x.isValidElement(u)&&!u.props.in;c&&(!l||d)?a[o]=x.cloneElement(i,{onExited:r.bind(null,i),in:!0,exit:vs(i,"exit",e),enter:vs(i,"enter",e)}):!c&&l&&!d?a[o]=x.cloneElement(i,{in:!1}):c&&l&&x.isValidElement(u)&&(a[o]=x.cloneElement(i,{onExited:r.bind(null,i),in:u.props.in,exit:vs(i,"exit",e),enter:vs(i,"enter",e)}))}}),a}var SE=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},CE={component:"div",childFactory:function(t){return t}},zf=function(e){vE(t,e);function t(n,a){var o;o=e.call(this,n,a)||this;var i=o.handleExited.bind(bE(o));return o.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,o){var i=o.children,l=o.handleExited,c=o.firstRender;return{children:c?jE(a,l):NE(a,i,l),firstRender:!1}},r.handleExited=function(a,o){var i=Lf(this.props.children);a.key in i||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(l){var c=dc({},l.children);return delete c[a.key],{children:c}}))},r.render=function(){var a=this.props,o=a.component,i=a.childFactory,l=yE(a,["component","childFactory"]),c=this.state.contextValue,u=SE(this.state.children).map(i);return delete l.appear,delete l.enter,delete l.exit,o===null?W.createElement(kg.Provider,{value:c},u):W.createElement(kg.Provider,{value:c},W.createElement(o,l,u))},t}(W.Component);zf.propTypes={};zf.defaultProps=CE;const Eg={};function s1(e,t){const r=x.useRef(Eg);return r.current===Eg&&(r.current=e(t)),r}const kE=[];function EE(e){x.useEffect(e,kE)}class $f{constructor(){ae(this,"currentId",null);ae(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ae(this,"disposeEffect",()=>this.clear)}static create(){return new $f}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function PE(){const e=s1($f.create).current;return EE(e.disposeEffect),e}function DE(e){return wt("MuiPaper",e)}gt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _E=e=>{const{square:t,elevation:r,variant:n,classes:a}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return Pt(o,DE,a)},TE=Me("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(lr(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ff=x.forwardRef(function(t,r){var f;const n=jt({props:t,name:"MuiPaper"}),a=mE(),{className:o,component:i="div",elevation:l=1,square:c=!1,variant:u="elevation",...d}=n,m={...n,component:i,elevation:l,square:c,variant:u},p=_E(m);return s.jsx(TE,{as:i,ownerState:m,className:fe(p.root,o),ref:r,...d,style:{...u==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[l],...a.vars&&{"--Paper-overlay":(f=a.vars.overlays)==null?void 0:f[l]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${We("#fff",qm(l))}, ${We("#fff",qm(l))})`}},...d.style}})});function ME(e){return typeof e=="string"}function IE(e,t,r){return e===void 0||ME(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function AE(e,t,r){return typeof e=="function"?e(t,r):e}function OE(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function Pg(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function RE(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:a,className:o}=e;if(!t){const f=fe(r==null?void 0:r.className,o,a==null?void 0:a.className,n==null?void 0:n.className),g={...r==null?void 0:r.style,...a==null?void 0:a.style,...n==null?void 0:n.style},w={...r,...a,...n};return f.length>0&&(w.className=f),Object.keys(g).length>0&&(w.style=g),{props:w,internalRef:void 0}}const i=OE({...a,...n}),l=Pg(n),c=Pg(a),u=t(i),d=fe(u==null?void 0:u.className,r==null?void 0:r.className,o,a==null?void 0:a.className,n==null?void 0:n.className),m={...u==null?void 0:u.style,...r==null?void 0:r.style,...a==null?void 0:a.style,...n==null?void 0:n.style},p={...u,...r,...c,...l};return d.length>0&&(p.className=d),Object.keys(m).length>0&&(p.style=m),{props:p,internalRef:u.ref}}function On(e,t){const{className:r,elementType:n,ownerState:a,externalForwardedProps:o,internalForwardedProps:i,shouldForwardComponentProp:l=!1,...c}=t,{component:u,slots:d={[e]:void 0},slotProps:m={[e]:void 0},...p}=o,f=d[e]||n,g=AE(m[e],a),{props:{component:w,...v},internalRef:y}=RE({className:r,...c,externalForwardedProps:e==="root"?p:void 0,externalSlotProps:g}),b=hc(y,g==null?void 0:g.ref,t.ref),N=e==="root"?w||u:w,C=IE(f,{...e==="root"&&!u&&!d[e]&&i,...e!=="root"&&!d[e]&&i,...v,...N&&!l&&{as:N},...N&&l&&{component:N},ref:b},a);return[f,C]}function Dg(e){try{return e.matches(":focus-visible")}catch{}return!1}class gc{constructor(){ae(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new gc}static use(){const t=s1(gc.create).current,[r,n]=x.useState(!1);return t.shouldMount=r,t.setShouldMount=n,x.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=zE(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function LE(){return gc.use()}function zE(){let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r}function $E(e){const{className:t,classes:r,pulsate:n=!1,rippleX:a,rippleY:o,rippleSize:i,in:l,onExited:c,timeout:u}=e,[d,m]=x.useState(!1),p=fe(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f={width:i,height:i,top:-(i/2)+o,left:-(i/2)+a},g=fe(r.child,d&&r.childLeaving,n&&r.childPulsate);return!l&&!d&&m(!0),x.useEffect(()=>{if(!l&&c!=null){const w=setTimeout(c,u);return()=>{clearTimeout(w)}}},[c,l,u]),s.jsx("span",{className:p,style:f,children:s.jsx("span",{className:g})})}const hr=gt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ym=550,FE=80,BE=ci`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,UE=ci`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,VE=ci`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,qE=Me("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),HE=Me($E,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${hr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${BE};
    animation-duration: ${Ym}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${hr.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${hr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${hr.childLeaving} {
    opacity: 0;
    animation-name: ${UE};
    animation-duration: ${Ym}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${hr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${VE};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,WE=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiTouchRipple"}),{center:a=!1,classes:o={},className:i,...l}=n,[c,u]=x.useState([]),d=x.useRef(0),m=x.useRef(null);x.useEffect(()=>{m.current&&(m.current(),m.current=null)},[c]);const p=x.useRef(!1),f=PE(),g=x.useRef(null),w=x.useRef(null),v=x.useCallback(C=>{const{pulsate:T,rippleX:j,rippleY:S,rippleSize:_,cb:I}=C;u(h=>[...h,s.jsx(HE,{classes:{ripple:fe(o.ripple,hr.ripple),rippleVisible:fe(o.rippleVisible,hr.rippleVisible),ripplePulsate:fe(o.ripplePulsate,hr.ripplePulsate),child:fe(o.child,hr.child),childLeaving:fe(o.childLeaving,hr.childLeaving),childPulsate:fe(o.childPulsate,hr.childPulsate)},timeout:Ym,pulsate:T,rippleX:j,rippleY:S,rippleSize:_},d.current)]),d.current+=1,m.current=I},[o]),y=x.useCallback((C={},T={},j=()=>{})=>{const{pulsate:S=!1,center:_=a||T.pulsate,fakeElement:I=!1}=T;if((C==null?void 0:C.type)==="mousedown"&&p.current){p.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(p.current=!0);const h=I?null:w.current,M=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,z,U;if(_||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)$=Math.round(M.width/2),z=Math.round(M.height/2);else{const{clientX:A,clientY:P}=C.touches&&C.touches.length>0?C.touches[0]:C;$=Math.round(A-M.left),z=Math.round(P-M.top)}if(_)U=Math.sqrt((2*M.width**2+M.height**2)/3),U%2===0&&(U+=1);else{const A=Math.max(Math.abs((h?h.clientWidth:0)-$),$)*2+2,P=Math.max(Math.abs((h?h.clientHeight:0)-z),z)*2+2;U=Math.sqrt(A**2+P**2)}C!=null&&C.touches?g.current===null&&(g.current=()=>{v({pulsate:S,rippleX:$,rippleY:z,rippleSize:U,cb:j})},f.start(FE,()=>{g.current&&(g.current(),g.current=null)})):v({pulsate:S,rippleX:$,rippleY:z,rippleSize:U,cb:j})},[a,v,f]),b=x.useCallback(()=>{y({},{pulsate:!0})},[y]),N=x.useCallback((C,T)=>{if(f.clear(),(C==null?void 0:C.type)==="touchend"&&g.current){g.current(),g.current=null,f.start(0,()=>{N(C,T)});return}g.current=null,u(j=>j.length>0?j.slice(1):j),m.current=T},[f]);return x.useImperativeHandle(r,()=>({pulsate:b,start:y,stop:N}),[b,y,N]),s.jsx(qE,{className:fe(hr.root,o.root,i),ref:w,...l,children:s.jsx(zf,{component:null,exit:!0,children:c})})});function YE(e){return wt("MuiButtonBase",e)}const KE=gt("MuiButtonBase",["root","disabled","focusVisible"]),QE=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:a}=e,i=Pt({root:["root",t&&"disabled",r&&"focusVisible"]},YE,a);return r&&n&&(i.root+=` ${n}`),i},GE=Me("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${KE.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),xc=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiButtonBase"}),{action:a,centerRipple:o=!1,children:i,className:l,component:c="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:m=!1,focusRipple:p=!1,focusVisibleClassName:f,LinkComponent:g="a",onBlur:w,onClick:v,onContextMenu:y,onDragLeave:b,onFocus:N,onFocusVisible:C,onKeyDown:T,onKeyUp:j,onMouseDown:S,onMouseLeave:_,onMouseUp:I,onTouchEnd:h,onTouchMove:M,onTouchStart:$,tabIndex:z=0,TouchRippleProps:U,touchRippleRef:A,type:P,...E}=n,k=x.useRef(null),D=LE(),F=hc(D.ref,A),[O,q]=x.useState(!1);u&&O&&q(!1),x.useImperativeHandle(a,()=>({focusVisible:()=>{q(!0),k.current.focus()}}),[]);const Y=D.shouldMount&&!d&&!u;x.useEffect(()=>{O&&p&&!d&&D.pulsate()},[d,p,O,D]);const K=un(D,"start",S,m),X=un(D,"stop",y,m),R=un(D,"stop",b,m),H=un(D,"stop",I,m),Q=un(D,"stop",ge=>{O&&ge.preventDefault(),_&&_(ge)},m),G=un(D,"start",$,m),ee=un(D,"stop",h,m),B=un(D,"stop",M,m),V=un(D,"stop",ge=>{Dg(ge.target)||q(!1),w&&w(ge)},!1),L=hl(ge=>{k.current||(k.current=ge.currentTarget),Dg(ge.target)&&(q(!0),C&&C(ge)),N&&N(ge)}),te=()=>{const ge=k.current;return c&&c!=="button"&&!(ge.tagName==="A"&&ge.href)},ne=hl(ge=>{p&&!ge.repeat&&O&&ge.key===" "&&D.stop(ge,()=>{D.start(ge)}),ge.target===ge.currentTarget&&te()&&ge.key===" "&&ge.preventDefault(),T&&T(ge),ge.target===ge.currentTarget&&te()&&ge.key==="Enter"&&!u&&(ge.preventDefault(),v&&v(ge))}),le=hl(ge=>{p&&ge.key===" "&&O&&!ge.defaultPrevented&&D.stop(ge,()=>{D.pulsate(ge)}),j&&j(ge),v&&ge.target===ge.currentTarget&&te()&&ge.key===" "&&!ge.defaultPrevented&&v(ge)});let me=c;me==="button"&&(E.href||E.to)&&(me=g);const be={};me==="button"?(be.type=P===void 0?"button":P,be.disabled=u):(!E.href&&!E.to&&(be.role="button"),u&&(be["aria-disabled"]=u));const je=hc(r,k),dt={...n,centerRipple:o,component:c,disabled:u,disableRipple:d,disableTouchRipple:m,focusRipple:p,tabIndex:z,focusVisible:O},Ve=QE(dt);return s.jsxs(GE,{as:me,className:fe(Ve.root,l),ownerState:dt,onBlur:V,onClick:v,onContextMenu:X,onFocus:L,onKeyDown:ne,onKeyUp:le,onMouseDown:K,onMouseLeave:Q,onMouseUp:H,onDragLeave:R,onTouchEnd:ee,onTouchMove:B,onTouchStart:G,ref:je,tabIndex:u?-1:z,type:P,...be,...E,children:[i,Y?s.jsx(WE,{ref:F,center:o,...U}):null]})});function un(e,t,r,n=!1){return hl(a=>(r&&r(a),n||e[t](a),!0))}function JE(e){return typeof e.main=="string"}function XE(e,t=[]){if(!JE(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function wr(e=[]){return([,t])=>t&&XE(t,e)}function ZE(e){return wt("MuiAlert",e)}const _g=gt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function eP(e){return wt("MuiCircularProgress",e)}gt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Mn=44,Km=ci`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Qm=ci`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,tP=typeof Km!="string"?Ef`
        animation: ${Km} 1.4s linear infinite;
      `:null,rP=typeof Qm!="string"?Ef`
        animation: ${Qm} 1.4s ease-in-out infinite;
      `:null,nP=e=>{const{classes:t,variant:r,color:n,disableShrink:a}=e,o={root:["root",r,`color${oe(n)}`],svg:["svg"],circle:["circle",`circle${oe(r)}`,a&&"circleDisableShrink"]};return Pt(o,eP,t)},sP=Me("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${oe(r.color)}`]]}})(lr(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:tP||{animation:`${Km} 1.4s linear infinite`}},...Object.entries(e.palette).filter(wr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),aP=Me("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),oP=Me("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${oe(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(lr(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:rP||{animation:`${Qm} 1.4s ease-in-out infinite`}}]}))),Bf=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:i=!1,size:l=40,style:c,thickness:u=3.6,value:d=0,variant:m="indeterminate",...p}=n,f={...n,color:o,disableShrink:i,size:l,thickness:u,value:d,variant:m},g=nP(f),w={},v={},y={};if(m==="determinate"){const b=2*Math.PI*((Mn-u)/2);w.strokeDasharray=b.toFixed(3),y["aria-valuenow"]=Math.round(d),w.strokeDashoffset=`${((100-d)/100*b).toFixed(3)}px`,v.transform="rotate(-90deg)"}return s.jsx(sP,{className:fe(g.root,a),style:{width:l,height:l,...v,...c},ownerState:f,ref:r,role:"progressbar",...y,...p,children:s.jsx(aP,{className:g.svg,ownerState:f,viewBox:`${Mn/2} ${Mn/2} ${Mn} ${Mn}`,children:s.jsx(oP,{className:g.circle,style:w,ownerState:f,cx:Mn,cy:Mn,r:(Mn-u)/2,fill:"none",strokeWidth:u})})})});function iP(e){return wt("MuiIconButton",e)}const Tg=gt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),lP=e=>{const{classes:t,disabled:r,color:n,edge:a,size:o,loading:i}=e,l={root:["root",i&&"loading",r&&"disabled",n!=="default"&&`color${oe(n)}`,a&&`edge${oe(a)}`,`size${oe(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Pt(l,iP,t)},cP=Me(xc,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,r.color!=="default"&&t[`color${oe(r.color)}`],r.edge&&t[`edge${oe(r.edge)}`],t[`size${oe(r.size)}`]]}})(lr(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:We(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),lr(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(wr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(wr()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:We((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Tg.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${Tg.loading}`]:{color:"transparent"}}))),uP=Me("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),dP=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiIconButton"}),{edge:a=!1,children:o,className:i,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium",id:m,loading:p=null,loadingIndicator:f,...g}=n,w=Qb(m),v=f??s.jsx(Bf,{"aria-labelledby":w,color:"inherit",size:16}),y={...n,edge:a,color:l,disabled:c,disableFocusRipple:u,loading:p,loadingIndicator:v,size:d},b=lP(y);return s.jsxs(cP,{id:p?w:m,className:fe(b.root,i),centerRipple:!0,focusRipple:!u,disabled:c||p,ref:r,...g,ownerState:y,children:[typeof p=="boolean"&&s.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:s.jsx(uP,{className:b.loadingIndicator,ownerState:y,children:p&&v})}),o]})}),mP=os(s.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),pP=os(s.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),fP=os(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),hP=os(s.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),gP=os(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),xP=e=>{const{variant:t,color:r,severity:n,classes:a}=e,o={root:["root",`color${oe(r||n)}`,`${t}${oe(r||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Pt(o,ZE,a)},yP=Me(Ff,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${oe(r.color||r.severity)}`]]}})(lr(({theme:e})=>{const t=e.palette.mode==="light"?Oa:Ra,r=e.palette.mode==="light"?Ra:Oa;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(wr(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:t(e.palette[n].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${n}StandardBg`]:r(e.palette[n].light,.9),[`& .${_g.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}})),...Object.entries(e.palette).filter(wr(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:t(e.palette[n].light,.6),border:`1px solid ${(e.vars||e).palette[n].light}`,[`& .${_g.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}})),...Object.entries(e.palette).filter(wr(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${n}FilledColor`],backgroundColor:e.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[n].dark:e.palette[n].main,color:e.palette.getContrastText(e.palette[n].main)}}}))]}})),vP=Me("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),bP=Me("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),wP=Me("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Mg={success:s.jsx(mP,{fontSize:"inherit"}),warning:s.jsx(pP,{fontSize:"inherit"}),error:s.jsx(fP,{fontSize:"inherit"}),info:s.jsx(hP,{fontSize:"inherit"})},jP=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiAlert"}),{action:a,children:o,className:i,closeText:l="Close",color:c,components:u={},componentsProps:d={},icon:m,iconMapping:p=Mg,onClose:f,role:g="alert",severity:w="success",slotProps:v={},slots:y={},variant:b="standard",...N}=n,C={...n,color:c,severity:w,variant:b,colorSeverity:c||w},T=xP(C),j={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...y},slotProps:{...d,...v}},[S,_]=On("root",{ref:r,shouldForwardComponentProp:!0,className:fe(T.root,i),elementType:yP,externalForwardedProps:{...j,...N},ownerState:C,additionalProps:{role:g,elevation:0}}),[I,h]=On("icon",{className:T.icon,elementType:vP,externalForwardedProps:j,ownerState:C}),[M,$]=On("message",{className:T.message,elementType:bP,externalForwardedProps:j,ownerState:C}),[z,U]=On("action",{className:T.action,elementType:wP,externalForwardedProps:j,ownerState:C}),[A,P]=On("closeButton",{elementType:dP,externalForwardedProps:j,ownerState:C}),[E,k]=On("closeIcon",{elementType:gP,externalForwardedProps:j,ownerState:C});return s.jsxs(S,{..._,children:[m!==!1?s.jsx(I,{...h,children:m||p[w]||Mg[w]}):null,s.jsx(M,{...$,children:o}),a!=null?s.jsx(z,{...U,children:a}):null,a==null&&f?s.jsx(z,{...U,children:s.jsx(A,{size:"small","aria-label":l,title:l,color:"inherit",onClick:f,...P,children:s.jsx(E,{fontSize:"small",...k})})}):null]})});function NP(e){return wt("MuiTypography",e)}gt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const SP={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},CP=fE(),kP=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:a,variant:o,classes:i}=e,l={root:["root",o,e.align!=="inherit"&&`align${oe(t)}`,r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return Pt(l,NP,i)},EP=Me("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${oe(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(lr(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(e.palette).filter(wr()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${oe(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),Ig={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},PP=x.forwardRef(function(t,r){const{color:n,...a}=jt({props:t,name:"MuiTypography"}),o=!SP[n],i=CP({...a,...o&&{color:n}}),{align:l="inherit",className:c,component:u,gutterBottom:d=!1,noWrap:m=!1,paragraph:p=!1,variant:f="body1",variantMapping:g=Ig,...w}=i,v={...i,align:l,color:n,className:c,component:u,gutterBottom:d,noWrap:m,paragraph:p,variant:f,variantMapping:g},y=u||(p?"p":g[f]||Ig[f])||"span",b=kP(v);return s.jsx(EP,{as:y,ref:r,className:fe(b.root,c),...w,ownerState:v,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...w.style}})}),DP=os(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function _P(e){return wt("MuiChip",e)}const Ne=gt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),TP=e=>{const{classes:t,disabled:r,size:n,color:a,iconColor:o,onDelete:i,clickable:l,variant:c}=e,u={root:["root",c,r&&"disabled",`size${oe(n)}`,`color${oe(a)}`,l&&"clickable",l&&`clickableColor${oe(a)}`,i&&"deletable",i&&`deletableColor${oe(a)}`,`${c}${oe(a)}`],label:["label",`label${oe(n)}`],avatar:["avatar",`avatar${oe(n)}`,`avatarColor${oe(a)}`],icon:["icon",`icon${oe(n)}`,`iconColor${oe(o)}`],deleteIcon:["deleteIcon",`deleteIcon${oe(n)}`,`deleteIconColor${oe(a)}`,`deleteIcon${oe(c)}Color${oe(a)}`]};return Pt(u,_P,t)},MP=Me("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:a,clickable:o,onDelete:i,size:l,variant:c}=r;return[{[`& .${Ne.avatar}`]:t.avatar},{[`& .${Ne.avatar}`]:t[`avatar${oe(l)}`]},{[`& .${Ne.avatar}`]:t[`avatarColor${oe(n)}`]},{[`& .${Ne.icon}`]:t.icon},{[`& .${Ne.icon}`]:t[`icon${oe(l)}`]},{[`& .${Ne.icon}`]:t[`iconColor${oe(a)}`]},{[`& .${Ne.deleteIcon}`]:t.deleteIcon},{[`& .${Ne.deleteIcon}`]:t[`deleteIcon${oe(l)}`]},{[`& .${Ne.deleteIcon}`]:t[`deleteIconColor${oe(n)}`]},{[`& .${Ne.deleteIcon}`]:t[`deleteIcon${oe(c)}Color${oe(n)}`]},t.root,t[`size${oe(l)}`],t[`color${oe(n)}`],o&&t.clickable,o&&n!=="default"&&t[`clickableColor${oe(n)})`],i&&t.deletable,i&&n!=="default"&&t[`deletableColor${oe(n)}`],t[c],t[`${c}${oe(n)}`]]}})(lr(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ne.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ne.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Ne.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Ne.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Ne.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Ne.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Ne.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:We(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:We(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Ne.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Ne.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(wr(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main,color:(e.vars||e).palette[r].contrastText,[`& .${Ne.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].contrastTextChannel} / 0.7)`:We(e.palette[r].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${Ne.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${Ne.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Ne.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:We(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(wr(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${Ne.focusVisible}`]:{background:(e.vars||e).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:We(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Ne.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:We(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(wr(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${Ne.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Ne.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Ne.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Ne.avatar}`]:{marginLeft:4},[`& .${Ne.avatarSmall}`]:{marginLeft:2},[`& .${Ne.icon}`]:{marginLeft:4},[`& .${Ne.iconSmall}`]:{marginLeft:2},[`& .${Ne.deleteIcon}`]:{marginRight:5},[`& .${Ne.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(wr()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:We(e.palette[r].main,.7)}`,[`&.${Ne.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:We(e.palette[r].main,e.palette.action.hoverOpacity)},[`&.${Ne.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.focusOpacity})`:We(e.palette[r].main,e.palette.action.focusOpacity)},[`& .${Ne.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:We(e.palette[r].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].main}}}}))]}})),IP=Me("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${oe(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Ag(e){return e.key==="Backspace"||e.key==="Delete"}const AP=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiChip"}),{avatar:a,className:o,clickable:i,color:l="default",component:c,deleteIcon:u,disabled:d=!1,icon:m,label:p,onClick:f,onDelete:g,onKeyDown:w,onKeyUp:v,size:y="medium",variant:b="filled",tabIndex:N,skipFocusWhenDisabled:C=!1,slots:T={},slotProps:j={},...S}=n,_=x.useRef(null),I=hc(_,r),h=R=>{R.stopPropagation(),g&&g(R)},M=R=>{R.currentTarget===R.target&&Ag(R)&&R.preventDefault(),w&&w(R)},$=R=>{R.currentTarget===R.target&&g&&Ag(R)&&g(R),v&&v(R)},z=i!==!1&&f?!0:i,U=z||g?xc:c||"div",A={...n,component:U,disabled:d,size:y,color:l,iconColor:x.isValidElement(m)&&m.props.color||l,onDelete:!!g,clickable:z,variant:b},P=TP(A),E=U===xc?{component:c||"div",focusVisibleClassName:P.focusVisible,...g&&{disableRipple:!0}}:{};let k=null;g&&(k=u&&x.isValidElement(u)?x.cloneElement(u,{className:fe(u.props.className,P.deleteIcon),onClick:h}):s.jsx(DP,{className:P.deleteIcon,onClick:h}));let D=null;a&&x.isValidElement(a)&&(D=x.cloneElement(a,{className:fe(P.avatar,a.props.className)}));let F=null;m&&x.isValidElement(m)&&(F=x.cloneElement(m,{className:fe(P.icon,m.props.className)}));const O={slots:T,slotProps:j},[q,Y]=On("root",{elementType:MP,externalForwardedProps:{...O,...S},ownerState:A,shouldForwardComponentProp:!0,ref:I,className:fe(P.root,o),additionalProps:{disabled:z&&d?!0:void 0,tabIndex:C&&d?-1:N,...E},getSlotProps:R=>({...R,onClick:H=>{var Q;(Q=R.onClick)==null||Q.call(R,H),f==null||f(H)},onKeyDown:H=>{var Q;(Q=R.onKeyDown)==null||Q.call(R,H),M==null||M(H)},onKeyUp:H=>{var Q;(Q=R.onKeyUp)==null||Q.call(R,H),$==null||$(H)}})}),[K,X]=On("label",{elementType:IP,externalForwardedProps:O,ownerState:A,className:P.label});return s.jsxs(q,{as:U,...Y,children:[D||F,s.jsx(K,{...X,children:p}),k]})}),OP=gt("MuiBox",["root"]),RP=t1(),Wi=c8({themeId:bf,defaultTheme:RP,defaultClassName:OP.root,generateClassName:Hb.generate});function LP(e){return wt("MuiButton",e)}const ls=gt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),zP=x.createContext({}),$P=x.createContext(void 0),FP=e=>{const{color:t,disableElevation:r,fullWidth:n,size:a,variant:o,loading:i,loadingPosition:l,classes:c}=e,u={root:["root",i&&"loading",o,`${o}${oe(t)}`,`size${oe(a)}`,`${o}Size${oe(a)}`,`color${oe(t)}`,r&&"disableElevation",n&&"fullWidth",i&&`loadingPosition${oe(l)}`],startIcon:["icon","startIcon",`iconSize${oe(a)}`],endIcon:["icon","endIcon",`iconSize${oe(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Pt(u,LP,c);return{...c,...d}},a1=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],BP=Me(xc,{shouldForwardProp:e=>n1(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${oe(r.color)}`],t[`size${oe(r.size)}`],t[`${r.variant}Size${oe(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(lr(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${ls.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${ls.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${ls.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${ls.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(wr()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:We(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:We(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:We(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:We(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:We(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ls.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ls.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${ls.loading}`]:{color:"transparent"}}}]}})),UP=Me("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${oe(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...a1]})),VP=Me("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${oe(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...a1]})),qP=Me("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Og=Me("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),jd=x.forwardRef(function(t,r){const n=x.useContext(zP),a=x.useContext($P),o=fc(n,t),i=jt({props:o,name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:d,disabled:m=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:g,focusVisibleClassName:w,fullWidth:v=!1,id:y,loading:b=null,loadingIndicator:N,loadingPosition:C="center",size:T="medium",startIcon:j,type:S,variant:_="text",...I}=i,h=Qb(y),M=N??s.jsx(Bf,{"aria-labelledby":h,color:"inherit",size:16}),$={...i,color:c,component:u,disabled:m,disableElevation:p,disableFocusRipple:f,fullWidth:v,loading:b,loadingIndicator:M,loadingPosition:C,size:T,type:S,variant:_},z=FP($),U=(j||b&&C==="start")&&s.jsx(UP,{className:z.startIcon,ownerState:$,children:j||s.jsx(Og,{className:z.loadingIconPlaceholder,ownerState:$})}),A=(g||b&&C==="end")&&s.jsx(VP,{className:z.endIcon,ownerState:$,children:g||s.jsx(Og,{className:z.loadingIconPlaceholder,ownerState:$})}),P=a||"",E=typeof b=="boolean"?s.jsx("span",{className:z.loadingWrapper,style:{display:"contents"},children:b&&s.jsx(qP,{className:z.loadingIndicator,ownerState:$,children:M})}):null;return s.jsxs(BP,{ownerState:$,className:fe(n.className,z.root,d,P),component:u,disabled:m||b,focusRipple:!f,focusVisibleClassName:fe(z.focusVisible,w),ref:r,type:S,id:b?h:y,...I,classes:z,children:[U,C!=="end"&&E,l,C==="end"&&E,A]})});function HP(e){return wt("MuiCard",e)}gt("MuiCard",["root"]);const WP=e=>{const{classes:t}=e;return Pt({root:["root"]},HP,t)},YP=Me(Ff,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),KP=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiCard"}),{className:a,raised:o=!1,...i}=n,l={...n,raised:o},c=WP(l);return s.jsx(YP,{className:fe(c.root,a),elevation:o?8:void 0,ref:r,ownerState:l,...i})});function QP(e){return wt("MuiCardContent",e)}gt("MuiCardContent",["root"]);const GP=e=>{const{classes:t}=e;return Pt({root:["root"]},QP,t)},JP=Me("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),XP=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiCardContent"}),{className:a,component:o="div",...i}=n,l={...n,component:o},c=GP(l);return s.jsx(JP,{as:o,className:fe(c.root,a),ownerState:l,ref:r,...i})}),o1=x.createContext();function ZP(e){return wt("MuiTable",e)}gt("MuiTable",["root","stickyHeader"]);const eD=e=>{const{classes:t,stickyHeader:r}=e;return Pt({root:["root",r&&"stickyHeader"]},ZP,t)},tD=Me("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(lr(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),Rg="table",rD=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiTable"}),{className:a,component:o=Rg,padding:i="normal",size:l="medium",stickyHeader:c=!1,...u}=n,d={...n,component:o,padding:i,size:l,stickyHeader:c},m=eD(d),p=x.useMemo(()=>({padding:i,size:l,stickyHeader:c}),[i,l,c]);return s.jsx(o1.Provider,{value:p,children:s.jsx(tD,{as:o,role:o===Rg?null:"table",ref:r,className:fe(m.root,a),ownerState:d,...u})})}),ku=x.createContext();function nD(e){return wt("MuiTableBody",e)}gt("MuiTableBody",["root"]);const sD=e=>{const{classes:t}=e;return Pt({root:["root"]},nD,t)},aD=Me("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),oD={variant:"body"},Lg="tbody",iD=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiTableBody"}),{className:a,component:o=Lg,...i}=n,l={...n,component:o},c=sD(l);return s.jsx(ku.Provider,{value:oD,children:s.jsx(aD,{className:fe(c.root,a),as:o,ref:r,role:o===Lg?null:"rowgroup",ownerState:l,...i})})});function lD(e){return wt("MuiTableCell",e)}const cD=gt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),uD=e=>{const{classes:t,variant:r,align:n,padding:a,size:o,stickyHeader:i}=e,l={root:["root",r,i&&"stickyHeader",n!=="inherit"&&`align${oe(n)}`,a!=="normal"&&`padding${oe(a)}`,`size${oe(o)}`]};return Pt(l,lD,t)},dD=Me("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${oe(r.size)}`],r.padding!=="normal"&&t[`padding${oe(r.padding)}`],r.align!=="inherit"&&t[`align${oe(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(lr(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Ra(We(e.palette.divider,1),.88):Oa(We(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${cD.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),_r=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiTableCell"}),{align:a="inherit",className:o,component:i,padding:l,scope:c,size:u,sortDirection:d,variant:m,...p}=n,f=x.useContext(o1),g=x.useContext(ku),w=g&&g.variant==="head";let v;i?v=i:v=w?"th":"td";let y=c;v==="td"?y=void 0:!y&&w&&(y="col");const b=m||g&&g.variant,N={...n,align:a,component:v,padding:l||(f&&f.padding?f.padding:"normal"),size:u||(f&&f.size?f.size:"medium"),sortDirection:d,stickyHeader:b==="head"&&f&&f.stickyHeader,variant:b},C=uD(N);let T=null;return d&&(T=d==="asc"?"ascending":"descending"),s.jsx(dD,{as:v,ref:r,className:fe(C.root,o),"aria-sort":T,scope:y,ownerState:N,...p})});function mD(e){return wt("MuiTableContainer",e)}gt("MuiTableContainer",["root"]);const pD=e=>{const{classes:t}=e;return Pt({root:["root"]},mD,t)},fD=Me("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),hD=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiTableContainer"}),{className:a,component:o="div",...i}=n,l={...n,component:o},c=pD(l);return s.jsx(fD,{ref:r,as:o,className:fe(c.root,a),ownerState:l,...i})});function gD(e){return wt("MuiTableHead",e)}gt("MuiTableHead",["root"]);const xD=e=>{const{classes:t}=e;return Pt({root:["root"]},gD,t)},yD=Me("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),vD={variant:"head"},zg="thead",bD=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiTableHead"}),{className:a,component:o=zg,...i}=n,l={...n,component:o},c=xD(l);return s.jsx(ku.Provider,{value:vD,children:s.jsx(yD,{as:o,className:fe(c.root,a),ref:r,role:o===zg?null:"rowgroup",ownerState:l,...i})})});function wD(e){return wt("MuiTableRow",e)}const $g=gt("MuiTableRow",["root","selected","hover","head","footer"]),jD=e=>{const{classes:t,selected:r,hover:n,head:a,footer:o}=e;return Pt({root:["root",r&&"selected",n&&"hover",a&&"head",o&&"footer"]},wD,t)},ND=Me("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(lr(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${$g.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${$g.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:We(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:We(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),Fg="tr",Nd=x.forwardRef(function(t,r){const n=jt({props:t,name:"MuiTableRow"}),{className:a,component:o=Fg,hover:i=!1,selected:l=!1,...c}=n,u=x.useContext(ku),d={...n,component:o,hover:i,selected:l,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},m=jD(d);return s.jsx(ND,{as:o,ref:r,className:fe(m.root,a),role:o===Fg?null:"row",ownerState:d,...c})}),SD=os(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),CD=os(s.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}));function i1(e,t){return function(){return e.apply(t,arguments)}}const{toString:kD}=Object.prototype,{getPrototypeOf:Uf}=Object,{iterator:Eu,toStringTag:l1}=Symbol,Pu=(e=>t=>{const r=kD.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),$r=e=>(e=e.toLowerCase(),t=>Pu(t)===e),Du=e=>t=>typeof t===e,{isArray:Va}=Array,Xo=Du("undefined");function pi(e){return e!==null&&!Xo(e)&&e.constructor!==null&&!Xo(e.constructor)&&Kt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const c1=$r("ArrayBuffer");function ED(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&c1(e.buffer),t}const PD=Du("string"),Kt=Du("function"),u1=Du("number"),fi=e=>e!==null&&typeof e=="object",DD=e=>e===!0||e===!1,gl=e=>{if(Pu(e)!=="object")return!1;const t=Uf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(l1 in e)&&!(Eu in e)},_D=e=>{if(!fi(e)||pi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},TD=$r("Date"),MD=$r("File"),ID=$r("Blob"),AD=$r("FileList"),OD=e=>fi(e)&&Kt(e.pipe),RD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Kt(e.append)&&((t=Pu(e))==="formdata"||t==="object"&&Kt(e.toString)&&e.toString()==="[object FormData]"))},LD=$r("URLSearchParams"),[zD,$D,FD,BD]=["ReadableStream","Request","Response","Headers"].map($r),UD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hi(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Va(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(pi(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(n=0;n<i;n++)l=o[n],t.call(null,e[l],l,e)}}function d1(e,t){if(pi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m1=e=>!Xo(e)&&e!==bs;function Gm(){const{caseless:e}=m1(this)&&this||{},t={},r=(n,a)=>{const o=e&&d1(t,a)||a;gl(t[o])&&gl(n)?t[o]=Gm(t[o],n):gl(n)?t[o]=Gm({},n):Va(n)?t[o]=n.slice():t[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&hi(arguments[n],r);return t}const VD=(e,t,r,{allOwnKeys:n}={})=>(hi(t,(a,o)=>{r&&Kt(a)?e[o]=i1(a,r):e[o]=a},{allOwnKeys:n}),e),qD=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),HD=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},WD=(e,t,r,n)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&Uf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},YD=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},KD=e=>{if(!e)return null;if(Va(e))return e;let t=e.length;if(!u1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},QD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Uf(Uint8Array)),GD=(e,t)=>{const n=(e&&e[Eu]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},JD=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},XD=$r("HTMLFormElement"),ZD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Bg=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),e7=$r("RegExp"),p1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};hi(r,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(n[o]=i||a)}),Object.defineProperties(e,n)},t7=e=>{p1(e,(t,r)=>{if(Kt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Kt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},r7=(e,t)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return Va(e)?n(e):n(String(e).split(t)),r},n7=()=>{},s7=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function a7(e){return!!(e&&Kt(e.append)&&e[l1]==="FormData"&&e[Eu])}const o7=e=>{const t=new Array(10),r=(n,a)=>{if(fi(n)){if(t.indexOf(n)>=0)return;if(pi(n))return n;if(!("toJSON"in n)){t[a]=n;const o=Va(n)?[]:{};return hi(n,(i,l)=>{const c=r(i,a+1);!Xo(c)&&(o[l]=c)}),t[a]=void 0,o}}return n};return r(e,0)},i7=$r("AsyncFunction"),l7=e=>e&&(fi(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch),f1=((e,t)=>e?setImmediate:t?((r,n)=>(bs.addEventListener("message",({source:a,data:o})=>{a===bs&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),bs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kt(bs.postMessage)),c7=typeof queueMicrotask<"u"?queueMicrotask.bind(bs):typeof process<"u"&&process.nextTick||f1,u7=e=>e!=null&&Kt(e[Eu]),J={isArray:Va,isArrayBuffer:c1,isBuffer:pi,isFormData:RD,isArrayBufferView:ED,isString:PD,isNumber:u1,isBoolean:DD,isObject:fi,isPlainObject:gl,isEmptyObject:_D,isReadableStream:zD,isRequest:$D,isResponse:FD,isHeaders:BD,isUndefined:Xo,isDate:TD,isFile:MD,isBlob:ID,isRegExp:e7,isFunction:Kt,isStream:OD,isURLSearchParams:LD,isTypedArray:QD,isFileList:AD,forEach:hi,merge:Gm,extend:VD,trim:UD,stripBOM:qD,inherits:HD,toFlatObject:WD,kindOf:Pu,kindOfTest:$r,endsWith:YD,toArray:KD,forEachEntry:GD,matchAll:JD,isHTMLForm:XD,hasOwnProperty:Bg,hasOwnProp:Bg,reduceDescriptors:p1,freezeMethods:t7,toObjectSet:r7,toCamelCase:ZD,noop:n7,toFiniteNumber:s7,findKey:d1,global:bs,isContextDefined:m1,isSpecCompliantForm:a7,toJSONObject:o7,isAsyncFn:i7,isThenable:l7,setImmediate:f1,asap:c7,isIterable:u7};function ve(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}J.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const h1=ve.prototype,g1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{g1[e]={value:e}});Object.defineProperties(ve,g1);Object.defineProperty(h1,"isAxiosError",{value:!0});ve.from=(e,t,r,n,a,o)=>{const i=Object.create(h1);return J.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ve.call(i,e.message,t,r,n,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const d7=null;function Jm(e){return J.isPlainObject(e)||J.isArray(e)}function x1(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function Ug(e,t,r){return e?e.concat(t).map(function(a,o){return a=x1(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function m7(e){return J.isArray(e)&&!e.some(Jm)}const p7=J.toFlatObject(J,{},null,function(t){return/^is[A-Z]/.test(t)});function _u(e,t,r){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=J.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!J.isUndefined(v[w])});const n=r.metaTokens,a=r.visitor||d,o=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(J.isDate(g))return g.toISOString();if(J.isBoolean(g))return g.toString();if(!c&&J.isBlob(g))throw new ve("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(g)||J.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,w,v){let y=g;if(g&&!v&&typeof g=="object"){if(J.endsWith(w,"{}"))w=n?w:w.slice(0,-2),g=JSON.stringify(g);else if(J.isArray(g)&&m7(g)||(J.isFileList(g)||J.endsWith(w,"[]"))&&(y=J.toArray(g)))return w=x1(w),y.forEach(function(N,C){!(J.isUndefined(N)||N===null)&&t.append(i===!0?Ug([w],C,o):i===null?w:w+"[]",u(N))}),!1}return Jm(g)?!0:(t.append(Ug(v,w,o),u(g)),!1)}const m=[],p=Object.assign(p7,{defaultVisitor:d,convertValue:u,isVisitable:Jm});function f(g,w){if(!J.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(g),J.forEach(g,function(y,b){(!(J.isUndefined(y)||y===null)&&a.call(t,y,J.isString(b)?b.trim():b,w,p))===!0&&f(y,w?w.concat(b):[b])}),m.pop()}}if(!J.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Vg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Vf(e,t){this._pairs=[],e&&_u(e,this,t)}const y1=Vf.prototype;y1.append=function(t,r){this._pairs.push([t,r])};y1.toString=function(t){const r=t?function(n){return t.call(this,n,Vg)}:Vg;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function f7(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function v1(e,t,r){if(!t)return e;const n=r&&r.encode||f7;J.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(t,r):o=J.isURLSearchParams(t)?t.toString():new Vf(t,r).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class qg{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){J.forEach(this.handlers,function(n){n!==null&&t(n)})}}const b1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},h7=typeof URLSearchParams<"u"?URLSearchParams:Vf,g7=typeof FormData<"u"?FormData:null,x7=typeof Blob<"u"?Blob:null,y7={isBrowser:!0,classes:{URLSearchParams:h7,FormData:g7,Blob:x7},protocols:["http","https","file","blob","url","data"]},qf=typeof window<"u"&&typeof document<"u",Xm=typeof navigator=="object"&&navigator||void 0,v7=qf&&(!Xm||["ReactNative","NativeScript","NS"].indexOf(Xm.product)<0),b7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w7=qf&&window.location.href||"http://localhost",j7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qf,hasStandardBrowserEnv:v7,hasStandardBrowserWebWorkerEnv:b7,navigator:Xm,origin:w7},Symbol.toStringTag,{value:"Module"})),At={...j7,...y7};function N7(e,t){return _u(e,new At.classes.URLSearchParams,{visitor:function(r,n,a,o){return At.isNode&&J.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function S7(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function C7(e){const t={},r=Object.keys(e);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],t[o]=e[o];return t}function w1(e){function t(r,n,a,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=r.length;return i=!i&&J.isArray(a)?a.length:i,c?(J.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!J.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],o)&&J.isArray(a[i])&&(a[i]=C7(a[i])),!l)}if(J.isFormData(e)&&J.isFunction(e.entries)){const r={};return J.forEachEntry(e,(n,a)=>{t(S7(n),a,r,0)}),r}return null}function k7(e,t,r){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const gi={transitional:b1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=J.isObject(t);if(o&&J.isHTMLForm(t)&&(t=new FormData(t)),J.isFormData(t))return a?JSON.stringify(w1(t)):t;if(J.isArrayBuffer(t)||J.isBuffer(t)||J.isStream(t)||J.isFile(t)||J.isBlob(t)||J.isReadableStream(t))return t;if(J.isArrayBufferView(t))return t.buffer;if(J.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return N7(t,this.formSerializer).toString();if((l=J.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return _u(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),k7(t)):t}],transformResponse:[function(t){const r=this.transitional||gi.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(J.isResponse(t)||J.isReadableStream(t))return t;if(t&&J.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?ve.from(l,ve.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],e=>{gi.headers[e]={}});const E7=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P7=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&E7[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Hg=Symbol("internals");function ao(e){return e&&String(e).trim().toLowerCase()}function xl(e){return e===!1||e==null?e:J.isArray(e)?e.map(xl):String(e)}function D7(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const _7=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sd(e,t,r,n,a){if(J.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!J.isString(t)){if(J.isString(n))return t.indexOf(n)!==-1;if(J.isRegExp(n))return n.test(t)}}function T7(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function M7(e,t){const r=J.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,o,i){return this[n].call(this,t,a,o,i)},configurable:!0})})}let Qt=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function o(l,c,u){const d=ao(c);if(!d)throw new Error("header name must be a non-empty string");const m=J.findKey(a,d);(!m||a[m]===void 0||u===!0||u===void 0&&a[m]!==!1)&&(a[m||c]=xl(l))}const i=(l,c)=>J.forEach(l,(u,d)=>o(u,d,c));if(J.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(J.isString(t)&&(t=t.trim())&&!_7(t))i(P7(t),r);else if(J.isObject(t)&&J.isIterable(t)){let l={},c,u;for(const d of t){if(!J.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?J.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=ao(t),t){const n=J.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return D7(a);if(J.isFunction(r))return r.call(this,a,n);if(J.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ao(t),t){const n=J.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Sd(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function o(i){if(i=ao(i),i){const l=J.findKey(n,i);l&&(!r||Sd(n,n[l],l,r))&&(delete n[l],a=!0)}}return J.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!t||Sd(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,n={};return J.forEach(this,(a,o)=>{const i=J.findKey(n,o);if(i){r[i]=xl(a),delete r[o];return}const l=t?T7(o):String(o).trim();l!==o&&delete r[o],r[l]=xl(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return J.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&J.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Hg]=this[Hg]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=ao(i);n[l]||(M7(a,i),n[l]=!0)}return J.isArray(t)?t.forEach(o):o(t),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Qt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});J.freezeMethods(Qt);function Cd(e,t){const r=this||gi,n=t||r,a=Qt.from(n.headers);let o=n.data;return J.forEach(e,function(l){o=l.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function j1(e){return!!(e&&e.__CANCEL__)}function qa(e,t,r){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,r),this.name="CanceledError"}J.inherits(qa,ve,{__CANCEL__:!0});function N1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ve("Request failed with status code "+r.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function I7(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function A7(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[o];i||(i=u),r[a]=c,n[a]=u;let m=o,p=0;for(;m!==a;)p+=r[m++],m=m%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),u-i<t)return;const f=d&&u-d;return f?Math.round(p*1e3/f):void 0}}function O7(e,t){let r=0,n=1e3/t,a,o;const i=(u,d=Date.now())=>{r=d,a=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=n?i(u,d):(a=u,o||(o=setTimeout(()=>{o=null,i(a)},n-m)))},()=>a&&i(a)]}const yc=(e,t,r=3)=>{let n=0;const a=A7(50,250);return O7(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},Wg=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Yg=e=>(...t)=>J.asap(()=>e(...t)),R7=At.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,At.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,L7=At.hasStandardBrowserEnv?{write(e,t,r,n,a,o){const i=[e+"="+encodeURIComponent(t)];J.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),J.isString(n)&&i.push("path="+n),J.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function z7(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $7(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function S1(e,t,r){let n=!z7(t);return e&&(n||r==!1)?$7(e,t):t}const Kg=e=>e instanceof Qt?{...e}:e;function zs(e,t){t=t||{};const r={};function n(u,d,m,p){return J.isPlainObject(u)&&J.isPlainObject(d)?J.merge.call({caseless:p},u,d):J.isPlainObject(d)?J.merge({},d):J.isArray(d)?d.slice():d}function a(u,d,m,p){if(J.isUndefined(d)){if(!J.isUndefined(u))return n(void 0,u,m,p)}else return n(u,d,m,p)}function o(u,d){if(!J.isUndefined(d))return n(void 0,d)}function i(u,d){if(J.isUndefined(d)){if(!J.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,m){if(m in t)return n(u,d);if(m in e)return n(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,m)=>a(Kg(u),Kg(d),m,!0)};return J.forEach(Object.keys({...e,...t}),function(d){const m=c[d]||a,p=m(e[d],t[d],d);J.isUndefined(p)&&m!==l||(r[d]=p)}),r}const C1=e=>{const t=zs({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=Qt.from(i),t.url=v1(S1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(J.isFormData(r)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(At.hasStandardBrowserEnv&&(n&&J.isFunction(n)&&(n=n(t)),n||n!==!1&&R7(t.url))){const u=a&&o&&L7.read(o);u&&i.set(a,u)}return t},F7=typeof XMLHttpRequest<"u",B7=F7&&function(e){return new Promise(function(r,n){const a=C1(e);let o=a.data;const i=Qt.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,m,p,f,g;function w(){f&&f(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const N=Qt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:N,config:e,request:v};N1(function(S){r(S),w()},function(S){n(S),w()},T),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new ve("Request aborted",ve.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new ve("Network Error",ve.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||b1;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new ve(C,T.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,v)),v=null},o===void 0&&i.setContentType(null),"setRequestHeader"in v&&J.forEach(i.toJSON(),function(C,T){v.setRequestHeader(T,C)}),J.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([p,g]=yc(u,!0),v.addEventListener("progress",p)),c&&v.upload&&([m,f]=yc(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(d=N=>{v&&(n(!N||N.type?new qa(null,e,v):N),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=I7(a.url);if(b&&At.protocols.indexOf(b)===-1){n(new ve("Unsupported protocol "+b+":",ve.ERR_BAD_REQUEST,e));return}v.send(o||null)})},U7=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const o=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ve?d:new qa(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new ve(`timeout ${t} of ms exceeded`,ve.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>J.asap(l),c}},V7=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},q7=async function*(e,t){for await(const r of H7(e))yield*V7(r,t)},H7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Qg=(e,t,r,n)=>{const a=q7(e,t);let o=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let m=d.byteLength;if(r){let p=o+=m;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Tu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",k1=Tu&&typeof ReadableStream=="function",W7=Tu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),E1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Y7=k1&&E1(()=>{let e=!1;const t=new Request(At.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Gg=64*1024,Zm=k1&&E1(()=>J.isReadableStream(new Response("").body)),vc={stream:Zm&&(e=>e.body)};Tu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!vc[t]&&(vc[t]=J.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new ve(`Response type '${t}' is not supported`,ve.ERR_NOT_SUPPORT,n)})})})(new Response);const K7=async e=>{if(e==null)return 0;if(J.isBlob(e))return e.size;if(J.isSpecCompliantForm(e))return(await new Request(At.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(J.isArrayBufferView(e)||J.isArrayBuffer(e))return e.byteLength;if(J.isURLSearchParams(e)&&(e=e+""),J.isString(e))return(await W7(e)).byteLength},Q7=async(e,t)=>{const r=J.toFiniteNumber(e.getContentLength());return r??K7(t)},G7=Tu&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:m="same-origin",fetchOptions:p}=C1(e);u=u?(u+"").toLowerCase():"text";let f=U7([a,o&&o.toAbortSignal()],i),g;const w=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(c&&Y7&&r!=="get"&&r!=="head"&&(v=await Q7(d,n))!==0){let T=new Request(t,{method:"POST",body:n,duplex:"half"}),j;if(J.isFormData(n)&&(j=T.headers.get("content-type"))&&d.setContentType(j),T.body){const[S,_]=Wg(v,yc(Yg(c)));n=Qg(T.body,Gg,S,_)}}J.isString(m)||(m=m?"include":"omit");const y="credentials"in Request.prototype;g=new Request(t,{...p,signal:f,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?m:void 0});let b=await fetch(g,p);const N=Zm&&(u==="stream"||u==="response");if(Zm&&(l||N&&w)){const T={};["status","statusText","headers"].forEach(I=>{T[I]=b[I]});const j=J.toFiniteNumber(b.headers.get("content-length")),[S,_]=l&&Wg(j,yc(Yg(l),!0))||[];b=new Response(Qg(b.body,Gg,S,()=>{_&&_(),w&&w()}),T)}u=u||"text";let C=await vc[J.findKey(vc,u)||"text"](b,e);return!N&&w&&w(),await new Promise((T,j)=>{N1(T,j,{data:C,headers:Qt.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:g})})}catch(y){throw w&&w(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,e,g),{cause:y.cause||y}):ve.from(y,y&&y.code,e,g)}}),ep={http:d7,xhr:B7,fetch:G7};J.forEach(ep,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jg=e=>`- ${e}`,J7=e=>J.isFunction(e)||e===null||e===!1,P1={getAdapter:e=>{e=J.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let o=0;o<t;o++){r=e[o];let i;if(n=r,!J7(r)&&(n=ep[(i=String(r)).toLowerCase()],n===void 0))throw new ve(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+o]=n}if(!n){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Jg).join(`
`):" "+Jg(o[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:ep};function kd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qa(null,e)}function Xg(e){return kd(e),e.headers=Qt.from(e.headers),e.data=Cd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),P1.getAdapter(e.adapter||gi.adapter)(e).then(function(n){return kd(e),n.data=Cd.call(e,e.transformResponse,n),n.headers=Qt.from(n.headers),n},function(n){return j1(n)||(kd(e),n&&n.response&&(n.response.data=Cd.call(e,e.transformResponse,n.response),n.response.headers=Qt.from(n.response.headers))),Promise.reject(n)})}const D1="1.11.0",Mu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mu[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Zg={};Mu.transitional=function(t,r,n){function a(o,i){return"[Axios v"+D1+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(t===!1)throw new ve(a(i," has been removed"+(r?" in "+r:"")),ve.ERR_DEPRECATED);return r&&!Zg[i]&&(Zg[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,i,l):!0}};Mu.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function X7(e,t,r){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new ve("option "+o+" must be "+c,ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ve("Unknown option "+o,ve.ERR_BAD_OPTION)}}const yl={assertOptions:X7,validators:Mu},Ur=yl.validators;let Es=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qg,response:new qg}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=zs(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&yl.assertOptions(n,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),a!=null&&(J.isFunction(a)?r.paramsSerializer={serialize:a}:yl.assertOptions(a,{encode:Ur.function,serialize:Ur.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),yl.assertOptions(r,{baseUrl:Ur.spelling("baseURL"),withXsrfToken:Ur.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&J.merge(o.common,o[r.method]);o&&J.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),r.headers=Qt.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,m=0,p;if(!c){const g=[Xg.bind(this),void 0];for(g.unshift(...l),g.push(...u),p=g.length,d=Promise.resolve(r);m<p;)d=d.then(g[m++],g[m++]);return d}p=l.length;let f=r;for(m=0;m<p;){const g=l[m++],w=l[m++];try{f=g(f)}catch(v){w.call(this,v);break}}try{d=Xg.call(this,f)}catch(g){return Promise.reject(g)}for(m=0,p=u.length;m<p;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=zs(this.defaults,t);const r=S1(t.baseURL,t.url,t.allowAbsoluteUrls);return v1(r,t.params,t.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(t){Es.prototype[t]=function(r,n){return this.request(zs(n||{},{method:t,url:r,data:(n||{}).data}))}});J.forEach(["post","put","patch"],function(t){function r(n){return function(o,i,l){return this.request(zs(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Es.prototype[t]=r(),Es.prototype[t+"Form"]=r(!0)});let Z7=class _1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,l){n.reason||(n.reason=new qa(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new _1(function(a){t=a}),cancel:t}}};function e_(e){return function(r){return e.apply(null,r)}}function t_(e){return J.isObject(e)&&e.isAxiosError===!0}const tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tp).forEach(([e,t])=>{tp[t]=e});function T1(e){const t=new Es(e),r=i1(Es.prototype.request,t);return J.extend(r,Es.prototype,t,{allOwnKeys:!0}),J.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return T1(zs(e,a))},r}const ct=T1(gi);ct.Axios=Es;ct.CanceledError=qa;ct.CancelToken=Z7;ct.isCancel=j1;ct.VERSION=D1;ct.toFormData=_u;ct.AxiosError=ve;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=e_;ct.isAxiosError=t_;ct.mergeConfig=zs;ct.AxiosHeaders=Qt;ct.formToJSON=e=>w1(J.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=P1.getAdapter;ct.HttpStatusCode=tp;ct.default=ct;const{Axios:x_,AxiosError:y_,CanceledError:v_,isCancel:b_,CancelToken:w_,VERSION:j_,all:N_,Cancel:S_,isAxiosError:C_,spread:k_,toFormData:E_,AxiosHeaders:P_,HttpStatusCode:D_,formToJSON:__,getAdapter:T_,mergeConfig:M_}=ct,r_=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,o]=x.useState(null),i=uN(),l=async()=>{try{n(!0);const u=await ct.get("/api/shopify/shops");t(u.data.shops||[]),o(null)}catch(u){console.error("Error fetching Shopify shops:",u),o("Erreur lors du chargement des boutiques Shopify")}finally{n(!1)}};x.useEffect(()=>{l()},[]);const c=u=>{switch(u==null?void 0:u.toLowerCase()){case"actif":return"success";case"en attente":return"warning";case"erreur":return"error";default:return"default"}};return s.jsxs(Wi,{sx:{p:3},children:[s.jsxs(Wi,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[s.jsx(PP,{variant:"h4",component:"h1",children:"Gestion des boutiques Shopify"}),s.jsxs(Wi,{children:[s.jsx(jd,{variant:"contained",color:"primary",startIcon:s.jsx(CD,{}),onClick:l,sx:{mr:2},children:"Actualiser"}),s.jsx(jd,{variant:"contained",color:"primary",startIcon:s.jsx(SD,{}),onClick:()=>i("/internal/boutiques/nouvelle"),children:"Nouvelle boutique"})]})]}),a&&s.jsx(jP,{severity:"error",sx:{mb:3},children:a}),r?s.jsx(Wi,{display:"flex",justifyContent:"center",p:4,children:s.jsx(Bf,{})}):s.jsx(KP,{children:s.jsx(XP,{children:s.jsx(hD,{component:Ff,children:s.jsxs(rD,{children:[s.jsx(bD,{children:s.jsxs(Nd,{children:[s.jsx(_r,{children:"Boutique"}),s.jsx(_r,{children:"Client"}),s.jsx(_r,{children:"Type d'abonnement"}),s.jsx(_r,{children:"Statut"}),s.jsx(_r,{children:"Actions"})]})}),s.jsx(iD,{children:e.length>0?e.map(u=>s.jsxs(Nd,{children:[s.jsx(_r,{children:u.shopName}),s.jsx(_r,{children:u.clientName}),s.jsx(_r,{children:u.typeAbonnement}),s.jsx(_r,{children:s.jsx(AP,{label:u.status,color:c(u.status),size:"small"})}),s.jsx(_r,{children:s.jsx(jd,{variant:"outlined",size:"small",onClick:()=>i(`/internal/boutiques/${u.shopId}`),children:"Voir"})})]},u.shopId)):s.jsx(Nd,{children:s.jsx(_r,{colSpan:5,align:"center",children:"Aucune boutique Shopify trouvée"})})})]})})})})]})},n_=({isOpen:e,onClose:t,shop:r})=>{var Yf,Kf,Qf;const[n,a]=x.useState(1),[o,i]=x.useState(new Set),[l,c]=x.useState(!1),[u,d]=x.useState(null),[m,p]=x.useState(!0),[f,g]=x.useState(null),[w,v]=x.useState(null),[y,b]=x.useState(!0),[N,C]=x.useState(null),j=((r==null?void 0:r.Payement)||(r==null?void 0:r.payment)||"").toLowerCase()==="vendeur",S=(u==null?void 0:u.email)||"",_=(u==null?void 0:u.password)||"",[I,h]=x.useState(!1),[M,$]=x.useState(!1),[z,U]=x.useState(null),[A,P]=x.useState(!0),[E,k]=x.useState(null),[D,F]=x.useState(!1),[O,q]=x.useState(""),[Y,K]=x.useState(""),[X,R]=x.useState(""),[H,Q]=x.useState(""),[G,ee]=x.useState(!1),[B,V]=x.useState(null),[L,te]=x.useState(!1),[ne,le]=x.useState(!1),[me,be]=x.useState(!1),[je,dt]=x.useState(null),[Ve,ge]=x.useState({open:!1}),[M1,Wf]=x.useState({write_products:!1,read_products:!1,write_themes:!1,read_themes:!1,write_content:!1,read_content:!1,write_theme_code:!1}),xi=(r==null?void 0:r.moduleMondialRelay)===!0||(r==null?void 0:r.moduleMondialeRelay)===!0||typeof(r==null?void 0:r.moduleMondialRelay)=="string"&&["oui","yes","true","1"].includes(r.moduleMondialRelay.toLowerCase());x.useEffect(()=>{e||(a(1),i(new Set),le(!1),c(!1),q(""),K(""),R(""),Q(""),V(null),te(!1),ee(!1),P(!1),U(null),k(null),d(null),p(!1),ge({open:!1}),g(null),be(!1),dt(null),b(!1),v(null),C(null),Wf({write_products:!1,read_products:!1,write_themes:!1,read_themes:!1,write_content:!1,read_content:!1,write_theme_code:!1}))},[e]),x.useEffect(()=>{if(e){(async()=>{var xe;try{p(!0),g(null);const Qe=await fetch("/api/internal/config/shopify-partner-credentials"),ue=(xe=Qe.headers.get("content-type"))==null?void 0:xe.includes("application/json");let ye=null;if(ue?ye=await Qe.json():ye=await Qe.text(),!Qe.ok){const Ge=ue&&ye&&ye.message?ye.message:ye;throw new Error(Ge||"Failed to fetch partner credentials")}if(ue&&(ye!=null&&ye.credentials))d(ye.credentials);else throw new Error("Invalid credentials format")}catch(Qe){g(Qe.message)}finally{p(!1)}})();const qe=async()=>{try{b(!0),C(null);const xe=await fetch("/api/internal/config/paypal-credentials");if(!xe.ok){const ue=await xe.json();throw new Error(ue.message||"Failed to fetch credentials")}const Qe=await xe.json();v(Qe.credentials)}catch(xe){C(xe.message)}finally{b(!1)}},ce=async()=>{try{P(!0),k(null);const xe=await fetch("/api/internal/config/mondialrelay-credentials");if(!xe.ok){const ue=await xe.json();throw new Error(ue.message||"Failed to fetch Mondial Relay credentials")}const Qe=await xe.json();U(Qe.credentials)}catch(xe){k(xe.message)}finally{P(!1)}};qe(),xi&&ce()}},[e,xi]),x.useEffect(()=>{},[z]);const I1=()=>{Iu(n),n<Dn.length?a(n+1):le(!0)},A1=()=>{n>1&&a(n-1)},O1=()=>{window.open("https://accounts.shopify.com/store-login","_blank"),c(!0)},R1=async()=>{if(!O||!Y||!X){V("Veuillez remplir tous les champs de clés API.");return}ee(!0),V(null),te(!1);try{const pe=await fetch(`/api/internal/shops/${r._id}/api-credentials`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:O,apiSecret:Y,accessToken:X,adminUrl:H||`https://${r.shopifyDomain||r.name||"your-shop"}.myshopify.com/admin`})}),qe=await pe.json();if(!pe.ok)throw new Error(qe.message||"Failed to save API keys.");te(!0);const ce=Dn.find(xe=>xe.title==="Paramétrage des API");ce&&Iu(ce.id)}catch(pe){V(pe.message)}finally{ee(!1)}},L1=(pe,qe)=>{Wf(ce=>{const xe={...ce,[pe]:qe};if(qe&&pe.startsWith("write_")){const Qe=pe.replace("write_","read_");xe[Qe]=!0}return xe})},z1=async()=>{var pe,qe,ce,xe,Qe;try{be(!0),dt(null);const ue=await fetch(`/api/internal/shops/${encodeURIComponent(r._id)}/push-dawn-theme`,{method:"POST",headers:{"Content-Type":"application/json"}}),ye=(pe=ue.headers.get("content-type"))==null?void 0:pe.includes("application/json"),Ge=ye?await ue.json():await ue.text();if(!ue.ok){if(ye&&Ge.errorType==="MISSING_CREDENTIALS"){$1(Ge.missingFields,Ge.shopId);return}const q1=ye?Ge.message:Ge;throw new Error(q1||"Échec de la configuration du thème.")}const Ou=(qe=Ge.data)!=null&&qe.themeName?`

Thème Dawn créé : ${Ge.data.themeName}`:"",U1=((xe=(ce=Ge.data)==null?void 0:ce.customAssets)==null?void 0:xe.length)>0?`

Assets personnalisés uploadés : ${Ge.data.customAssets.join(", ")}`:"",V1=(Qe=Ge.data)!=null&&Qe.uploadedFiles?`

Fichiers du thème uploadés : ${Ge.data.uploadedFiles}`:"";ge({open:!0,type:"success",title:"✅ Thème Dawn configuré avec succès",message:`Le thème Dawn a été créé et configuré avec vos assets personnalisés !${Ou}${U1}${V1}

Vous pouvez maintenant cliquer sur "Finaliser" pour terminer le paramétrage.`,onClose:()=>ge({open:!1}),confirmText:"Fermer"})}catch(ue){console.error("Error configuring Dawn theme:",ue),ge({open:!0,type:"error",title:"❌ Erreur de configuration du thème Dawn",message:"Erreur lors de la configuration du thème Dawn: "+ue.message,onClose:()=>ge({open:!1}),confirmText:"Fermer"})}finally{be(!1)}},$1=(pe,qe)=>{const ce={open:!0,type:"info",title:"🔧 Configuration Shopify requise",message:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pour configurer le thème, nous avons besoin des informations Shopify suivantes :"}),s.jsxs("div",{className:"space-y-3",children:[pe.accessToken&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Access Token Shopify *"}),s.jsx("input",{id:"shopify-access-token",type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"shpat_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Créez une app privée dans votre Shopify Admin → Settings → Apps and sales channels → Develop apps"})]}),pe.domain&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Domaine Shopify *"}),s.jsx("input",{id:"shopify-domain",type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"votre-boutique"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le nom de votre boutique (sans .myshopify.com)"})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Instructions :"}),s.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:"1. Allez dans votre Shopify Admin"}),s.jsx("li",{children:"2. Settings → Apps and sales channels → Develop apps"}),s.jsx("li",{children:"3. Créez une nouvelle app privée"}),s.jsxs("li",{children:["4. Activez les scopes : ",s.jsx("code",{children:"read_themes"}),","," ",s.jsx("code",{children:"write_themes"})]}),s.jsx("li",{children:"5. Copiez l'access token généré"})]})]})]}),onClose:()=>ge({open:!1}),onConfirm:async()=>{var ue,ye;const xe=(ue=document.getElementById("shopify-access-token"))==null?void 0:ue.value.trim(),Qe=(ye=document.getElementById("shopify-domain"))==null?void 0:ye.value.trim();if(!xe||!Qe){alert("Veuillez remplir tous les champs requis");return}try{const Ge=await fetch(`/api/internal/shops/${encodeURIComponent(qe)}/save-credentials-and-configure-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:xe,shopifyDomain:Qe})}),Ou=await Ge.json();if(!Ge.ok)throw new Error(Ou.message||"Erreur lors de la sauvegarde et configuration");alert("Configuration du thème appliquée avec succès !"),ge({open:!1})}catch(Ge){console.error("Error saving credentials and configuring theme:",Ge),alert("Erreur : "+Ge.message)}},confirmText:"💾 Sauvegarder et Configurer",cancelText:"Annuler"};ge(ce)},F1=async()=>{try{(await fetch(`/api/internal/shops/${encodeURIComponent(r._id)}/mark-parametrized`,{method:"PUT"})).ok?console.log("Shop successfully marked as parametrized"):console.warn("Failed to mark shop as parametrized, but continuing to close")}catch(pe){console.error("Error marking shop as parametrized:",pe)}finally{t()}},B1=async()=>{var pe;be(!0),dt(null);try{const qe=await fetch(`/api/internal/shops/${encodeURIComponent(r._id)}/mark-parametrized`,{method:"PUT"}),ce=(pe=qe.headers.get("content-type"))==null?void 0:pe.includes("application/json"),xe=ce?await qe.json():await qe.text();if(!qe.ok){const Qe=ce?xe.message:xe;throw new Error(Qe||"Échec de la finalisation.")}Iu(Dn.length),le(!0)}catch(qe){dt(qe.message)}finally{be(!1)}},Dn=x.useMemo(()=>{const pe=[{id:1,title:"Connexion",description:"Connexion à votre compte Shopify",instructions:[{title:"Première connexion",steps:["Saisissez l'adresse e-mail ci-dessous puis cliquez sur 'Continuer avec un e-mail'","Saisissez le mot de passe ci-dessous puis cliquez sur 'Se connecter'","Si un code 2FA est demandé, ouvrez votre application d'authentification ou vos SMS, saisissez le code et cliquez sur 'Connexion'","Vous accéderez alors au tableau de bord administrateur de la boutique"]},{title:"Connexion avec compte existant",steps:[`Si la page 'Choisir un compte' s'affiche, sélectionnez le compte '<span class="font-bold">Boris Ducteil</span>'`,"OU vous serez directement redirigé vers le tableau de bord administrateur"]}]},{id:2,title:"Connexion à la boutique",description:`Connexion à la boutique ${(r==null?void 0:r.name)||""}`,instructions:["Cliquez sur le nom de la boutique actuelle avec l'icône boutique (élément le plus à droite en haut de la page)",`Dans le menu déroulant, cliquez sur '<span class="font-bold">Toutes les boutiques</span>' - un nouvel onglet s'ouvrira`,{title:"Recherche de la boutique",steps:["Dans la barre de recherche, saisissez le nom de la boutique ou son domaine :",{type:"shop_name",value:(r==null?void 0:r.name)||""},{type:"separator",value:"OU"},{type:"shop_domain",value:(r==null?void 0:r.shopifyDomain)||""},`Cliquez sur la boutique nommée '<span class="font-bold">${(r==null?void 0:r.name)||""}</span>'`]}]},{id:3,title:"Configuration de base",description:"Configurez les paramètres essentiels de votre boutique",instructions:["Une fois dans le tableau de bord, cliquez sur le bouton 'Paramètres' situé dans le coin inférieur gauche de la page",{title:"Configuration de l'email",steps:[`Dans la section 'Détails de la boutique', placez votre souris sur l'email 'amanda.gerard@dna-gz.com' sous '<span class="font-bold">`+((r==null?void 0:r.name)||"")+"</span>' et cliquez sur l'icône crayon qui apparaît","Remplacez l'email existant par :",{type:"copy_data",label:"Email de la boutique",value:"sav.dtoc@sna-gz.com"},"Cliquez sur 'Enregistrer'"]},{title:"Configuration de l'adresse",steps:["De retour dans les paramètres généraux, placez votre souris sur 'Adresse de facturation' et cliquez sur l'icône crayon","Remplissez les champs suivants :",{type:"copy_data",label:"Raison sociale",value:"SNA GZ"},{type:"copy_data",label:"Adresse",value:"ZA de sainte anne"},{type:"copy_data",label:"Code postal",value:"61190"},{type:"copy_data",label:"Ville",value:"Tourouvre au perche"},"Cliquez sur 'Enregistrer'"]},{title:"Configuration de la référence de commande",steps:["De retour dans la page des paramètres généraux, faites défiler vers le bas jusqu'à la section 'Référence de commande'","Remplissez le champ 'Préfixe' avec l'information suivante :",{type:"shop_prefix",label:"Préfixe de commande",value:(r==null?void 0:r.name)||(r==null?void 0:r.nomProjet)||"SHOP"},"Cliquez sur 'Enregistrer'"]}]},{id:4,title:"Paramétrage des forfaits",description:"Configuration du forfait Shopify",instructions:[`Dans les paramètres, cliquez sur '<span class="font-bold">Forfait</span>' dans la barre latérale gauche (juste en dessous de la barre '<span class="font-bold">Rechercher</span>' et de l'icône '<span class="font-bold">Général</span>')`,`Cliquez sur le bouton noir '<span class="font-bold">Choisir un forfait</span>'`,`Sélectionnez '<span class="font-bold">Grow</span>' en cliquant sur '<span class="font-bold">Sélectionner Grow</span>'`,`Cliquez sur le bouton '<span class="font-bold">PayPal</span>' puis sur la boîte '<span class="font-bold">Pay with PayPal</span>' avec le logo PayPal`,{title:"Connexion PayPal",steps:[{type:"account_type",title:j?"Compte Vendeur":"Compte Mandataire",credentials:{type:"env",email_key:j?"PAYPAL_VENDEUR_EMAIL":"PAYPAL_MANDATAIRE_EMAIL",password_key:j?"PAYPAL_VENDEUR_PASSWORD":"PAYPAL_MANDATAIRE_PASSWORD"}},"Une fois connecté, vous recevrez un code de vérification sur le numéro :",{type:"phone_number",label:"Téléphone de Clément",value:"+33 6 ** ** 73 24"},"Saisissez le code reçu et confirmez le paiement"]}]},{id:5,title:"Configuration des Moyens de Paiement",description:"Finalisez la configuration de Shopify Payments",instructions:["De retour dans les paramètres, cliquez sur la section 'Moyens de paiement'.","Cliquez sur le bouton noir 'Terminer la configuration du compte'.","Cliquez sur le bouton noir 'Soumettre les informations'.",{title:"Configurer Shopify Payments",steps:["Pour la question 'J'exploite ma boutique en tant que :', sélectionnez 'Entreprise immatriculée', puis dans le menu déroulant, sélectionnez 'Société privée'.","Cliquez sur 'Suivant'."]},{title:"Informations sur l'entreprise",steps:[{type:"copy_data",label:"Dénomination sociale",value:"SNA GZ"},{type:"copy_data",label:"SIRET",value:"840 379 499 00022"},{type:"copy_data",label:"Numéro de TVA",value:"FR63840379499"},{type:"copy_data",label:"Numéro de téléphone",value:"+33 2 33 85 15 15"},{type:"copy_data",label:"Adresse",value:"171 Quai de Valmy"},{type:"copy_data",label:"Code postal",value:"75010"},{type:"copy_data",label:"Ville",value:"Paris"},"Cliquez sur 'Suivant'."]},{title:"Secteur d'activité",steps:["Dans 'Catégorie', sélectionnez 'Services professionnels'.","Dans 'Sous-catégorie', sélectionnez 'Entreposage et stockage'.",{type:"copy_data",label:"Numéro de téléphone de la boutique",value:"+33 2 33 85 15 15"},"Cliquez sur 'Suivant'."]},{title:"Représentant du compte",steps:[{type:"copy_data",label:"Prénom",value:"Boris"},{type:"copy_data",label:"Nom de famille",value:"Ducteil"},{type:"checkbox_group",items:["Cette personne détient 25% ou plus des capitaux propres de l'entreprise"]},{type:"copy_data",label:"Participation (%)",value:"100"},{type:"checkbox_group",items:["Cette personne est un(e) dirigeant(e) de l'entreprise.","Cette personne siège au conseil d'administration de l'entreprise."]},{type:"copy_data",label:"Date de naissance (JJ/MM/AAAA)",value:"02/01/1980"},{type:"copy_data",label:"Nationalité",value:"Française"},{type:"copy_data",label:"Poste",value:"Dirigeant"},{type:"copy_data",label:"E-mail",value:"boris.ducteil@sna-gz.com"},"Laissez le champ 'SPI' vide.",{type:"copy_data",label:"Numéro de téléphone",value:"+33 2 33 85 15 15"},{type:"copy_data",label:"Adresse",value:"63 Avenue du Maréchal Foch, Deuil-la-Barre"},{type:"copy_data",label:"Code postal",value:"95170"},{type:"copy_data",label:"Ville",value:"Deuil-la-Barre"},"Cliquez sur 'Suivant'."]},"Dans l'écran 'Participation au capital', cliquez sur 'Suivant' sans rien modifier.","Dans l'écran 'Conseil d'administration', cliquez sur 'Suivant' sans rien modifier.","Dans l'écran 'Dirigeants', cliquez sur 'Suivant' sans rien modifier.",{title:"Importer les documents",steps:[{type:"file_download",label:"Cliquez sur 'Importer' pour la 'Preuve d'immatriculation'",select:"Preuve d'immatriculation de l'entreprise",file:"Extrait KBIS - SNA GZ.pdf",buttonText:"Télécharger Extrait KBIS"},"Cliquez sur 'Confirmer'.",{type:"file_download",label:"Cliquez sur 'Importer' pour le 'Justificatif de domicile'",select:"Relevé bancaire ou facture de services publics",file:"Justificatif de domicile 23 juil. 2024.pdf",buttonText:"Télécharger Justificatif"},"Cliquez sur 'Terminé'.",{type:"file_download",label:"Cliquez sur 'Importer' pour la 'Pièce d'identité'",select:"Passeport",file:"Passport_Boris.jpg",buttonText:"Télécharger Passeport"},"Cliquez sur 'Terminé'.","Enfin, cliquez sur 'Confirmer' puis sur 'Soumettre pour vérification'."]},{title:"Ajouter un compte bancaire",steps:["Cliquez sur le bouton 'Ajouter un compte bancaire'.",{type:"iban"},"Cliquez sur 'Enregistrer'."]}]},{id:6,title:"Configuration des Marchés",description:"Configurez les marchés Shopify pour votre boutique",instructions:['Dans les <span class="font-bold">Paramètres</span>, allez dans la section <span class="font-bold">Marchés</span> sur la barre latérale gauche.',{title:"Marché Union Européenne",steps:['Cliquez sur le bouton <span class="font-bold">+</span> à côté de <span class="font-bold">Créer le marché Union européenne</span>.',"Cliquez sur l'icône en forme de crayon pour modifier le marché.",'Dans la barre de recherche, ajoutez les régions suivantes une par une : <span class="font-bold">La Réunion</span>, <span class="font-bold">Martinique</span>, <span class="font-bold">Guadeloupe</span>.',"Cochez les cases correspondantes pour les ajouter au marché.",'Cliquez sur <span class="font-bold">Terminé</span>, puis sur <span class="font-bold">Enregistrer</span>.']},{title:"Marché International",steps:['Retournez à la section <span class="font-bold">Marchés</span>.','Cliquez sur le bouton <span class="font-bold">+</span> à droite de <span class="font-bold">Créer le marché International</span>.','Cliquez sur <span class="font-bold">Enregistrer</span> pour créer le marché international.']}]}];return xi&&pe.push({id:pe.length+1,title:"Configuration du Module Mondial Relay",description:"Installez et connectez l'application Mondial Relay",instructions:[{title:"Installation et configuration",steps:["Depuis le tableau de bord, cliquez sur la flèche '>' à droite de la section Applications, puis appuyez sur Entrée pour accéder au Shopify App Store.",'Dans la barre de recherche, tapez <span class="font-bold">Mondial Relay InPost Officiel</span>.',{type:"image",src:"/api/internal/files/download/1ce5021cbfb5eff03e8af1d8bbfed6b9_512x512.jpg",alt:"Mondial Relay App Icon"},`Cliquez sur l'icône puis sur <span class="font-bold">Installer</span>.`,'Une fois de retour dans Shopify, cliquez à nouveau sur <span class="font-bold">Installer</span>.',"Vous serez redirigé vers le site Mondial Relay.","Nous allons maintenant remplir le formulaire de configuration avec les données suivantes :",{type:"form_section",title:"Section Votre compte Mondial Relay",fields:[{type:"copy_data",label:"Identifiant Mondial Relay",value:"benjamin.saillard@snadisc.com"},{type:"env_data",label:"Code enseigne",envKey:"codeEnseigne"},{type:"env_data",label:"Clé privée",envKey:"clePrivee"},{type:"env_data",label:"Code Marque",envKey:"codeMarque"}]},{type:"form_section",title:"Section Votre adresse d'expédition",fields:[{type:"copy_data",label:"Nom Entreprise",value:"SNA GZ"},{type:"copy_data",label:"Adresse société",value:"171 Quai de Valmy"},{type:"copy_data",label:"Code postal",value:"75010"},{type:"copy_data",label:"Ville",value:"Paris"},{type:"copy_data",label:"Pays",value:"France"},{type:"copy_data",label:"Email de contact",value:"benjamin.saillard@snadisc.com"},{type:"copy_data",label:"Téléphone",value:"+33 2 33 85 15 15"}]},'Cliquez sur <span class="font-bold">Valider</span>.',`Vous serez redirigé vers une page de validation. Cochez <span class="font-bold">J'accepte les Conditions générales de vente et la politique de confidentialité</span>.`,`Cliquez sur <span class="font-bold">Activer l'abonnement</span>.`,'Vous serez redirigé vers Shopify. Cliquez sur le bouton noir <span class="font-bold">Approuver</span> pour valider le module Mondial Relay pour 34,99 USD par mois.',"Vous pouvez maintenant retourner au tableau de bord Shopify."]}]}),pe.push({id:pe.length+1,title:"Paramétrage des API",description:"Création d'une application personnalisée pour l'accès API.",instructions:[{title:"Navigation vers le développement d'applications",steps:["Dans le tableau de bord Shopify, cliquez sur la flèche `>` à droite de `Applications`.","Cliquez sur l'icône en forme de roue dentée (⚙️) à gauche de `Paramètres des applications et canaux de vente` qui apparaît sous la barre de recherche.","Cliquez sur le bouton `Développer des applications`."]},{title:"Autorisation du développement",steps:["Cliquez sur le premier bouton noir `Autoriser le développement d'applications personnalisées`.","Confirmez en cliquant sur le deuxième bouton noir `Autoriser le développement d'applications personnalisées`."]},{title:"Création de l'application",steps:["Cliquez sur le bouton noir `Créer une application`.","Nommez l'application `Auto` et cliquez sur `Créer l'application`."]},{title:"Configuration des accès API Admin",steps:[{type:"notice",level:"warning",text:"Cette étape est cruciale. L'attribution des bonnes autorisations est essentielle au bon fonctionnement de nos automatisations."},"Dans le tableau de bord de l'application, cliquez sur le bouton blanc `Configurer les niveaux d'accès Admin API`.","Cochez les cases pour les autorisations suivantes. Vous pouvez utiliser la barre de recherche pour les trouver rapidement.",{type:"api_scopes",scopes:[{id:"write_products",label:"write_products",description:"Créer et modifier les produits et collections."},{id:"read_products",label:"read_products",description:"Consulter les produits et collections."},{id:"write_themes",label:"write_themes",description:"Modifier les fichiers du thème (logos, bannières, textes...)."},{id:"write_theme_code",label:"write_theme_code",description:"Modifier le code source du thème (fichiers Liquid, CSS, JS...)."},{id:"read_themes",label:"read_themes",description:"Consulter les fichiers du thème."},{id:"write_content",label:"write_content",description:"Créer et modifier le contenu de la boutique en ligne (pages, blogs...)."},{id:"read_content",label:"read_content",description:"Consulter le contenu de la boutique en ligne."}]},"Une fois toutes les cases cochées, cliquez sur `Enregistrer` en haut à droite."]},{title:"Installation et récupération des identifiants",steps:["Naviguez vers l'onglet `Aperçu` de votre application `Auto`.","Cliquez sur le bouton noir `Installer l'application` en haut à droite, puis confirmez en cliquant sur `Installer`.",{type:"notice",level:"critical",text:"ATTENTION : Le jeton d'accès Admin API ne sera affiché qu'UNE SEULE FOIS. Copiez-le soigneusement."},"Vous êtes maintenant dans la section `Identifiants d'API`.",{type:"api_credentials_form",fields:[{id:"accessToken",label:"Jeton d'accès à l'API Admin",instruction:"Cliquez sur `Révéler le jeton une seule fois`, puis copiez la valeur ici."},{id:"apiKey",label:"Clé API",instruction:"Faites défiler vers le bas et copiez la `Clé API` ici."},{id:"apiSecret",label:"Clé secrète de l'API",instruction:"Copiez la `Clé secrète de l'API` ici."}]}]}]}),pe.push({id:pe.length+1,title:"Configuration Finale (CGV & Thème)",description:"Finalisation de la configuration de la boutique.",instructions:[{title:"Résumé et génération",steps:[{type:"final_step_content",isVendeur:j}]}]}),pe},[r,j,xi]),Iu=pe=>{i(qe=>new Set(qe).add(pe))},Au=()=>Dn.find(pe=>pe.id===n);return!e||!r?null:s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Assistant de Paramétrage Shopify"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Boutique: ",s.jsx("span",{className:"font-semibold",children:r.name})]})]}),s.jsx("button",{onClick:()=>{c(!1),t()},className:"text-gray-500 hover:text-gray-800 transition-colors p-2 rounded-full hover:bg-gray-100",children:s.jsx(an,{size:24})})]}),s.jsxs("div",{className:"flex-grow flex min-h-0",children:[s.jsxs("div",{className:"w-1/2 bg-gray-50 border-r p-6 overflow-y-auto flex-shrink-0",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Progression"}),s.jsx("div",{className:"space-y-2",children:Dn.map(pe=>s.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded-md ${n===pe.id?"bg-blue-100 border border-blue-200":o.has(pe.id)?"bg-green-50":""}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm ${o.has(pe.id)?"bg-green-500 text-white":n===pe.id?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:o.has(pe.id)?s.jsx(ot,{size:12}):pe.id}),s.jsx("span",{className:`text-sm ${n===pe.id?"font-semibold":""}`,children:pe.title})]},pe.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsxs("h3",{className:"font-semibold text-gray-800",children:["Étape ",n,": ",(Yf=Au())==null?void 0:Yf.title]}),o.has(n)&&s.jsx(ot,{className:"text-green-500",size:16})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:(Kf=Au())==null?void 0:Kf.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-700 text-sm",children:"Instructions:"}),s.jsx("ol",{className:"space-y-4",children:(Qf=Au())==null?void 0:Qf.instructions.map((pe,qe)=>{if(typeof pe=="string"){const ce=/<[a-z][\s\S]*>/i.test(pe);return s.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[s.jsxs("span",{className:"text-blue-500 font-medium",children:[qe+1,"."]}),ce?s.jsx("span",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:pe}}):s.jsx("span",{className:"text-gray-700",children:pe})]},`inst-${qe}`)}else if(pe.title)return s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:pe.title}),s.jsx("ol",{className:"space-y-2",children:pe.steps.map((ce,xe)=>{var Qe;if(typeof ce=="string"){const ye=/<[a-z][\s\S]*>/i.test(ce)?s.jsx("span",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:ce}}):s.jsx("span",{className:"text-gray-700",children:ce}),Ge=s.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[s.jsxs("span",{className:"text-blue-500 font-medium",children:[xe+1,"."]}),ye]},`sub-${xe}`);if(pe.title==="Première connexion"){if(xe===0)return[Ge,s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Email"}),m?s.jsxs("div",{className:"flex items-center p-2 text-gray-500 text-sm",children:[s.jsx(Xt,{className:"animate-spin mr-2"})," ","Chargement..."]}):f?s.jsx("p",{className:"text-sm text-red-500",children:f}):s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:S||"Non configuré"}),s.jsx("button",{onClick:()=>S&&navigator.clipboard.writeText(S),className:`text-blue-600 hover:text-blue-800 ml-2 ${S?"":"opacity-50 cursor-not-allowed"}`,title:S?"Copier l'email":"Email non configuré",disabled:!S,children:s.jsx(mr,{})})]})]},"email-box")];if(xe===1)return[Ge,s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Mot de passe"}),m?s.jsxs("div",{className:"flex items-center p-2 text-gray-500 text-sm",children:[s.jsx(Xt,{className:"animate-spin mr-2"})," ","Chargement..."]}):f?s.jsx("p",{className:"text-sm text-red-500",children:f}):s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 select-all",children:_?I?_:"••••••••••••":"Non configuré"}),s.jsx("button",{onClick:()=>_&&h(!I),className:`text-blue-600 hover:text-blue-800 ml-2 ${_?"":"opacity-50 cursor-not-allowed"}`,title:I?"Masquer":"Afficher",disabled:!_,children:I?s.jsx(tn,{}):s.jsx(rn,{})}),s.jsx("button",{onClick:()=>_&&navigator.clipboard.writeText(_),className:`text-blue-600 hover:text-blue-800 ml-2 ${_?"":"opacity-50 cursor-not-allowed"}`,title:_?"Copier le mot de passe":"Mot de passe non configuré",disabled:!_,children:s.jsx(mr,{})})]})]},"pwd-box")]}return Ge}else{if(ce.type==="separator")return s.jsx("div",{className:"flex items-center justify-center my-2",children:s.jsx("span",{className:"font-bold text-gray-700",children:ce.value})},`separator-${xe}`);if(ce.type==="shop_name"||ce.type==="shop_domain")return s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:ce.type==="shop_name"?"Nom de la boutique":"Domaine de la boutique"}),s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:ce.value}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(ce.value),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier",children:s.jsx(mr,{})})]})]},`shop-info-${xe}`);if(ce.type==="account_type"){const ue=j?"vendeur":"mandataire",ye=(w==null?void 0:w[ue])??{};return y?s.jsxs("div",{className:"flex items-center justify-center p-4",children:[s.jsx(Xt,{className:"animate-spin mr-2"}),"Chargement des identifiants..."]}):N?s.jsxs("p",{className:"text-sm text-red-500 mt-2",children:["Erreur: ",N]}):s.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:ce.title}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Email"}),s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:ye.email||"Email non configuré"}),s.jsx("button",{onClick:()=>ye.email&&navigator.clipboard.writeText(ye.email),className:`text-blue-600 hover:text-blue-800 ml-2 ${ye.email?"":"opacity-50 cursor-not-allowed"}`,title:ye.email?"Copier l'email":"Email non configuré",children:s.jsx(mr,{})})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Mot de passe"}),s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:ye.password?M?ye.password:"••••••••••••":"Mot de passe non configuré"}),s.jsx("button",{onClick:()=>$(!M),className:`text-blue-600 hover:text-blue-800 ml-2 ${ye.password?"":"opacity-50 cursor-not-allowed"}`,title:M?"Masquer":"Afficher",children:M?s.jsx(tn,{}):s.jsx(rn,{})}),s.jsx("button",{onClick:()=>ye.password&&navigator.clipboard.writeText(ye.password),className:`text-blue-600 hover:text-blue-800 ml-2 ${ye.password?"":"opacity-50 cursor-not-allowed"}`,title:ye.password?"Copier le mot de passe":"Mot de passe non configuré",children:s.jsx(mr,{})})]})]}),(!ye.email||!ye.password)&&s.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Les identifiants PayPal ne sont pas configurés. Veuillez contacter l'administrateur."})]})]},`account-${xe}`)}else{if(ce.type==="checkbox_group")return s.jsx("div",{className:"mt-4 bg-gray-100 p-3 rounded-lg border",children:ce.items.map((ue,ye)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",readOnly:!0,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{className:"ml-2 text-sm text-gray-800",children:ue})]},ye))},`checkbox-group-${xe}`);if(ce.type==="file_download")return s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-2",dangerouslySetInnerHTML:{__html:ce.label}}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Sélectionnez :"," ",s.jsxs("span",{className:"font-semibold text-gray-800",children:['"',ce.select,'"']})]}),s.jsxs("a",{href:`/api/internal/files/download/${encodeURIComponent(ce.file)}`,download:!0,className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(v4,{className:"mr-2"}),ce.buttonText]})]},`file-download-${xe}`);if(ce.type==="iban"){const ue=j?"vendeur":"mandataire",ye=(Qe=w==null?void 0:w[ue])==null?void 0:Qe.iban;return s.jsxs("div",{className:"mt-4",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:["IBAN (",j?"Vendeur":"Mandataire",")"]}),s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:ye||"IBAN non configuré"}),s.jsx("button",{onClick:()=>ye&&navigator.clipboard.writeText(ye),className:`text-blue-600 hover:text-blue-800 ml-2 ${ye?"":"opacity-50 cursor-not-allowed"}`,title:ye?"Copier l'IBAN":"IBAN non configuré",children:s.jsx(mr,{})})]}),!ye&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Veuillez configurer l'IBAN dans le fichier .env du backend."})]},`iban-${xe}`)}else{if(ce.type==="phone_number")return s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:ce.label}),s.jsx("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:s.jsx("span",{className:"flex-1 text-sm text-gray-800",children:ce.value})})]},`phone-${xe}`);if(ce.type==="copy_data")return s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:ce.label}),s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:ce.value}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(ce.value),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier",children:s.jsx(mr,{})})]})]},`copy-data-${xe}`);if(ce.type==="shop_prefix"){const ue=(ce.value||"").toUpperCase();return s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:ce.label}),s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"text-gray-500 mr-1",children:"#"}),s.jsx("span",{className:"flex-1 text-sm text-gray-800 font-mono",children:ue}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(ue),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier le nom en majuscules",children:s.jsx(mr,{})})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Cliquez sur l'icône de copie pour copier uniquement le nom en majuscules (sans le #)"})]},`shop-prefix-${xe}`)}else if(ce.type==="env_data"){const ue=z==null?void 0:z[ce.envKey];return s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:ce.label}),s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:ue||"Non configuré"}),s.jsx("button",{onClick:()=>ue&&navigator.clipboard.writeText(ue),className:`text-blue-600 hover:text-blue-800 ml-2 ${ue?"":"opacity-50 cursor-not-allowed"}`,title:ue?"Copier la donnée":"Donnée non configurée",children:s.jsx(mr,{})})]})]},`env-data-${xe}`)}else{if(ce.type==="form_section")return s.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:ce.title}),s.jsx("div",{className:"space-y-2",children:ce.fields.map((ue,ye)=>s.jsxs("div",{className:"flex items-center",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 mr-2",children:[ue.label,":"]}),s.jsx("div",{className:"flex-1",children:ue.type==="copy_data"?s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:ue.value}),s.jsx("button",{onClick:()=>ue.value&&navigator.clipboard.writeText(ue.value),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier",children:s.jsx(mr,{})})]}):ue.type==="env_data"?s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:(z==null?void 0:z[ue.envKey])||"Non configuré"}),s.jsx("button",{onClick:()=>(z==null?void 0:z[ue.envKey])&&navigator.clipboard.writeText(z[ue.envKey]),className:`text-blue-600 hover:text-blue-800 ml-2 ${z!=null&&z[ue.envKey]?"":"opacity-50 cursor-not-allowed"}`,title:z!=null&&z[ue.envKey]?"Copier la donnée":"Donnée non configurée",children:s.jsx(mr,{})})]}):null})]},`field-${ye}`))})]},`form-section-${xe}`);if(ce.type==="image")return s.jsx("div",{className:"mt-4",children:s.jsx("img",{src:ce.src,alt:ce.alt,className:"w-12 h-12 object-contain rounded-md"})},`image-${xe}`);if(ce.type==="notice"){const ue={warning:"bg-yellow-50 border-yellow-300 text-yellow-800",critical:"bg-red-100 border-red-400 text-red-900"};return s.jsx("div",{className:`mt-4 p-3 border rounded-lg ${ue[ce.level]||ue.warning}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yl,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"font-bold text-sm ml-2",children:ce.text})]})},`notice-${xe}`)}else{if(ce.type==="api_scopes")return s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 border rounded-lg",children:[s.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:"Autorisations requises :"}),s.jsx("div",{className:"space-y-2",children:ce.scopes.map(ue=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:`checkbox-${ue.id}`,checked:M1[ue.id],onChange:ye=>L1(ue.id,ye.target.checked),className:"h-4 w-4 mt-1 border-gray-300 rounded text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:`checkbox-${ue.id}`,className:"font-mono bg-gray-200 px-1 rounded cursor-pointer",children:ue.label}),s.jsx("p",{className:"text-gray-600",children:ue.description})]})]},ue.id))})]},`api-scopes-${xe}`);if(ce.type==="api_credentials_form")return s.jsxs("div",{className:"mt-4 p-4 bg-white border rounded-lg space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700",children:"Jeton d'accès à l'API Admin"}),s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Cliquez sur `Révéler le jeton une seule fois`, puis copiez la valeur ici."}),s.jsx("input",{type:"text",id:"accessToken",value:X,onChange:ue=>R(ue.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Clé API"}),s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Faites défiler vers le bas et copiez la `Clé API` ici."}),s.jsx("input",{type:"text",id:"apiKey",value:O,onChange:ue=>q(ue.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"apiSecret",className:"block text-sm font-medium text-gray-700",children:"Clé secrète de l'API"}),s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Copiez la `Clé secrète de l'API` ici."}),s.jsx("input",{type:"text",id:"apiSecret",value:Y,onChange:ue=>K(ue.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"adminUrl",className:"block text-sm font-medium text-gray-700",children:"URL d'administration de la boutique"}),s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Copiez l'URL de votre tableau de bord admin (ex: https://votre-boutique.myshopify.com/admin)"}),s.jsx("input",{type:"url",id:"adminUrl",value:H,onChange:ue=>Q(ue.target.value),placeholder:"https://votre-boutique.myshopify.com/admin",className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{className:"pt-2",children:[s.jsxs("button",{onClick:R1,disabled:G||L,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${L?"bg-green-600":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50`,children:[G&&s.jsx(Xt,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),L?"Clés enregistrées avec succès !":"Valider les clés API"]}),B&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:B})]})]},`api-creds-form-${xe}`);if(ce.type==="final_step_content")return Dn.length,s.jsxs("div",{className:"mt-4 p-4 bg-white border rounded-lg space-y-4",children:[ce.isVendeur?s.jsxs("div",{children:[s.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:"Pour les Vendeurs (Génération Automatisée)"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"En cliquant sur le bouton ci-dessous, le système générera automatiquement les documents légaux (CGV, Mentions Légales, Politiques) et appliquera les éléments graphiques (bannières, logos) au thème de la boutique."})]}):s.jsxs("div",{children:[s.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:"Pour les Mandataires (Action Manuelle Requise)"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Les documents tels que les CGV, Mentions Légales et Politiques de confidentialité doivent être fournis par le client. Notre automatisation ne peut donc pas les générer."}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Cependant, le bouton ci-dessous créera et poussera le thème Dawn avec tous les éléments graphiques nécessaires comme les bannières et les logos personnalisés."})]}),s.jsx("div",{className:"pt-2",children:s.jsxs("button",{onClick:z1,disabled:me,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${me?"bg-gray-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:[me&&s.jsx(Xt,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),me?"Création du thème Dawn en cours...":"Créer et Pousser le Thème Dawn"]})})]},`final-step-${xe}`)}}}}}return null})})]},`path-${qe}`);return null})})]})]}),s.jsx("div",{className:"space-y-3 mt-6",children:s.jsxs("div",{className:"flex space-x-3",children:[n>1&&s.jsxs("button",{onClick:A1,className:"flex-1 py-2 px-4 bg-gray-600 text-white rounded-md text-sm font-medium hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Hl,{className:"transform rotate-180",size:12}),s.jsx("span",{children:"Étape précédente"})]}),n<Dn.length?s.jsxs("button",{onClick:I1,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[s.jsx("span",{children:"Étape suivante"}),s.jsx(Hl,{size:12})]}):!ne&&s.jsxs("button",{onClick:B1,disabled:me,className:`flex-1 py-2 px-4 rounded-md text-sm font-medium flex items-center justify-center space-x-2 ${me?"bg-gray-400 text-white":"bg-green-600 text-white hover:bg-green-700"} transition-colors`,children:[me&&s.jsx(Xt,{className:"animate-spin -ml-1 mr-3 h-4 w-4"}),s.jsx("span",{children:me?"Finalisation...":"Finaliser"})]})]})})]}),s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 bg-gray-50",children:ne?s.jsxs("div",{className:"text-center max-w-md space-y-4",children:[s.jsx(ot,{className:"text-green-500 mx-auto",size:48}),s.jsx("h4",{className:"text-xl font-semibold text-green-800",children:"Paramétrage Terminé !"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Toutes les étapes de configuration pour la boutique"," ",s.jsx("strong",{children:r==null?void 0:r.name})," ont été complétées. Vous pouvez maintenant fermer cet assistant."]}),s.jsx("button",{onClick:F1,className:"px-6 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 transition-colors",children:"Fermer l'assistant"})]}):s.jsxs("div",{className:"text-center max-w-md space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-2 mb-6 bg-yellow-50 p-4 rounded-md",children:[s.jsx(ir,{className:"text-yellow-600 mt-0.5 flex-shrink-0",size:16}),s.jsxs("p",{className:"text-sm text-yellow-800 text-left",children:[s.jsx("strong",{children:"Important :"})," Suivez les étapes dans l'ordre et utilisez la page Shopify ouverte dans le nouvel onglet pour effectuer les actions demandées."]})]}),s.jsx("h4",{className:"text-xl font-semibold text-blue-800",children:"Page Shopify ouverte dans un nouvel onglet"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Nous avons automatiquement ouvert la page de connexion Shopify (recherche de boutique) dans un nouvel onglet. Utilisez-la pour suivre les instructions de cette fenêtre."}),s.jsx("p",{className:"text-sm text-gray-700",children:"Cliquez sur le bouton ci-dessous pour ouvrir la page de connexion Shopify, puis votre interface d'administration dans de nouveaux onglets."}),s.jsx("button",{onClick:O1,disabled:l,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l?"bg-green-600 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?"Page Shopify ouverte":"Ouvrir la page Shopify"})]})})]}),s.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-between items-center",children:s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Progression:"})," ",o.size,"/",Dn.length," étapes terminées"]})})]}),Ve.open&&s.jsx(Fa,{open:Ve.open,title:Ve.title,message:Ve.message,type:Ve.type,onClose:Ve.onClose,onConfirm:Ve.onConfirm,confirmText:Ve.confirmText,cancelText:Ve.cancelText})]})},s_=({isOpen:e,onClose:t,shop:r,onSuccess:n})=>{var K,X,R,H;const[a,o]=x.useState(1),[i,l]=x.useState(new Set),[c,u]=x.useState(!1),[d,m]=x.useState(null),[p,f]=x.useState(!0),[g,w]=x.useState(null),[v,y]=x.useState(!1),[b,N]=x.useState(""),[C,T]=x.useState(!1),[j,S]=x.useState(null),[_,I]=x.useState(!1),[h,M]=x.useState(!1),[$,z]=x.useState(!1),[U,A]=x.useState(null);d!=null&&d.email,d!=null&&d.password,x.useEffect(()=>{e||(o(1),l(new Set),M(!1),u(!1),N(""),S(null),I(!1),T(!1),m(null),f(!1),w(null),z(!1),A(null))},[e]),x.useEffect(()=>{e&&(async()=>{var G;try{f(!0),w(null);const ee=await fetch("/api/internal/config/shopify-partner-credentials"),B=(G=ee.headers.get("content-type"))==null?void 0:G.includes("application/json");let V=null;if(B?V=await ee.json():V=await ee.text(),!ee.ok){const L=B&&V&&V.message?V.message:V;throw new Error(L||"Failed to fetch partner credentials")}if(B&&(V!=null&&V.credentials))m(V.credentials);else throw new Error("Invalid credentials format")}catch(ee){w(ee.message)}finally{f(!1)}})()},[e]);const P=()=>{q(a),a<O.length?o(a+1):M(!0)},E=()=>{a>1&&o(a-1)},k=()=>{window.open("https://accounts.shopify.com/store-login","_blank"),u(!0)},D=async()=>{T(!0),S(null),I(!1);try{if(!b.trim())throw new Error("L'URL d'administration est requise.");const Q=b.match(/^https:\/\/(.*?)\.myshopify\.com/)||b.match(/^https:\/\/admin\.shopify\.com\/store\/(.*?)(?:\?|\/|$)/);if(!Q)throw new Error("Format d'URL invalide. Utilisez un format comme https://votre-boutique.myshopify.com/admin");const G=Q[1],ee=await fetch(`/api/internal/shops/${r._id}/save-domain`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shopifyDomain:G,adminUrl:b.trim()})}),B=await ee.json();if(!ee.ok)throw new Error(B.message||"Failed to save domain.");I(!0)}catch(Q){S(Q.message)}finally{T(!1)}},F=async()=>{var Q;z(!0),A(null);try{const G=await fetch(`/api/internal/shops/${encodeURIComponent(r._id)}/mark-shopify-created`,{method:"PUT"}),ee=(Q=G.headers.get("content-type"))==null?void 0:Q.includes("application/json"),B=ee?await G.json():await G.text();if(!G.ok){const V=ee?B.message:B;throw new Error(V||"Échec de la finalisation.")}q(O.length),M(!0),n&&n()}catch(G){A(G.message)}finally{z(!1)}},O=x.useMemo(()=>[{id:1,title:"Connexion",description:"Connexion à votre compte Shopify",instructions:[{title:"Première connexion",steps:["Saisissez l'adresse e-mail ci-dessous puis cliquez sur 'Continuer avec un e-mail'","Saisissez le mot de passe ci-dessous puis cliquez sur 'Se connecter'","Si un code 2FA est demandé, ouvrez votre application d'authentification ou vos SMS, saisissez le code et cliquez sur 'Connexion'","Vous accéderez alors au tableau de bord administrateur"]},{title:"Connexion avec compte existant",steps:[`Si la page 'Choisir un compte' s'affiche, sélectionnez le compte '<span class="font-bold">Boris Ducteil</span>'`,"OU vous serez directement redirigé vers le tableau de bord administrateur"]}]},{id:2,title:"Accès à la création de boutique",description:"Navigation vers l'interface de création",instructions:["Une fois sur le tableau de bord Shopify, cliquez sur l'icône en forme de boutique dans le coin supérieur droit avec le nom de la boutique actuelle",`Dans le menu déroulant qui apparaît, sélectionnez '<span class="font-bold">Toutes les boutiques</span>'`,"Un nouvel onglet s'ouvrira avec la liste de toutes vos boutiques"]},{id:3,title:"Création de la nouvelle boutique",description:"Étapes de création de la boutique",instructions:[`Dans le nouvel onglet, cliquez sur le bouton noir '<span class="font-bold">+ Créer une boutique</span>'`,{title:"Configuration de la boutique - Étape 1",steps:[`Question : '<span class="font-bold">Sur quels canaux souhaitez‑vous vendre ?</span>'`,`Réponse : Sélectionnez '<span class="font-bold">Une boutique en ligne</span>'`,`Cliquez sur '<span class="font-bold">Suivant</span>'`]},{title:"Configuration de la boutique - Étape 2",steps:[`Question : '<span class="font-bold">Cette boutique est-elle destinée à une nouvelle entreprise ou à une entreprise existante ?</span>'`,`Réponse : Sélectionnez '<span class="font-bold">Entreprise existante</span>'`,`Cliquez sur '<span class="font-bold">Suivant</span>'`]},{title:"Configuration de la boutique - Étape 3",steps:[`Question : '<span class="font-bold">Quelle est la taille de votre entreprise ?</span>'`,`Réponse : Sélectionnez '<span class="font-bold">Petite</span>'`,`Cliquez sur '<span class="font-bold">Suivant</span>'`]},{title:"Configuration de la boutique - Étape 4",steps:[`Question : '<span class="font-bold">Vendez-vous actuellement sur d'autres plateformes ?</span>'`,`Réponse : Sélectionnez '<span class="font-bold">Non, je n'utilise aucune plateforme</span>'`,`Cliquez sur '<span class="font-bold">Suivant</span>'`]},{title:"Configuration de la boutique - Étape 5",steps:[`Question : '<span class="font-bold">Que prévoyez-vous de vendre ?</span>'`,`Réponse : Sélectionnez '<span class="font-bold">Produits que j'achète ou fabrique moi-même</span>'`,`Cliquez sur '<span class="font-bold">Suivant</span>'`]},{title:"Configuration de l'abonnement",steps:[`Page : '<span class="font-bold">Commencez gratuitement. Continuez pour 1 €.</span>'`,`Cliquez sur '<span class="font-bold">Passer, je déciderai plus tard</span>'`]}]},{id:4,title:"Configuration du nom de la boutique",description:"Personnalisation des paramètres de la boutique",instructions:["Vous êtes maintenant dans le tableau de bord de la nouvelle boutique",`Dans la barre latérale gauche, cliquez sur '<span class="font-bold">Paramètres</span>'`,{title:"Modification du nom de la boutique",steps:[`Dans la section '<span class="font-bold">Détails de la boutique</span>', placez votre souris sur '<span class="font-bold">Ma boutique</span>' et cliquez sur l'icône crayon qui apparaît`,`Dans le champ '<span class="font-bold">Nom de la boutique</span>', saisissez :`,{type:"shop_name_copy",label:"Nom de la boutique",value:(r==null?void 0:r.nomProjet)||(r==null?void 0:r.name)||"Nom du projet"},`Cliquez sur le bouton noir '<span class="font-bold">Enregistrer</span>'`,"Cliquez sur la croix en haut à droite pour fermer la modal"]}]},{id:5,title:"Récupération de l'URL d'administration",description:"Configuration finale de la boutique",instructions:["Une fois de retour dans le tableau de bord, copiez l'URL d'administration de la boutique depuis la barre d'adresse du navigateur",`L'URL devrait ressembler à : '<span class="font-bold">https://votre-boutique.myshopify.com/admin</span>' ou '<span class="font-bold">https://admin.shopify.com/store/votre-boutique</span>'`,{title:"Saisie de l'URL d'administration",steps:[{type:"admin_url_form",instruction:"Collez l'URL d'administration de votre nouvelle boutique ci-dessous :"}]}]}],[r]),q=Q=>{l(G=>new Set(G).add(Q))},Y=()=>O.find(Q=>Q.id===a);return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Assistant de Création de Boutique Shopify"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Boutique:"," ",s.jsx("span",{className:"font-semibold",children:r.nomProjet||r.name})]})]}),s.jsx("button",{onClick:()=>{u(!1),t()},className:"text-gray-500 hover:text-gray-800 transition-colors p-2 rounded-full hover:bg-gray-100",children:s.jsx(an,{size:24})})]}),s.jsxs("div",{className:"flex-grow flex min-h-0",children:[s.jsxs("div",{className:"w-1/2 bg-gray-50 border-r p-6 overflow-y-auto flex-shrink-0",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Progression"}),s.jsx("div",{className:"space-y-2",children:O.map(Q=>s.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded-md ${a===Q.id?"bg-blue-100 border border-blue-200":i.has(Q.id)?"bg-green-50":""}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm ${i.has(Q.id)?"bg-green-500 text-white":a===Q.id?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:i.has(Q.id)?s.jsx(ot,{size:12}):Q.id}),s.jsx("span",{className:`text-sm ${a===Q.id?"font-semibold":""}`,children:Q.title})]},Q.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Étape ",a,": ",(K=Y())==null?void 0:K.title]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:(X=Y())==null?void 0:X.description}),s.jsx("div",{className:"space-y-4",children:(H=(R=Y())==null?void 0:R.instructions)==null?void 0:H.map((Q,G)=>{var ee;return typeof Q=="string"?s.jsx("div",{className:"text-sm text-gray-700",dangerouslySetInnerHTML:{__html:Q}},G):Q.title?s.jsxs("div",{className:"border-l-4 border-blue-400 pl-4",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:Q.title}),s.jsx("div",{className:"space-y-2",children:(ee=Q.steps)==null?void 0:ee.map((B,V)=>typeof B=="string"?s.jsx("div",{className:"text-sm text-gray-700",dangerouslySetInnerHTML:{__html:B}},V):B.type==="shop_name_copy"?s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:B.label}),s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-800 break-all",children:B.value}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(B.value),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier",children:s.jsx(mr,{})})]})]},`shop-name-${V}`):B.type==="admin_url_form"?s.jsxs("div",{className:"mt-4 p-4 bg-white border rounded-lg space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-700",children:B.instruction}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"adminUrl",className:"block text-sm font-medium text-gray-700",children:"URL d'administration de la boutique"}),s.jsx("input",{type:"url",id:"adminUrl",value:b,onChange:L=>N(L.target.value),placeholder:"https://votre-boutique.myshopify.com/admin",className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{onClick:D,disabled:C||_||!b.trim(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${_?"bg-green-600 text-white":C||!b.trim()?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:C?s.jsxs(s.Fragment,{children:[s.jsx(Xt,{className:"animate-spin inline mr-2"}),"Enregistrement..."]}):_?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"inline mr-2"}),"Enregistré"]}):"Enregistrer l'URL"})}),j&&s.jsxs("div",{className:"text-red-600 text-sm mt-2",children:[s.jsx(Yl,{className:"inline mr-1"}),j]}),_&&s.jsxs("div",{className:"text-green-600 text-sm mt-2",children:[s.jsx(ot,{className:"inline mr-1"}),"URL d'administration enregistrée avec succès"]})]},`admin-url-form-${V}`):null)})]},G):null})})]}),s.jsxs("div",{className:"space-y-3 mt-6",children:[s.jsxs("div",{className:"flex space-x-3",children:[a>1&&s.jsxs("button",{onClick:E,className:"flex-1 py-2 px-4 bg-gray-600 text-white rounded-md text-sm font-medium hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Hl,{className:"transform rotate-180",size:12}),s.jsx("span",{children:"Étape précédente"})]}),a<O.length?s.jsxs("button",{onClick:P,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[s.jsx("span",{children:"Étape suivante"}),s.jsx(Hl,{size:12})]}):!h&&s.jsxs("button",{onClick:F,disabled:$||!_,className:`flex-1 py-2 px-4 rounded-md text-sm font-medium flex items-center justify-center space-x-2 ${$||!_?"bg-gray-400 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"} transition-colors`,children:[$&&s.jsx(Xt,{className:"animate-spin -ml-1 mr-3 h-4 w-4"}),s.jsx("span",{children:$?"Finalisation...":"Finaliser la création"})]})]}),U&&s.jsxs("div",{className:"text-red-600 text-sm",children:[s.jsx(Yl,{className:"inline mr-1"}),U]})]})]}),s.jsx("div",{className:"w-1/2 p-6 flex items-center justify-center",children:h?s.jsxs("div",{className:"text-center max-w-md space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(ot,{className:"text-green-600",size:32})}),s.jsx("h4",{className:"text-xl font-semibold text-green-800",children:"Boutique créée avec succès !"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Votre boutique Shopify"," ",s.jsx("strong",{children:r.nomProjet||r.name})," a été créée et configurée avec succès. Vous pouvez maintenant commencer à ajouter vos produits et configurer votre boutique."]}),s.jsx("button",{onClick:t,className:"px-6 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 transition-colors",children:"Terminer"})]}):s.jsxs("div",{className:"text-center max-w-md space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-2 mb-6 bg-yellow-50 p-4 rounded-md",children:[s.jsx(ir,{className:"text-yellow-600 mt-0.5 flex-shrink-0",size:16}),s.jsxs("p",{className:"text-sm text-yellow-800 text-left",children:[s.jsx("strong",{children:"Important :"})," Suivez les étapes dans l'ordre et utilisez la page Shopify ouverte dans le nouvel onglet pour effectuer les actions demandées."]})]}),s.jsx("h4",{className:"text-xl font-semibold text-blue-800",children:"Création de boutique Shopify"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Nous allons vous guider à travers le processus de création d'une nouvelle boutique Shopify. Utilisez les instructions à gauche pour suivre les étapes."}),s.jsx("p",{className:"text-sm text-gray-700",children:"Cliquez sur le bouton ci-dessous pour ouvrir la page de connexion Shopify dans un nouvel onglet."}),s.jsx("button",{onClick:k,disabled:c,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${c?"bg-green-600 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c?"Page Shopify ouverte":"Ouvrir la page Shopify"})]})})]})]})})},a_=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,o]=x.useState(""),[i,l]=x.useState(null),[c,u]=x.useState(null),[d,m]=x.useState(0),[p,f]=x.useState({open:!1}),[g,w]=x.useState(""),[v,y]=x.useState(null),[b,N]=x.useState(!1),[C,T]=x.useState(""),j=x.useRef(""),[S,_]=x.useState(!1),[I,h]=x.useState(null),[M,$]=x.useState(!1),[z,U]=x.useState(null),[A,P]=x.useState(!1),[E,k]=x.useState(null),D=10*60*1e3;x.useEffect(()=>{if(!c)return;const L=te=>{te.data&&te.data.type==="form_submitted"?(console.log("Form submitted in iframe, refreshing content..."),setTimeout(()=>{m(ne=>ne+1)},1e3)):te.data&&te.data.type==="captcha_completed"&&(console.log("CAPTCHA completed, refreshing content..."),setTimeout(()=>{m(ne=>ne+1)},500))};return window.addEventListener("message",L),()=>{window.removeEventListener("message",L)}},[c]),x.useEffect(()=>{const L=localStorage.getItem("shopifyGeneratingFor");L&&fetch(`/api/shopify/status/${L}`).then(ne=>ne.json()).then(ne=>{ne.running?l(L):(localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopifyGenStart"),localStorage.removeItem("shopify2FASession"))}).catch(ne=>{console.error("Failed to check status:",ne),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopifyGenStart"),localStorage.removeItem("shopify2FASession")});const te=localStorage.getItem("shopify2FASession");te&&ee(te)},[]),x.useEffect(()=>{if(!i)return;const L=e.find(te=>te._id===i);L&&L.hasShopify&&(l(null),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopify2FASession"))},[e,i]),x.useEffect(()=>{if(!i)return;const L=setInterval(()=>{const te=parseInt(localStorage.getItem("shopifyGenStart")||"0",10);te&&Date.now()-te>D&&(l(null),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopifyGenStart"),localStorage.removeItem("shopify2FASession"),f({open:!0,type:"error",title:"Temps écoulé",message:"La tentative de connexion à Shopify a expiré. Veuillez réessayer.",onClose:()=>f({open:!1})}))},3e4);return()=>clearInterval(L)},[i]);const F=async()=>{try{n(!0);const L=await fetch("/api/customer/all?details=true",{headers:{"Cache-Control":"no-cache"},credentials:"include"});if(!L.ok)throw new Error("Erreur lors de la récupération des boutiques");const ne=((await L.json()).customers||[]).reduce((le,me)=>{if(me.status==="active"&&Array.isArray(me.shops)){const be=me.shops.map(je=>{var dt;return{_id:je.shopId||je._id||je.id,name:je.nomProjet||je.shopName||je.name||"-",clientName:me.raisonSociale||me.name,clientId:((dt=me._id)==null?void 0:dt.toString())||me.id,Payement:me.Payement,isValidated:je.status==="valid",isDocumented:je.documented==="documented"||je.documented===!0,hasShopify:je.hasShopify===!0||je.shopifyConfigured===!0,isParametrized:je.isParametrized===!0||je.shopifyParametrized===!0||je.isParametrized==="true"||je.isParametrized===1,parametrizationError:je.shopifyParametrizationError,shopifyDomain:je.shopifyDomain,moduleMondialRelay:je.moduleMondialRelay,raw:je}});return[...le,...be]}return le},[]);return t(ne),o(null),ne}catch(L){return console.error("Erreur:",L),o("Une erreur est survenue lors du chargement des boutiques."),[]}finally{n(!1)}};x.useEffect(()=>{F()},[]);const O=async()=>{if(c!=null&&c.sessionId)try{const L=await fetch(`/api/shopify/captcha/${c.sessionId}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(L.status===202){const te=await L.json();u(null),f({open:!1}),ee(te.sessionId);return}if(!L.ok){const te=await L.json().catch(()=>({}));throw new Error(te.error||"Erreur lors de la continuation après CAPTCHA")}u(null),f({open:!1}),await F(),l(null),N(!1),f({open:!0,type:"success",title:"Boutique générée",message:"La boutique Shopify a été créée avec succès après résolution du CAPTCHA.",onClose:()=>f({open:!1})})}catch(L){console.error("Erreur:",L),f({open:!0,type:"error",title:"Erreur",message:L.message||"Une erreur est survenue lors de la continuation.",onClose:()=>{f({open:!1}),u(null)}})}finally{l(null),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopifyGenStart")}},q=L=>{U(L),$(!0)},Y=L=>{k(L),P(!0)},K=async()=>{if(E)try{const L=await fetch(`/api/internal/shopify/shop/${E._id}/unparametrize`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include"});if(!L.ok){const te=await L.json();throw new Error(te.error||"Failed to unparametrize shop")}await F(),f({open:!0,type:"success",title:"Boutique désparamétrée",message:"La boutique a été désparamétrée avec succès.",onClose:()=>f({open:!1})})}catch(L){console.error("Error unparametrizing shop:",L),f({open:!0,type:"error",title:"Erreur",message:`Erreur lors de la désparametrisation: ${L.message}`,onClose:()=>f({open:!1})})}finally{P(!1),k(null)}},X=async()=>{await F(),f({open:!0,type:"success",title:"Configuration terminée",message:"La boutique Shopify a été configurée avec succès!",onClose:()=>f({open:!1})})},R=async L=>{console.log("[ShopifyConfig] Marquage hasShopify=true pour",L._id);try{if(!(await fetch(`/api/internal/clients/${L.clientId}/shops/${L._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hasShopify:!0})})).ok)throw new Error("Erreur lors de la mise à jour");await F(),console.log("[ShopifyConfig] Marquage terminé pour",L._id)}catch(te){console.error("Erreur:",te),o("Impossible de mettre à jour le statut Shopify pour cette boutique.")}},H=async L=>{console.log("[ShopifyConfig] Marquage hasShopify=false pour",L._id);try{if(!(await fetch(`/api/internal/clients/${L.clientId}/shops/${L._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hasShopify:!1})})).ok)throw new Error("Erreur lors de la mise à jour");await F(),console.log("[ShopifyConfig] Marquage terminé pour",L._id)}catch(te){console.error("Erreur:",te),o("Impossible de mettre à jour le statut Shopify pour cette boutique.")}},Q=async L=>{console.log("[ShopifyConfig] handleParametrizeShop called with shop:",L),console.log("[ShopifyConfig] shop.moduleMondialRelay:",L==null?void 0:L.moduleMondialRelay),h(L),_(!0)},G=async L=>{try{await fetch(`/api/shopify/cancel/${L}`,{method:"POST"})}catch(te){console.error("Error canceling process:",te)}finally{f({open:!1}),w(""),y(null),l(null),N(!1),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopify2FASession"),localStorage.removeItem("shopifyGenStart")}},ee=L=>{y(L),w(""),f({open:!0,type:"confirmation",title:"Code d'authentification",message:s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:s.jsxs("p",{className:"text-yellow-700 text-sm",children:[s.jsx("strong",{children:"⚠️ Attention :"})," Cette étape ne doit pas échouer. Assurez-vous de saisir le bon code car un échec pourrait bloquer l'outil de génération de boutique pendant 30 minutes à 1 heure."]})}),s.jsx("p",{children:"Veuillez entrer le code à 6 chiffres généré par votre application d'authentification."}),s.jsx("input",{type:"text",maxLength:"6",onChange:te=>{const ne=te.target.value.replace(/\D/g,"");j.current=ne,w(ne)},className:"mt-4 w-full border rounded p-2 text-center tracking-widest",placeholder:"123456"})]}),onClose:()=>G(L),onConfirm:()=>B(L,j.current),cancelText:"❌ Annuler et fermer le navigateur",confirmText:"✅ Valider"})},B=async(L,te)=>{try{f({open:!1}),N(!0),l(L);const ne=await fetch(`/api/shopify/2fa/${L}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:te})});if(ne.status===203){console.log("[2FA] CAPTCHA required after 2FA code submission");const le=await ne.json(),{sessionId:me,captchaUrl:be,message:je}=le;u({sessionId:me,captchaUrl:be}),f({open:!1}),N(!1),console.log("[2FA] CAPTCHA modal will show for post-2FA verification");return}if(!ne.ok){const le=await ne.json().catch(()=>({}));l(null),N(!1),console.log("[2FA] Response error:",ne.status,le),f({open:!0,type:"confirmation",title:"❌ Code d'authentification incorrect",message:s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-400 rounded",children:s.jsxs("p",{className:"text-red-700 text-sm",children:[s.jsx("strong",{children:"Code incorrect!"})," Veuillez vérifier votre application d'authentification et entrer le bon code."]})}),s.jsx("p",{className:"mb-4",children:"Veuillez entrer le code à 6 chiffres généré par votre application d'authentification."}),s.jsx("input",{type:"text",maxLength:"6",onChange:me=>{const be=me.target.value.replace(/\D/g,"");j.current=be,w(be)},className:"mt-4 w-full border rounded p-2 text-center tracking-widest",placeholder:"123456",autoFocus:!0})]}),onClose:()=>G(L),onConfirm:()=>B(L,j.current),cancelText:"❌ Annuler et fermer le navigateur",confirmText:"✅ Valider"});return}await F(),l(null),N(!1),f({open:!0,type:"success",title:"🎉 Boutique créée avec succès !",message:"Félicitations ! Votre boutique Shopify a été créée et configurée automatiquement. Elle est maintenant prête à être utilisée.",onClose:()=>f({open:!1})}),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopify2FASession"),localStorage.removeItem("shopifyGenStart")}catch(ne){console.error(ne),l(null),N(!1);const le=ne.message&&(ne.message.includes("Code incorrect")||ne.message.includes("code")||ne.message.includes("authentification"));f(le?{open:!0,type:"confirmation",title:"❌ Erreur de validation",message:s.jsxs("div",{children:[s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-400 rounded",children:s.jsxs("p",{className:"text-red-700 text-sm",children:[s.jsx("strong",{children:"Erreur!"})," ",ne.message||"Une erreur est survenue lors de la validation du code."]})}),s.jsx("p",{className:"mb-4",children:"Veuillez entrer le code à 6 chiffres généré par votre application d'authentification."}),s.jsx("input",{type:"text",maxLength:"6",onChange:me=>{const be=me.target.value.replace(/\D/g,"");j.current=be,w(be)},className:"mt-4 w-full border rounded p-2 text-center tracking-widest",placeholder:"123456",autoFocus:!0})]}),onClose:()=>G(L),onConfirm:()=>B(L,j.current),cancelText:"❌ Annuler et fermer le navigateur",confirmText:"✅ Valider"}:{open:!0,type:"error",title:"Erreur de génération",message:ne.message||"Une erreur est survenue lors de la génération de la boutique.",onClose:()=>{f({open:!1}),G(L)}})}finally{w("")}},V=L=>{f({open:!0,type:"confirmation",title:"🔑 Ajouter les clés API",message:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:["Pour pouvoir communiquer avec Shopify, vous devez créer une"," ",s.jsx("strong",{children:"application personnalisée"})," (Custom App) dans votre nouvelle boutique puis copier",s.jsx("br",{})," ",s.jsx("code",{className:"bg-gray-100 px-1",children:"API key"})," &"," ",s.jsx("code",{className:"bg-gray-100 px-1",children:"API secret key"})," ci-dessous."]}),s.jsxs("details",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:[s.jsx("summary",{className:"cursor-pointer font-medium text-blue-800",children:"Tutoriel – créer l'app dans Shopify"}),s.jsxs("ol",{className:"list-decimal ml-6 mt-3 space-y-1 text-sm text-blue-700",children:[s.jsxs("li",{children:["Ouvrez l'Admin de la boutique :"," ",s.jsxs("a",{href:`https://${L.shopifyDomain}.myshopify.com/admin`,className:"underline",target:"_blank",rel:"noopener noreferrer",children:[L.shopifyDomain,".myshopify.com/admin"]})]}),s.jsxs("li",{children:["Menu ",s.jsx("strong",{children:"Apps → Develop apps"})]}),s.jsxs("li",{children:["Cliquez ",s.jsx("strong",{children:"Create an app"})," ; donnez-lui par ex. le nom « SNA-Connector »"]}),s.jsxs("li",{children:["Onglet ",s.jsx("strong",{children:"Configuration"})," →"," ",s.jsx("strong",{children:"Admin API integration"})]}),s.jsxs("li",{children:["Activez ",s.jsx("em",{children:"toutes"})," les autorisations disponibles (ou au minimum « Products » en lecture/écriture) puis"," ",s.jsx("strong",{children:"Save"})]}),s.jsxs("li",{children:["Retournez à l'onglet ",s.jsx("strong",{children:"API credentials"})," → Cliquez"," ",s.jsx("strong",{children:"Install app"})," puis confirmez"]}),s.jsxs("li",{children:["Copiez les champs"," ",s.jsx("code",{className:"bg-gray-100 px-1",children:"API key"})," et"," ",s.jsx("code",{className:"bg-gray-100 px-1",children:"API secret key"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"API key :"}),s.jsx("input",{id:"shop-api-key",type:"text",className:"w-full border rounded p-2",placeholder:"ex: 3d2f0d6a0e..."}),s.jsx("label",{className:"block text-sm font-medium mt-3",children:"API secret key :"}),s.jsx("input",{id:"shop-api-secret",type:"text",className:"w-full border rounded p-2",placeholder:"ex: shpss_..."}),s.jsx("label",{className:"block text-sm font-medium mt-3",children:"Access Token :"}),s.jsx("input",{id:"shop-access-token",type:"text",className:"w-full border rounded p-2",placeholder:"ex: shpat_..."})]})]}),onClose:()=>f({open:!1}),onConfirm:async()=>{var me,be,je;const te=(me=document.getElementById("shop-api-key"))==null?void 0:me.value.trim(),ne=(be=document.getElementById("shop-api-secret"))==null?void 0:be.value.trim(),le=(je=document.getElementById("shop-access-token"))==null?void 0:je.value.trim();if(!te||!ne||!le)return alert("Veuillez remplir les trois champs");try{if(!(await fetch(`/api/internal/clients/${L.clientId}/shops/${L._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({"shopifyConfig.apiKey":te,"shopifyConfig.apiSecret":ne,"shopifyConfig.accessToken":le})})).ok)throw new Error("Échec de la sauvegarde");await F(),f({open:!1})}catch(dt){alert(dt.message)}},confirmText:"💾 Enregistrer",cancelText:"Annuler"})};return s.jsxs("div",{className:"space-y-6 p-6 relative",children:[i&&!c&&s.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-white/70 z-40",children:[s.jsx(Xt,{className:"animate-spin h-8 w-8 text-sna-primary mb-4"}),s.jsx("p",{className:"text-sna-primary",children:b?"Ouverture de la boutique…":"Connexion à Shopify…"})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🤖 CAPTCHA - Vérification humaine requise"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Résolvez le CAPTCHA ci-dessous pour continuer."})]}),s.jsx("button",{onClick:()=>{u(null),l(null),N(!1)},className:"text-gray-400 hover:text-gray-600 text-xl font-bold",children:"✕"})]}),s.jsxs("div",{className:"flex-1 p-4",children:[s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Instructions :"}),` Cliquez sur "Activer hCaptcha" pour déclencher le défi, puis résolvez-le directement dans l'aperçu ci-dessous.`]})}),s.jsxs("div",{className:"flex justify-center mb-6",children:[s.jsx("button",{onClick:async()=>{try{const L=await fetch(`/api/shopify/click-captcha/${c.sessionId}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(L.ok){const te=await L.json();console.log("CAPTCHA click result:",te),m(ne=>ne+1),f({open:!0,type:"success",title:"hCaptcha activé",message:"Le défi hCaptcha a été activé. Vous pouvez maintenant le résoudre dans l'aperçu ci-dessous.",onClose:()=>f({open:!1})})}else throw new Error("Échec de l'activation du CAPTCHA")}catch(L){console.error("CAPTCHA click failed:",L),f({open:!0,type:"error",title:"Erreur d'activation",message:"Impossible d'activer le hCaptcha. Essayez le bouton 'Actualiser' puis réessayez.",onClose:()=>f({open:!1})})}},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium mr-4",children:"🎯 Activer hCaptcha"}),s.jsx("button",{onClick:()=>{const L=window.open(`/api/shopify/live/${c.sessionId}?popup=true`,"hcaptcha-popup","width=900,height=700,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=yes,status=no");if(L){L.focus();const te=setInterval(()=>{L.closed&&(clearInterval(te),m(ne=>ne+1))},1e3)}},className:"inline-flex items-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium mr-4",children:"🪟 Ouvrir dans une fenêtre"}),s.jsx("button",{onClick:async()=>{try{const L=await fetch(`/api/shopify/force-refresh/${c.sessionId}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(L.ok){const te=await L.json();console.log("Force refresh result:",te),m(ne=>ne+1),f({open:!0,type:"success",title:"Page actualisée",message:"La page a été actualisée. Essayez maintenant d'activer le hCaptcha.",onClose:()=>f({open:!1})})}else throw new Error("Échec de l'actualisation")}catch(L){console.error("Force refresh failed:",L),f({open:!0,type:"error",title:"Erreur d'actualisation",message:"Impossible d'actualiser la page. Veuillez réessayer.",onClose:()=>f({open:!1})})}},className:"inline-flex items-center px-4 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium mr-4",children:"🔄 Actualiser"}),s.jsx("button",{onClick:async()=>{try{const L=await fetch(`/api/shopify/debug/${c.sessionId}`);if(L.ok){const te=await L.json();console.log("Debug analysis:",te),f({open:!0,type:"confirmation",title:"🔍 Analyse de la page",message:s.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Éléments CAPTCHA trouvés:"}),te.pageAnalysis.captchaElements.length>0?s.jsx("ul",{className:"list-disc pl-5 text-sm",children:te.pageAnalysis.captchaElements.map((ne,le)=>s.jsxs("li",{children:[s.jsx("strong",{children:ne.selector})," -"," ",ne.tagName,ne.visible?" (visible)":" (caché)","- ",ne.rect.width,"×",ne.rect.height,"px"]},le))}):s.jsx("p",{className:"text-red-600",children:"Aucun élément CAPTCHA trouvé!"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Iframes trouvées:"}),te.pageAnalysis.allIframes.length>0?s.jsx("ul",{className:"list-disc pl-5 text-sm",children:te.pageAnalysis.allIframes.map((ne,le)=>s.jsxs("li",{children:[ne.src||"Sans src",ne.visible?" (visible)":" (caché)","- ",ne.rect.width,"×",ne.rect.height,"px"]},le))}):s.jsx("p",{children:"Aucune iframe trouvée"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-bold mb-2",children:"URL de la page:"}),s.jsx("p",{className:"text-sm text-blue-600",children:te.pageAnalysis.url})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Contenu de la page:"}),s.jsx("p",{className:"text-xs bg-gray-100 p-2 rounded",children:te.pageAnalysis.pageText})]})]}),onClose:()=>f({open:!1}),confirmText:"Fermer",onConfirm:()=>f({open:!1})})}else throw new Error("Échec de l'analyse")}catch(L){console.error("Debug failed:",L),f({open:!0,type:"error",title:"Erreur d'analyse",message:"Impossible d'analyser la page. Veuillez réessayer.",onClose:()=>f({open:!1})})}},className:"inline-flex items-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"🔍 Analyser la page"})]}),s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-yellow-700",children:[s.jsx("strong",{children:"Recommandé :"}),` Cliquez d'abord sur "Activer hCaptcha" pour déclencher le défi, puis résolvez-le directement dans l'aperçu. Si le hCaptcha ne se charge pas, utilisez "Actualiser" puis réessayez.`]})}),s.jsxs("div",{className:"border-2 border-gray-300 rounded-lg overflow-hidden bg-gray-50",children:[s.jsx("div",{className:"p-4 bg-gray-100 border-b",children:s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx("div",{className:"text-2xl mr-2",children:"🤖"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"hCaptcha - Résolution en direct"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Une fois activé, résolvez le défi directement ici"})]})]})}),s.jsx("div",{className:"h-96",children:s.jsx("iframe",{src:`/api/shopify/live/${c.sessionId}?t=${d}`,className:"w-full h-full border-0",title:"hCaptcha Live",style:{pointerEvents:"auto",opacity:1}},d)})]}),s.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-3 mt-4",children:s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("strong",{children:"Astuce :"}),' Une fois le hCaptcha résolu avec succès, cliquez sur "Continuer" ci-dessous pour poursuivre la création de la boutique.']})})]}),s.jsxs("div",{className:"p-4 border-t flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>{u(null),l(null),N(!1)},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded hover:bg-gray-300 transition-colors",children:"❌ Annuler"}),s.jsxs("button",{onClick:O,className:"px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700 flex items-center transition-colors",children:[s.jsx(kv,{className:"mr-2"}),"✅ Continuer (CAPTCHA résolu)"]})]})]})}),s.jsx(n_,{isOpen:S,onClose:()=>_(!1),shop:I}),s.jsx(s_,{isOpen:M,onClose:()=>$(!1),shop:z,onSuccess:X}),s.jsx(Fa,{open:p.open,type:p.type,title:p.title,message:p.message,onClose:p.onClose,onConfirm:p.onConfirm}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuration Shopify"}),s.jsx("input",{type:"text",placeholder:"Rechercher une boutique ou un client...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:C,onChange:L=>T(L.target.value)})]}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Co,{className:"h-5 w-5 text-blue-400"})}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-blue-700",children:["Pour pouvoir créer une boutique Shopify, la boutique doit être"," ",s.jsx("span",{className:"font-semibold",children:"validée"})," et"," ",s.jsx("span",{className:"font-semibold",children:"documentée"}),". Assurez-vous que toutes les informations nécessaires sont complétées avant de procéder."]})})]})}),a&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:s.jsx("div",{className:"flex",children:s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-700",children:a})})})}),r?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(Xt,{className:"h-8 w-8 animate-spin text-gray-400"})}):s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("ul",{className:"divide-y divide-gray-200",children:e.filter(L=>{if(!C)return!0;const te=C.toLowerCase();return L.name.toLowerCase().includes(te)||L.clientName.toLowerCase().includes(te)}).map(L=>{var te;return s.jsx("li",{children:s.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:L.name}),s.jsx("p",{className:"text-sm text-gray-500",children:L.clientName})]})}),s.jsx("div",{className:"flex items-center space-x-4",children:L.hasShopify?s.jsxs(s.Fragment,{children:[!L.isParametrized&&s.jsxs("button",{onClick:()=>Q(L),className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors duration-200",children:[s.jsx(y4,{className:"h-4 w-4 mr-2"}),"Paramétrer la boutique"]}),!!L.isParametrized&&s.jsxs("button",{onClick:()=>Y(L),className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-orange-700 bg-orange-50 hover:bg-orange-100 transition-colors duration-200",children:[s.jsx(Dv,{className:"h-4 w-4 mr-2"}),"Désparametriser"]}),s.jsxs("button",{onClick:()=>H(L),className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors duration-200",children:[s.jsx(an,{className:"h-4 w-4 mr-2"}),"Retirer Shopify"]}),!((te=L.shopifyConfig)!=null&&te.apiKey)&&s.jsx("button",{onClick:()=>V(L),className:"ml-2 text-xs text-purple-600 underline",children:"Ajouter clés API"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>R(L),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Le shop a déjà un Shopify"}),s.jsx("button",{onClick:()=>q(L),disabled:i!==null||!L.isValidated||!L.isDocumented,className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${i!==null||!L.isValidated||!L.isDocumented?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i===L._id?s.jsx(Xt,{className:"animate-spin h-4 w-4"}):s.jsxs(s.Fragment,{children:[s.jsx(Co,{className:"mr-2 h-4 w-4"}),"Configurer Shopify"]})})]})})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex space-x-4 flex-wrap",children:[L.hasShopify?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[s.jsx(Co,{className:"h-4 w-4 mr-1"})," Shopify"]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.isValidated?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.isValidated?"Validée":"Non validée"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.isDocumented?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.isDocumented?"Documentée":"Non documentée"})]}),L.hasShopify&&s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.isParametrized?"bg-green-100 text-green-800":L.parametrizationError?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,title:L.parametrizationError||"",children:L.isParametrized?"Paramétrée":L.parametrizationError?"Erreur paramétrage":"Paramétrage en attente"})]})})]})},L._id)})})})]}),A&&E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Confirmer la désparametrisation"}),s.jsx("button",{onClick:()=>{P(!1),k(null)},className:"text-gray-400 hover:text-gray-600",children:s.jsx(an,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:['Êtes-vous sûr de vouloir désparametriser la boutique "',s.jsx("span",{className:"font-medium",children:E.nomProjet||E.projectName}),'" ?']}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:'Cela supprimera toutes les configurations Shopify mais conservera le statut "A un Shopify".'})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{P(!1),k(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Annuler"}),s.jsx("button",{onClick:K,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-md",children:"Désparametriser"})]})]})})]})},o_=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(new Set),[a,o]=x.useState({}),[i,l]=x.useState({}),[c,u]=x.useState(!1),[d,m]=x.useState(null),[p,f]=x.useState(""),[g,w]=x.useState({}),[v,y]=x.useState({open:!1}),[b,N]=x.useState(!1),[C,T]=x.useState(null),[j,S]=x.useState(""),[_,I]=x.useState(!1),h=async()=>{try{const H=await(await fetch("/api/customer/all?details=true")).json(),Q=[];(H.customers||[]).forEach(ee=>{(ee.shops||[]).forEach(B=>{var V;if(B.hasShopify){const L=B.shopifyConfig||{apiKey:B["shopifyConfig.apiKey"],apiSecret:B["shopifyConfig.apiSecret"],accessToken:B["shopifyConfig.accessToken"]};Q.push({...B,shopifyConfig:L,customerName:ee.raisonSociale,clientId:((V=ee._id)==null?void 0:V.toString())||ee.id})}})}),t(Q);const G={};await Promise.all(Q.map(async ee=>{try{const V=await(await fetch(`/api/customer/shop/${ee.shopId}/products`)).json();G[ee.shopId]=(V.products||[]).filter(L=>L.documented===!0)}catch(B){console.error("Preload products error",B),G[ee.shopId]=[]}})),o(G)}catch(R){console.error(R)}};x.useEffect(()=>{h()},[]);const M=async R=>{if(a[R])return;const G=((await(await fetch(`/api/customer/shop/${R}/products`)).json()).products||[]).filter(ee=>ee.documented===!0);o(ee=>({...ee,[R]:G}))},$=async R=>{if(r.has(R)){const H=new Set(r);H.delete(R),n(H)}else await M(R),n(new Set(r).add(R)),w(H=>({...H,[R]:""}))},z=(R,H)=>{const Q=`${R}-${H}`;l(G=>{const ee={...G};return ee[Q]?delete ee[Q]:ee[Q]={shopId:R,productId:H},ee})},U=R=>{const H=(a[R]||[]).filter(G=>(G.titre||"").toLowerCase().includes((g[R]||"").toLowerCase())),Q=H.every(G=>{const ee=`${R}-${G.productId}`;return!!i[ee]});l(G=>{const ee={...G};return Q?H.forEach(B=>{const V=`${R}-${B.productId}`;delete ee[V]}):H.forEach(B=>{const V=`${R}-${B.productId}`;ee[V]={shopId:R,productId:B.productId}}),ee})},A=R=>{y({open:!0,type:"confirmation",title:"Ajouter les clés API",message:s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("p",{children:["Cette boutique n'a pas encore de clés API Shopify enregistrées. Suivez les étapes ci-dessous pour créer une"," ",s.jsx("strong",{children:"application personnalisée"})," et récupérer les clés :"]}),s.jsx("div",{className:"bg-gray-50 border p-3 rounded",children:s.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[s.jsxs("li",{children:["Connectez-vous à l'Admin de la boutique : ",s.jsx("br",{}),s.jsxs("a",{href:`https://${R.shopifyDomain||R.myshopify_domain}.myshopify.com/admin/apps`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[R.shopifyDomain||R.myshopify_domain,".myshopify.com/admin"]})]}),s.jsx("li",{children:"Menu « Apps » → « Develop apps » → « Create an app »"}),s.jsx("li",{children:"Donnez-lui un nom (« SNA-Connector » par ex.) et créez"}),s.jsx("li",{children:"Onglet « Configuration » → « Admin API integration » : activez *toutes* les autorisations ou au minimum « Products » (read & write), puis « Save »"}),s.jsx("li",{children:"Revenez à l'onglet « API credentials » puis « Install app » et confirmez"}),s.jsx("li",{children:"Copiez les champs « API key », « API secret key » et « Access token » affichés"})]})}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx("label",{className:"block text-xs font-medium",children:"API key"}),s.jsx("input",{id:"api-key-input",className:"w-full border p-2 text-xs",placeholder:"ex: 3d2f0d6a0e..."}),s.jsx("label",{className:"block text-xs font-medium",children:"API secret key"}),s.jsx("input",{id:"api-secret-input",className:"w-full border p-2 text-xs",placeholder:"ex: shpss_..."}),s.jsx("label",{className:"block text-xs font-medium",children:"API token"}),s.jsx("input",{id:"api-token-input",className:"w-full border p-2 text-xs",placeholder:"ex: shpat_..."})]})]}),onConfirm:async()=>{const H=document.getElementById("api-key-input").value.trim(),Q=document.getElementById("api-secret-input").value.trim(),G=document.getElementById("api-token-input").value.trim();if(!H||!Q||!G)return alert("Veuillez remplir les trois champs");try{if(!(await fetch(`/api/internal/clients/${R.clientId}/shops/${R.shopId}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({shopifyConfig:{apiKey:H,apiSecret:Q,accessToken:G}})})).ok)throw new Error("Erreur lors de la sauvegarde");await h(),m({type:"success",message:"Clés API enregistrées – génération en cours..."}),y({open:!1}),await P()}catch(ee){alert(ee.message)}},onClose:()=>y({open:!1})})},P=async()=>{if(Object.keys(i).length===0){m({type:"error",message:"Veuillez sélectionner au moins un produit."});return}if([...new Set(Object.values(i).map(G=>G.shopId))].length===0){m({type:"error",message:"Aucune boutique trouvée pour les produits sélectionnés."});return}const H={};Object.values(i).forEach(({shopId:G,productId:ee})=>{H[G]||(H[G]=[]),H[G].push(ee)});const Q=e.find(G=>{if(!H[G.shopId])return!1;const ee=G.shopifyConfig||{},B=ee.apiKey||G.apiKey||G["shopifyConfig.apiKey"],V=ee.apiSecret||G.apiSecret||G["shopifyConfig.apiSecret"],L=ee.accessToken||G.accessToken||G["shopifyConfig.accessToken"];return!B||!V||!L});if(Q){A(Q);return}u(!0);try{for(const ee of Object.keys(H)){const B=e.find(ne=>ne.shopId===ee);if(!B)continue;const V=H[ee];console.log(`[Frontend] Publishing ${V.length} products for shop ${B.customerName}`);const te=await(await fetch(`/api/internal/shopify/shop/${ee}/publish-products`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({productIds:V})})).json();if(console.log("[Frontend] Publication response:",te),te.success)m({type:"success",message:`${te.message||"Produits publiés avec succès"} (${te.successCount}/${te.totalProcessed})`}),te.results&&te.results.forEach(ne=>{ne.success?console.log(`✅ ${ne.title}: Created with ID ${ne.shopifyProductId}`):console.error(`❌ ${ne.title}: ${ne.error}`)});else{const ne=te.error||te.details||"Erreur lors de la publication";if(ne.includes("No Shopify domain configured")||ne.includes("domain")){const le=e.find(me=>me.shopId===ee);if(le){T(le),N(!0);return}}m({type:"error",message:`Échec de publication: ${ne}`}),te.results&&te.results.filter(le=>!le.success).forEach(le=>{console.error(`❌ ${le.title}: ${le.error}`)})}}const G=Object.keys(H).map(ee=>M(ee));await Promise.all(G),l({})}catch(G){m({type:"error",message:"Erreur lors de la publication: "+G.message})}finally{u(!1)}},E=R=>{if(!R)return null;const H=parseFloat(R);return isNaN(H)?null:H.toFixed(2)},k=R=>R==null?null:typeof R=="object"?Array.isArray(R)?R.join(", "):Object.keys(R).filter(Q=>{const G=R[Q];return typeof G=="boolean"?G:G!=null}).join(", ")||JSON.stringify(R):String(R),D=R=>{const H=R.prix!=null?R.prix:R.price,Q=R.eans||{},G=R.skus||{},ee=Object.values(Q).filter(Boolean),B=Object.values(G).filter(Boolean);let V=null;R.stock!=null&&(typeof R.stock=="object"?V=Object.values(R.stock).reduce((ne,le)=>ne+(typeof le=="number"?le:0),0):V=R.stock);const L=R.tailles||R.sizes||[],te=R.couleurs||R.colors||[];return s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[R.categories&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[s.jsx(Ql,{className:"mr-1"}),k(R.categories)]}),E(H)&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[E(H)," €"]}),V!=null&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.jsx(Cv,{className:"mr-1"}),"Stock: ",V]}),R.hasShopify&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Ev,{className:"mr-1"}),"Ce produit a déjà une fiche Shopify"]}),ee.length>0&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",title:ee.join(", "),children:[s.jsx(Sv,{className:"mr-1"}),`EANs (${ee.length})`]}),B.length>0&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",title:B.join(", "),children:[s.jsx(Ql,{className:"mr-1"}),`SKUs (${B.length})`]})]}),(L.length>0||te.length>0)&&s.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[L.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tailles:"})," ",L.join(", ")]}),te.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Couleurs:"})," ",te.join(", ")]})]})}),R.caracteristiques&&s.jsxs("div",{className:"mt-2",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Caractéristiques:"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(R.caracteristiques).map(([ne,le])=>{let me;return le&&typeof le=="object"?Array.isArray(le)?me=le.join(", "):me=Object.keys(le).filter(be=>le[be]).join(", "):me=le,s.jsxs("div",{className:"text-xs text-gray-600 bg-gray-50 rounded p-2",children:[s.jsxs("span",{className:"font-medium",children:[ne,":"]})," ",k(me)]},ne)})})]})]})},F=(R,H,Q)=>{o(G=>{const ee={...G};return ee[R]?(ee[R]=ee[R].map(B=>B.productId===H?{...B,hasShopify:Q}:B),ee):G})},O=async()=>{if(!j.trim()){m({type:"error",message:"Veuillez entrer l'URL d'administration"});return}I(!0);try{const R=await fetch(`/api/internal/shops/${C.shopId}/save-domain`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adminUrl:j.trim(),shopifyDomain:q(j.trim())})});if(!R.ok){const H=await R.json();throw new Error(H.message||"Erreur lors de la sauvegarde du domaine")}m({type:"success",message:"Domaine sauvegardé avec succès! Vous pouvez maintenant relancer la génération."}),N(!1),T(null),S(""),await h()}catch(R){m({type:"error",message:`Erreur: ${R.message}`})}finally{I(!1)}},q=R=>{try{const H=new URL(R);if(H.hostname.includes(".myshopify.com"))return H.hostname.replace(".myshopify.com","");if(H.hostname==="admin.shopify.com"){const Q=H.pathname.split("/"),G=Q.indexOf("store");if(G!==-1&&Q[G+1])return Q[G+1]}return H.hostname}catch(H){return console.error("Error extracting domain:",H),R}},Y=async(R,H)=>{try{const{clientId:Q,shopId:G}=R,{productId:ee}=H;if(!(await fetch(`/api/internal/products/${Q}/${G}/${ee}/set-shopify-status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hasShopify:!1})})).ok)throw new Error("Erreur lors de la mise à jour du produit");F(G,ee,!1)}catch(Q){console.error("Error disassociating Shopify from product:",Q),m({type:"error",message:Q.message})}},K=async(R,H)=>{try{const{clientId:Q,shopId:G}=R,{productId:ee}=H;if(!(await fetch(`/api/internal/products/${Q}/${G}/${ee}/set-shopify-status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hasShopify:!0})})).ok)throw new Error("Erreur lors de la mise à jour du produit");F(G,ee,!0)}catch(Q){console.error("Error associating Shopify to product:",Q),m({type:"error",message:Q.message})}},X=e.filter(R=>(R.nomProjet||"").toLowerCase().includes(p.toLowerCase())).filter(R=>{var H;return((H=a[R.shopId])==null?void 0:H.length)>0});return s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Fiches produits Shopify"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx("input",{type:"text",placeholder:"Rechercher une boutique...",className:"pl-10 pr-4 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-sna-primary/50",value:p,onChange:R=>f(R.target.value)}),s.jsx(Kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),d&&s.jsx("div",{className:`mb-4 p-4 rounded-lg flex items-center ${d.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.message}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-lg flex items-start space-x-3",children:[s.jsx(nf,{className:"text-blue-500 mt-1 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Seules les boutiques avec au moins un produit documenté sont listées. Dans chaque boutique, seuls les produits déjà documentés apparaissent."})]}),s.jsxs("button",{disabled:c||Object.keys(i).length===0,onClick:P,className:`mb-4 px-6 py-2 rounded-lg text-white font-medium transition-colors ${c||Object.keys(i).length===0?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90"}`,children:["Publier les produits sélectionnés (",Object.keys(i).length,")"]}),s.jsx("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:X.map(R=>s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>$(R.shopId),children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sna-primary",children:R.nomProjet}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Client : ",R.customerName]}),R.myshopify_domain&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Shopify: ",R.myshopify_domain]})]}),s.jsx("span",{className:"text-gray-400",children:r.has(R.shopId)?"▲":"▼"})]}),r.has(R.shopId)&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",className:"pl-10 pr-4 py-2 border rounded-lg w-full text-sm focus:outline-none focus:ring-2 focus:ring-sna-primary/50",value:g[R.shopId]||"",onChange:H=>w(Q=>({...Q,[R.shopId]:H.target.value}))}),s.jsx(Kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),(a[R.shopId]||[]).filter(H=>(H.titre||"").toLowerCase().includes((g[R.shopId]||"").toLowerCase())).length>0&&s.jsxs("div",{className:"flex items-center space-x-2 whitespace-nowrap py-2",children:[s.jsx("input",{type:"checkbox",id:`select-all-${R.shopId}`,checked:(a[R.shopId]||[]).filter(H=>(H.titre||"").toLowerCase().includes((g[R.shopId]||"").toLowerCase())).every(H=>{const Q=`${R.shopId}-${H.productId}`;return!!i[Q]}),onChange:()=>U(R.shopId),className:"h-4 w-4 text-sna-primary focus:ring-sna-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:`select-all-${R.shopId}`,className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Sélectionner tout"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[(a[R.shopId]||[]).filter(H=>(H.titre||"").toLowerCase().includes((g[R.shopId]||"").toLowerCase())).map(H=>{const Q=`${R.shopId}-${H.productId}`,G=!!i[Q];return s.jsx("div",{className:`relative p-4 rounded-lg flex items-center space-x-4 transition-colors ${H.hasShopify?"border border-emerald-500 bg-emerald-50/30":"border border-gray-200 bg-white"}`,children:s.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:G,onChange:()=>z(R.shopId,H.productId),className:"h-5 w-5 rounded text-sna-primary focus:ring-sna-primary"}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:H.titre}),H.description&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:k(H.description)}),D(H)]}),H.hasShopify?s.jsx("button",{className:"absolute top-2 right-2 bg-red-50 border border-red-200 text-red-700 px-2 py-1 text-xs font-medium rounded hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-200 transition",onClick:()=>Y(R,H),children:"Ce produit n'a pas de fiche produit"}):s.jsx("button",{className:"absolute top-2 right-2 bg-emerald-50 border border-emerald-300 text-emerald-700 px-2 py-1 text-xs font-medium rounded hover:bg-emerald-100 focus:outline-none focus:ring-2 focus:ring-emerald-200 transition",onClick:()=>K(R,H),children:"Ce produit a déjà une fiche Shopify"})]})},H.productId)}),a[R.shopId]&&a[R.shopId].length===0&&s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Aucun produit documenté"})]})]})]},R.shopId))}),b&&C&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Configuration du domaine Shopify"}),s.jsx("button",{onClick:()=>{N(!1),T(null),S("")},className:"text-gray-400 hover:text-gray-600",children:s.jsx(an,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(ir,{className:"h-5 w-5 text-yellow-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Domaine Shopify manquant"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Pour générer les fiches produits, nous avons besoin de l'URL d'administration de votre boutique Shopify."})]})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Comment trouver votre URL d'administration :"}),s.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal ml-4",children:[s.jsx("li",{children:"Connectez-vous à votre boutique Shopify"}),s.jsx("li",{children:"Une fois dans l'admin, copiez l'URL complète de votre navigateur"}),s.jsxs("li",{children:["L'URL ressemble à :",s.jsx("div",{className:"mt-1 text-xs bg-blue-100 p-2 rounded font-mono",children:"https://your-shop.myshopify.com/admin"}),s.jsx("div",{className:"text-xs mt-1",children:"ou"}),s.jsx("div",{className:"mt-1 text-xs bg-blue-100 p-2 rounded font-mono",children:"https://admin.shopify.com/store/your-shop"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"adminUrl",className:"block text-sm font-medium text-gray-700 mb-2",children:[`URL d'administration de la boutique "`,C.nomProjet||C.customerName,'"']}),s.jsx("input",{type:"url",id:"adminUrl",value:j,onChange:R=>S(R.target.value),placeholder:"https://your-shop.myshopify.com/admin",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{N(!1),T(null),S("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",disabled:_,children:"Annuler"}),s.jsxs("button",{onClick:O,disabled:_||!j.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 rounded-md flex items-center",children:[_&&s.jsx(Xt,{className:"animate-spin mr-2"}),"Enregistrer"]})]})]})}),v.open&&s.jsx(Fa,{open:v.open,type:v.type,title:v.title,message:v.message,onClose:v.onClose,onConfirm:v.onConfirm})]})},i_=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(new Set),[a,o]=x.useState({}),[i,l]=x.useState({}),[c,u]=x.useState(!1),[d,m]=x.useState(null),[p,f]=x.useState(""),[g,w]=x.useState({}),[v,y]=x.useState({open:!1});x.useEffect(()=>{(async()=>{try{const M=await fetch("/api/customer/all?details=true",{headers:{"Cache-Control":"no-cache"}}),$=await M.json();if(!M.ok)throw new Error("Failed to fetch shop data");const z=[];($.customers||[]).forEach(P=>{(P.shops||[]).forEach(E=>{var F;const k=E.documented===!0||E.documented==="documented",D=E.hasShopify||E.shopifyConfigured;k&&D&&z.push({...E,customerName:P.raisonSociale,clientId:((F=P._id)==null?void 0:F.toString())||P.id})})});const U={};await Promise.all(z.map(async P=>{try{const k=await(await fetch(`/api/customer/shop/${P.shopId}/products`)).json();U[P.shopId]=(k.products||[]).filter(D=>D.hasShopify===!0)}catch(E){console.error(`Failed to load products for shop ${P.shopId}`,E),U[P.shopId]=[]}}));const A=z.filter(P=>U[P.shopId]&&U[P.shopId].length>0);t(A),o(U)}catch(M){console.error("Error loading shops for EC generation:",M),m({type:"error",message:"Impossible de charger les boutiques."})}})()},[]);const b=h=>{const M=new Set(r);M.has(h)?M.delete(h):(M.add(h),g[h]||w($=>({...$,[h]:""}))),n(M)},N=(h,M)=>{const $=`${h}-${M}`;l(z=>{const U={...z};return U[$]?delete U[$]:U[$]={shopId:h,productId:M},U})},C=h=>{const M=(a[h]||[]).filter(z=>(z.titre||"").toLowerCase().includes((g[h]||"").toLowerCase())),$=M.every(z=>i[`${h}-${z.productId}`]);l(z=>{const U={...z};return $?M.forEach(A=>delete U[`${h}-${A.productId}`]):M.forEach(A=>{U[`${h}-${A.productId}`]={shopId:h,productId:A.productId}}),U})},T=async()=>{const h=Object.values(i);if(h.length===0)return;const M=h[0].shopId,$=h.map(z=>z.productId);u(!0),m(null);try{const z=await fetch(`/api/internal/ec/shop/${M}/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productIds:$})}),U=await z.json();if(!z.ok||!U.success)throw new Error(U.message||"La génération du fichier EC a échoué.");y({open:!0,type:"success",title:"Génération réussie",message:"Le fichier EC a été généré et est disponible dans les téléchargements.",onClose:()=>y({open:!1})}),l({})}catch(z){y({open:!0,type:"error",title:"Erreur de Génération",message:z.message,onClose:()=>y({open:!1})})}finally{u(!1)}},j=h=>{if(h==null)return null;const M=parseFloat(h);return isNaN(M)?null:M.toFixed(2)},S=h=>h==null?null:typeof h=="object"?Array.isArray(h)?h.join(", "):Object.keys(h).join(", "):String(h),_=h=>{const M=h.prix??h.price,$=h.eans||{},z=h.skus||{},U=Object.values($).filter(Boolean),A=Object.values(z).filter(Boolean);let P=null;return h.stock!=null&&(typeof h.stock=="object"?P=Object.values(h.stock).reduce((E,k)=>E+(typeof k=="number"?k:0),0):P=h.stock),s.jsx("div",{className:"mt-2 space-y-2",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.categories&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[s.jsx(Ql,{className:"mr-1"})," ",S(h.categories)]}),j(M)&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[j(M)," €"]}),P!=null&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.jsx(Cv,{className:"mr-1"})," Stock: ",P]}),U.length>0&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",title:U.join(", "),children:[s.jsx(Sv,{className:"mr-1"}),`EANs (${U.length})`]}),A.length>0&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",title:A.join(", "),children:[s.jsx(Ql,{className:"mr-1"}),`SKUs (${A.length})`]})]})})},I=e.filter(h=>(h.nomProjet||"").toLowerCase().includes(p.toLowerCase()));return s.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[s.jsx(Fa,{...v}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Génération d'EC"}),s.jsxs("div",{className:"relative w-72",children:[s.jsx("input",{type:"text",placeholder:"Rechercher une boutique...",className:"pl-10 pr-4 py-2 border rounded-full w-full focus:outline-none focus:ring-2 focus:ring-sna-primary",value:p,onChange:h=>f(h.target.value)}),s.jsx(Kl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),d&&s.jsx("div",{className:`mb-4 p-4 rounded-lg flex items-center shadow-sm ${d.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.message}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-4 rounded-r-lg mb-6 flex items-start",children:[s.jsx(nf,{className:"h-5 w-5 mr-3 mt-0.5"}),s.jsxs("p",{className:"text-sm",children:["Cette page liste les boutiques ",s.jsx("strong",{children:"documentées"})," ayant des produits déjà ",s.jsx("strong",{children:"publiés sur Shopify"}),". Utilisez cette interface pour générer les fichiers EC correspondants."]})]}),s.jsx("div",{className:"flex justify-start mb-6",children:s.jsxs("button",{disabled:c||Object.keys(i).length===0,onClick:T,className:`px-6 py-2.5 rounded-lg text-white font-semibold transition-all duration-200 flex items-center shadow-md ${c||Object.keys(i).length===0?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary-dark"}`,children:[s.jsx(Ev,{className:"mr-2"}),"Générer EC pour ",Object.keys(i).length," produit(s)"]})}),s.jsx("div",{className:"space-y-4",children:I.map(h=>s.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300",children:[s.jsxs("div",{className:"p-5 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>b(h.shopId),children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-sna-primary",children:h.nomProjet}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Client : ",h.customerName]})]}),s.jsx("span",{className:"text-gray-400 text-xl",children:r.has(h.shopId)?"▲":"▼"})]}),r.has(h.shopId)&&s.jsxs("div",{className:"p-5 border-t border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Rechercher un produit par nom...",className:"pl-10 pr-4 py-2 border rounded-full w-full text-sm focus:outline-none focus:ring-2 focus:ring-sna-primary",value:g[h.shopId]||"",onChange:M=>w($=>({...$,[h.shopId]:M.target.value}))}),s.jsx(Kl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),s.jsx("button",{onClick:()=>C(h.shopId),className:"text-sm font-medium text-sna-primary hover:underline",children:"Tout sélectionner/désélectionner"})]}),s.jsx("div",{className:"space-y-3",children:(a[h.shopId]||[]).filter(M=>(M.titre||"").toLowerCase().includes((g[h.shopId]||"").toLowerCase())).map(M=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex items-center space-x-4",children:[s.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-sna-primary focus:ring-sna-primary",checked:!!i[`${h.shopId}-${M.productId}`],onChange:()=>N(h.shopId,M.productId)}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold text-gray-800",children:M.titre}),_(M)]}),M.hasShopify&&s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Publié"})]},M.productId))})]})]},h.shopId))})]})]})},oo=({children:e})=>{const t=s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}),r=s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}),n=[{name:"Comptes Clients",href:"/admin/client-accounts",icon:r},{name:"Comptes Internes",href:"/admin/internal-accounts",icon:r},{name:"Comptes Admins",href:"/admin/admin-accounts",icon:r},{name:"Profil Admin",href:"/admin/profile",icon:t}],a=async()=>{try{(await fetch("/api/logout-admin",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})).ok?console.log("Admin logout successful"):console.error("Admin logout API call failed")}catch(i){console.error("Error during admin logout:",i)}localStorage.removeItem("token"),sessionStorage.clear(),window.location.href="/logout-admin"},o=i=>typeof window<"u"?window.location.pathname===i:!1;return s.jsxs("div",{className:"flex flex-1",children:[s.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 bg-white shadow-sm md:sticky md:top-20 h-auto md:h-[calc(100vh-5rem)] overflow-y-auto z-30",children:s.jsxs("div",{className:"flex flex-col flex-grow pt-5",children:[s.jsx("nav",{className:"flex-1 px-4 pb-4 space-y-2",children:n.map(i=>s.jsxs("a",{href:i.href,className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors 
                  ${o(i.href)?"bg-gray-100 text-gray-800":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"}
                `,children:[s.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:i.icon}),i.name]},i.name))}),s.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:s.jsxs("button",{onClick:a,className:"flex w-full items-center px-4 py-3 text-sm font-medium rounded-lg text-red-600 hover:bg-red-50 transition-colors group",children:[s.jsx("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-red-400 group-hover:text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Déconnexion"]})})]})}),s.jsx("div",{className:"md:pl-64 flex flex-col flex-1",children:s.jsx("main",{className:"flex-1 py-8 px-6 overflow-y-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})})]})},l_=({userType:e,onClose:t,onSuccess:r})=>{const[n,a]=x.useState({name:"",email:"",password:"",confirmPassword:"",role:e,sendWelcomeEmail:!1}),[o,i]=x.useState({}),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[m,p]=x.useState(""),[f,g]=x.useState(!1),w=T=>{const{name:j,value:S}=T.target;a(_=>({..._,[j]:S})),o[j]&&i(_=>({..._,[j]:""}))},v=()=>{const j="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let S="";const _="abcdefghijklmnopqrstuvwxyz",I="ABCDEFGHIJKLMNOPQRSTUVWXYZ",h="0123456789",M="!@#$%^&*";S+=_.charAt(Math.floor(Math.random()*_.length)),S+=I.charAt(Math.floor(Math.random()*I.length)),S+=h.charAt(Math.floor(Math.random()*h.length)),S+=M.charAt(Math.floor(Math.random()*M.length));for(let $=S.length;$<12;$++)S+=j.charAt(Math.floor(Math.random()*j.length));return S.split("").sort(()=>Math.random()-.5).join("")},y=()=>{const T=v();p(T),a(j=>({...j,password:T,confirmPassword:T})),d(!0),i(j=>({...j,password:"",confirmPassword:""}))},b=async()=>{try{await navigator.clipboard.writeText(m),g(!0),setTimeout(()=>g(!1),2e3)}catch(T){console.error("Failed to copy password:",T)}},N=()=>{const T={};return n.name.trim()||(T.name="Le nom est requis"),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(T.email="L'email n'est pas valide"):T.email="L'email est requis",n.password?n.password.length<6&&(T.password="Le mot de passe doit contenir au moins 6 caractères"):T.password="Le mot de passe est requis",n.password!==n.confirmPassword&&(T.confirmPassword="Les mots de passe ne correspondent pas"),T},C=async T=>{T.preventDefault();const j=N();if(Object.keys(j).length>0){i(j);return}c(!0),i({});try{const S=`/api/accounts/${e}`,I=await(await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name,email:n.email,password:n.password,sendWelcomeEmail:n.sendWelcomeEmail}),credentials:"include"})).json();if(I.success)console.log("User created successfully:",I),r(I);else throw new Error(I.message||"Failed to create user")}catch(S){console.error("Error creating user:",S),i({submit:S.message||"Une erreur est survenue lors de la création du compte"})}finally{c(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Créer un Compte"," ",e==="internal"?"Personnel":e==="client"?"Client":"Administrateur"]}),s.jsxs("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:[s.jsx("span",{className:"sr-only",children:"Fermer"}),s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom complet"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:w,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm ${o.name?"border-red-500":""}`}),o.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:w,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm ${o.email?"border-red-500":""}`}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),s.jsxs("button",{type:"button",onClick:y,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded text-sna-primary hover:text-sna-primary/80 focus:outline-none",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Générer mot de passe"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",id:"password",name:"password",value:n.password,onChange:w,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm ${o.password?"border-red-500":""} ${u?"pr-20":""}`}),u&&m&&s.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>d(!u),className:"p-2 text-gray-400 hover:text-gray-600 focus:outline-none",title:u?"Masquer":"Afficher",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})}),s.jsx("button",{type:"button",onClick:b,className:"p-2 text-gray-400 hover:text-gray-600 focus:outline-none mr-1",title:"Copier",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),u&&m&&s.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm text-green-800 font-medium",children:"Mot de passe généré"})]}),f&&s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"✓ Copié!"})]}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Mot de passe sécurisé généré automatiquement. Assurez-vous de le communiquer à l'utilisateur de manière sécurisée."})]}),o.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:w,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm ${o.confirmPassword?"border-red-500":""}`}),o.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirmPassword})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"sendWelcomeEmail",name:"sendWelcomeEmail",checked:n.sendWelcomeEmail,onChange:T=>a(j=>({...j,sendWelcomeEmail:T.target.checked})),className:"h-4 w-4 text-sna-primary focus:ring-sna-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:"sendWelcomeEmail",className:"ml-2 block text-sm text-gray-900",children:"Envoyer un email de bienvenue (avec mot de passe temporaire)"})]}),!n.sendWelcomeEmail&&m&&s.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm text-yellow-800 font-medium",children:"Mot de passe à communiquer manuellement"})]}),f&&s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"✓ Copié!"})]}),s.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:"L'email de bienvenue est désactivé. Vous devrez communiquer ces identifiants manuellement à l'utilisateur :"}),s.jsxs("div",{className:"mt-2 p-2 bg-white border border-yellow-300 rounded",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Email :"})," ",n.email]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Mot de passe :"})," ",m]})]})]}),!n.sendWelcomeEmail&&s.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:s.jsx("p",{className:"text-sm text-blue-700",children:"L'utilisateur recevra les informations de connexion manuellement et devra changer son mot de passe lors de sa première connexion."})}),o.submit&&s.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:o.submit})}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,disabled:l,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 disabled:opacity-50 flex items-center",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):"Créer"})]})]})]})})},Hf=({type:e,title:t})=>{var S,_,I;const[r,n]=x.useState([]),[a,o]=x.useState(!0),[i,l]=x.useState(null),[c,u]=x.useState(!1),[d,m]=x.useState(null),[p,f]=x.useState(null),[g,w]=x.useState(!1),[v,y]=x.useState({show:!1,user:null});x.useEffect(()=>{b()},[e]);const b=async()=>{try{o(!0),l(null);const h=`/api/accounts/${e}`,M=await fetch(h,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const $=await M.json();if($.success){const z=$.users.map(U=>({id:U.username,username:U.username,name:U.name||"N/A",email:U.email,status:U.enabled?"active":"inactive",cognitoStatus:U.status,createdAt:U.createdAt?new Date(U.createdAt).toISOString().split("T")[0]:"N/A",sub:U.sub,hasMappedCustomer:U.hasMappedCustomer,customerMapping:U.customerMapping}));n(z)}else throw new Error($.message||"Failed to fetch users")}catch(h){console.error("Error fetching users:",h),l(h.message)}finally{o(!1)}},N=async h=>{try{const $=r.find(P=>P.username===h).status!=="active",z=`/api/accounts/${e}/${h}/status`,A=await(await fetch(z,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:$}),credentials:"include"})).json();if(A.success)n(P=>P.map(E=>E.username===h?{...E,status:$?"active":"inactive"}:E));else throw new Error(A.message||"Failed to update user status")}catch(M){console.error("Error toggling user status:",M),alert("Erreur lors de la modification du statut: "+M.message)}},C=h=>{y({show:!0,user:h})},T=async()=>{const{user:h}=v;if(h)try{const M=`/api/accounts/${e}/${h.username}`,z=await(await fetch(M,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(z.success)n(U=>U.filter(A=>A.username!==h.username)),y({show:!1,user:null}),z.deletedCustomerDocument?console.log("✅ Account and customer profile deleted:",z.deletedCustomer):console.log("✅ Account deleted successfully");else throw new Error(z.message||"Failed to delete user")}catch(M){console.error("Error deleting user:",M),alert("Erreur lors de la suppression: "+M.message),y({show:!1,user:null})}},j=h=>{b(),h.user&&(f({name:h.user.name,email:h.user.email,username:h.user.username,status:h.user.status,loginUrl:e==="client"?"/client":e==="internal"?"/internal":"/admin"}),w(!0)),u(!1),m(null)};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sna-primary mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement des comptes..."})]})}):i?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),s.jsx("p",{className:"mt-2 text-sm text-red-700",children:i}),s.jsx("button",{onClick:b,className:"mt-3 bg-red-100 px-3 py-1 rounded text-red-800 hover:bg-red-200",children:"Réessayer"})]})]})}):s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:t}),s.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary/90 transition-colors",children:"Créer un compte"})]}),s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e==="client"&&s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mapping Client"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de création"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:e==="client"?6:5,className:"px-6 py-8 text-center text-gray-500",children:"Aucun compte trouvé"})}):r.map(h=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),s.jsx("div",{className:"text-xs text-gray-500",children:h.cognitoStatus})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:h.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.status==="active"?"Actif":"Inactif"})}),e==="client"&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.hasMappedCustomer?s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"✓ Mappé"}),h.customerMapping&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:h.customerMapping.raisonSociale})]}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"⚠ Non mappé"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.createdAt!=="N/A"?new Date(h.createdAt).toLocaleDateString("fr-FR"):"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.jsx("button",{onClick:()=>m(h),className:"text-sna-primary hover:text-sna-primary/80 mr-3",children:"Modifier"}),s.jsx("button",{onClick:()=>N(h.username),className:"text-orange-600 hover:text-orange-800 mr-3",children:h.status==="active"?"Désactiver":"Activer"}),s.jsx("button",{onClick:()=>C(h),className:"text-red-600 hover:text-red-800",children:"Supprimer"})]})]},h.username))})]})})}),(c||d)&&s.jsx(l_,{userType:e,onClose:()=>{u(!1),m(null)},onSuccess:j,initialData:d}),v.show&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:s.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Supprimer le compte utilisateur"}),s.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[s.jsxs("p",{className:"mb-2",children:["Êtes-vous sûr de vouloir supprimer le compte de"," ",s.jsx("strong",{className:"text-gray-900",children:(S=v.user)==null?void 0:S.name})," ","?"]}),e==="client"&&((_=v.user)==null?void 0:_.hasMappedCustomer)&&s.jsx("div",{className:"mb-3 p-2 bg-orange-50 border border-orange-200 rounded",children:s.jsx("p",{className:"text-xs text-orange-800 font-medium",children:"⚠️ Ce client a un profil associé qui sera également supprimé définitivement."})}),s.jsxs("p",{className:"text-xs text-red-600",children:[s.jsx("strong",{children:"Attention:"})," Cette action est irréversible et supprimera définitivement l'accès de cet utilisateur",e==="client"&&((I=v.user)!=null&&I.hasMappedCustomer)?" ainsi que toutes ses données (boutiques, produits, etc.)":"","."]})]})]}),s.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[s.jsx("button",{onClick:()=>y({show:!1,user:null}),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Annuler"}),s.jsx("button",{onClick:T,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Supprimer définitivement"})]})]})}),g&&p&&s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Compte créé avec succès"}),s.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-green-50 p-4 rounded-md",children:s.jsx("p",{className:"text-sm text-green-700",children:"Le compte a été créé avec succès. Voici les informations de connexion :"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nom:"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email/Username:"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),s.jsx("p",{className:"text-sm text-gray-900",children:p.status})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"URL de connexion:"}),s.jsxs("p",{className:"text-sm text-blue-600",children:[window.location.origin,p.loginUrl]})]})]}),s.jsx("div",{className:"bg-yellow-50 p-4 rounded-md",children:s.jsx("p",{className:"text-sm text-yellow-700",children:"L'utilisateur devra changer son mot de passe lors de sa première connexion."})})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary/90",children:"Fermer"})})]})})]})},Ed=()=>s.jsx(Hf,{type:"client",title:"Gestion des Comptes Clients"}),c_=()=>s.jsx(Hf,{type:"internal",title:"Gestion des Comptes Personnel"}),u_=()=>s.jsx(Hf,{type:"admin",title:"Gestion des Comptes Administrateur"}),d_=()=>s.jsx("div",{className:"p-4",children:"Admin: Profil"}),m_=()=>{const{pathname:e}=window.location;let t=c0,r=({children:o})=>s.jsx(s.Fragment,{children:o}),n={};const a=(o,i)=>{const l=o.split("/").filter(d=>d),c=i.split("/").filter(d=>d),u={};return l.forEach((d,m)=>{d.startsWith(":")&&c[m]&&(u[d.substring(1)]=c[m])}),u};if(e==="/")t=c0;else if(e==="/reset-password")t=W4;else if(e==="/client/dashboard")r=is,t=k4;else if(e==="/client/boutiques")r=is,t=E4,n={};else if(e==="/client/boutiques/create")r=is,t=A4;else if(e==="/client/produits")r=is,t=F4;else if(e==="/client/produits/create")r=is,t=$4;else if(e.startsWith("/client/boutiques/edit/"))r=is,t=R4,n={shopId:a("/client/boutiques/edit/:shopId",e).shopId,returnPath:"/client/boutiques"};else if(e==="/client/compte")r=is,t=B4,n={returnPath:"/client/dashboard"};else{if(e==="/internal/dashboard")return window.location.replace("/internal/clients"),null;if(e==="/internal/clients")r=Nt,t=Z4;else if(e==="/internal/documentation")r=Nt,t=d6;else if(e.startsWith("/internal/clients/")&&e.endsWith("/boutiques")&&e.split("/").length===5)r=Nt,t=n6,n={clientId:a("/internal/clients/:clientId/boutiques",e).clientId};else if(e.startsWith("/internal/clients/")&&e.split("/").length===6&&e.includes("/boutiques/")){r=Nt,t=jb;const o=a("/internal/clients/:clientId/boutiques/:shopId",e);n={clientId:o.clientId,shopId:o.shopId}}else if(e.startsWith("/internal/clients/")&&(e.split("/").length===4||e.split("/").length===5&&e.endsWith("/"))){r=Nt,t=r6;const o=e.endsWith("/")?e.slice(0,-1):e;n={clientId:a("/internal/clients/:clientId",o).clientId}}else e==="/internal/boutiques"?(r=Nt,t=a6):e==="/internal/produits"?(r=Nt,t=u6):e==="/internal/boutiques-a-valider"?(r=Nt,t=o6):e==="/internal/produits-a-valider"?(r=Nt,t=c6):e==="/internal/clients-a-valider"?(r=Nt,t=V4):e==="/internal/profile"?(r=Nt,t=H4):e==="/internal/statistiques"?(r=Nt,t=q4):e==="/internal/shopify"?(r=Nt,t=r_,n={returnPath:"/internal/shopify"}):e==="/internal/configuration-shopify"?(r=Nt,t=a_,n={returnPath:"/internal/configuration-shopify"}):e==="/internal/fiche-produits-shopify"?(r=Nt,t=o_,n={returnPath:"/internal/fiche-produits-shopify"}):e==="/internal/generation-ec"?(r=Nt,t=i_,n={returnPath:"/internal/generation-ec"}):e==="/internal/creation-comptes-client"?(r=Nt,t=Ed,n={}):e==="/admin"||e==="/admin/"||e==="/admin/client-accounts"?(r=oo,t=Ed):e==="/admin/internal-accounts"?(r=oo,t=c_):e==="/admin/admin-accounts"?(r=oo,t=u_):e==="/admin/profile"&&(r=oo,t=d_)}return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsx(fv,{}),s.jsx("main",{className:"flex-1 pt-20",children:s.jsx(r,{children:s.jsx(t,{...n})})}),s.jsx(vj,{})]})},p_=Pd.createRoot(document.getElementById("root"));p_.render(s.jsx(W.StrictMode,{children:s.jsx(m_,{})}));
