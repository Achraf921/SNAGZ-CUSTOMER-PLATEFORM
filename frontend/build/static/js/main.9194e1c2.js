/*! For license information please see main.9194e1c2.js.LICENSE.txt */
(()=>{var e={43:(e,t,r)=>{"use strict";e.exports=r(202)},173:(e,t,r)=>{e.exports=r(497)()},202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||h}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||h}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var b=v.prototype=new y;b.constructor=v,f(b,x.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:i,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===s?"."+P(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),D(o,t,a,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+P(i=e[c],c);l+=D(i,t,a,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=D(i=i.value,t,a,d=s+P(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,r){if(null==e)return e;var n=[],a=0;return D(e,n,"","",function(e){return t.call(r,e,a++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},A={transition:null},_={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:A,ReactCurrentOwner:N};function z(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,r){I(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.act=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=z,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,r){return M.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,r){return M.current.useReducer(e,t,r)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return M.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},219:(e,t,r)=>{"use strict";var n=r(763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function l(e){return n.isMemo(e)?o:i[e.$$typeof]||a}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=o;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var a=m(r);a&&a!==h&&e(t,a,n)}var o=d(r);u&&(o=o.concat(u(r)));for(var i=l(t),f=l(r),g=0;g<o.length;++g){var x=o[g];if(!s[x]&&(!n||!n[x])&&(!f||!f[x])&&(!i||!i[x])){var y=p(r,x);try{c(t,x,y)}catch(v){}}}}return t}},234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var i=2*(n+1)-1,l=e[i],c=i+1,d=e[c];if(0>s(l,r))c<a&&0>s(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function w(e){if(g=!1,b(e),!f)if(null!==n(c))f=!0,A(j);else{var t=n(d);null!==t&&_(w,t.startTime-e)}}function j(e,r){f=!1,g&&(g=!1,y(C),C=-1),h=!0;var s=m;try{for(b(r),p=n(c);null!==p&&(!(p.expirationTime>r)||e&&!D());){var o=p.callback;if("function"===typeof o){p.callback=null,m=p.priorityLevel;var i=o(p.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?p.callback=i:p===n(c)&&a(c),b(r)}else a(c);p=n(c)}if(null!==p)var l=!0;else{var u=n(d);null!==u&&_(w,u.startTime-r),l=!1}return l}finally{p=null,m=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,E=5,P=-1;function D(){return!(t.unstable_now()-P<E)}function I(){if(null!==S){var e=t.unstable_now();P=e;var r=!0;try{r=S(!0,e)}finally{r?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(I)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,M=T.port2;T.port1.onmessage=I,N=function(){M.postMessage(null)}}else N=function(){x(I,0)};function A(e){S=e,k||(k=!0,N())}function _(e,r){C=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,A(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(g?(y(C),C=-1):g=!0,_(w,s-o))):(e.sortIndex=i,r(c,e),f||h||(f=!0,A(j))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},391:(e,t,r)=>{"use strict";var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},497:(e,t,r)=>{"use strict";var n=r(218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,o){if(o!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},528:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler");Symbol.for("react.provider");var i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case o:case s:case d:case u:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case m:case p:case i:return e;default:return t}}case n:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===o||e===s||e===d||e===u||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===l||e.$$typeof===i||e.$$typeof===c||e.$$typeof===f||void 0!==e.getModuleId)}},534:(e,t,r)=>{"use strict";var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},579:(e,t,r)=>{"use strict";e.exports=r(534)},730:(e,t,r)=>{"use strict";var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,r,n,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var O,L=Object.assign;function R(e){if(void 0===O)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var $=!1;function F(e,t){if(!e||$)return"";$=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?R(e):""}function q(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return B(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function G(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=U(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){J(e,t);var r=U(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+U(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:U(r)}}function se(e,t){var r=U(t.value),n=U(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var xe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function De(){}var Ie=!1;function Te(e,t,r){if(Ie)return e(t,r);Ie=!0;try{return Pe(e,t,r)}finally{Ie=!1,(null!==Ne||null!==ke)&&(De(),Ee())}}function Me(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Ae=!1;if(d)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch(de){Ae=!1}function ze(e,t,r,n,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Oe=!1,Le=null,Re=!1,$e=null,Fe={onError:function(e){Oe=!0,Le=e}};function qe(e,t,r,n,a,s,o,i,l){Oe=!1,Le=null,ze.apply(Fe,arguments)}function Be(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Ue(a),e;if(o===n)return Ue(a),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var i=o&~a;0!==i?n=ut(i):0!==(s&=o)&&(n=ut(s))}else 0!==(o=r&~a)?n=ut(o):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,Ct=!1,Et=[],Pt=null,Dt=null,It=null,Tt=new Map,Mt=new Map,At=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Ot(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var r=Be(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void St(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=va(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function $t(e,t,r){Rt(e)&&r.delete(t)}function Ft(){Ct=!1,null!==Pt&&Rt(Pt)&&(Pt=null),null!==Dt&&Rt(Dt)&&(Dt=null),null!==It&&Rt(It)&&(It=null),Tt.forEach($t),Mt.forEach($t)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return qt(t,e)}if(0<Et.length){qt(Et[0],e);for(var r=1;r<Et.length;r++){var n=Et[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pt&&qt(Pt,e),null!==Dt&&qt(Dt,e),null!==It&&qt(It,e),Tt.forEach(t),Mt.forEach(t),r=0;r<At.length;r++)(n=At[r]).blockedOn===e&&(n.blockedOn=null);for(;0<At.length&&null===(r=At[0]).blockedOn;)Lt(r),null===r.blockedOn&&At.shift()}var Vt=b.ReactCurrentBatchConfig,Ut=!0;function Ht(e,t,r,n){var a=vt,s=Vt.transition;Vt.transition=null;try{vt=1,Yt(e,t,r,n)}finally{vt=a,Vt.transition=s}}function Wt(e,t,r,n){var a=vt,s=Vt.transition;Vt.transition=null;try{vt=4,Yt(e,t,r,n)}finally{vt=a,Vt.transition=s}}function Yt(e,t,r,n){if(Ut){var a=Qt(e,t,r,n);if(null===a)Un(e,t,n,Kt,r),zt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Pt=Ot(Pt,e,t,r,n,a),!0;case"dragenter":return Dt=Ot(Dt,e,t,r,n,a),!0;case"mouseover":return It=Ot(It,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Tt.set(s,Ot(Tt.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Mt.set(s,Ot(Mt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(zt(e,n),4&t&&-1<_t.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&wt(s),null===(s=Qt(e,t,r,n))&&Un(e,t,n,Kt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Un(e,t,n,null,r)}}var Kt=null;function Qt(e,t,r,n){if(Kt=null,null!==(e=ya(e=we(n))))if(null===(t=Be(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,a="value"in Jt?Jt.value:Jt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,or,ir,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),dr=L({},lr,{view:0,detail:0}),ur=ar(dr),pr=L({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(sr=e.screenX-ir.screenX,or=e.screenY-ir.screenY):or=sr=0,ir=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:or}}),mr=ar(pr),hr=ar(L({},pr,{dataTransfer:0})),fr=ar(L({},dr,{relatedTarget:0})),gr=ar(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(xr),vr=ar(L({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function kr(){return Nr}var Sr=L({},dr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ar(Sr),Er=ar(L({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=ar(L({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Dr=ar(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=L({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=ar(Ir),Mr=[9,13,27,32],Ar=d&&"CompositionEvent"in window,_r=null;d&&"documentMode"in document&&(_r=document.documentMode);var zr=d&&"TextEvent"in window&&!_r,Or=d&&(!Ar||_r&&8<_r&&11>=_r),Lr=String.fromCharCode(32),Rr=!1;function $r(e,t){switch(e){case"keyup":return-1!==Mr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qr=!1;var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function Ur(e,t,r,n){Ce(n),0<(t=Wn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,Wr=null;function Yr(e){Rn(e,0)}function Kr(e){if(Y(ba(e)))return e}function Qr(e,t){if("change"===e)return t}var Gr=!1;if(d){var Jr;if(d){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Jr=Xr}else Jr=!1;Gr=Jr&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),Wr=Hr=null)}function tn(e){if("value"===e.propertyName&&Kr(Wr)){var t=[];Ur(t,Wr,e,we(e)),Te(Yr,t)}}function rn(e,t,r){"focusin"===e?(en(),Wr=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Wr)}function an(e,t){if("click"===e)return Kr(t)}function sn(e,t){if("input"===e||"change"===e)return Kr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&mn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dn(r,s);var o=dn(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,xn=null,yn=null,vn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==K(n)||("selectionStart"in(n=gn)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Wn(xn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Nn={},kn={};function Sn(e){if(Nn[e])return Nn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return Nn[e]=r[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var Cn=Sn("animationend"),En=Sn("animationiteration"),Pn=Sn("animationstart"),Dn=Sn("transitionend"),In=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){In.set(e,t),l(t,[e])}for(var An=0;An<Tn.length;An++){var _n=Tn[An];Mn(_n.toLowerCase(),"on"+(_n[0].toUpperCase()+_n.slice(1)))}Mn(Cn,"onAnimationEnd"),Mn(En,"onAnimationIteration"),Mn(Pn,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Dn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,i,l,c){if(qe.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var d=Le;Oe=!1,Le=null,Re||(Re=!0,$e=d)}}(n,t,void 0,e),e.currentTarget=null}function Rn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Ln(a,i,c),s=l}else for(o=0;o<n.length;o++){if(l=(i=n[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Ln(a,i,c),s=l}}}if(Re)throw e=$e,Re=!1,$e=null,e}function $n(e,t){var r=t[fa];void 0===r&&(r=t[fa]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function Fn(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var qn="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[qn]){e[qn]=!0,o.forEach(function(t){"selectionchange"!==t&&(On.has(t)||Fn(t,!1,e),Fn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qn]||(t[qn]=!0,Fn("selectionchange",!1,t))}}function Vn(e,t,r,n){switch(Gt(t)){case 1:var a=Ht;break;case 4:a=Wt;break;default:a=Yt}r=a.bind(null,t,r,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Un(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=ya(i)))return;if(5===(l=o.tag)||6===l){n=s=o;continue e}i=i.parentNode}}n=n.return}Te(function(){var n=s,a=we(r),o=[];e:{var i=In.get(e);if(void 0!==i){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case Cn:case En:case Pn:l=gr;break;case Dn:l=Dr;break;case"scroll":l=ur;break;case"wheel":l=Tr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Er}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==i?i+"Capture":null:i;d=[];for(var m,h=n;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Me(h,p))&&d.push(Hn(h,f,m)))),u)break;h=h.return}0<d.length&&(i=new l(i,c,null,r,a),o.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!ya(c)&&!c[ha])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ya(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=mr,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Er,f="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?i:ba(l),m=null==c?i:ba(c),(i=new d(f,h+"leave",l,r,a)).target=u,i.relatedTarget=m,f=null,ya(a)===n&&((d=new d(p,h+"enter",c,r,a)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,h=0,m=d=l;m;m=Yn(m))h++;for(m=0,f=p;f;f=Yn(f))m++;for(;0<h-m;)d=Yn(d),h--;for(;0<m-h;)p=Yn(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Yn(d),p=Yn(p)}d=null}else d=null;null!==l&&Kn(o,i,l,d,!1),null!==c&&null!==u&&Kn(o,u,c,d,!0)}if("select"===(l=(i=n?ba(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Qr;else if(Vr(i))if(Gr)g=sn;else{g=nn;var x=rn}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=an);switch(g&&(g=g(e,n))?Ur(o,g,r,a):(x&&x(e,i,n),"focusout"===e&&(x=i._wrapperState)&&x.controlled&&"number"===i.type&&ee(i,"number",i.value)),x=n?ba(n):window,e){case"focusin":(Vr(x)||"true"===x.contentEditable)&&(gn=x,xn=n,yn=null);break;case"focusout":yn=xn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,bn(o,r,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":bn(o,r,a)}var y;if(Ar)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qr?$r(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Or&&"ko"!==r.locale&&(qr||"onCompositionStart"!==v?"onCompositionEnd"===v&&qr&&(y=er()):(Xt="value"in(Jt=a)?Jt.value:Jt.textContent,qr=!0)),0<(x=Wn(n,v)).length&&(v=new vr(v,e,null,r,a),o.push({event:v,listeners:x}),y?v.data=y:null!==(y=Fr(r))&&(v.data=y))),(y=zr?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(Rr=!0,Lr);case"textInput":return(e=t.data)===Lr&&Rr?null:e;default:return null}}(e,r):function(e,t){if(qr)return"compositionend"===e||!Ar&&$r(e,t)?(e=er(),Zt=Xt=Jt=null,qr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Or&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Wn(n,"onBeforeInput")).length&&(a=new vr("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=y))}Rn(o,t)})}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Me(e,r))&&n.unshift(Hn(e,s,a)),null!=(s=Me(e,t))&&n.push(Hn(e,s,a))),e=e.return}return n}function Yn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,a){for(var s=t._reactName,o=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Me(r,s))&&o.unshift(Hn(r,l,i)):a||null!=(l=Me(r,s))&&o.push(Hn(r,l,i))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Qn=/\r\n?/g,Gn=/\u0000|\uFFFD/g;function Jn(e){return("string"===typeof e?e:""+e).replace(Qn,"\n").replace(Gn,"")}function Xn(e,t,r){if(t=Jn(t),Jn(e)!==t&&r)throw Error(s(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:na;function ia(e){setTimeout(function(){throw e})}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Bt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),pa="__reactFiber$"+ua,ma="__reactProps$"+ua,ha="__reactContainer$"+ua,fa="__reactEvents$"+ua,ga="__reactListeners$"+ua,xa="__reactHandles$"+ua;function ya(e){var t=e[pa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ha]||r[pa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=da(e);null!==e;){if(r=e[pa])return r;e=da(e)}return t}r=(e=r).parentNode}return null}function va(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[ma]||null}var ja=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function Ca(e,t){Na++,ja[Na]=e.current,e.current=t}var Ea={},Pa=ka(Ea),Da=ka(!1),Ia=Ea;function Ta(e,t){var r=e.type.contextTypes;if(!r)return Ea;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){Sa(Da),Sa(Pa)}function _a(e,t,r){if(Pa.current!==Ea)throw Error(s(168));Ca(Pa,t),Ca(Da,r)}function za(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return L({},r,n)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Ia=Pa.current,Ca(Pa,e),Ca(Da,Da.current),!0}function La(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=za(e,t,Ia),n.__reactInternalMemoizedMergedChildContext=e,Sa(Da),Sa(Pa),Ca(Pa,e)):Sa(Da),Ca(Da,r)}var Ra=null,$a=!1,Fa=!1;function qa(e){null===Ra?Ra=[e]:Ra.push(e)}function Ba(){if(!Fa&&null!==Ra){Fa=!0;var e=0,t=vt;try{var r=Ra;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ra=null,$a=!1}catch(a){throw null!==Ra&&(Ra=Ra.slice(e+1)),Ye(Ze,Ba),a}finally{vt=t,Fa=!1}}return null}var Va=[],Ua=0,Ha=null,Wa=0,Ya=[],Ka=0,Qa=null,Ga=1,Ja="";function Xa(e,t){Va[Ua++]=Wa,Va[Ua++]=Ha,Ha=e,Wa=t}function Za(e,t,r){Ya[Ka++]=Ga,Ya[Ka++]=Ja,Ya[Ka++]=Qa,Qa=e;var n=Ga;e=Ja;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ga=1<<32-ot(t)+a|r<<a|n,Ja=s+e}else Ga=1<<s|r<<a|n,Ja=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===Ha;)Ha=Va[--Ua],Va[Ua]=null,Wa=Va[--Ua],Va[Ua]=null;for(;e===Qa;)Qa=Ya[--Ka],Ya[Ka]=null,Ja=Ya[--Ka],Ya[Ka]=null,Ga=Ya[--Ka],Ya[Ka]=null}var rs=null,ns=null,as=!1,ss=null;function os(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function is(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qa?{id:Ga,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var r=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(r.nextSibling);var n=rs;t&&is(e,t)?os(n,r):(e.flags=-4097&e.flags|2,as=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw ps(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ca(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=ns;e;)e=ca(e.nextSibling)}function ms(){ns=rs=null,as=!1}function hs(e){null===ss?ss=[e]:ss.push(e)}var fs=b.ReactCurrentBatchConfig;function gs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Lc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&ys(s)===t.type)?((n=a(t,r.props)).ref=gs(e,t,r),n.return=e,n):((n=_c(r.type,r.key,r.props,null,e.mode,n)).ref=gs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Rc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=zc(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=_c(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,null,t),r.return=e,r;case j:return(t=Rc(t,e.mode,r)).return=e,t;case M:return p(e,(0,t._init)(t._payload),r)}if(te(t)||z(t))return(t=zc(t,e.mode,r,null)).return=e,t;xs(e,t)}return null}function m(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case j:return r.key===a?d(e,t,r,n):null;case M:return m(e,t,(a=r._init)(r._payload),n)}if(te(r)||z(r))return null!==a?null:u(e,t,r,n,null);xs(e,r)}return null}function h(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case j:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case M:return h(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||z(n))return u(t,e=e.get(r)||null,n,a,null);xs(t,n)}return null}function f(a,s,i,l){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=m(a,u,i[f],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(a,u),s=o(x,s,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===i.length)return r(a,u),as&&Xa(a,f),c;if(null===u){for(;f<i.length;f++)null!==(u=p(a,i[f],l))&&(s=o(u,s,f),null===d?c=u:d.sibling=u,d=u);return as&&Xa(a,f),c}for(u=n(a,u);f<i.length;f++)null!==(g=h(u,a,f,i[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=o(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),as&&Xa(a,f),c}function g(a,i,l,c){var d=z(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=i,g=i=0,x=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(x=f,f=null):x=f.sibling;var v=m(a,f,y.value,c);if(null===v){null===f&&(f=x);break}e&&f&&null===v.alternate&&t(a,f),i=o(v,i,g),null===u?d=v:u.sibling=v,u=v,f=x}if(y.done)return r(a,f),as&&Xa(a,g),d;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=p(a,y.value,c))&&(i=o(y,i,g),null===u?d=y:u.sibling=y,u=y);return as&&Xa(a,g),d}for(f=n(a,f);!y.done;g++,y=l.next())null!==(y=h(f,a,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),i=o(y,i,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(a,e)}),as&&Xa(a,g),d}return function e(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,d=s;null!==d;){if(d.key===c){if((c=o.type)===N){if(7===d.tag){r(n,d.sibling),(s=a(d,o.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&ys(c)===d.type){r(n,d.sibling),(s=a(d,o.props)).ref=gs(n,d,o),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}o.type===N?((s=zc(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=_c(o.type,o.key,o.props,null,n.mode,l)).ref=gs(n,s,o),l.return=n,n=l)}return i(n);case j:e:{for(d=o.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=a(s,o.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Rc(o,n.mode,l)).return=n,n=s}return i(n);case M:return e(n,s,(d=o._init)(o._payload),l)}if(te(o))return f(n,s,o,l);if(z(o))return g(n,s,o,l);xs(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,o)).return=n,n=s):(r(n,s),(s=Lc(o,n.mode,l)).return=n,n=s),i(n)):r(n,s)}}var bs=vs(!0),ws=vs(!1),js=ka(null),Ns=null,ks=null,Ss=null;function Cs(){Ss=ks=Ns=null}function Es(e){var t=js.current;Sa(js),e._currentValue=t}function Ps(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ds(e,t){Ns=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vi=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ts=null;function Ms(e){null===Ts?Ts=[e]:Ts.push(e)}function As(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ms(t)):(r.next=a.next,a.next=r),t.interleaved=r,_s(e,n)}function _s(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var zs=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,_s(e,r)}return null===(a=n.interleaved)?(t.next=t,Ms(n)):(t.next=a.next,a.next=t),n.interleaved=t,_s(e,r)}function Fs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function qs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bs(e,t,r,n){var a=e.updateQueue;zs=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(o=0,d=c=l=null,i=s;;){var p=i.lane,m=i.eventTime;if((n&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,f=i;switch(p=t,m=r,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,u,p):h)||void 0===p)break e;u=L({},u,p);break e;case 2:zs=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[i]:p.push(i))}else m={eventTime:m,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,o|=p;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(p=i).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=u}}function Vs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Us={},Hs=ka(Us),Ws=ka(Us),Ys=ka(Us);function Ks(e){if(e===Us)throw Error(s(174));return e}function Qs(e,t){switch(Ca(Ys,t),Ca(Ws,e),Ca(Hs,Us),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Hs),Ca(Hs,t)}function Gs(){Sa(Hs),Sa(Ws),Sa(Ys)}function Js(e){Ks(Ys.current);var t=Ks(Hs.current),r=le(t,e.type);t!==r&&(Ca(Ws,e),Ca(Hs,r))}function Xs(e){Ws.current===e&&(Sa(Hs),Sa(Ws))}var Zs=ka(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,po=0,mo=0;function ho(){throw Error(s(321))}function fo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function go(e,t,r,n,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Zo:ei,e=r(n,a),uo){o=0;do{if(uo=!1,po=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,no.current=ti,e=r(n,a)}while(uo)}if(no.current=Xo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function xo(){var e=0!==po;return po=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=io,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,i=n):c=c.next=p,oo.lanes|=u,Ol|=u}d=d.next}while(null!==d&&d!==o);null===c?i=n:c.next=l,on(n,t.memoizedState)||(vi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Ol|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);on(o,t.memoizedState)||(vi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function No(){}function ko(e,t){var r=oo,n=vo(),a=t(),o=!on(n.memoizedState,a);if(o&&(n.memoizedState=a,vi=!0),n=n.queue,Oo(Eo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,To(9,Co.bind(null,r,n,a,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&so)||So(r,t,a)}return a}function So(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Co(e,t,r,n){t.value=r,t.getSnapshot=n,Po(t)&&Do(e)}function Eo(e,t,r){return r(function(){Po(t)&&Do(e)})}function Po(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Do(e){var t=_s(e,1);null!==t&&rc(t,e,1,-1)}function Io(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Mo(){return vo().memoizedState}function Ao(e,t,r,n){var a=yo();oo.flags|=e,a.memoizedState=To(1|t,r,void 0,void 0===n?null:n)}function _o(e,t,r,n){var a=vo();n=void 0===n?null:n;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==n&&fo(n,o.deps))return void(a.memoizedState=To(t,r,s,n))}oo.flags|=e,a.memoizedState=To(1|t,r,s,n)}function zo(e,t){return Ao(8390656,8,e,t)}function Oo(e,t){return _o(2048,8,e,t)}function Lo(e,t){return _o(4,2,e,t)}function Ro(e,t){return _o(4,4,e,t)}function $o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,_o(4,4,$o.bind(null,t,e),r)}function qo(){}function Bo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Uo(e,t,r){return 0===(21&so)?(e.baseState&&(e.baseState=!1,vi=!0),e.memoizedState=r):(on(r,t)||(r=ft(),oo.lanes|=r,Ol|=r,e.baseState=!0),t)}function Ho(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=ao.transition;ao.transition={};try{e(!1),t()}finally{vt=r,ao.transition=n}}function Wo(){return vo().memoizedState}function Yo(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qo(e))Go(t,r);else if(null!==(r=As(e,t,r,n))){rc(r,e,n,ec()),Jo(r,t,n)}}function Ko(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Go(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,r);if(a.hasEagerState=!0,a.eagerState=i,on(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ms(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=As(e,t,a,n))&&(rc(r,e,n,a=ec()),Jo(r,t,n))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Go(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Xo={readContext:Is,useCallback:ho,useContext:ho,useEffect:ho,useImperativeHandle:ho,useInsertionEffect:ho,useLayoutEffect:ho,useMemo:ho,useReducer:ho,useRef:ho,useState:ho,useDebugValue:ho,useDeferredValue:ho,useTransition:ho,useMutableSource:ho,useSyncExternalStore:ho,useId:ho,unstable_isNewReconciler:!1},Zo={readContext:Is,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:zo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ao(4194308,4,$o.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ao(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ao(4,2,e,t)},useMemo:function(e,t){var r=yo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Io,useDebugValue:qo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,a=yo();if(as){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Dl)throw Error(s(349));0!==(30&so)||So(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,zo(Eo.bind(null,n,o,e),[e]),n.flags|=2048,To(9,Co.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=yo(),t=Dl.identifierPrefix;if(as){var r=Ja;t=":"+t+"R"+(r=(Ga&~(1<<32-ot(Ga)-1)).toString(32)+r),0<(r=po++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Is,useCallback:Bo,useContext:Is,useEffect:Oo,useImperativeHandle:Fo,useInsertionEffect:Lo,useLayoutEffect:Ro,useMemo:Vo,useReducer:wo,useRef:Mo,useState:function(){return wo(bo)},useDebugValue:qo,useDeferredValue:function(e){return Uo(vo(),io.memoizedState,e)},useTransition:function(){return[wo(bo)[0],vo().memoizedState]},useMutableSource:No,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1},ti={readContext:Is,useCallback:Bo,useContext:Is,useEffect:Oo,useImperativeHandle:Fo,useInsertionEffect:Lo,useLayoutEffect:Ro,useMemo:Vo,useReducer:jo,useRef:Mo,useState:function(){return jo(bo)},useDebugValue:qo,useDeferredValue:function(e){var t=vo();return null===io?t.memoizedState=e:Uo(t,io.memoizedState,e)},useTransition:function(){return[jo(bo)[0],vo().memoizedState]},useMutableSource:No,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Rs(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=$s(e,s,a))&&(rc(t,e,a,n),Fs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Rs(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=$s(e,s,a))&&(rc(t,e,a,n),Fs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Rs(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=$s(e,a,n))&&(rc(t,e,n,r),Fs(t,e,n))}};function si(e,t,r,n,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,s))}function oi(e,t,r){var n=!1,a=Ea,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(a=Ma(t)?Ia:Pa.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ta(e,a):Ea),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Is(s):(s=Ma(t)?Ia:Pa.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Bs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=q(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pi="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,r){(r=Rs(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ul||(Ul=!0,Hl=n),ui(0,t)},r}function hi(e,t,r){(r=Rs(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof n&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new pi;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Rs(-1,1)).tag=2,$s(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yi=b.ReactCurrentOwner,vi=!1;function bi(e,t,r,n){t.child=null===e?ws(t,null,r,n):bs(t,e.child,r,n)}function wi(e,t,r,n,a){r=r.render;var s=t.ref;return Ds(t,a),n=go(e,t,r,n,s,a),r=xo(),null===e||vi?(as&&r&&es(t),t.flags|=1,bi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ui(e,t,a))}function ji(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=_c(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Ui(e,t,a)}return t.flags|=1,(e=Ac(s,n)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(vi=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Ui(e,t,a);0!==(131072&e.flags)&&(vi=!0)}}return Ci(e,t,r,n,a)}function ki(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Al,Ml),Ml|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Al,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ca(Al,Ml),Ml|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ca(Al,Ml),Ml|=n;return bi(e,t,a,r),t.child}function Si(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,r,n,a){var s=Ma(r)?Ia:Pa.current;return s=Ta(t,s),Ds(t,a),r=go(e,t,r,n,s,a),n=xo(),null===e||vi?(as&&n&&es(t),t.flags|=1,bi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ui(e,t,a))}function Ei(e,t,r,n,a){if(Ma(r)){var s=!0;Oa(t)}else s=!1;if(Ds(t,a),null===t.stateNode)Vi(e,t),oi(t,r,n),li(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Ta(t,c=Ma(r)?Ia:Pa.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==n||l!==c)&&ii(t,o,n,c),zs=!1;var p=t.memoizedState;o.state=p,Bs(t,n,o,a),l=t.memoizedState,i!==n||p!==l||Da.current||zs?("function"===typeof d&&(ni(t,r,d,n),l=t.memoizedState),(i=zs||si(t,r,i,n,p,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ls(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),o.props=c,u=t.pendingProps,p=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Is(l):l=Ta(t,l=Ma(r)?Ia:Pa.current);var m=r.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||p!==l)&&ii(t,o,n,l),zs=!1,p=t.memoizedState,o.state=p,Bs(t,n,o,a);var h=t.memoizedState;i!==u||p!==h||Da.current||zs?("function"===typeof m&&(ni(t,r,m,n),h=t.memoizedState),(c=zs||si(t,r,c,n,p,h,l)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Pi(e,t,r,n,s,a)}function Pi(e,t,r,n,a,s){Si(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&La(t,r,!1),Ui(e,t,s);n=t.stateNode,yi.current=t;var i=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,i,s)):bi(e,t,i,s),t.memoizedState=n.state,a&&La(t,r,!0),t.child}function Di(e){var t=e.stateNode;t.pendingContext?_a(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_a(0,t.context,!1),Qs(e,t.containerInfo)}function Ii(e,t,r,n,a){return ms(),hs(a),t.flags|=256,bi(e,t,r,n),t.child}var Ti,Mi,Ai,_i,zi={dehydrated:null,treeContext:null,retryLane:0};function Oi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Li(e,t,r){var n,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Oc(l,a,0,null),e=zc(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oi(r),t.memoizedState=zi,e):Ri(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,i){if(r)return 256&t.flags?(t.flags&=-257,$i(e,t,i,n=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Oc({mode:"visible",children:n.children},a,0,null),(o=zc(o,a,i,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&bs(t,e.child,null,i),t.child.memoizedState=Oi(i),t.memoizedState=zi,o);if(0===(1&t.mode))return $i(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,$i(e,t,i,n=di(o=Error(s(419)),n,void 0))}if(l=0!==(i&e.childLanes),vi||l){if(null!==(n=Dl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,_s(e,a),rc(n,e,a,-1))}return fc(),$i(e,t,i,n=di(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ns=ca(a.nextSibling),rs=t,as=!0,ss=null,null!==e&&(Ya[Ka++]=Ga,Ya[Ka++]=Ja,Ya[Ka++]=Qa,Ga=e.id,Ja=e.overflow,Qa=t),t=Ri(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(i){i=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?i=Ac(n,i):(i=zc(i,l,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Oi(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=zi,a}return e=(i=e.child).sibling,a=Ac(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Ri(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,r,n){return null!==n&&hs(n),bs(t,e.child,null,r),(e=Ri(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fi(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ps(e.return,t,r)}function qi(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Bi(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(bi(e,t,n.children,r),0!==(2&(n=Zs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fi(e,r,t);else if(19===e.tag)Fi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ca(Zs,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),qi(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}qi(t,!0,r,null,s);break;case"together":qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ui(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Ac(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ac(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Yi(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:case 17:return Ma(t.type)&&Aa(),Wi(t),null;case 3:return n=t.stateNode,Gs(),Sa(Da),Sa(Pa),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Mi(e,t),Wi(t),null;case 5:Xs(t);var a=Ks(Ys.current);if(r=t.type,null!==e&&null!=t.stateNode)Ai(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Wi(t),null}if(e=Ks(Hs.current),us(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[pa]=t,n[ma]=o,e=0!==(1&t.mode),r){case"dialog":$n("cancel",n),$n("close",n);break;case"iframe":case"object":case"embed":$n("load",n);break;case"video":case"audio":for(a=0;a<zn.length;a++)$n(zn[a],n);break;case"source":$n("error",n);break;case"img":case"image":case"link":$n("error",n),$n("load",n);break;case"details":$n("toggle",n);break;case"input":G(n,o),$n("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},$n("invalid",n);break;case"textarea":ae(n,o),$n("invalid",n)}for(var l in ye(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&$n("scroll",n)}switch(r){case"input":W(n),Z(n,o,!0);break;case"textarea":W(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[pa]=t,e[ma]=n,Ti(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(r,n),r){case"dialog":$n("cancel",e),$n("close",e),a=n;break;case"iframe":case"object":case"embed":$n("load",e),a=n;break;case"video":case"audio":for(a=0;a<zn.length;a++)$n(zn[a],e);a=n;break;case"source":$n("error",e),a=n;break;case"img":case"image":case"link":$n("error",e),$n("load",e),a=n;break;case"details":$n("toggle",e),a=n;break;case"input":G(e,n),a=Q(e,n),$n("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=L({},n,{value:void 0}),$n("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),$n("invalid",e)}for(o in ye(r,a),c=a)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?ge(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"===typeof d?("textarea"!==r||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=d&&"onScroll"===o&&$n("scroll",e):null!=d&&v(e,o,d,l))}switch(r){case"input":W(e),Z(e,n,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+U(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Ks(Ys.current),Ks(Hs.current),us(t)){if(n=t.stateNode,r=t.memoizedProps,n[pa]=t,(o=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[pa]=t,t.stateNode=n}return Wi(t),null;case 13:if(Sa(Zs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ps(),ms(),t.flags|=98560,o=!1;else if(o=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[pa]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===_l&&(_l=3):fc())),null!==t.updateQueue&&(t.flags|=4),Wi(t),null);case 4:return Gs(),Mi(e,t),null===e&&Bn(t.stateNode.containerInfo),Wi(t),null;case 10:return Es(t.type._context),Wi(t),null;case 19:if(Sa(Zs),null===(o=t.memoizedState))return Wi(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Hi(o,!1);else{if(0!==_l||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hi(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ca(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bl&&(t.flags|=128,n=!0,Hi(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return Wi(t),null}else 2*Je()-o.renderingStartTime>Bl&&1073741824!==r&&(t.flags|=128,n=!0,Hi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,r=Zs.current,Ca(Zs,n?1&r|2:1&r),t):(Wi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Wi(t),6&t.subtreeFlags&&(t.flags|=8192)):Wi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ki(e,t){switch(ts(t),t.tag){case 1:return Ma(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),Sa(Da),Sa(Pa),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Gs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ti=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Mi=function(){},Ai=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ks(Hs.current);var s,o=null;switch(r){case"input":a=Q(e,a),n=Q(e,n),o=[];break;case"select":a=L({},a,{value:void 0}),n=L({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in ye(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&$n("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},_i=function(e,t,r,n){r!==n&&(t.flags|=4)};var Qi=!1,Gi=!1,Ji="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){kc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,r,s)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ma],delete t[fa],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function pl(e,t,r){for(r=r.child;null!==r;)ml(e,t,r),r=r.sibling}function ml(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(i){}switch(r.tag){case 5:Gi||Zi(r,t);case 6:var n=dl,a=ul;dl=null,pl(e,t,r),ul=a,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Bt(e)):la(dl,r.stateNode));break;case 4:n=dl,a=ul,dl=r.stateNode.containerInfo,ul=!0,pl(e,t,r),dl=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Gi&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(r,t,o),a=a.next}while(a!==n)}pl(e,t,r);break;case 1:if(!Gi&&(Zi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){kc(r,t,i)}pl(e,t,r);break;case 21:pl(e,t,r);break;case 22:1&r.mode?(Gi=(n=Gi)||null!==r.memoizedState,pl(e,t,r),Gi=n):pl(e,t,r);break;default:pl(e,t,r)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ji),t.forEach(function(t){var n=Pc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function fl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));ml(o,i,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),xl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:fl(t,e),xl(e),512&n&&null!==r&&Zi(r,r.return);break;case 5:if(fl(t,e),xl(e),512&n&&null!==r&&Zi(r,r.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){kc(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(a,o),ve(l,i);var d=ve(l,o);for(i=0;i<c.length;i+=2){var u=c[i],p=c[i+1];"style"===u?ge(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):v(a,u,p,d)}switch(l){case"input":X(a,o);break;case"textarea":se(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?re(a,!!o.multiple,h,!1):m!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[ma]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(fl(t,e),xl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(fl(t,e),xl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:fl(t,e),xl(e);break;case 13:fl(t,e),xl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(ql=Je())),4&n&&hl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Gi=(d=Gi)||u,fl(t,e),Gi=d):fl(t,e),xl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xi=e,u=e.child;null!==u;){for(p=Xi=u;null!==Xi;){switch(h=(m=Xi).child,m.tag){case 0:case 11:case 14:case 15:rl(4,m,m.return);break;case 1:Zi(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){n=m,r=m.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(n,r,g)}}break;case 5:Zi(m,m.return);break;case 22:if(null!==m.memoizedState){wl(p);continue}}null!==h?(h.return=m,Xi=h):wl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=p.stateNode,i=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",i))}catch(g){kc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),xl(e),4&n&&hl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(pe(a,""),n.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Xi=e,vl(e,t,r)}function vl(e,t,r){for(var n=0!==(1&e.mode);null!==Xi;){var a=Xi,s=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Qi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Gi;i=Qi;var c=Gi;if(Qi=o,(Gi=l)&&!c)for(Xi=a;null!==Xi;)l=(o=Xi).child,22===o.tag&&null!==o.memoizedState?jl(a):null!==l?(l.return=o,Xi=l):jl(a);for(;null!==s;)Xi=s,vl(s,t,r),s=s.sibling;Xi=a,Qi=i,Gi=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xi=s):bl(e)}}function bl(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gi||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Gi)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vs(t,o,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Vs(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Bt(p)}}}break;default:throw Error(s(163))}Gi||512&t.flags&&al(t)}catch(m){kc(t,t.return,m)}}if(t===e){Xi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xi=r;break}Xi=t.return}}function wl(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xi=r;break}Xi=t.return}}function jl(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){kc(t,a,l)}}var s=t.return;try{al(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var Nl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Pl=0,Dl=null,Il=null,Tl=0,Ml=0,Al=ka(0),_l=0,zl=null,Ol=0,Ll=0,Rl=0,$l=null,Fl=null,ql=0,Bl=1/0,Vl=null,Ul=!1,Hl=null,Wl=null,Yl=!1,Kl=null,Ql=0,Gl=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Pl)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Tl?Tl&-Tl:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,r,n){if(50<Gl)throw Gl=0,Jl=null,Error(s(185));xt(e,r,n),0!==(2&Pl)&&e===Dl||(e===Dl&&(0===(2&Pl)&&(Ll|=r),4===_l&&ic(e,Tl)),nc(e,n),1===r&&0===Pl&&0===(1&t.mode)&&(Bl=Je()+500,$a&&Ba()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&r)&&0===(i&n)||(a[o]=mt(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=pt(e,e===Dl?Tl:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){$a=!0,qa(e)}(lc.bind(null,e)):qa(lc.bind(null,e)),oa(function(){0===(6&Pl)&&Ba()}),r=null;else{switch(bt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Dc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&Pl))throw Error(s(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var n=pt(e,e===Dl?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var a=Pl;Pl|=2;var o=hc();for(Dl===e&&Tl===t||(Vl=null,Bl=Je()+500,pc(e,t));;)try{yc();break}catch(l){mc(e,l)}Cs(),Sl.current=o,Pl=a,null!==Il?t=0:(Dl=null,Tl=0,t=_l)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(n=a,t=sc(e,a))),1===t)throw r=zl,pc(e,0),ic(e,n),nc(e,Je()),r;if(6===t)ic(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,n))&&(0!==(o=ht(e))&&(n=o,t=sc(e,o))),1===t))throw r=zl,pc(e,0),ic(e,n),nc(e,Je()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Fl,Vl);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=ql+500-Je())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wc.bind(null,e,Fl,Vl),t);break}wc(e,Fl,Vl);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ot(n);o=1<<i,(i=t[i])>a&&(a=i),n&=~o}if(n=a,10<(n=(120>(n=Je()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=na(wc.bind(null,e,Fl,Vl),n);break}wc(e,Fl,Vl);break;default:throw Error(s(329))}}}return nc(e,Je()),e.callbackNode===r?ac.bind(null,e):null}function sc(e,t){var r=$l;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=r,null!==t&&oc(t)),e}function oc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ic(e,t){for(t&=~Rl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Pl))throw Error(s(327));jc();var t=pt(e,0);if(0===(1&t))return nc(e,Je()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=ht(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=zl,pc(e,0),ic(e,t),nc(e,Je()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fl,Vl),nc(e,Je()),null}function cc(e,t){var r=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=r)&&(Bl=Je()+500,$a&&Ba())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&jc();var t=Pl;Pl|=1;var r=El.transition,n=vt;try{if(El.transition=null,vt=1,e)return e()}finally{vt=n,El.transition=r,0===(6&(Pl=t))&&Ba()}}function uc(){Ml=Al.current,Sa(Al)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Il)for(r=Il.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Aa();break;case 3:Gs(),Sa(Da),Sa(Pa),ro();break;case 5:Xs(n);break;case 4:Gs();break;case 13:case 19:Sa(Zs);break;case 10:Es(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Dl=e,Il=e=Ac(e.current,null),Tl=Ml=t,_l=0,zl=null,Rl=Ll=Ol=0,Fl=$l=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(n=(r=Ts[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=a,n.next=o}r.pending=n}Ts=null}return e}function mc(e,t){for(;;){var r=Il;try{if(Cs(),no.current=Xo,co){for(var n=oo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,po=0,Cl.current=null,null===r||null===r.return){_l=1,zl=t,Il=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=gi(i);if(null!==h){h.flags&=-257,xi(h,i,l,0,t),1&h.mode&&fi(o,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fi(o,d,t),fc();break e}c=Error(s(426))}else if(as&&1&l.mode){var x=gi(i);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xi(x,i,l,0,t),hs(ci(c,l));break e}}o=c=ci(c,l),4!==_l&&(_l=2),null===$l?$l=[o]:$l.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,qs(o,mi(0,c,t));break e;case 1:l=c;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Wl||!Wl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,qs(o,hi(o,l,t));break e}}o=o.return}while(null!==o)}bc(r)}catch(b){t=b,Il===r&&null!==r&&(Il=r=r.return);continue}break}}function hc(){var e=Sl.current;return Sl.current=Xo,null===e?Xo:e}function fc(){0!==_l&&3!==_l&&2!==_l||(_l=4),null===Dl||0===(268435455&Ol)&&0===(268435455&Ll)||ic(Dl,Tl)}function gc(e,t){var r=Pl;Pl|=2;var n=hc();for(Dl===e&&Tl===t||(Vl=null,pc(e,t));;)try{xc();break}catch(a){mc(e,a)}if(Cs(),Pl=r,Sl.current=n,null!==Il)throw Error(s(261));return Dl=null,Tl=0,_l}function xc(){for(;null!==Il;)vc(Il)}function yc(){for(;null!==Il&&!Qe();)vc(Il)}function vc(e){var t=Nl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?bc(e):Il=t,Cl.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Yi(r,t,Ml)))return void(Il=r)}else{if(null!==(r=Ki(r,t)))return r.flags&=32767,void(Il=r);if(null===e)return _l=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===_l&&(_l=5)}function wc(e,t,r){var n=vt,a=El.transition;try{El.transition=null,vt=1,function(e,t,r,n){do{jc()}while(null!==Kl);if(0!==(6&Pl))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,o),e===Dl&&(Il=Dl=null,Tl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Yl||(Yl=!0,Dc(tt,function(){return jc(),null})),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=El.transition,El.transition=null;var i=vt;vt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(ea=Ut,mn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==r||0!==a&&3!==p.nodeType||(l=i+a),p!==o||0!==n&&3!==p.nodeType||(c=i+n),3===p.nodeType&&(i+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===r&&++d===a&&(l=i),m===o&&++u===n&&(c=i),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ut=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ri(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}f=tl,tl=!1}(e,r),gl(r,e),hn(ta),Ut=!!ea,ta=ea=null,e.current=r,yl(r,e,a),Ge(),Pl=l,vt=i,El.transition=o}else e.current=r;if(Yl&&(Yl=!1,Kl=e,Ql=a),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ul)throw Ul=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Gl++:(Gl=0,Jl=e):Gl=0,Ba()}(e,t,r,n)}finally{El.transition=a,vt=n}return null}function jc(){if(null!==Kl){var e=bt(Ql),t=El.transition,r=vt;try{if(El.transition=null,vt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&Pl))throw Error(s(331));var a=Pl;for(Pl|=4,Xi=e.current;null!==Xi;){var o=Xi,i=o.child;if(0!==(16&Xi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xi=d;null!==Xi;){var u=Xi;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var p=u.child;if(null!==p)p.return=u,Xi=p;else for(;null!==Xi;){var m=(u=Xi).sibling,h=u.return;if(sl(u),u===d){Xi=null;break}if(null!==m){m.return=h,Xi=m;break}Xi=h}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Xi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(o=Xi).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xi=y;break e}Xi=o.return}}var v=e.current;for(Xi=v;null!==Xi;){var b=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Xi=b;else e:for(i=v;null!==Xi;){if(0!==(2048&(l=Xi).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){kc(l,l.return,j)}if(l===i){Xi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xi=w;break e}Xi=l.return}}if(Pl=a,Ba(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(j){}n=!0}return n}finally{vt=r,El.transition=t}}return!1}function Nc(e,t,r){e=$s(e,t=mi(0,t=ci(r,t),1),1),t=ec(),null!==e&&(xt(e,1,t),nc(e,t))}function kc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Wl||!Wl.has(n))){t=$s(t,e=hi(t,e=ci(r,e),1),1),e=ec(),null!==t&&(xt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Dl===e&&(Tl&r)===r&&(4===_l||3===_l&&(130023424&Tl)===Tl&&500>Je()-ql?pc(e,0):Rl|=r),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=_s(e,t))&&(xt(e,t,r),nc(e,r))}function Ec(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Pc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Cc(e,r)}function Dc(e,t){return Ye(e,t)}function Ic(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,n){return new Ic(e,t,r,n)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _c(e,t,r,n,a,o){var i=2;if(n=e,"function"===typeof e)Mc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return zc(r.children,a,o,t);case k:i=8,a|=8;break;case S:return(e=Tc(12,r,t,2|a)).elementType=S,e.lanes=o,e;case D:return(e=Tc(13,r,t,a)).elementType=D,e.lanes=o,e;case I:return(e=Tc(19,r,t,a)).elementType=I,e.lanes=o,e;case A:return Oc(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case E:i=9;break e;case P:i=11;break e;case T:i=14;break e;case M:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(i,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function zc(e,t,r,n){return(e=Tc(7,e,n,t)).lanes=r,e}function Oc(e,t,r,n){return(e=Tc(22,e,n,t)).elementType=A,e.lanes=r,e.stateNode={isHidden:!1},e}function Lc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Rc(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fc(e,t,r,n,a,s,o,i,l){return e=new $c(e,t,r,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function qc(e){if(!e)return Ea;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Ma(r))return za(e,r,t)}return t}function Bc(e,t,r,n,a,s,o,i,l){return(e=Fc(r,n,!0,e,0,s,0,i,l)).context=qc(null),r=e.current,(s=Rs(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,$s(r,s,a),e.current.lanes=a,xt(e,a,n),nc(e,n),e}function Vc(e,t,r,n){var a=t.current,s=ec(),o=tc(a);return r=qc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Rs(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=$s(a,t,o))&&(rc(e,a,o,s),Fs(e,a,o)),o}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Da.current)vi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vi=!1,function(e,t,r){switch(t.tag){case 3:Di(t),ms();break;case 5:Js(t);break;case 1:Ma(t.type)&&Oa(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ca(js,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ca(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Li(e,t,r):(Ca(Zs,1&Zs.current),null!==(e=Ui(e,t,r))?e.sibling:null);Ca(Zs,1&Zs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Bi(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,r)}return Ui(e,t,r)}(e,t,r);vi=0!==(131072&e.flags)}else vi=!1,as&&0!==(1048576&t.flags)&&Za(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vi(e,t),e=t.pendingProps;var a=Ta(t,Pa.current);Ds(t,r),a=go(null,t,n,e,a,r);var o=xo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(n)?(o=!0,Oa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Os(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,n,e,r),t=Pi(null,t,n,!0,o,r)):(t.tag=0,as&&o&&es(t),bi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===T)return 14}return 2}(n),e=ri(n,e),a){case 0:t=Ci(null,t,n,e,r);break e;case 1:t=Ei(null,t,n,e,r);break e;case 11:t=wi(null,t,n,e,r);break e;case 14:t=ji(null,t,n,ri(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ci(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ei(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 3:e:{if(Di(t),null===e)throw Error(s(387));n=t.pendingProps,a=(o=t.memoizedState).element,Ls(e,t),Bs(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ii(e,t,n,r,a=ci(Error(s(423)),t));break e}if(n!==a){t=Ii(e,t,n,r,a=ci(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),rs=t,as=!0,ss=null,r=ws(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ms(),n===a){t=Ui(e,t,r);break e}bi(e,t,n,r)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ra(n,a)?i=null:null!==o&&ra(n,o)&&(t.flags|=32),Si(e,t),bi(e,t,i,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Li(e,t,r);case 4:return Qs(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=bs(t,null,n,r):bi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,wi(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 7:return bi(e,t,t.pendingProps,r),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ca(js,n._currentValue),n._currentValue=i,null!==o)if(on(o.value,i)){if(o.children===a.children&&!Da.current){t=Ui(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Rs(-1,r&-r)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ps(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),Ps(i,r,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}bi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ds(t,r),n=n(a=Is(a)),t.flags|=1,bi(e,t,n,r),t.child;case 14:return a=ri(n=t.type,t.pendingProps),ji(e,t,n,a=ri(n.type,a),r);case 15:return Ni(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),Vi(e,t),t.tag=1,Ma(n)?(e=!0,Oa(t)):e=!1,Ds(t,r),oi(t,n,a),li(t,n,a,r),Pi(null,t,n,!0,e,r);case 19:return Bi(e,t,r);case 22:return ki(e,t,r)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Uc(o);i.call(e)}}Vc(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Uc(o);s.call(e)}}var o=Bc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[ha]=o.current,Bn(8===e.nodeType?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Uc(l);i.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ha]=l.current,Bn(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,l,r,n)}),l}(r,t,e,a,n);return Uc(o)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[ha]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<At.length&&0!==t&&t<At[r].priority;r++);At.splice(r,0,e),0===r&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Je()),0===(6&Pl)&&(Bl=Je()+500,Ba()))}break;case 13:dc(function(){var t=_s(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=_s(e,134217728);if(null!==t)rc(t,e,134217728,ec());Wc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=_s(e,t);if(null!==r)rc(r,e,t,ec());Wc(e,t)}},kt=function(){return vt},St=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},je=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(s(90));Y(n),X(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Pe=cc,De=dc;var ed={usingClientEntryPoint:!1,Events:[va,ba,wa,Ce,Ee,cc]},td={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(rd),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var r=!1,n="",a=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fc(e,1,!1,null,0,r,0,n,a),e[ha]=t.current,Bn(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Gc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",i=Yc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Bc(t,null,e,1,null!=r?r:null,a,0,o,i),e[ha]=t.current,Bn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Qc(t)},t.render=function(e,t,r){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ha]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,r)=>{"use strict";e.exports=r(983)},853:(e,t,r)=>{"use strict";e.exports=r(234)},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},983:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,x=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case s:case i:case o:case m:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case f:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=s,t.Lazy=g,t.Memo=f,t.Portal=a,t.Profiler=i,t.StrictMode=o,t.Suspense=m,t.isAsyncMode=function(e){return j(e)||w(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===f},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===i},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===u||e===i||e===o||e===m||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x)},t.typeOf=w}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>o[e]=()=>n[e]);return o.default=()=>n,r.d(s,o),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+".df05dd28.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="sna-gz-shop-form:";r.l=(n,a,s,o)=>{if(e[n])e[n].push(a);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[a];var p=(t,r)=>{i.onerror=i.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach(e=>e(r)),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise((r,n)=>a=e[t]=[r,n]);n.push(a[2]=s);var o=r.p+r.u(t),i=new Error;r.l(o,n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}},"chunk-"+t,t)}};var t=(t,n)=>{var a,s,o=n[0],i=n[1],l=n[2],c=0;if(o.some(t=>0!==e[t])){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)l(r)}for(t&&t(n);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunksna_gz_shop_form=self.webpackChunksna_gz_shop_form||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Ux,hasStandardBrowserEnv:()=>Wx,hasStandardBrowserWebWorkerEnv:()=>Yx,navigator:()=>Hx,origin:()=>Kx});var t=r(43),n=r.t(t,2),a=r(391);const s=r.p+"static/media/logo.4477f8d1eb1847865a32.png";var o=r(579);const i=()=>(0,o.jsx)("header",{className:"bg-white shadow-lg absolute top-0 left-0 right-0 z-50",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("img",{src:s,alt:"SNA GZ",className:"h-12 w-auto",style:{objectFit:"contain"}}),(0,o.jsxs)("div",{className:"ml-4 border-l-2 border-sna-gray pl-4",children:[(0,o.jsx)("h1",{className:"text-xl font-heading font-semibold text-sna-dark",children:"Cr\xe9ation de Boutique"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Formulaire de configuration"})]})]}),(0,o.jsx)("div",{className:"hidden sm:block",children:(0,o.jsx)("div",{className:"bg-sna-gray/10 px-4 py-2 rounded-sna",children:(0,o.jsx)("span",{className:"text-sm text-sna-primary font-medium",children:"Support technique : support@snagz.com"})})})]})})}),l=()=>{const e=(new Date).getFullYear(),t=[{name:"Facebook",href:"#facebook",icon:(0,o.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})},{name:"Instagram",href:"#",icon:(0,o.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})},{name:"Twitter",href:"#",icon:(0,o.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})},{name:"LinkedIn",href:"#",icon:(0,o.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})}];return(0,o.jsx)("footer",{className:"bg-white border-t border-gray-200",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,o.jsxs)("div",{className:"col-span-1",children:[s&&(0,o.jsx)("img",{src:s,alt:"SNA GZ",className:"h-12 w-auto mb-4",style:{objectFit:"contain"}}),(0,o.jsx)("p",{className:"text-gray-500 text-sm",children:"SNA GZ est votre partenaire de confiance pour la cr\xe9ation et la gestion de boutiques en ligne. Notre plateforme vous accompagne dans votre r\xe9ussite digitale."})]}),Object.values({company:{title:"Entreprise",links:[{name:"\xc0 propos",href:"#about-us"},{name:"Carri\xe8res",href:"#careers"},{name:"Actualit\xe9s",href:"#news"},{name:"Contact",href:"#contact"}]},legal:{title:"Mentions l\xe9gales",links:[{name:"Conditions g\xe9n\xe9rales",href:"#terms"},{name:"Politique de confidentialit\xe9",href:"#privacy"},{name:"Mentions l\xe9gales",href:"#legal-notice"},{name:"Cookies",href:"#cookies"}]},support:{title:"Support",links:[{name:"Centre d'aide",href:"#help-center"},{name:"FAQ",href:"#faq"},{name:"Support technique",href:"#tech-support"},{name:"Status des services",href:"#status"}]}}).map(e=>(0,o.jsxs)("div",{className:"col-span-1",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold text-gray-900 tracking-wider uppercase mb-4",children:e.title}),(0,o.jsx)("ul",{className:"space-y-3",children:e.links.map(e=>(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:e.href,className:"text-base text-gray-500 hover:text-gray-900",children:e.name})},e.name))})]},e.title))]}),(0,o.jsx)("div",{className:"mt-8 border-t border-gray-200 pt-8",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,o.jsx)("div",{className:"flex space-x-6 md:order-2",children:t.map(e=>(0,o.jsxs)("a",{href:e.href,className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[(0,o.jsx)("span",{className:"sr-only",children:e.name}),e.icon]},e.name))}),(0,o.jsxs)("p",{className:"mt-8 text-base text-gray-400 md:mt-0 md:order-1",children:["\xa9 ",e," SNA GZ. Tous droits r\xe9serv\xe9s."]})]})})]})})};const c=function(e){let{username:r,session:n,portalType:a,onPasswordSet:s,onCancel:i,cognitoChallengeParameters:l}=e;const[c,d]=(0,t.useState)(""),[u,p]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[f,g]=(0,t.useState)(!1);return(0,o.jsx)("div",{className:"min-h-screen w-full bg-gray-100 flex flex-col justify-center items-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:"D\xe9finir un nouveau mot de passe"}),(0,o.jsxs)("p",{className:"text-center text-sm text-gray-600 mb-6",children:["Bienvenue, ",r," ! Veuillez d\xe9finir un nouveau mot de passe pour continuer."]}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),c!==u)return void h("Les mots de passe ne correspondent pas.");if(!c)return void h("Le nouveau mot de passe ne peut pas \xeatre vide.");if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>\/?]).{8,}$/.test(c))return void h("Le mot de passe doit contenir au moins 8 caract\xe8res, une majuscule, une minuscule, un chiffre et un caract\xe8re sp\xe9cial.");const t=(()=>{switch(a){case"client":return"/complete-new-password-client";case"internal":return"/complete-new-password-internal";case"admin":return"/complete-new-password-admin";default:return console.error("Type de portail invalide:",a),null}})();if(t){g(!0);try{const e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,newPassword:c,session:n})}),a=await e.json();if(e.ok&&a.success){console.log("New password set successfully for:",r),sessionStorage.setItem("isFirstLogin","true");const e=`user_${r.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase()}`;sessionStorage.setItem("userId",e),localStorage.setItem("userId",e),s?s(a.redirectUrl):window.location.href=a.redirectUrl||"/"}else h(a.message||"\xc9chec de la d\xe9finition du nouveau mot de passe.")}catch(o){console.error("Erreur lors de la d\xe9finition du nouveau mot de passe:",o),h("Une erreur inattendue s'est produite.")}g(!1)}else h("Erreur de configuration.")},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:`${a}-new-password`,className:"block text-sm font-medium text-gray-700",children:"Nouveau mot de passe"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"password",id:`${a}-new-password`,value:c,onChange:e=>d(e.target.value),required:!0,autoFocus:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm"})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:`${a}-confirm-password`,className:"block text-sm font-medium text-gray-700",children:"Confirmer le nouveau mot de passe"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"password",id:`${a}-confirm-password`,value:u,onChange:e=>p(e.target.value),required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm"})})]}),m&&(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,o.jsx)("span",{className:"block sm:inline",children:m})}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[(0,o.jsx)("button",{type:"submit",disabled:f,className:"w-full sm:w-auto justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary disabled:opacity-50",children:f?"D\xe9finition en cours...":"D\xe9finir le mot de passe"}),(0,o.jsx)("button",{type:"button",onClick:i,disabled:f,className:"w-full sm:w-auto justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary disabled:opacity-50",children:"Annuler"})]}),(0,o.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-md border border-gray-200",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Le mot de passe doit respecter les exigences suivantes :"}),(0,o.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:[(0,o.jsx)("li",{children:"Au moins 8 caract\xe8res"}),(0,o.jsx)("li",{children:"Au moins une lettre majuscule (A-Z)"}),(0,o.jsx)("li",{children:"Au moins une lettre minuscule (a-z)"}),(0,o.jsx)("li",{children:"Au moins un chiffre (0-9)"}),(0,o.jsx)("li",{children:"Au moins un caract\xe8re sp\xe9cial (ex : !@#$%^&*)"})]})]})]})]})})};var d=r(173),u=r.n(d),p=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var g=function(e){var r,n;function a(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(h(t)),t.handleErrored=t.handleErrored.bind(h(t)),t.handleChange=t.handleChange.bind(h(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(h(t)),t}n=e,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,f(r,n);var s=a.prototype;return s.getCaptchaFunction=function(e){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[e]:this.props.grecaptcha[e]:null},s.getValue=function(){var e=this.getCaptchaFunction("getResponse");return e&&void 0!==this._widgetId?e(this._widgetId):null},s.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},s.execute=function(){var e=this.getCaptchaFunction("execute");if(e&&void 0!==this._widgetId)return e(this._widgetId);this._executeRequested=!0},s.executeAsync=function(){var e=this;return new Promise(function(t,r){e.executionResolve=t,e.executionReject=r,e.execute()})},s.reset=function(){var e=this.getCaptchaFunction("reset");e&&void 0!==this._widgetId&&e(this._widgetId)},s.forceReset=function(){var e=this.getCaptchaFunction("reset");e&&e()},s.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},s.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},s.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},s.explicitRender=function(){var e=this.getCaptchaFunction("render");if(e&&void 0===this._widgetId){var t=document.createElement("div");this._widgetId=e(t,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(t)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},s.componentDidMount=function(){this.explicitRender()},s.componentDidUpdate=function(){this.explicitRender()},s.handleRecaptchaRef=function(e){this.captcha=e},s.render=function(){var e=this.props,r=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,e.isolated,function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,p));return t.createElement("div",m({},r,{ref:this.handleRecaptchaRef}))},a}(t.Component);g.displayName="ReCAPTCHA",g.propTypes={sitekey:u().string.isRequired,onChange:u().func,grecaptcha:u().object,theme:u().oneOf(["dark","light"]),type:u().oneOf(["image","audio"]),tabindex:u().number,onExpired:u().func,onErrored:u().func,size:u().oneOf(["compact","normal","invisible"]),stoken:u().string,hl:u().string,badge:u().oneOf(["bottomright","bottomleft","inline"]),isolated:u().bool},g.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var x=r(219),y=r.n(x);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}var b={},w=0;var j="onloadcallback";function N(){return"undefined"!==typeof window&&window.recaptchaOptions||{}}const k=(S=function(){var e=N(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+j+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+j+"&render=explicit"},C=(C={callbackName:j,globalName:"grecaptcha",attributes:N().nonce?{nonce:N().nonce}:{}})||{},function(e){var r=e.displayName||e.name||"Component",n=function(r){var n,a;function s(e,t){var n;return(n=r.call(this,e,t)||this).state={},n.__scriptURL="",n}a=r,(n=s).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a;var o=s.prototype;return o.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+w++),this.__scriptLoaderID},o.setupScriptURL=function(){return this.__scriptURL="function"===typeof S?S():S,this.__scriptURL},o.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)})},o.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=b[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[C.callbackName]},o.componentDidMount=function(){var e=this,t=this.setupScriptURL(),r=this.asyncScriptLoaderGetScriptLoaderID(),n=C,a=n.globalName,s=n.callbackName,o=n.scriptId;if(a&&"undefined"!==typeof window[a]&&(b[t]={loaded:!0,observers:{}}),b[t]){var i=b[t];return i&&(i.loaded||i.errored)?void this.asyncScriptLoaderHandleLoad(i):void(i.observers[r]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var l={};l[r]=function(t){return e.asyncScriptLoaderHandleLoad(t)},b[t]={loaded:!1,observers:l};var c=document.createElement("script");for(var d in c.src=t,c.async=!0,C.attributes)c.setAttribute(d,C.attributes[d]);o&&(c.id=o);var u=function(e){if(b[t]){var r=b[t].observers;for(var n in r)e(r[n])&&delete r[n]}};s&&"undefined"!==typeof window&&(window[s]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),c.onload=function(){var e=b[t];e&&(e.loaded=!0,u(function(t){return!s&&(t(e),!0)}))},c.onerror=function(){var e=b[t];e&&(e.errored=!0,u(function(t){return t(e),!0}))},document.body.appendChild(c)},o.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===C.removeOnUnmount)for(var t=document.getElementsByTagName("script"),r=0;r<t.length;r+=1)t[r].src.indexOf(e)>-1&&t[r].parentNode&&t[r].parentNode.removeChild(t[r]);var n=b[e];n&&(delete n.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===C.removeOnUnmount&&delete b[e])},o.render=function(){var r=C.globalName,n=this.props,a=(n.asyncScriptOnLoad,n.forwardedRef),s=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(n,["asyncScriptOnLoad","forwardedRef"]);return r&&"undefined"!==typeof window&&(s[r]="undefined"!==typeof window[r]?window[r]:void 0),s.ref=a,(0,t.createElement)(e,s)},s}(t.Component),a=(0,t.forwardRef)(function(e,r){return(0,t.createElement)(n,v({},e,{forwardedRef:r}))});return a.displayName="AsyncScriptLoader("+r+")",a.propTypes={asyncScriptOnLoad:u().func},y()(a,e)})(g);var S,C;const E=k,P=(0,t.forwardRef)((e,r)=>{let{onVerify:n,onExpired:a,onError:s,className:i=""}=e;const l="6LeQRIorAAAAAFK1K4kPJCNtj5GYSEWjuPEchp9J",[c,d]=(0,t.useState)(null),[u,p]=(0,t.useState)(!1);console.log("reCAPTCHA Configuration:",{siteKey:l,hasValidKey:!(0||!l.trim()),isDevelopmentMode:u,nodeEnv:"production"}),(0,t.useEffect)(()=>{""===l.trim()&&n&&(console.log("\ud83d\udd27 reCAPTCHA not configured: Auto-completing CAPTCHA verification"),n("development-bypass-token"))},[l,n]);const m=()=>{d(null),p(!1)};return""===l.trim()?(console.warn("reCAPTCHA site key not configured or empty."),(0,o.jsx)("div",{className:`bg-blue-50 border border-blue-200 rounded-lg p-3 ${i}`,children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"mr-2",children:"\ud83d\udd27"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"Mode d\xe9veloppement - CAPTCHA simul\xe9"}),(0,o.jsx)("p",{className:"text-blue-600 text-xs mt-1",children:"Configurez REACT_APP_RECAPTCHA_SITE_KEY pour activer le CAPTCHA r\xe9el"})]})]})})):u||c?(0,o.jsx)("div",{className:`bg-orange-50 border border-orange-200 rounded-lg p-3 ${i}`,children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"mr-2",children:"\u26a0\ufe0f"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-orange-700 text-sm font-medium",children:"CAPTCHA en mode bypass"}),(0,o.jsx)("p",{className:"text-orange-600 text-xs mt-1",children:c?"Erreur CAPTCHA - V\xe9rification automatique activ\xe9e":"V\xe9rification automatique en mode d\xe9veloppement"})]})]}),(0,o.jsx)("button",{onClick:m,className:"text-orange-600 text-xs underline hover:text-orange-700",children:"R\xe9essayer"})]})}):(0,o.jsx)("div",{className:`flex justify-center ${i}`,children:(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)(E,{ref:r,sitekey:l,onChange:n,onExpired:a,onError:e=>{console.error("\u274c reCAPTCHA error:",e),d(e),s&&s(e)},onLoad:()=>{console.log("\u2705 reCAPTCHA loaded successfully"),d(null)},theme:"light",size:"normal"}),!1]})})});P.displayName="ReCaptcha";const D=P,I=e=>{let{isOpen:r,onClose:n,portalType:a="client"}=e;const[s,i]=(0,t.useState)(""),[l,c]=(0,t.useState)(a),[d,u]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),y=(0,t.useRef)(),v=()=>{i(""),c(a),u(""),f(""),x(""),m(!1),y.current&&y.current.reset(),n()};return r?(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Mot de passe oubli\xe9"}),(0,o.jsx)("button",{onClick:v,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:p,children:(0,o.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x(""),f(""),s.trim())if(s.includes("@"))if(d){m(!0);try{const e="/api/password-reset/request",t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.trim(),userType:l,captchaToken:d})}),r=await t.json();t.ok?(f(r.message||"Email de r\xe9initialisation envoy\xe9 avec succ\xe8s."),i(""),u(""),y.current&&y.current.reset()):x(r.message||"Une erreur s'est produite. Veuillez r\xe9essayer.")}catch(g){console.error("Error requesting password reset:",g),x("Erreur de connexion. Veuillez v\xe9rifier votre connexion internet et r\xe9essayer.")}finally{m(!1)}}else x("Veuillez compl\xe9ter la v\xe9rification CAPTCHA.");else x("Veuillez saisir une adresse email valide.");else x("Veuillez saisir votre adresse email.")},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de compte"}),(0,o.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:p,children:[(0,o.jsx)("option",{value:"client",children:"Client"}),(0,o.jsx)("option",{value:"internal",children:"Personnel interne"}),(0,o.jsx)("option",{value:"admin",children:"Administrateur"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),(0,o.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"votre@email.com",disabled:p,required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"V\xe9rification de s\xe9curit\xe9"}),(0,o.jsx)(D,{ref:y,onVerify:e=>{u(e),x("")},onExpired:()=>{u("")},onError:()=>{x("Erreur lors de la v\xe9rification CAPTCHA. Veuillez r\xe9essayer."),u("")}})]}),g&&(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,o.jsx)("div",{className:"ml-3",children:(0,o.jsx)("p",{className:"text-sm text-red-800",children:g})})]})}),h&&(0,o.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,o.jsx)("div",{className:"ml-3",children:(0,o.jsx)("p",{className:"text-sm text-green-800",children:h})})]})}),(0,o.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:v,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:"Annuler"}),(0,o.jsx)("button",{type:"submit",disabled:p||!s.trim()||!d,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):"Envoyer le lien"})]})]}),(0,o.jsx)("div",{className:"mt-6 text-center",children:(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["Un lien de r\xe9initialisation sera envoy\xe9 \xe0 votre adresse email.",(0,o.jsx)("br",{}),"Le lien est valable pendant 1 heure."]})})]})]})}):null};const T=function(e){let{portalTitle:n,loginApiEndpoint:a,portalType:s,defaultRedirectUrl:i,showMainMenu:l}=e;const[d,u]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[g,x]=(0,t.useState)(!1),[y,v]=(0,t.useState)(""),b=(0,t.useRef)(),[w,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[E,P]=(0,t.useState)(null),[T,M]=(0,t.useState)(!1),A=e=>{console.log(`LoginCard (${s}): Password set successfully, redirecting...`),window.location.href=e||i},_=()=>{j(!1),f("")};return w?(0,o.jsx)(c,{username:S,session:N,portalType:s,onPasswordSet:A,onCancel:_,cognitoChallengeParameters:E}):(0,o.jsxs)("div",{className:"min-h-screen w-full bg-gray-100 flex flex-col justify-center items-center py-12 px-4 sm:px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-6",children:n}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f(""),y){x(!0);try{const e=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:p,captchaToken:y})}),t=await e.json();if(x(!1),e.ok&&t.success){if(!t.userInfo)return console.error(`\ud83d\udea8 LoginCard (${s}): No userInfo in login response`),void f("Invalid login response. Please try again.");{console.log(`LoginCard (${s}): Received userInfo from server`);const{secureStoreUserData:e}=await r.e(428).then(r.bind(r,428));try{e(t.userInfo),console.log(`\u2705 LoginCard (${s}): User data stored securely`)}catch(h){return console.error(`\ud83d\udea8 LoginCard (${s}): Failed to store user data:`,h),void f("Security validation failed. Please try logging in again.")}}t.redirectUrl?window.location.replace(t.redirectUrl):window.location.replace(i)}else e.ok&&"NEW_PASSWORD_REQUIRED"===t.challengeName?(console.log(`LoginCard (${s}): Received NEW_PASSWORD_REQUIRED challenge.`),C(t.username),k(t.session),P(t.challengeParameters),j(!0)):f(t.message||"\xc9chec de l'authentification. Veuillez v\xe9rifier vos identifiants.")}catch(t){x(!1),console.error(`Login request failed for ${s}:`,t),f("An unexpected error occurred. Please try again later."),b.current&&(b.current.reset(),v(""))}}else f("Veuillez compl\xe9ter la v\xe9rification CAPTCHA.")},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:`${s}-email`,className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{id:`${s}-email`,name:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:e=>u(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",autoFocus:!0})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:`${s}-password`,className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{id:`${s}-password`,name:"password",type:"password",autoComplete:"current-password",required:!0,value:p,onChange:e=>m(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm"})})]}),(0,o.jsx)("div",{children:(0,o.jsx)(D,{ref:b,onVerify:e=>{v(e),f("")},onExpired:()=>{v(""),f("La v\xe9rification CAPTCHA a expir\xe9. Veuillez la recommencer.")},onError:()=>{v(""),f("Erreur lors de la v\xe9rification CAPTCHA. Veuillez r\xe9essayer.")},className:"mb-4"})}),h&&(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,o.jsx)("span",{className:"block sm:inline",children:h})}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",disabled:g||!y,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary disabled:opacity-50",children:g?"Connexion...":"Se connecter"})}),(0,o.jsx)("div",{className:"mt-4 text-center",children:(0,o.jsx)("button",{type:"button",onClick:()=>M(!0),className:"text-sm text-sna-primary hover:text-sna-primary/90 underline",disabled:g,children:"Mot de passe oubli\xe9 ?"})})]}),l&&(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsx)("button",{onClick:l,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Retourner au menu"})})]}),(0,o.jsx)(I,{isOpen:T,onClose:()=>M(!1),portalType:s})]})};const M=function(){const[e,r]=(0,t.useState)("main"),n=()=>{r("main")},a={client:{title:"Client",description:"Acc\xe9dez \xe0 votre espace client personnalis\xe9.",view:"clientLogin",defaultRedirectUrl:"/client/dashboard",apiEndpoint:"/login-client"},internal:{title:"Personnel Interne",description:"Espace r\xe9serv\xe9 aux collaborateurs SNA GZ.",view:"internalLogin",defaultRedirectUrl:"/internal/dashboard",apiEndpoint:"/login-internal"},admin:{title:"Administrateur",description:"Portail de gestion et configuration syst\xe8me.",view:"adminLogin",defaultRedirectUrl:"/admin/dashboard",apiEndpoint:"/login-admin-portal"}},s="main"===e?"main-page-no-card-container":"login-view-container";return(0,o.jsxs)("div",{className:s,children:[(0,o.jsx)(i,{}),(0,o.jsx)("main",{className:"main-content "+("main"!==e?"full-width-content":""),children:(()=>{if("main"!==e){const t=Object.keys(a).find(t=>a[t].view===e),r=a[t];return(0,o.jsx)(T,{portalTitle:r.title,loginApiEndpoint:r.apiEndpoint,portalType:t,defaultRedirectUrl:r.defaultRedirectUrl,showMainMenu:n})}return(0,o.jsxs)("div",{className:"portal-selection-fullscreen-container",children:[(0,o.jsx)("div",{className:"main-page-titles",children:(0,o.jsx)("h1",{className:"main-page-title-unified",children:"Bienvenue sur la plateforme SNA GZ"})}),(0,o.jsx)("p",{className:"main-page-subtitle",children:"Veuillez s\xe9lectionner votre portail d'acc\xe8s."}),(0,o.jsx)("div",{className:"portal-buttons-grid",children:Object.keys(a).map(e=>{const t=a[e];return(0,o.jsxs)("button",{onClick:()=>r(t.view),className:"portal-btn-styled",children:[(0,o.jsx)("span",{className:"portal-btn-title",children:t.title}),(0,o.jsx)("span",{className:"portal-btn-description",children:t.description})]},e)})})]})})()})]})};var A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_=t.createContext&&t.createContext(A),z=["attr","size","title"];function O(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){return e&&e.map((e,r)=>t.createElement(e.tag,$({key:r},e.attr),q(e.child)))}function B(e){return r=>t.createElement(V,L({attr:$({},e.attr)},r),q(e.child))}function V(e){var r=r=>{var n,{attr:a,size:s,title:o}=e,i=O(e,z),l=s||r.size||"1em";return r.className&&(n=r.className),e.className&&(n=(n?n+" ":"")+e.className),t.createElement("svg",L({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,i,{className:n,style:$($({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==_?t.createElement(_.Consumer,null,e=>r(e)):r(A)}function U(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M388.32,104.1a4.66,4.66,0,0,0-4.4-4c-2,0-37.23-.8-37.23-.8s-21.61-20.82-29.62-28.83V503.2L442.76,472S388.72,106.5,388.32,104.1ZM288.65,70.47a116.67,116.67,0,0,0-7.21-17.61C271,32.85,255.42,22,237,22a15,15,0,0,0-4,.4c-.4-.8-1.2-1.2-1.6-2C223.4,11.63,213,7.63,200.58,8c-24,.8-48,18-67.25,48.83-13.61,21.62-24,48.84-26.82,70.06-27.62,8.4-46.83,14.41-47.23,14.81-14,4.4-14.41,4.8-16,18-1.2,10-38,291.82-38,291.82L307.86,504V65.67a41.66,41.66,0,0,0-4.4.4S297.86,67.67,288.65,70.47ZM233.41,87.69c-16,4.8-33.63,10.4-50.84,15.61,4.8-18.82,14.41-37.63,25.62-50,4.4-4.4,10.41-9.61,17.21-12.81C232.21,54.86,233.81,74.48,233.41,87.69ZM200.58,24.44A27.49,27.49,0,0,1,215,28c-6.4,3.2-12.81,8.41-18.81,14.41-15.21,16.42-26.82,42-31.62,66.45-14.42,4.41-28.83,8.81-42,12.81C131.33,83.28,163.75,25.24,200.58,24.44ZM154.15,244.61c1.6,25.61,69.25,31.22,73.25,91.66,2.8,47.64-25.22,80.06-65.65,82.47-48.83,3.2-75.65-25.62-75.65-25.62l10.4-44s26.82,20.42,48.44,18.82c14-.8,19.22-12.41,18.81-20.42-2-33.62-57.24-31.62-60.84-86.86-3.2-46.44,27.22-93.27,94.47-97.68,26-1.6,39.23,4.81,39.23,4.81L221.4,225.39s-17.21-8-37.63-6.4C154.15,221,153.75,239.8,154.15,244.61ZM249.42,82.88c0-12-1.6-29.22-7.21-43.63,18.42,3.6,27.22,24,31.23,36.43Q262.63,78.68,249.42,82.88Z"},child:[]}]})(e)}function H(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function W(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function Y(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function K(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"},child:[]}]})(e)}function Q(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function G(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function J(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function X(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Z(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function ee(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function te(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function re(e){return B({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function ne(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function ae(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function se(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function oe(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"},child:[]}]})(e)}function ie(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function le(e){return B({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function ce(e){return B({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.706 413.765c-1.314-6.63-7.835-10.872-14.424-9.369-10.692 2.439-27.422 5.413-45.426 5.413-56.763 0-101.929-34.79-121.461-85.449h113.689a12 12 0 0 0 11.708-9.369l6.373-28.36c1.686-7.502-4.019-14.631-11.708-14.631H115.22c-1.21-14.328-1.414-28.287.137-42.245H261.95a12 12 0 0 0 11.723-9.434l6.512-29.755c1.638-7.484-4.061-14.566-11.723-14.566H130.184c20.633-44.991 62.69-75.03 117.619-75.03 14.486 0 28.564 2.25 37.851 4.145 6.216 1.268 12.347-2.498 14.002-8.623l11.991-44.368c1.822-6.741-2.465-13.616-9.326-14.917C290.217 34.912 270.71 32 249.635 32 152.451 32 74.03 92.252 45.075 176H12c-6.627 0-12 5.373-12 12v29.755c0 6.627 5.373 12 12 12h21.569c-1.009 13.607-1.181 29.287-.181 42.245H12c-6.627 0-12 5.373-12 12v28.36c0 6.627 5.373 12 12 12h30.114C67.139 414.692 145.264 480 249.635 480c26.301 0 48.562-4.544 61.101-7.788 6.167-1.595 10.027-7.708 8.788-13.957l-8.818-44.49z"},child:[]}]})(e)}function de(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ue(e){return B({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function pe(e){return B({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function me(e){return B({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function he(e){return B({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function fe(e){return B({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function ge(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function xe(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function ye(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function ve(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function be(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function we(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function je(e){return B({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function Ne(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function ke(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Se(e){return B({tag:"svg",attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function Ce(e){return B({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function Ee(e){return B({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Pe(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function De(e){return B({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Ie(e){return B({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Te(e){return B({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Me(e){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"},child:[]}]})(e)}function Ae(e){return B({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"},child:[]}]})(e)}const _e=e=>{let{children:t}=e;const r=[{name:"Cr\xe9er une boutique",href:"/client/boutiques/create",icon:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})},{name:"Mes boutiques",href:"/client/boutiques",icon:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})},{name:"Mes produits",href:"/client/produits",icon:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})},{name:"Cr\xe9er un produit",href:"/client/produits/create",icon:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})},{name:"Mon compte",href:"/client/compte",icon:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}];return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-0px)]",children:[" ",(0,o.jsx)("div",{className:"w-full md:w-64 bg-white shadow-md",children:(0,o.jsxs)("div",{className:"h-full flex flex-col justify-between",children:[(0,o.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-1",children:r.map(e=>(0,o.jsxs)("a",{href:e.href,className:"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100",children:[(0,o.jsx)("svg",{className:"mr-3 h-5 w-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.icon}),e.name]},e.name))}),(0,o.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,o.jsxs)("button",{onClick:async()=>{console.log("Logging out...");try{(await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})).ok?console.log("Logout successful"):console.error("Logout API call failed")}catch(e){console.error("Error during logout:",e)}localStorage.removeItem("token"),sessionStorage.clear(),window.location.href="/logout"},className:"flex w-full items-center px-4 py-3 text-sm font-medium rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[(0,o.jsx)(Ne,{className:"mr-3 h-5 w-5 flex-shrink-0"}),"Se d\xe9connecter"]})})]})}),(0,o.jsx)("main",{className:"flex-1 py-8 px-6",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto",children:t})})]})})};const ze=function(e){let{onSubmit:r,onClose:n}=e;const[a,s]=(0,t.useState)({raisonSociale:"",formeJuridique:"",adresseSociete:"",codePostalSociete:"",villeSociete:"",paysSociete:"France",siret:"",numTVA:"",numEORI:"",capitalSocial:"",codeAPE:"",tvaIntracom:"",contact1Nom:"",contact1Telephone:"",contact1Email:"",contact2Nom:"",contact2Telephone:"",contact2Email:"",contactFacturationNom:"",contactFacturationTelephone:"",contactFacturationEmail:"",emailRetourColis:"",dateSoumission:(new Date).toISOString().slice(0,10),nomSoumission:"",fonctionSoumission:""}),[i,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),u=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))},p=e=>(0,o.jsx)("h3",{className:"text-xl font-semibold text-sna-primary mb-4 pt-3 pb-2 border-b border-gray-300",children:e}),m=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:[t,n&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:r,name:e,id:e,value:a[e],onChange:u,required:n,placeholder:s,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm"})]})};return(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-start z-50 overflow-y-auto py-10",children:(0,o.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-xl w-full max-w-4xl my-auto",children:[(0,o.jsx)("div",{className:"flex justify-center items-center mb-8 mt-4",children:(0,o.jsx)("h2",{className:"text-3xl font-bold text-sna-primary",children:"Bienvenue sur notre portail !"})}),(0,o.jsx)("p",{className:"text-gray-600 mb-6",children:"Pour activer compl\xe8tement votre compte et acc\xe9der \xe0 toutes nos fonctionnalit\xe9s, veuillez compl\xe9ter les informations ci-dessous."}),c&&(0,o.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:(0,o.jsx)("p",{children:c})}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l(!0),d(""),!a.raisonSociale||!a.contact1Email)return d("Veuillez remplir tous les champs obligatoires (ex: Raison Sociale, Email Contact 1)."),void l(!1);try{r&&await r(a),console.log("Donn\xe9es du formulaire de bienvenue:",a),l(!1)}catch(t){d("Erreur lors de la soumission du formulaire."),l(!1),console.error("Erreur soumission formulaire bienvenue:",t)}},className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[(0,o.jsxs)("fieldset",{className:"border border-gray-300 p-4 rounded-md",children:[(0,o.jsx)("legend",{className:"text-lg font-semibold text-sna-primary px-2",children:p("Information soci\xe9t\xe9")}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("raisonSociale","Raison Sociale","text",!0),m("formeJuridique","Forme juridique")]}),m("adresseSociete","Adresse","text",!0),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6",children:[m("codePostalSociete","Code Postal","text",!0),m("villeSociete","Ville","text",!0),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:[t,r&&(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("select",{name:e,id:e,value:a[e],onChange:u,required:r,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",children:[(0,o.jsx)("option",{value:"France",children:"France"}),(0,o.jsx)("option",{value:"Belgique",children:"Belgique"}),(0,o.jsx)("option",{value:"Suisse",children:"Suisse"}),(0,o.jsx)("option",{value:"Luxembourg",children:"Luxembourg"}),(0,o.jsx)("option",{value:"Autre",children:"Autre"})]})]})}("paysSociete","Pays",!0)]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("siret","SIRET"),m("numTVA","N\xb0 TVA Intracommunautaire")]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("numEORI","N\xb0 EORI"),m("capitalSocial","Capital social","number")]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("codeAPE","Code APE (NAF)"),m("tvaIntracom","TVA intracom. (si applicable)")]})]}),(0,o.jsxs)("fieldset",{className:"border border-gray-300 p-4 rounded-md",children:[(0,o.jsx)("legend",{className:"text-lg font-semibold text-sna-primary px-2",children:p("Contacts")}),(0,o.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Veuillez fournir au moins un contact principal."}),(0,o.jsxs)("div",{className:"border border-dashed border-gray-300 p-3 mb-4 rounded-md",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Contact Principal"}),m("contact1Nom","Nom et Pr\xe9nom","text",!0),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("contact1Telephone","T\xe9l\xe9phone","tel"),m("contact1Email","Email","email",!0)]})]}),(0,o.jsxs)("div",{className:"border border-dashed border-gray-300 p-3 mb-4 rounded-md",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Contact Secondaire (optionnel)"}),m("contact2Nom","Nom et Pr\xe9nom"),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("contact2Telephone","T\xe9l\xe9phone","tel"),m("contact2Email","Email","email")]})]}),(0,o.jsxs)("div",{className:"border border-dashed border-gray-300 p-3 mb-4 rounded-md",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Contact Facturation"}),m("contactFacturationNom","Nom et Pr\xe9nom","text",!0),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[m("contactFacturationTelephone","T\xe9l\xe9phone","tel",!0),m("contactFacturationEmail","Email","email",!0)]})]}),m("emailRetourColis","Email pour recevoir l'information de retour de colis","email",!0)]}),(0,o.jsxs)("fieldset",{className:"border border-gray-300 p-4 rounded-md",children:[(0,o.jsx)("legend",{className:"text-lg font-semibold text-sna-primary px-2",children:p("Validation")}),(0,o.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Veuillez confirmer les informations en tant que repr\xe9sentant autoris\xe9."}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6",children:[m("dateSoumission","Date de soumission","date",!0),m("nomSoumission","Nom du d\xe9clarant","text",!0),m("fonctionSoumission","Fonction du d\xe9clarant","text",!0)]})]}),(0,o.jsxs)("div",{className:"mt-8 flex justify-end space-x-3",children:[n&&(0,o.jsx)("button",{type:"button",onClick:n,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary disabled:opacity-50",children:"Annuler (temporaire)"}),(0,o.jsx)("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-8 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary transition-all duration-200 transform hover:scale-105",children:i?"Soumission en cours...":"Enregistrer et continuer"})]})]})]})})},Oe=()=>{const[e,r]=(0,t.useState)(!1),[n,a]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e="true"===sessionStorage.getItem("isFirstLogin"),t="true"===localStorage.getItem("hasCompletedWelcomeForm"),n=sessionStorage.getItem("userId")||localStorage.getItem("userId");e&&!t&&(r(!0),sessionStorage.removeItem("isFirstLogin")),a({name:"Achraf Bayi",userId:n||"unknown_user_id"})},[]);return n?(0,o.jsxs)("div",{className:"p-6 bg-gray-50 min-h-full",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-sna-primary mb-6",children:"Tableau de Bord Client"}),(0,o.jsxs)("p",{className:"mb-4 text-lg",children:["Bonjour, ",n.name," !"]}),!1,(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Mes Boutiques"}),(0,o.jsx)("p",{className:"text-gray-600",children:"G\xe9rer vos boutiques en ligne."}),(0,o.jsx)("a",{href:"/client/boutiques",className:"text-sna-primary hover:underline mt-4 inline-block",children:"Voir mes boutiques"})]}),(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Mes Produits"}),(0,o.jsx)("p",{className:"text-gray-600",children:"G\xe9rer tous vos produits par boutique."}),(0,o.jsx)("a",{href:"/client/produits",className:"text-sna-primary hover:underline mt-4 inline-block",children:"Voir mes produits"})]}),(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Cr\xe9er un Produit"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Ajouter des produits \xe0 vos boutiques valid\xe9es."}),(0,o.jsx)("a",{href:"/client/produits/create",className:"text-sna-primary hover:underline mt-4 inline-block",children:"Cr\xe9er un produit"})]}),(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Mon Compte"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Mettre \xe0 jour vos informations personnelles."}),(0,o.jsx)("a",{href:"/client/compte",className:"text-sna-primary hover:underline mt-4 inline-block",children:"G\xe9rer mon compte"})]}),(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-sna-dark mb-2",children:"Support"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Contacter notre \xe9quipe d'assistance."})]})]}),e&&(0,o.jsx)(ze,{onSubmit:async e=>{console.log("Welcome form data submitted from dashboard:",e);try{const t=sessionStorage.getItem("userId")||localStorage.getItem("userId")||(null===n||void 0===n?void 0:n.userId)||"unknown_user_id",a={...e,userId:t};console.log("Form data with userId:",a);const s="/api/customer/welcome-form";console.log("Sending form data to:",s);const o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"});if(!o.ok){const e=await o.json().catch(()=>({}));throw new Error(e.message||`HTTP error! status: ${o.status}`)}const i=await o.json();console.log("Form submission successful:",i),localStorage.setItem("hasCompletedWelcomeForm","true"),i.customerId&&localStorage.setItem("customerId",i.customerId),r(!1)}catch(t){console.error("Error submitting welcome form:",t)}}})]}):(0,o.jsx)("div",{className:"p-4",children:"Chargement du tableau de bord..."})},Le=()=>{const[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)({}),[s,i]=(0,t.useState)({}),l=(e,t,r)=>{i(n=>({...n,[e]:{...n[e]||{},[t]:r}}))},[c,d]=(0,t.useState)([]),[u,p]=(0,t.useState)(!0),[m,h]=(0,t.useState)(null),[f,g]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),t=null;try{if(e){t=JSON.parse(e).sub,g(t),console.log("==== MES BOUTIQUES USER INFO ===="),console.log("User sub from storage:",t),console.log("==== END MES BOUTIQUES USER INFO ====")}}catch(m){console.error("Error parsing userInfo:",m),h("Erreur lors de la r\xe9cup\xe9ration des informations utilisateur. Veuillez vous reconnecter.")}if(!t){const e=sessionStorage.getItem("userId")||localStorage.getItem("userId");e?(console.warn("No sub found, using fallback userId:",e),g(e)):(console.error("No user identifier found in storage"),h("Identifiant utilisateur non trouv\xe9. Veuillez vous reconnecter."),p(!1))}},[]),(0,t.useEffect)(()=>{(async()=>{if(f)try{p(!0);const e=`/api/customer/shops/${f}`,t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});let r;const n=t.headers.get("content-type");if(!n||!n.includes("application/json")){const e=await t.text();throw new Error(e)}if(r=await t.json(),!t.ok)throw new Error(r.message||`Erreur lors de la r\xe9cup\xe9ration des boutiques (${t.status})`);d(r.shops||[])}catch(e){console.error("Error fetching shops:",e),h(e.message||"Une erreur est survenue lors de la r\xe9cup\xe9ration des boutiques")}finally{p(!1)}})()},[f]);const x=()=>{window.location.href="/client/boutiques/create"};return u?(0,o.jsx)("div",{className:"container mx-auto p-4 flex justify-center items-center h-64",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary mx-auto mb-4"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Chargement des boutiques..."})]})}):m?(0,o.jsx)("div",{className:"container mx-auto p-4",children:(0,o.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ue,{className:"mr-2"}),(0,o.jsx)("span",{className:"block sm:inline",children:m})]}),(0,o.jsx)("button",{onClick:x,className:"mt-4 bg-sna-primary text-white px-4 py-2 rounded-md hover:bg-sna-primary-dark transition duration-300",children:"R\xe9essayer"})]})}):(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Mes Boutiques"}),c.length>0&&(0,o.jsx)("button",{onClick:x,className:"bg-sna-primary text-white px-4 py-2 rounded-md hover:bg-sna-primary-dark transition duration-300",children:"Cr\xe9er une Boutique"})]}),e&&Object.keys(s[e]||{}).length>0&&(0,o.jsxs)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-sna-primary text-white px-6 py-3 rounded-md shadow-lg flex items-center space-x-4 animate-fade-in",children:[(0,o.jsx)("span",{children:"Des modifications non enregistr\xe9es pour cette boutique."}),(0,o.jsx)("button",{className:"bg-white text-sna-primary font-semibold px-4 py-2 rounded shadow hover:bg-gray-100 transition",onClick:()=>(async e=>{const t=c.find(t=>t.shopId===e);if(!t)return;const r=s[e];if(r)try{p(!0),h(null);const n=`/api/customer/shops/${f}/${e}`,s=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,...r}),credentials:"include"}),o=await s.json();if(!s.ok)throw new Error(o.message||"Erreur lors de la mise \xe0 jour de la boutique");d(t=>t.map(t=>t.shopId===e?o.shop:t)),i(t=>({...t,[e]:{}})),a(t=>({...t,[e]:null}))}catch(n){h(n.message||"Une erreur est survenue lors de la mise \xe0 jour de la boutique")}finally{p(!1)}})(e),children:"Enregistrer"})]}),0===c.length?(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,o.jsx)(Se,{className:"mx-auto text-gray-400 text-6xl mb-4"}),(0,o.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Aucune boutique trouv\xe9e"}),(0,o.jsx)("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas encore cr\xe9\xe9 de boutique. Commencez par cr\xe9er votre premi\xe8re boutique."}),(0,o.jsx)("button",{onClick:x,className:"bg-sna-primary text-white px-6 py-3 rounded-md hover:bg-sna-primary-dark transition duration-300 font-medium",children:"Cr\xe9er ma premi\xe8re boutique"})]}):(0,o.jsx)("div",{className:"flex flex-col gap-6",children:c.map((t,i)=>{const c=e===t.shopId,d=s[t.shopId]||{},u=Object.keys(t).filter(e=>!["shopId","createdAt","updatedAt","_id","status","logo","imagesDeLaBoutique","name","shopName"].includes(e));return(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md transition-shadow duration-300 w-full "+(c?"border-2 border-sna-primary":""),children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-6 py-5 cursor-pointer",onClick:()=>r(c?null:t.shopId),children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[t.logo?(0,o.jsx)("img",{src:t.logo,alt:`Logo de ${t.name}`,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):(0,o.jsx)(Se,{className:"text-sna-primary text-2xl"}),(0,o.jsx)("div",{className:"flex items-center gap-4",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-lg font-bold text-gray-800 flex items-center gap-3",children:[t.name||t.shopName||t.nomProjet||"Boutique",(0,o.jsxs)("span",{className:"flex items-center gap-1",children:[(0,o.jsx)("span",{className:"inline-block w-3 h-3 rounded-full "+("valid"===t.status?"bg-green-500":"bg-yellow-400")}),(0,o.jsx)("span",{className:"valid"===t.status?"text-green-600":"text-yellow-600",children:"valid"===t.status?"Valid\xe9e":"En attente"})]})]}),t.nomProjet&&(0,o.jsx)("div",{className:"text-sm text-gray-500",children:t.nomProjet})]})})]}),(0,o.jsx)("button",{className:"text-sna-primary text-2xl ml-4 focus:outline-none",tabIndex:-1,children:(0,o.jsx)("span",{style:{display:"inline-block",transition:"transform 0.2s",transform:c?"rotate(90deg)":"rotate(0deg)"},children:"\u25b6"})})]}),c&&(0,o.jsx)("div",{className:"px-6 pb-6",children:(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(e=>{var r,s,i,c;return(0,o.jsxs)("div",{className:"flex flex-col mb-2",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),n[t.shopId]===e?(0,o.jsx)("button",{className:"text-gray-400 hover:text-sna-primary ml-2",onClick:()=>a({...n,[t.shopId]:null}),title:"Annuler",children:"\u2715"}):(0,o.jsx)("button",{className:"text-gray-400 hover:text-sna-primary ml-2",onClick:()=>a({...n,[t.shopId]:e}),title:"Modifier ce champ",children:(0,o.jsx)(le,{})})]}),n[t.shopId]===e?"typeAbonnementShopify"===e?(0,o.jsxs)("div",{className:"flex flex-col gap-2 mt-1",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:`typeAbonnementShopify_${t.shopId}`,value:"mensuel",checked:"mensuel"===(null!==(r=d[e])&&void 0!==r?r:t[e]),onChange:r=>l(t.shopId,e,r.target.value),className:"form-radio h-4 w-4 text-sna-primary border-gray-300"}),(0,o.jsx)("span",{className:"ml-2",children:"Abonnement mensuel SHOPIFY (sans engagement)"})]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:`typeAbonnementShopify_${t.shopId}`,value:"annuel",checked:"annuel"===(null!==(s=d[e])&&void 0!==s?s:t[e]),onChange:r=>l(t.shopId,e,r.target.value),className:"form-radio h-4 w-4 text-sna-primary border-gray-300"}),(0,o.jsx)("span",{className:"ml-2",children:"Abonnement annuel SHOPIFY (12 mois)"})]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:`typeAbonnementShopify_${t.shopId}`,value:"aucun",checked:"aucun"===(null!==(i=d[e])&&void 0!==i?i:t[e])||""===(null!==(c=d[e])&&void 0!==c?c:t[e]),onChange:r=>l(t.shopId,e,r.target.value),className:"form-radio h-4 w-4 text-sna-primary border-gray-300"}),(0,o.jsx)("span",{className:"ml-2",children:"Aucun / Pas d'abonnement Shopify g\xe9r\xe9 via ce projet"})]})]}):["dateMiseEnLigne","dateCommercialisation","dateSortieOfficielle"].includes(e)?(0,o.jsx)("input",{type:"date",value:void 0!==d[e]?d[e]:t[e]||"",onChange:r=>l(t.shopId,e,r.target.value),inputMode:"none",onKeyDown:e=>e.preventDefault(),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm mt-1 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",autoFocus:!0}):"boolean"===typeof t[e]||"boolean"===typeof d[e]||"string"===typeof t[e]&&["true","false","oui","non"].includes(String(t[e]||"").toLowerCase())?(0,o.jsxs)("label",{className:"flex items-center gap-2 mt-1",children:[(0,o.jsx)("input",{type:"checkbox",checked:void 0!==d[e]?!0===d[e]||"true"===d[e]||"oui"===d[e]:!0===t[e]||"true"===t[e]||"oui"===t[e],onChange:r=>l(t.shopId,e,r.target.checked),className:"form-checkbox h-5 w-5 text-sna-primary"}),(0,o.jsx)("span",{className:"text-base text-gray-900",children:(void 0!==d[e]?d[e]:t[e])?"Oui":"Non"})]}):(0,o.jsx)("input",{type:"text",value:void 0!==d[e]?d[e]:t[e]||"",onChange:r=>l(t.shopId,e,r.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm mt-1 focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",autoFocus:!0}):(0,o.jsx)("div",{className:"mt-1 text-base text-gray-900",children:"typeAbonnementShopify"===e?"mensuel"===t[e]?"Abonnement mensuel SHOPIFY (sans engagement)":"annuel"===t[e]?"Abonnement annuel SHOPIFY (12 mois)":"aucun"===t[e]||""===t[e]?"Aucun / Pas d'abonnement Shopify g\xe9r\xe9 via ce projet":t[e]||"-":["dateMiseEnLigne","dateCommercialisation","dateSortieOfficielle"].includes(e)?(()=>{const r=t[e];if(!r)return"-";const n=new Date(r);return isNaN(n)?r:n.toLocaleDateString("fr-FR")})():"boolean"===typeof t[e]?t[e]?"Oui":"Non":["true","false","oui","non"].includes(String(t[e]||"").toLowerCase())?["true","oui"].includes(String(t[e]||"").toLowerCase())?"Oui":"Non":"products"===e&&Array.isArray(t[e])?`${t[e].length} produit(s): ${t[e].map(e=>e.titre||e.title||"Produit sans titre").join(", ")}`:"object"===typeof t[e]&&null!==t[e]?JSON.stringify(t[e]):t[e]||"-"})]},e)})})})]},t.shopId)})})]})},Re=e=>{let{formData:t,handleChange:r}=e;return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Informations G\xe9n\xe9rales du Projet"}),(0,o.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Renseignez les informations de base concernant le projet et le client."})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsxs)("label",{htmlFor:"nomProjet",className:"block text-sm font-medium text-gray-700",children:["Nom de projet ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"text",name:"nomProjet",id:"nomProjet",value:t.nomProjet,onChange:r,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsxs)("label",{htmlFor:"typeProjet",className:"block text-sm font-medium text-gray-700",children:["Type de projet ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"text",name:"typeProjet",id:"typeProjet",value:t.typeProjet,onChange:r,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsxs)("label",{htmlFor:"commercial",className:"block text-sm font-medium text-gray-700",children:["Commercial en charge ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"text",name:"commercial",id:"commercial",value:t.commercial,onChange:r,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsxs)("label",{htmlFor:"demarrageProjet",className:"block text-sm font-medium text-gray-700",children:["D\xe9marrage du projet ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"date",name:"demarrageProjet",id:"demarrageProjet",value:t.demarrageProjet,onChange:r,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsxs)("label",{htmlFor:"nomChefProjet",className:"block text-sm font-medium text-gray-700",children:["Nom chef de projet ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"text",name:"nomChefProjet",id:"nomChefProjet",value:t.nomChefProjet,onChange:r,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsxs)("label",{htmlFor:"prenomChefProjet",className:"block text-sm font-medium text-gray-700",children:["Pr\xe9nom chef de projet ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"text",name:"prenomChefProjet",id:"prenomChefProjet",value:t.prenomChefProjet,onChange:r,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-6",children:[(0,o.jsx)("hr",{className:"my-4"}),(0,o.jsx)("h4",{className:"text-md leading-6 font-medium text-gray-800",children:"Informations Client"})]}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsxs)("label",{htmlFor:"nomClient",className:"block text-sm font-medium text-gray-700",children:["Nom du Client ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"text",name:"nomClient",id:"nomClient",value:t.nomClient,onChange:r,required:!0,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsxs)("label",{htmlFor:"contactsClient",className:"block text-sm font-medium text-gray-700",children:["Email Client ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"email",name:"contactsClient",id:"contactsClient",value:t.contactsClient,onChange:r,required:!0,placeholder:"ex: email@example.com",pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",title:"Veuillez entrer une adresse email valide.",className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})]})},$e=e=>{let{formData:t,handleChange:r}=e;return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Planning et Lancement"}),(0,o.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"D\xe9finissez les dates cl\xe9s et les options de lancement."})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[(0,o.jsxs)("div",{className:"sm:col-span-2",children:[(0,o.jsx)("label",{htmlFor:"dateMiseEnLigne",className:"block text-sm font-medium text-gray-700",children:"Date de Mise en Ligne Pr\xe9vue"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"date",name:"dateMiseEnLigne",id:"dateMiseEnLigne",value:t.dateMiseEnLigne,onChange:r,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-2",children:[(0,o.jsx)("label",{htmlFor:"dateCommercialisation",className:"block text-sm font-medium text-gray-700",children:"Date de Commercialisation"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"date",name:"dateCommercialisation",id:"dateCommercialisation",value:t.dateCommercialisation,onChange:r,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-2",children:[(0,o.jsx)("label",{htmlFor:"dateSortieOfficielle",className:"block text-sm font-medium text-gray-700",children:"Date de Sortie Officielle"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{type:"date",name:"dateSortieOfficielle",id:"dateSortieOfficielle",value:t.dateSortieOfficielle,onChange:r,className:"shadow-sm focus:ring-sna-primary focus:border-sna-primary block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,o.jsx)("div",{className:"sm:col-span-6",children:(0,o.jsxs)("div",{className:"flex items-center space-x-8 pt-4",children:[(0,o.jsxs)("div",{className:"relative flex items-start",children:[(0,o.jsx)("div",{className:"flex items-center h-5",children:(0,o.jsx)("input",{id:"precommande",name:"precommande",type:"checkbox",checked:t.precommande,onChange:r,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),(0,o.jsx)("div",{className:"ml-3 text-sm",children:(0,o.jsx)("label",{htmlFor:"precommande",className:"font-medium text-gray-700",children:"Pr\xe9commande envisag\xe9e ?"})})]}),(0,o.jsxs)("div",{className:"relative flex items-start",children:[(0,o.jsx)("div",{className:"flex items-center h-5",children:(0,o.jsx)("input",{id:"dedicaceEnvisagee",name:"dedicaceEnvisagee",type:"checkbox",checked:t.dedicaceEnvisagee,onChange:r,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),(0,o.jsx)("div",{className:"ml-3 text-sm",children:(0,o.jsx)("label",{htmlFor:"dedicaceEnvisagee",className:"font-medium text-gray-700",children:"D\xe9dicace envisag\xe9e ?"})})]})]})})]})]})},Fe=e=>{let{formData:t,handleChange:r}=e;return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Services Shopify et Maintenance"}),(0,o.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"S\xe9lectionnez le type d'abonnement Shopify et d\xe9crivez les autres services si besoin."})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[(0,o.jsx)("div",{className:"sm:col-span-6",children:(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{className:"text-base font-medium text-gray-900",children:"Type d'abonnement Shopify"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Choisissez une option."}),(0,o.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{id:"abonnementMensuelShopify",name:"typeAbonnementShopify",type:"radio",value:"mensuel",checked:"mensuel"===t.typeAbonnementShopify,onChange:r,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300"}),(0,o.jsx)("label",{htmlFor:"abonnementMensuelShopify",className:"ml-3 block text-sm font-medium text-gray-700",children:"Abonnement mensuel SHOPIFY (sans engagement)"})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{id:"abonnementAnnuelShopify",name:"typeAbonnementShopify",type:"radio",value:"annuel",checked:"annuel"===t.typeAbonnementShopify,onChange:r,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300"}),(0,o.jsx)("label",{htmlFor:"abonnementAnnuelShopify",className:"ml-3 block text-sm font-medium text-gray-700",children:"Abonnement annuel SHOPIFY (12 mois)"})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{id:"aucunAbonnementShopify",name:"typeAbonnementShopify",type:"radio",value:"aucun",checked:"aucun"===t.typeAbonnementShopify||""===t.typeAbonnementShopify,onChange:r,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300"}),(0,o.jsx)("label",{htmlFor:"aucunAbonnementShopify",className:"ml-3 block text-sm font-medium text-gray-700",children:"Aucun / Pas d'abonnement Shopify g\xe9r\xe9 via ce projet"})]})]})]})}),(0,o.jsxs)("div",{className:"sm:col-span-6 pt-6",children:[(0,o.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Tarifs Abonnement Shopify (\xe0 titre indicatif) :"}),(0,o.jsxs)("ul",{className:"list-disc list-inside mt-2 text-sm text-gray-600 space-y-1",children:[(0,o.jsx)("li",{children:"Plan Mensuel : 105 \u20ac / mois"}),(0,o.jsx)("li",{children:"Plan Annuel : 948 \u20ac / an (soit 79 \u20ac / mois)"})]}),(0,o.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Ces tarifs sont directement factur\xe9s par Shopify et peuvent \xeatre sujets \xe0 modification."})]})]})]})},qe=()=>(0,o.jsx)("svg",{className:"h-5 w-5 text-red-500 mr-1 inline-block",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),Be=e=>{let{formData:t,handleChange:r}=e,n=0;t.estBoutiqueEnLigne&&(n+=250),t.estBoutiqueEnLigne&&"oui"===t.snaResponsableDesign&&(n+=250);const a=!t.estBoutiqueEnLigne;return(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,o.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"D\xe9tails de la Boutique et Services Design"}),(0,o.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Pr\xe9cisez si une nouvelle boutique doit \xeatre cr\xe9\xe9e et les besoins en design."})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[(0,o.jsx)("div",{className:"sm:col-span-6",children:(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)("div",{className:"flex items-center h-5",children:(0,o.jsx)("input",{id:"estBoutiqueEnLigne",name:"estBoutiqueEnLigne",type:"checkbox",checked:t.estBoutiqueEnLigne,onChange:r,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),(0,o.jsx)("div",{className:"ml-3 text-sm",children:(0,o.jsx)("label",{htmlFor:"estBoutiqueEnLigne",className:"font-medium text-gray-700",children:"Doit-on cr\xe9er une nouvelle boutique en ligne ?"})})]})}),(0,o.jsxs)("div",{className:"sm:col-span-6",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium "+(a?"text-gray-400":"text-gray-700"),children:["SNA doit-il s'occuper du web design/direction artistique ?"," ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-2 flex items-center space-x-6",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{id:"snaDesignOui",name:"snaResponsableDesign",type:"radio",value:"oui",checked:"oui"===t.snaResponsableDesign,onChange:r,required:!0,disabled:a,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 "+(a?"cursor-not-allowed bg-gray-100":"")}),(0,o.jsx)("label",{htmlFor:"snaDesignOui",className:"ml-2 block text-sm "+(a?"text-gray-400 cursor-not-allowed":"text-gray-900"),children:"Oui"})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{id:"snaDesignNon",name:"snaResponsableDesign",type:"radio",value:"non",checked:"non"===t.snaResponsableDesign,onChange:r,required:!0,disabled:a,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 "+(a?"cursor-not-allowed bg-gray-100":"")}),(0,o.jsx)("label",{htmlFor:"snaDesignNon",className:"ml-2 block text-sm "+(a?"text-gray-400 cursor-not-allowed":"text-gray-900"),children:"Non"})]})]})]}),(0,o.jsxs)("div",{className:"sm:col-span-6 pt-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modules d'exp\xe9dition optionnels :"}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)("div",{className:"flex items-center h-5",children:(0,o.jsx)("input",{id:"moduleDelivengo",name:"moduleDelivengo",type:"checkbox",checked:t.moduleDelivengo,onChange:r,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),(0,o.jsx)("div",{className:"ml-3 text-sm",children:(0,o.jsx)("label",{htmlFor:"moduleDelivengo",className:"font-medium text-gray-700",children:"Ajouter le module Delivengo (34 \u20ac 44 pays jusqu'\xe0 2 kg)"})})]}),(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)("div",{className:"flex items-center h-5",children:(0,o.jsx)("input",{id:"moduleMondialRelay",name:"moduleMondialRelay",type:"checkbox",checked:t.moduleMondialRelay,onChange:r,className:"focus:ring-sna-primary h-4 w-4 text-sna-primary border-gray-300 rounded"})}),(0,o.jsx)("div",{className:"ml-3 text-sm",children:(0,o.jsx)("label",{htmlFor:"moduleMondialRelay",className:"font-medium text-gray-700",children:"Ajouter le module Mondial Relay (34 \u20ac)"})})]})]})]})]})]}),(0,o.jsx)("div",{className:"lg:col-span-1 space-y-4",children:(0,o.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow",children:[(0,o.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4 border-b pb-2",children:"Estimation Cr\xe9ation Boutique"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Frais de cr\xe9ation initiaux :"}),(0,o.jsxs)("span",{className:"text-xl font-bold text-gray-800",children:[n," \u20ac"]})]}),t.estBoutiqueEnLigne&&(0,o.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,o.jsxs)("p",{className:"text-xs text-red-600 font-semibold",children:[(0,o.jsx)(qe,{}),"Frais mensuels li\xe9s \xe0 la maintenance du site internet : 50 \u20ac"]})})]}),(0,o.jsx)("p",{className:"mt-4 text-xs text-gray-500",children:"Les modules optionnels (Delivengo, Mondial Relay) et l'abonnement Shopify sont factur\xe9s s\xe9par\xe9ment. Cette estimation est pour la cr\xe9ation et configuration initiale par SNA GZ."})]})})]})},Ve=[{id:1,name:"Informations G\xe9n\xe9rales"},{id:2,name:"Planning et Lancement"},{id:3,name:"Services, Modules et Maintenance"},{id:4,name:"D\xe9tails Facturation"},{id:5,name:"Images de la Boutique"}],Ue={nomProjet:"",typeProjet:"",commercial:"",demarrageProjet:"",nomChefProjet:"",prenomChefProjet:"",estBoutiqueEnLigne:!1,nomClient:"",contactsClient:"",dateMiseEnLigne:"",dateCommercialisation:"",dateSortieOfficielle:"",precommande:!1,dedicaceEnvisagee:!1,typeAbonnementShopify:"",coutsEtDetailsModuleMondialRelay:"",coutsEtDetailsModuleDelivengo:"",coutsEtDetailsMaintenanceSite:"",snaResponsableDesign:"",moduleDelivengo:!1,moduleMondialRelay:!1},He=()=>{const[e,r]=(0,t.useState)(1),[n,a]=(0,t.useState)(Ue),[s,i]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)({logo:null,desktopBanner:null,mobileBanner:null,favicon:null}),[g,x]=(0,t.useState)({logo:null,desktopBanner:null,mobileBanner:null,favicon:null}),[y,v]=(0,t.useState)(!1),b=e=>{const{name:t,value:r,type:n,checked:s}=e.target;a(e=>{const a={...e,[t]:"checkbox"===n?s:r};return"estBoutiqueEnLigne"!==t||s||(a.snaResponsableDesign=""),a})};(0,t.useEffect)(()=>{let e=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),t=null;try{if(e){t=JSON.parse(e).sub,u(t),console.log("==== CREATE SHOP USER INFO ===="),console.log("User sub from storage:",t),console.log("==== END CREATE SHOP USER INFO ====")}}catch(l){console.error("Error parsing userInfo:",l),c("Erreur lors de la r\xe9cup\xe9ration des informations utilisateur. Veuillez vous reconnecter.")}if(!t){const e=sessionStorage.getItem("userId")||localStorage.getItem("userId");e?(console.warn("No sub found, using fallback userId:",e),u(e)):(console.error("No user identifier found in storage"),c("Identifiant utilisateur non trouv\xe9. Veuillez vous reconnecter."))}},[]);const w=(e,t)=>{if(t){f(r=>({...r,[e]:t}));const r=new FileReader;r.onload=t=>{x(r=>({...r,[e]:t.target.result}))},r.readAsDataURL(t)}},j=async t=>{if(t.preventDefault(),4===e){if(!d)return void c("Identifiant utilisateur non trouv\xe9. Veuillez vous reconnecter.");i(!0),c(null),console.log("Nouveau Formulaire Cr\xe9er Boutique Soumis:",n),console.log("UserId (sub) utilis\xe9 pour la cr\xe9ation:",d);try{const e=`/api/customer/shops/${d}`,t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"}),a=await t.json();if(!t.ok)throw new Error(a.message||`Erreur lors de la cr\xe9ation de la boutique (${t.status})`);console.log("Boutique cr\xe9\xe9e avec succ\xe8s:",a),m(a.shopId),r(5)}catch(l){console.error("Erreur soumission formulaire:",l),c(l.message||"Une erreur est survenue lors de la cr\xe9ation de la boutique")}finally{i(!1)}}else if(5===e){const e=await(async e=>{v(!0);const t=[];try{if(h.logo){const r=new FormData;r.append("logo",h.logo),t.push(fetch(`/api/customer/shops/${e}/upload/logo`,{method:"POST",body:r,credentials:"include"}))}if(h.desktopBanner||h.mobileBanner){const r=new FormData;h.desktopBanner&&r.append("desktopBanner",h.desktopBanner),h.mobileBanner&&r.append("mobileBanner",h.mobileBanner),t.push(fetch(`/api/customer/shops/${e}/upload/banner`,{method:"POST",body:r,credentials:"include"}))}if(h.favicon){const r=new FormData;r.append("favicon",h.favicon),t.push(fetch(`/api/customer/shops/${e}/upload/favicon`,{method:"POST",body:r,credentials:"include"}))}const r=await Promise.all(t);for(const e of r)if(!e.ok){const t=await e.json();throw new Error(t.message||"Erreur lors de l'upload des images")}return!0}catch(l){return console.error("Error uploading images:",l),c("Erreur lors de l'upload des images: "+l.message),!1}finally{v(!1)}})(p);e&&(window.location.href="/client/boutiques")}};return(0,o.jsxs)("div",{className:"max-w-9xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cr\xe9er une nouvelle boutique"}),(0,o.jsx)("form",{onSubmit:j,className:"space-y-8",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,o.jsx)("nav",{"aria-label":"Progress",className:"border-b border-gray-200",children:(0,o.jsx)("ol",{className:"flex divide-x divide-gray-200",children:Ve.map(t=>(0,o.jsx)("li",{className:"relative flex flex-1 "+(t.id<e?"bg-sna-primary/10":t.id===e?"bg-white":"bg-gray-50"),children:(0,o.jsxs)("span",{className:"flex items-center px-6 py-4 text-sm font-medium "+(t.id===e?"text-sna-primary":t.id<e?"text-sna-success":"text-gray-500"),children:[(0,o.jsx)("span",{className:"flex-shrink-0",children:(0,o.jsx)("span",{className:"flex h-8 w-8 items-center justify-center rounded-full border-2 "+(t.id===e?"border-sna-primary":t.id<e?"border-sna-success":"border-gray-300"),children:t.id})}),(0,o.jsx)("span",{className:"ml-4 text-sm font-medium",children:t.name})]})},t.id))})}),(0,o.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(()=>{const t={formData:n,handleChange:b};switch(e){case 1:return(0,o.jsx)(Re,{...t});case 2:return(0,o.jsx)($e,{...t});case 3:return(0,o.jsx)(Fe,{...t});case 4:return(0,o.jsx)(Be,{...t});case 5:return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Images de la Boutique"}),(0,o.jsx)("p",{className:"text-gray-600 mb-6",children:"Ajoutez le logo et les banni\xe8res de votre boutique (optionnel)."}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Logo de la boutique"}),(0,o.jsx)("input",{type:"file",accept:"image/*",onChange:e=>w("logo",e.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),g.logo&&(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("img",{src:g.logo,alt:"Logo preview",className:"h-20 w-20 object-cover rounded-lg border"})})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Banni\xe8re Desktop (1920x400px recommand\xe9)"}),(0,o.jsx)("input",{type:"file",accept:"image/*",onChange:e=>w("desktopBanner",e.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),g.desktopBanner&&(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("img",{src:g.desktopBanner,alt:"Desktop banner preview",className:"h-20 w-40 object-cover rounded-lg border"})})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Banni\xe8re Mobile (750x400px recommand\xe9)"}),(0,o.jsx)("input",{type:"file",accept:"image/*",onChange:e=>w("mobileBanner",e.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),g.mobileBanner&&(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("img",{src:g.mobileBanner,alt:"Mobile banner preview",className:"h-20 w-32 object-cover rounded-lg border"})})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Favicon (32x32px recommand\xe9, format .ico ou .png)"}),(0,o.jsx)("input",{type:"file",accept:"image/*,.ico",onChange:e=>w("favicon",e.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),g.favicon&&(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("img",{src:g.favicon,alt:"Favicon preview",className:"h-8 w-8 object-cover rounded border"})})]}),(0,o.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,o.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,o.jsx)("strong",{children:"Note :"})," L'ajout d'images est optionnel. Vous pourrez toujours ajouter ou modifier ces images plus tard depuis la section \"Mes Boutiques\"."]})})]});default:return null}})()}),(0,o.jsxs)("div",{className:"px-4 py-3 bg-gray-50 sm:px-6",children:[l&&(0,o.jsx)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,o.jsx)("span",{className:"block sm:inline",children:l})}),(0,o.jsxs)("div",{className:"flex justify-between",children:[e>1&&5!==e&&(0,o.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),r(e=>Math.max(e-1,1))},disabled:s,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",children:"Pr\xe9c\xe9dent"}),(0,o.jsx)("div",{className:"flex-1"}),(0,o.jsx)("button",{type:4===e||5===e?"submit":"button",onClick:4===e||5===e?j:e=>{e.preventDefault(),r(e=>Math.min(e+1,Ve.length))},disabled:s||y,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white "+(s||y?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary"),children:s&&4===e?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Cr\xe9ation de la boutique..."]}):y&&5===e?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Upload des images..."]}):4===e?"Cr\xe9er la boutique":5===e?"Finaliser et terminer":"Suivant"})]})]})]})})]})},We=["shopId","createdAt","updatedAt","_id","status"],Ye=e=>{let{shop:r,isOpen:n,onClose:a,onSave:s}=e;const[i,l]=(0,t.useState)(r||{}),[c,d]=(0,t.useState)(null);if((0,t.useEffect)(()=>{l(r||{}),d(null)},[r]),!n)return null;const u=e=>{const{name:t,value:r,type:n,checked:a}=e.target;l(e=>({...e,[t]:"checkbox"===n?a:r}))},p=Object.keys(i||{}).filter(e=>!We.includes(e));return(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-lg w-full p-8 relative",children:[(0,o.jsx)("button",{onClick:a,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl font-bold","aria-label":"Fermer",children:"\xd7"}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Modifier la Boutique"}),c&&(0,o.jsx)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:c}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),i)try{s(i)}catch(t){d("Erreur lors de la sauvegarde des modifications.")}},className:"space-y-6",children:[0===p.length&&(0,o.jsx)("div",{className:"text-gray-500",children:"Aucun champ \xe9ditable pour cette boutique."}),p.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 capitalize",children:e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),"boolean"===typeof i[e]?(0,o.jsx)("input",{type:"checkbox",name:e,id:e,checked:!!i[e],onChange:u,className:"mt-1"}):"object"===typeof i[e]&&null!==i[e]?(0,o.jsx)("textarea",{name:e,id:e,value:JSON.stringify(i[e],null,2),disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-100 text-gray-500"}):(0,o.jsx)("input",{type:"text",name:e,id:e,value:i[e]||"",onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary"})]},e)),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,o.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),(0,o.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Enregistrer les modifications"})]})]})]})})},Ke=[{title:"Navigation vers le d\xe9veloppement d'applications",steps:["Dans le tableau de bord Shopify, cliquez sur la fl\xe8che `>` \xe0 droite de `Applications`.","Cliquez sur l'ic\xf4ne en forme de roue dent\xe9e (\u2699\ufe0f) \xe0 gauche de `Param\xe8tres des applications et canaux de vente` qui appara\xeet sous la barre de recherche.","Cliquez sur le bouton `D\xe9velopper des applications`."]},{title:"Autorisation du d\xe9veloppement",steps:["Cliquez sur le premier bouton noir `Autoriser le d\xe9veloppement d'applications personnalis\xe9es`.","Confirmez en cliquant sur le deuxi\xe8me bouton noir `Autoriser le d\xe9veloppement d'applications personnalis\xe9es`."]},{title:"Cr\xe9ation de l'application",steps:["Cliquez sur le bouton noir `Cr\xe9er une application`.","Nommez l'application `Auto` et cliquez sur `Cr\xe9er l'application`."]},{title:"Configuration des acc\xe8s API Admin",steps:[{type:"notice",level:"warning",text:"Cette \xe9tape est cruciale. L'attribution des bonnes autorisations est essentielle au bon fonctionnement de nos automatisations."},"Dans le tableau de bord de l'application, cliquez sur le bouton blanc `Configurer les niveaux d'acc\xe8s Admin API`.","Cochez les cases pour les autorisations suivantes. Vous pouvez utiliser la barre de recherche pour les trouver rapidement.",{type:"api_scopes",scopes:[{id:"write_products",label:"write_products",description:"Cr\xe9er et modifier les produits et collections."},{id:"read_products",label:"read_products",description:"Consulter les produits et collections."},{id:"write_themes",label:"write_themes",description:"Modifier les fichiers du th\xe8me (logos, banni\xe8res, textes...)."},{id:"read_themes",label:"read_themes",description:"Consulter les fichiers du th\xe8me."},{id:"write_content",label:"write_content",description:"Cr\xe9er et modifier le contenu de la boutique en ligne (pages, blogs...)."},{id:"read_content",label:"read_content",description:"Consulter le contenu de la boutique en ligne."}]},"Une fois toutes les cases coch\xe9es, cliquez sur `Enregistrer` en haut \xe0 droite."]},{title:"Installation et r\xe9cup\xe9ration des identifiants",steps:["Naviguez vers l'onglet `Aper\xe7u` de votre application `Auto`.","Cliquez sur le bouton noir `Installer l'application` en haut \xe0 droite, puis confirmez en cliquant sur `Installer`.",{type:"notice",level:"critical",text:"ATTENTION : Le jeton d'acc\xe8s Admin API ne sera affich\xe9 qu'UNE SEULE FOIS. Copiez-le soigneusement."},"Vous \xeates maintenant dans la section `Identifiants d'API`."]}],Qe=e=>{let{onConfirm:r,onClose:n,shop:a}=e;const[s,i]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Cl\xe9 API"}),(0,o.jsx)("input",{type:"text",id:"apiKey",value:s,onChange:e=>i(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"apiSecret",className:"block text-sm font-medium text-gray-700",children:"Cl\xe9 secr\xe8te de l'API"}),(0,o.jsx)("input",{type:"text",id:"apiSecret",value:l,onChange:e=>c(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700",children:"Jeton d'acc\xe8s \xe0 l'API Admin (mot de passe)"}),(0,o.jsx)("input",{type:"password",id:"accessToken",value:d,onChange:e=>u(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",autoComplete:"new-password"})]})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("button",{onClick:()=>m(!p),className:"text-sm text-blue-600 hover:underline",children:p?"Masquer le tutoriel":"Tutoriel \u2013 cr\xe9er l'app dans Shopify"}),p&&(0,o.jsxs)("div",{className:"mt-2 p-4 bg-gray-50 border rounded-lg space-y-6 max-h-[40vh] overflow-y-auto",children:[(0,o.jsx)("h4",{className:"text-base font-semibold text-gray-800",children:"Cr\xe9ation d'une application personnalis\xe9e pour l'acc\xe8s API."}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h5",{className:"font-medium text-gray-700",children:"Instructions:"}),Ke.map((e,t)=>e.title?(0,o.jsxs)("div",{className:"pl-2",children:[(0,o.jsx)("h6",{className:"font-semibold text-gray-800 mb-2",children:e.title}),(0,o.jsx)("ol",{className:"space-y-3",children:e.steps.map((e,t)=>{if("string"===typeof e)return(0,o.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,o.jsxs)("span",{className:"text-blue-500 font-medium",children:[t+1,"."]}),(0,o.jsx)("span",{className:"text-gray-700",children:e})]},`inst-${t}`);if("notice"===e.type){const r={warning:"bg-yellow-50 border-yellow-300 text-yellow-800",critical:"bg-red-100 border-red-400 text-red-900"};return(0,o.jsx)("div",{className:`my-2 p-3 border rounded-md ${r[e.level]||r.warning}`,children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(de,{className:"h-5 w-5 mr-2 flex-shrink-0"}),(0,o.jsx)("p",{className:"font-bold text-sm",children:e.text})]})},`notice-${t}`)}return"api_scopes"===e.type?(0,o.jsxs)("div",{className:"my-2 p-3 bg-gray-100 border rounded-md",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"Autorisations requises :"}),(0,o.jsx)("div",{className:"space-y-2",children:e.scopes.map(e=>(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)("input",{type:"checkbox",readOnly:!0,checked:!0,className:"h-4 w-4 mt-1 border-gray-300 rounded text-blue-600 focus:ring-blue-500"}),(0,o.jsxs)("div",{className:"ml-3 text-sm",children:[(0,o.jsx)("label",{className:"font-mono bg-gray-200 px-1 py-0.5 rounded text-xs",children:e.label}),(0,o.jsx)("p",{className:"text-gray-600",children:e.description})]})]},e.id))})]},`api-scopes-${t}`):null})})]},`path-${t}`):null)]})]})]}),g&&(0,o.jsx)("p",{className:"mt-2 text-sm text-red-600 text-center",children:g}),(0,o.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,o.jsx)("button",{type:"button",onClick:n,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Annuler"}),(0,o.jsxs)("button",{type:"button",onClick:async()=>{f(!0),x(null);try{await r({apiKey:s,apiSecret:l,accessToken:d})}catch(e){x(e.message||"Une erreur est survenue.")}finally{f(!1)}},disabled:h,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[h&&(0,o.jsx)(ke,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Enregistrer les cl\xe9s"]})]})]})},Ge=e=>{let{open:t,type:r,title:n,message:a,onClose:s,onConfirm:i,shop:l}=e;if(!t)return null;return(0,o.jsx)("div",{className:"fixed z-50 inset-0 overflow-y-auto",children:(0,o.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,o.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,o.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,o.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,o.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:(0,o.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,o.jsx)("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${"error"===r?"bg-red-100":"bg-blue-100"} sm:mx-0 sm:h-10 sm:w-10`,children:(()=>{switch(r){case"success":return(0,o.jsx)(ee,{className:"h-6 w-6 text-green-400","aria-hidden":"true"});case"warning":return(0,o.jsx)(ue,{className:"h-6 w-6 text-yellow-400","aria-hidden":"true"});case"error":return(0,o.jsx)(Ee,{className:"h-6 w-6 text-red-400","aria-hidden":"true"});default:return(0,o.jsx)(ge,{className:"h-6 w-6 text-blue-400","aria-hidden":"true"})}})()}),(0,o.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,o.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:n}),(0,o.jsx)("div",{className:"mt-2",children:"api_keys"===r?(0,o.jsx)(Qe,{onConfirm:i,onClose:s,shop:l}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-sm text-gray-500",children:a}),(0,o.jsxs)("div",{className:"mt-4 flex justify-end space-x-3",children:["confirmation"===r&&(0,o.jsx)("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",onClick:s,children:"Annuler"}),(0,o.jsx)("button",{type:"button",className:"bg-blue-600 text-white py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium hover:bg-blue-700",onClick:"confirmation"===r?i:s,children:"confirmation"===r?"Confirmer":"OK"})]})]})})]})]})})]})})},Je=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[g,x]=(0,t.useState)({show:!1,message:"",title:"",type:"info"}),[y,v]=(0,t.useState)({titre:"",description:"",prix:"",poids:"",price:"",weight:"",eans:{},hasColors:!1,colors:[],hasSizes:!1,sizes:[],typeProduit:"Phono",produit:"",occ:!1,active:!1,documented:!1,hasShopify:!1,hasEC:!1,stock:{},skus:{}}),[b,w]=(0,t.useState)([]),[j,N]=(0,t.useState)([]),[k,S]=(0,t.useState)(!1),C=e=>e?e.toString().toUpperCase().replace(/\s+/g,"").replace(/[^A-Z0-9]/g,""):"",E=e=>{const{typeProduit:t,produit:r,titre:a,occ:s}=y,o=C(a),i=e.color?C(e.color):null,l=e.size?C(e.size):null;let c="";if("Phono"===t){c=[C(r||t),o,C((null===n||void 0===n?void 0:n.artist)||(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.nomProjet)||"ARTIST"),s?"OCC":null].filter(Boolean).join("-")}else if("Merch"===t){const e=[C(r),o];i&&e.push(i),l&&e.push(l),c=e.filter(Boolean).join("-")}else if("POD"===t){const e=["PRINT",C(r),o];i&&e.push(i),l&&e.push(l),c=e.filter(Boolean).join("-"),c.length>38&&(c=c.substring(0,38))}return c};(0,t.useEffect)(()=>{const e=D(),t={};e.forEach(e=>{t[e.key]=E(e)}),v(e=>({...e,skus:t}))},[y.sizes,y.colors,y.hasSizes,y.hasColors,y.typeProduit,y.produit,y.titre,y.occ]),(0,t.useEffect)(()=>{let e=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),t=null;try{if(e){t=JSON.parse(e).sub,f(t)}}catch(l){console.error("Error parsing userInfo:",l),c("Erreur lors de la r\xe9cup\xe9ration des informations utilisateur. Veuillez vous reconnecter.")}if(!t){const e=sessionStorage.getItem("userId")||localStorage.getItem("userId");e?f(e):(c("Identifiant utilisateur non trouv\xe9. Veuillez vous reconnecter."),i(!1))}},[]),(0,t.useEffect)(()=>{(async()=>{if(h)try{i(!0);const e=`/api/customer/shops/${h}`,t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration des boutiques");const n=((await t.json()).shops||[]).filter(e=>"valid"===e.status);r(n)}catch(e){console.error("Error fetching shops:",e),c("Une erreur est survenue lors de la r\xe9cup\xe9ration des boutiques")}finally{i(!1)}})()},[h]),(0,t.useEffect)(()=>{if(0===e.length)return;const t=new URLSearchParams(window.location.search).get("shopId");if(t&&!n){const r=e.find(e=>e.shopId===t);r&&a(r)}},[e,n]),(0,t.useEffect)(()=>{M()},[y.sizes,y.colors,y.hasSizes,y.hasColors]);const P=(e,t)=>{v("typeProduit"===e?e=>({...e,typeProduit:t,produit:""}):r=>({...r,[e]:t}))},D=()=>{const e=[];return y.hasSizes&&y.hasColors?y.sizes.forEach(t=>{y.colors.forEach(r=>{e.push({key:`${t}-${r}`,label:`${t} - ${r}`,size:t,color:r})})}):y.hasSizes&&!y.hasColors?y.sizes.forEach(t=>{e.push({key:t,label:`Taille ${t}`,size:t,color:null})}):!y.hasSizes&&y.hasColors?y.colors.forEach(t=>{e.push({key:t,label:`Couleur ${t}`,size:null,color:t})}):e.push({key:"default",label:"Stock g\xe9n\xe9ral",size:null,color:null}),e},I=(e,t)=>{const r=""===t?"":Math.max(0,parseInt(t)||0);v(t=>({...t,stock:{...t.stock,[e]:r}}))},T=(e,t)=>{const r=t.replace(/\D/g,"").slice(0,13);v(t=>({...t,eans:{...t.eans,[e]:r}}))},M=()=>{const e=D().map(e=>e.key);v(t=>{const r={},n={};return e.forEach(e=>{void 0!==t.stock[e]&&(r[e]=t.stock[e]),void 0!==t.eans[e]&&(n[e]=t.eans[e])}),{...t,stock:r,eans:n}})},[A,_]=(0,t.useState)(null),z=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},O=()=>{_(null)};return s?(0,o.jsx)("div",{className:"container mx-auto p-4 flex justify-center items-center h-64",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary mx-auto mb-4"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})}):l&&!e.length?(0,o.jsx)("div",{className:"container mx-auto p-4",children:(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ue,{className:"mr-2"}),(0,o.jsx)("span",{children:l})]})})}):(0,o.jsxs)("div",{className:"container mx-auto p-4 max-w-4xl",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Cr\xe9er un Produit"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Seules les boutiques valides peuvent avoir des produits. S\xe9lectionnez d'abord une boutique \xe9ligible."})]}),p&&(0,o.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ee,{className:"mr-2"}),(0,o.jsx)("span",{children:"Produit cr\xe9\xe9 avec succ\xe8s !"})]})}),l&&(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ue,{className:"mr-2"}),(0,o.jsx)("span",{children:l})]})}),n?(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(Se,{className:"text-sna-primary text-xl mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Cr\xe9er un produit pour:"," ",n.nomProjet||n.name]}),(0,o.jsx)("span",{className:"text-sm text-green-600",children:"Boutique valid\xe9e"})]})]}),(0,o.jsx)("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700 text-sm underline",children:"Changer de boutique"})]})}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!n)return;const t=!y.titre||!y.price||!y.typeProduit||!y.produit,r=D();let a=!1;r.forEach(e=>{const t=y.eans[e.key];t&&/^\d{13}$/.test(t)||(a=!0)});let s=!1;if(r.forEach(e=>{const t=y.skus[e.key];t&&""!==t.trim()||(s=!0)}),t)c("Veuillez remplir tous les champs obligatoires (Titre, Prix, Type de produit, Produit)");else if(a)c("Chaque variante doit avoir un EAN compos\xe9 de 13 chiffres sans espaces ni virgules");else if(s)c("Un SKU est manquant ou invalide. Assurez-vous que les champs 'Type de produit' et 'Produit' sont bien remplis.");else try{var o;u(!0),c(null);const e={titre:y.titre,description:y.description,prix:parseFloat(y.price),poids:y.weight?parseFloat(y.weight):null,eans:y.eans,typeProduit:y.typeProduit,produit:y.produit,OCC:y.occ,tailles:y.hasSizes?y.sizes:[],couleurs:y.hasColors?y.colors:[],stock:y.stock,shopId:n.shopId,skus:y.skus},t=`/api/customer/shops/${h}/${n.shopId}/products`,r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok){const e=await r.json();throw new Error(e.message||"Erreur lors de la cr\xe9ation du produit")}const a=await r.json();if(b.length>0&&null!==(o=a.product)&&void 0!==o&&o.productId){const e=await(async(e,t)=>{if(0===b.length)return!0;S(!0);const r=new FormData;b.forEach(e=>{r.append("productImages",e)});try{const n=await fetch(`/api/customer/shops/${e}/products/${t}/upload`,{method:"POST",body:r,credentials:"include"});if(!n.ok){const e=await n.json();throw new Error(e.message||"Erreur lors de l'upload des images")}return!0}catch(l){return console.error("Error uploading product images:",l),c("Erreur lors de l'upload des images: "+l.message),!1}finally{S(!1)}})(n.shopId,a.product.productId);e||c("Produit cr\xe9\xe9 avec succ\xe8s, mais l'upload des images a \xe9chou\xe9. Vous pouvez les ajouter plus tard.")}m(!0),v({titre:"",description:"",prix:"",poids:"",price:"",weight:"",eans:{},hasColors:!1,colors:[],hasSizes:!1,sizes:[],typeProduit:"Phono",produit:"",occ:!1,active:!1,documented:!1,hasShopify:!1,hasEC:!1,stock:{},skus:{}}),w([]),N([])}catch(i){c(i.message)}finally{u(!1)}},className:"p-6 space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"text",value:y.titre,onChange:e=>P("titre",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de produit ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("select",{value:y.typeProduit,onChange:e=>P("typeProduit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",required:!0,children:[(0,o.jsx)("option",{value:"Phono",children:"Phono"}),(0,o.jsx)("option",{value:"Merch",children:"Merch"}),(0,o.jsx)("option",{value:"POD",children:"POD (Print on Demand)"})]})]}),y.typeProduit&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Produit ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("select",{value:y.produit,onChange:e=>P("produit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",required:!0,children:[(0,o.jsx)("option",{value:"",children:"S\xe9lectionner un produit"}),{Phono:["CD","Vinyl","DVD","Blue-Ray","Autre"],Merch:["T-Shirt","Hoodie","Pantalon","Chemise","Coque","Casquette","Mug","Bracelet","Sticker","Lithographie","Livre","Photographie","Autre"],POD:["T-Shirt","Hoodie","Pantalon","Chemise","Coque","Casquette","Mug","Bracelet","Sticker","Lithographie","Livre","Photographie","Autre"]}[y.typeProduit].map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,o.jsx)("textarea",{value:y.description,onChange:e=>P("description",e.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Prix (\u20ac) ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsx)("input",{type:"number",step:"0.01",value:y.price,onChange:e=>P("price",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poids (grammes)"}),(0,o.jsx)("input",{type:"number",value:y.weight,onChange:e=>P("weight",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]})]}),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Tailles disponibles"}),(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"hasSizes",checked:!y.hasSizes,onChange:()=>P("hasSizes",!1),className:"form-radio h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2",children:"Non"})]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"hasSizes",checked:y.hasSizes,onChange:()=>P("hasSizes",!0),className:"form-radio h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2",children:"Oui"})]})]})]}),y.hasSizes&&(0,o.jsx)("div",{className:"grid grid-cols-5 gap-2",children:["XS","S","M","L","XL"].map(e=>(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:y.sizes.includes(e),onChange:()=>(e=>{v(t=>({...t,sizes:t.sizes.includes(e)?t.sizes.filter(t=>t!==e):[...t.sizes,e]}))})(e),className:"form-checkbox h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2",children:e})]},e))})]}),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Couleurs (optionnel)"}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:y.hasColors,onChange:e=>P("hasColors",e.target.checked),className:"form-checkbox h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2",children:"Ajouter des couleurs"})]})]}),y.hasColors&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("select",{onChange:e=>{const t=e.target.value;t&&!y.colors.includes(t)&&v(e=>({...e,colors:[...e.colors,t]}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary mb-3",value:"",children:[(0,o.jsx)("option",{value:"",children:"Ajouter une couleur"}),["Rouge","Bleu","Vert","Noir","Blanc","Jaune","Rose","Violet","Orange","Gris"].filter(e=>!y.colors.includes(e)).map(e=>(0,o.jsx)("option",{value:e,children:e},e))]}),y.colors.length>0&&(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:y.colors.map(e=>(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[e,(0,o.jsx)("button",{type:"button",onClick:()=>{return t=e,void v(e=>({...e,colors:e.colors.filter(e=>e!==t)}));var t},className:"ml-2 text-blue-600 hover:text-blue-800",children:"\xd7"})]},e))})]})]}),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gestion des stocks"}),(()=>{const e=D();return 0===e.length?(0,o.jsx)("p",{className:"text-gray-500 text-sm",children:"S\xe9lectionnez des tailles et/ou couleurs pour g\xe9rer les stocks par variante."}):(0,o.jsxs)("div",{className:"space-y-4",children:[e.length>6?(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-700",children:e.label}),(0,o.jsx)("p",{className:"text-xs text-gray-500 break-all",children:y.skus[e.key]||E(e)})]}),(0,o.jsx)("input",{type:"number",min:"0",value:y.stock[e.key]||"",onChange:t=>I(e.key,t.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary text-sm",placeholder:"0"}),(0,o.jsx)("input",{type:"text",value:y.eans[e.key]||"",onChange:t=>T(e.key,t.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary text-sm",pattern:"^\\d{13}$",inputMode:"numeric",placeholder:"EAN"})]},e.key))}):(0,o.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-700",children:e.label}),(0,o.jsx)("p",{className:"text-xs text-gray-500 break-all",children:y.skus[e.key]||E(e)})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"number",min:"0",value:y.stock[e.key]||"",onChange:t=>I(e.key,t.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",placeholder:"0"}),(0,o.jsx)("input",{type:"text",value:y.eans[e.key]||"",onChange:t=>T(e.key,t.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",pattern:"^\\d{13}$",inputMode:"numeric",placeholder:"EAN"}),(0,o.jsx)("span",{className:"text-sm text-gray-500",children:"unit\xe9s"})]})]},e.key))}),e.length>0&&(0,o.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:"Stock total :"}),(0,o.jsxs)("span",{className:"text-lg font-semibold text-sna-primary",children:[Object.values(y.stock).reduce((e,t)=>e+(parseInt(t)||0),0)," ","unit\xe9s"]})]})})]})})()]}),"Phono"===y.typeProduit&&(0,o.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"OCC"}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"occ",checked:!y.occ,onChange:()=>P("occ",!1),className:"form-radio h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2",children:"Non"})]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"occ",checked:y.occ,onChange:()=>P("occ",!0),className:"form-radio h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2",children:"Oui"})]})]})}),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Images du produit (optionnel)"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Vous pouvez ajouter jusqu'\xe0 5 images pour ce produit."}),(0,o.jsx)("p",{className:"text-blue-600 text-sm font-medium mb-4",children:"\ud83d\udcdd Les images seront ajout\xe9es \xe0 Shopify dans l'ordre affich\xe9 ci-dessous. Vous pouvez r\xe9organiser les images en les faisant glisser."}),(0,o.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>(e=>{const t=Array.from(e);if(b.length+t.length>5)return void x({show:!0,message:"Vous ne pouvez t\xe9l\xe9charger que 5 images au maximum.",title:"Limite d'images atteinte",type:"warning"});const r=[...b,...t];w(r);const n=[];t.forEach(e=>{const r=new FileReader;r.onload=e=>{n.push(e.target.result),n.length===t.length&&N(e=>[...e,...n])},r.readAsDataURL(e)})})(e.target.files),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sna-primary file:text-white hover:file:bg-sna-primary-dark"}),j.length>0&&(0,o.jsx)("div",{className:"mt-2 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4",children:j.map((e,t)=>(0,o.jsxs)("div",{className:"relative group cursor-move "+(A===t?"opacity-50":""),draggable:!0,onDragStart:e=>((e,t)=>{_(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:z,onDrop:e=>((e,t)=>{if(e.preventDefault(),null===A||A===t)return void _(null);const r=[...b],n=[...j],a=r[A],s=n[A];r.splice(A,1),n.splice(A,1),r.splice(t,0,a),n.splice(t,0,s),w(r),N(n),_(null)})(e,t),onDragEnd:O,children:[(0,o.jsx)("img",{src:e,alt:`Preview ${t+1}`,className:"h-24 w-24 object-cover rounded-lg border"}),(0,o.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:t+1}),(0,o.jsx)("button",{type:"button",onClick:()=>{return e=t,w(t=>t.filter((t,r)=>r!==e)),void N(t=>t.filter((t,r)=>r!==e));var e},className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 text-xs opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:(0,o.jsx)(Ee,{})}),(0,o.jsx)("div",{className:"absolute bottom-1 left-1 right-1 bg-black bg-opacity-70 text-white text-xs text-center rounded",children:"Glisser pour r\xe9organiser"})]},t))}),k&&(0,o.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500 mr-2"}),(0,o.jsx)("span",{className:"text-sm text-blue-700",children:"Upload des images en cours..."})]})})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,o.jsx)("button",{type:"button",onClick:()=>a(null),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition duration-300",children:"Annuler"}),(0,o.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary-dark transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Cr\xe9ation en cours..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(we,{className:"mr-2"}),"Cr\xe9er le produit"]})})]})]})]}):(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"S\xe9lectionner une Boutique"}),0===e.length?(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,o.jsx)(Se,{className:"mx-auto text-gray-400 text-6xl mb-4"}),(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Aucune boutique \xe9ligible trouv\xe9e"}),(0,o.jsxs)("p",{className:"text-gray-600 mb-6",children:["Pour cr\xe9er des produits, votre boutique doit \xeatre"," ",(0,o.jsx)("strong",{children:"valid\xe9e"}),"."]}),(0,o.jsx)("a",{href:"/client/boutiques",className:"bg-sna-primary text-white px-6 py-3 rounded-md hover:bg-sna-primary-dark transition duration-300",children:"G\xe9rer mes boutiques"})]}):(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer border-2 border-gray-200 hover:border-sna-primary",onClick:()=>a(e),children:[(0,o.jsxs)("div",{className:"flex items-center mb-4",children:[(0,o.jsx)(Se,{className:"text-sna-primary text-2xl mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.nomProjet||e.name||"Boutique"}),(0,o.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,o.jsx)(ee,{className:"mr-1"}),"Valid\xe9e"]})]})]}),(0,o.jsx)("p",{className:"text-gray-600 text-sm",children:"Cliquez pour s\xe9lectionner cette boutique"})]},e.shopId))})]}),(0,o.jsx)(Ge,{open:g.show,type:g.type,title:g.title,message:g.message,onClose:()=>x({show:!1,message:"",title:"",type:"info"})})]})},Xe=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)({}),[g,x]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),b=["XS","S","M","L","XL"],w=["Rouge","Bleu","Vert","Noir","Blanc","Jaune","Rose","Violet","Orange","Gris"];(0,t.useEffect)(()=>{let e=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),t=null;try{if(e){t=JSON.parse(e).sub,v(t)}}catch(d){console.error("Error parsing userInfo:",d),u("Erreur lors de la r\xe9cup\xe9ration des informations utilisateur. Veuillez vous reconnecter.")}if(!t){const e=sessionStorage.getItem("userId")||localStorage.getItem("userId");e?v(e):(u("Identifiant utilisateur non trouv\xe9. Veuillez vous reconnecter."),c(!1))}},[]),(0,t.useEffect)(()=>{(async()=>{if(y)try{c(!0);const e=`/api/customer/shops/${y}`,t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration des boutiques");const n=((await t.json()).shops||[]).filter(e=>"valid"===e.status);r(n)}catch(e){console.error("Error fetching shops:",e),u("Une erreur est survenue lors de la r\xe9cup\xe9ration des boutiques")}finally{c(!1)}})()},[y]);const j=async e=>{if(y&&e)try{c(!0);const t=`/api/customer/shops/${y}/${e}/products`,r=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!r.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration des produits");const n=await r.json();i(n.products||[])}catch(t){console.error("Error fetching products:",t),u("Une erreur est survenue lors de la r\xe9cup\xe9ration des produits")}finally{c(!1)}},N=(e,t)=>{f(r=>({...r,[e]:t}))},k=e=>{var t;const r=e.target.value;!r||null!==(t=h.colors)&&void 0!==t&&t.includes(r)||f(e=>({...e,colors:[...e.colors||[],r]}))},S=(e,t)=>{const r=""===t?"":Math.max(0,parseInt(t)||0);f(t=>({...t,stock:{...t.stock||{},[e]:r}}))},C=async()=>{if(n&&p)try{x(!0),u(null);const e={...h,price:parseFloat(h.price),weight:h.weight?parseFloat(h.weight):null},t=`/api/customer/shops/${y}/${n.shopId}/products/${p}`,r=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok){const e=await r.json();throw new Error(e.message||"Erreur lors de la mise \xe0 jour du produit")}await j(n.shopId),m(null),f({})}catch(e){u(e.message)}finally{x(!1)}},E=e=>{var t;return(null===(t=e.products)||void 0===t?void 0:t.length)||0};return l?(0,o.jsx)("div",{className:"container mx-auto p-4 flex justify-center items-center h-64",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary mx-auto mb-4"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})}):d&&!e.length?(0,o.jsx)("div",{className:"container mx-auto p-4",children:(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ue,{className:"mr-2"}),(0,o.jsx)("span",{children:d})]})})}):(0,o.jsxs)("div",{className:"container mx-auto p-4 max-w-6xl",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Mes Produits"}),(0,o.jsx)("p",{className:"text-gray-600",children:"G\xe9rez tous vos produits par boutique. S\xe9lectionnez une boutique pour voir ses produits."})]}),d&&(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ue,{className:"mr-2"}),(0,o.jsx)("span",{children:d})]})}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,o.jsx)("div",{className:"lg:col-span-1",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Mes Boutiques"})}),(0,o.jsx)("div",{className:"p-4 space-y-3",children:0===e.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)(Se,{className:"mx-auto text-gray-400 text-4xl mb-4"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Aucune boutique trouv\xe9e"}),(0,o.jsx)("a",{href:"/client/boutiques/create",className:"text-sna-primary hover:underline mt-2 inline-block",children:"Cr\xe9er ma premi\xe8re boutique"})]}):e.map(e=>(0,o.jsx)("div",{className:"p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 "+((null===n||void 0===n?void 0:n.shopId)===e.shopId?"border-sna-primary bg-sna-primary bg-opacity-5":"border-gray-200 hover:border-sna-primary hover:bg-gray-50"),onClick:()=>(e=>{a(e),m(null),j(e.shopId)})(e),children:(0,o.jsx)("div",{className:"flex items-center justify-between",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(Se,{className:"text-sna-primary text-lg mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-semibold text-gray-800",children:e.nomProjet||e.name||"Boutique"}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("valid"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"valid"===e.status?"Valid\xe9e":"En attente"}),(0,o.jsxs)("span",{className:"text-xs text-gray-500",children:[E(e)," produit(s)"]})]})]})]})})},e.shopId))})]})}),(0,o.jsx)("div",{className:"lg:col-span-2",children:n?(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(Se,{className:"text-sna-primary text-xl mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:n.nomProjet||n.name}),(0,o.jsxs)("span",{className:"text-sm text-gray-600",children:[s.length," produit(s)"]})]})]}),(0,o.jsxs)("a",{href:`/client/produits/create?shopId=${n.shopId}`,className:"bg-sna-primary text-white px-4 py-2 rounded-md hover:bg-sna-primary-dark transition duration-300 flex items-center",children:[(0,o.jsx)(ye,{className:"mr-2"}),"Ajouter un produit"]})]})}),(0,o.jsx)("div",{className:"p-6",children:0===s.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)(we,{className:"mx-auto text-gray-400 text-4xl mb-4"}),(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Aucun produit dans cette boutique"}),(0,o.jsx)("p",{className:"text-gray-600 mb-6",children:"Commencez par ajouter votre premier produit \xe0 cette boutique."}),(0,o.jsx)("a",{href:`/client/produits/create?shopId=${n.shopId}`,className:"bg-sna-primary text-white px-6 py-3 rounded-md hover:bg-sna-primary-dark transition duration-300",children:"Cr\xe9er un produit"})]}):(0,o.jsx)("div",{className:"space-y-4",children:s.map(e=>{var t;return(0,o.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:p===e.productId?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),(0,o.jsx)("input",{type:"text",value:h.titre||"",onChange:e=>N("titre",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix (\u20ac)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:h.price||"",onChange:e=>N("price",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,o.jsx)("textarea",{value:h.description||"",onChange:e=>N("description",e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Poids (g)"}),(0,o.jsx)("input",{type:"number",value:h.weight||"",onChange:e=>N("weight",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"EAN"}),(0,o.jsx)("input",{type:"text",value:h.ean||"",onChange:e=>N("ean",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,o.jsxs)("select",{value:h.typeProduit||"",onChange:e=>N("typeProduit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",children:[(0,o.jsx)("option",{value:"Phono",children:"Phono"}),(0,o.jsx)("option",{value:"Merch",children:"Merch"})]})]})]}),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,o.jsxs)("div",{className:"flex items-center mb-3",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Tailles"}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:h.hasSizes||!1,onChange:e=>N("hasSizes",e.target.checked),className:"form-checkbox h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2 text-sm",children:"Disponible en tailles"})]})]}),h.hasSizes&&(0,o.jsx)("div",{className:"grid grid-cols-5 gap-2",children:b.map(e=>{var t;return(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:(null===(t=h.sizes)||void 0===t?void 0:t.includes(e))||!1,onChange:()=>(e=>{f(t=>{var r;return{...t,sizes:null!==(r=t.sizes)&&void 0!==r&&r.includes(e)?t.sizes.filter(t=>t!==e):[...t.sizes||[],e]}})})(e),className:"form-checkbox h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-1 text-sm",children:e})]},e)})})]}),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,o.jsxs)("div",{className:"flex items-center mb-3",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Couleurs"}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",checked:h.hasColors||!1,onChange:e=>N("hasColors",e.target.checked),className:"form-checkbox h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2 text-sm",children:"Disponible en couleurs"})]})]}),h.hasColors&&(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("select",{onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:"",children:[(0,o.jsx)("option",{value:"",children:"Ajouter une couleur"}),w.filter(e=>{var t;return!(null!==(t=h.colors)&&void 0!==t&&t.includes(e))}).map(e=>(0,o.jsx)("option",{value:e,children:e},e))]}),(null===(t=h.colors)||void 0===t?void 0:t.length)>0&&(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:h.colors.map(e=>(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[e,(0,o.jsx)("button",{type:"button",onClick:()=>{return t=e,void f(e=>{var r;return{...e,colors:(null===(r=e.colors)||void 0===r?void 0:r.filter(e=>e!==t))||[]}});var t},className:"ml-2 text-blue-600 hover:text-blue-800",children:"\xd7"})]},e))})]})]}),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,o.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gestion des stocks"}),(()=>{const e=(()=>{if(!h)return[];const e=[];return h.hasSizes&&h.hasColors?(h.sizes||[]).forEach(t=>{(h.colors||[]).forEach(r=>{e.push({key:`${t}-${r}`,label:`${t} - ${r}`,size:t,color:r})})}):h.hasSizes&&!h.hasColors?(h.sizes||[]).forEach(t=>{e.push({key:t,label:`Taille ${t}`,size:t,color:null})}):!h.hasSizes&&h.hasColors?(h.colors||[]).forEach(t=>{e.push({key:t,label:`Couleur ${t}`,size:null,color:t})}):e.push({key:"default",label:"Stock g\xe9n\xe9ral",size:null,color:null}),e})();return 0===e.length?(0,o.jsx)("p",{className:"text-gray-500 text-sm",children:"S\xe9lectionnez des tailles et/ou couleurs pour g\xe9rer les stocks par variante."}):(0,o.jsxs)("div",{className:"space-y-4",children:[e.length>6?(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>{var t;return(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("label",{className:"flex-1 text-sm font-medium text-gray-700",children:e.label}),(0,o.jsx)("input",{type:"number",min:"0",value:(null===(t=h.stock)||void 0===t?void 0:t[e.key])||"",onChange:t=>S(e.key,t.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary text-sm",placeholder:"0"})]},e.key)})}):(0,o.jsx)("div",{className:"space-y-3",children:e.map(e=>{var t;return(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:e.label}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"number",min:"0",value:(null===(t=h.stock)||void 0===t?void 0:t[e.key])||"",onChange:t=>S(e.key,t.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",placeholder:"0"}),(0,o.jsx)("span",{className:"text-sm text-gray-500",children:"unit\xe9s"})]})]},e.key)})}),e.length>0&&(0,o.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:"Stock total :"}),(0,o.jsxs)("span",{className:"text-lg font-semibold text-sna-primary",children:[Object.values(h.stock||{}).reduce((e,t)=>e+(parseInt(t)||0),0)," ","unit\xe9s"]})]})})]})})()]}),(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut du produit (g\xe9r\xe9 par l'\xe9quipe)"}),(0,o.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(h.active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:h.active?"Actif":"Inactif"})}),(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(h.documented?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:h.documented?"Document\xe9":"Non document\xe9"})}),(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(h.hasShopify?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:h.hasShopify?"Sur Shopify":"Pas sur Shopify"})}),(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(h.hasEC?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:h.hasEC?"EC":"Pas d'EC"})})]})]}),"Phono"===h.typeProduit&&(0,o.jsx)("div",{className:"border border-gray-200 rounded-lg p-3",children:(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"OCC"}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:`occ_${e.productId}`,checked:!h.occ,onChange:()=>N("occ",!1),className:"form-radio h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2",children:"Non"})]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:`occ_${e.productId}`,checked:h.occ||!1,onChange:()=>N("occ",!0),className:"form-radio h-4 w-4 text-sna-primary"}),(0,o.jsx)("span",{className:"ml-2",children:"Oui"})]})]})}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,o.jsx)("button",{onClick:()=>{m(null),f({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition duration-300",children:"Annuler"}),(0,o.jsx)("button",{onClick:C,disabled:g,className:"px-4 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary-dark transition duration-300 disabled:opacity-50",children:g?"Enregistrement...":"Enregistrer"})]})]}):(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:e.titre}),(0,o.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,o.jsxs)("span",{children:["Prix: ",e.price,"\u20ac"]}),(0,o.jsxs)("span",{children:["Type: ",e.typeProduit]}),e.weight&&(0,o.jsxs)("span",{children:["Poids: ",e.weight,"g"]})]})]}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:(0,o.jsx)("button",{onClick:()=>(e=>{m(e.productId),f({...e,hasSizes:e.sizes&&e.sizes.length>0,hasColors:e.colors&&e.colors.length>0,stock:e.stock||{}})})(e),className:"text-blue-600 hover:text-blue-800 p-2",title:"Modifier",children:(0,o.jsx)(le,{})})})]}),e.description&&(0,o.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:"Status:"}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.active?"Actif":"Inactif"}),(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.documented?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.documented?"Document\xe9":"Non document\xe9"}),(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.hasShopify?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.hasShopify?"Shopify":"Pas sur Shopify"}),(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.hasEC?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.hasEC?"EC":"Pas d'EC"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.sizes&&e.sizes.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:"Tailles:"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.sizes.map(e=>(0,o.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:e},e))})]}),e.colors&&e.colors.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:"Couleurs:"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.colors.map(e=>(0,o.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:e},e))})]}),e.ean&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:"EAN:"}),(0,o.jsx)("div",{className:"text-gray-600 mt-1",children:"object"===typeof e.ean?JSON.stringify(e.ean):e.ean})]})]}),e.stock&&Object.keys(e.stock).length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:"Stock:"}),(0,o.jsxs)("div",{className:"mt-2",children:[1===Object.keys(e.stock).length&&void 0!==e.stock.default?(0,o.jsxs)("div",{className:"text-gray-600",children:[(0,o.jsx)("span",{className:"font-semibold text-sna-primary",children:e.stock.default})," ","unit\xe9s"]}):(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:Object.entries(e.stock).map(e=>{let[t,r]=e;return(0,o.jsxs)("div",{className:"flex justify-between items-center bg-gray-100 px-3 py-2 rounded",children:[(0,o.jsx)("span",{className:"text-sm text-gray-700",children:t}),(0,o.jsx)("span",{className:"font-semibold text-sna-primary",children:r})]},t)})}),(0,o.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Total:"," ",(0,o.jsx)("span",{className:"font-semibold text-sna-primary",children:Object.values(e.stock).reduce((e,t)=>e+(parseInt(t)||0),0)})," ","unit\xe9s"]})]})]})]}),"Phono"===e.typeProduit&&e.hasOwnProperty("occ")&&(0,o.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"OCC:"}),(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.occ?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.occ?"Oui":"Non"})]}),(0,o.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500",children:["Cr\xe9\xe9 le:"," ",new Date(e.createdAt).toLocaleDateString("fr-FR"),e.updatedAt!==e.createdAt&&(0,o.jsxs)("span",{children:[" ","\u2022 Modifi\xe9 le:"," ",new Date(e.updatedAt).toLocaleDateString("fr-FR")]})]})]})},e.productId)})})})]}):(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,o.jsx)(we,{className:"mx-auto text-gray-400 text-6xl mb-4"}),(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"S\xe9lectionnez une boutique"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Choisissez une boutique dans la liste de gauche pour voir ses produits."})]})})]})]})},Ze=()=>{const[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)({}),[p,m]=(0,t.useState)({}),[h,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[y,v]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[b,w]=(0,t.useState)({current:!1,new:!1,confirm:!1}),[j,N]=(0,t.useState)({}),[k,S]=(0,t.useState)(!1),[C,E]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if("true"===sessionStorage.getItem("isFirstLogin"))return console.log("\ud83c\udf89 First-time login detected - automatically showing welcome form"),c(!0),a(!1),void sessionStorage.removeItem("isFirstLogin");let e=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),t={},r=null;try{e&&(t=JSON.parse(e),r=t.sub)}catch(s){console.error("Error parsing userInfo:",s)}let n=t.userId;n||(n=sessionStorage.getItem("userId")||localStorage.getItem("userId")),console.log("==== MANAGE ACCOUNT DEBUG INFO ===="),console.log("User Info from storage:",t),console.log("sub from userInfo:",r),console.log("userId from userInfo:",n),console.log("All Session Storage Keys:");for(let a=0;a<sessionStorage.length;a++){const e=sessionStorage.key(a);console.log(`- ${e}: ${sessionStorage.getItem(e)}`)}console.log("All Local Storage Keys:");for(let a=0;a<localStorage.length;a++){const e=localStorage.key(a);console.log(`- ${e}: ${localStorage.getItem(e)}`)}console.log("==== END DEBUG INFO ====");const o=r||n;if(!o)return console.error("No user identifier found in storage"),i("Identifiant utilisateur non trouv\xe9. Veuillez vous reconnecter."),void a(!1);console.log("FINAL userId for API call (should be sub):",o),P(o)},[]);const P=async e=>{try{a(!0),i(null),c(!1),console.log("==== FETCH CUSTOMER DEBUG INFO ===="),console.log("Fetching customer data for userId:",e),console.log("Current timestamp:",(new Date).toISOString()),console.log("==== END DEBUG INFO ====");const t=`/api/customer/by-user-id/${e}`;console.log("API URL:",t);const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});let s;const o=n.headers.get("content-type");if(!o||!o.includes("application/json")){const e=await n.text();throw new Error(e)}if(s=await n.json(),!n.ok){if(404===n.status)return console.log("Customer profile not found for userId:",e),void i("Profil client non trouv\xe9. Veuillez compl\xe9ter le formulaire de bienvenue pour cr\xe9er votre profil.");throw new Error(s.message||`Erreur lors de la r\xe9cup\xe9ration des donn\xe9es (${n.status})`)}s.success?(console.log("Customer data retrieved successfully:",s.customer),r(s.customer),m(s.customer)):s.isNewUser&&s.needsWelcomeForm?(console.log("\u2728 New user detected - showing welcome form automatically"),r(null),i(null),c(!0)):(console.log("API returned error:",s.message),i(s.message||"Erreur lors de la r\xe9cup\xe9ration des donn\xe9es"))}catch(t){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es client:",t),i(t.message)}finally{a(!1)}},D=async e=>{try{a(!0);let t,r=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),n={};try{r&&(n=JSON.parse(r),t=n.userId)}catch(s){console.error("Error parsing userInfo:",s)}if(t||(t=sessionStorage.getItem("userId")||localStorage.getItem("userId")),!t)throw new Error("Identifiant utilisateur non trouv\xe9. Veuillez vous reconnecter.");let o=null;try{const e=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo");if(e){o=JSON.parse(e).sub}}catch(s){console.error("Error parsing userInfo for sub:",s)}o||console.error("WARNING: No sub found in userInfo - this may cause welcome form submission failures");const i=o||t;console.log("FINAL userId for welcome form (should be sub):",i);const l={...e,userId:i},d="/api/customer/welcome-form",u=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),credentials:"include"});if(!u.ok){const e=await u.json().catch(()=>({}));throw new Error(e.message||`Erreur lors de la soumission du formulaire (${u.status})`)}const p=await u.json();console.log("Welcome form submitted successfully:",p),localStorage.setItem("hasCompletedWelcomeForm","true"),c(!1),x({type:"success",text:"Profil client cr\xe9\xe9 avec succ\xe8s"}),P(t)}catch(s){console.error("Erreur lors de la soumission du formulaire:",s),i(`Erreur lors de la soumission du formulaire: ${s.message}`)}finally{a(!1)}},I=e=>{const{name:t,value:r}=e.target;v(e=>({...e,[t]:r})),j[t]&&N(e=>({...e,[t]:""}))},T=e=>{w(t=>({...t,[e]:!t[e]}))},M=e=>{u(t=>{const r={...t};return r[e]?delete r[e]:r[e]=!0,r})},A=(e,t)=>e&&0!==Object.keys(e).length?(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-sna-primary mb-4 pb-2 border-b border-gray-200",children:t}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e).map(e=>{let[t,r]=e;if(["userId","status","submittedAt","_id","shops","shopsCount","updatedAt"].includes(t))return null;const n=t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).replace(/([0-9])/g," $1"),a=d[t];return(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-500",children:n}),!a&&(0,o.jsx)("button",{onClick:()=>M(t),className:"text-gray-400 hover:text-sna-primary focus:outline-none",title:"Modifier ce champ",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),a?(0,o.jsxs)("div",{className:"flex mt-1",children:[(0,o.jsx)("input",{type:"text",value:p[t]||"",onChange:e=>((e,t)=>{m(r=>({...r,[e]:t}))})(t,e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-sna-primary focus:border-sna-primary sm:text-sm",autoFocus:!0}),(0,o.jsx)("button",{onClick:()=>M(t),className:"ml-2 inline-flex items-center p-2 border border-gray-300 rounded-md text-sm text-gray-500 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}):(0,o.jsx)("div",{className:"mt-1 text-base text-gray-900",children:(()=>{if(null===r||void 0===r||""===r)return"-";if("object"===typeof r){if(Array.isArray(r))return 0===r.length?"-":r.join(", ");try{return r.nomProjet||r.nomClient||r.shopId?Object.entries(r).map(e=>{let[t,r]=e;return`${t}: ${r}`}).join(", "):JSON.stringify(r)}catch{return"[Objet]"}}return r.toString()})()})]},t)})})]}):null;if(n)return(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary"})});if(s||!e)return(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,o.jsxs)("div",{className:"text-center mb-6",children:[(0,o.jsx)("svg",{className:"mx-auto h-16 w-16 text-sna-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,o.jsx)("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:s&&s.includes("Profil client non trouv\xe9")?"Profil client non trouv\xe9":"Erreur"}),(0,o.jsx)("p",{className:"mt-2 text-gray-600",children:s||"Nous n'avons pas pu trouver votre profil client."})]}),s&&s.includes("Profil client non trouv\xe9")&&(0,o.jsxs)("div",{className:"mt-6 text-center",children:[(0,o.jsx)("p",{className:"mb-4 text-gray-700",children:"Votre profil client n'existe pas encore dans notre base de donn\xe9es. Veuillez compl\xe9ter le formulaire de bienvenue pour cr\xe9er votre profil."}),(0,o.jsx)("button",{onClick:()=>c(!0),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary transition-all duration-200 transform hover:scale-105",children:"Compl\xe9ter le formulaire de bienvenue"})]}),l&&(0,o.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-8",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Formulaire de bienvenue"}),(0,o.jsx)(ze,{onSubmit:D})]})]});const _={},z={},O={};return Object.entries(e).forEach(e=>{let[t,r]=e;t.includes("contact")?z[t]=r:t.includes("Soumission")?O[t]=r:["userId","status","submittedAt","_id","shops","shopsCount","updatedAt"].includes(t)||(_[t]=r)}),(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,o.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Mon Profil"}),e.status&&(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("active"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"active"===e.status?"Valid\xe9e":"En attente"})]}),(0,o.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Consultez et g\xe9rez vos informations personnelles."})]}),Object.keys(d).length>0&&(0,o.jsxs)("div",{className:"flex space-x-4",children:[(0,o.jsx)("button",{onClick:async()=>{try{f(!0),x(null);let e=sessionStorage.getItem("userInfo")||localStorage.getItem("userInfo"),t={},n=null,a=null;try{e&&(t=JSON.parse(e),n=t.sub,a=t.userId)}catch(s){console.error("Error parsing userInfo:",s)}a||(a=sessionStorage.getItem("userId")||localStorage.getItem("userId"));const o=n||a;if(!o)throw new Error("Identifiant utilisateur non trouv\xe9");console.log("==== SAVE CHANGES DEBUG INFO ===="),console.log("User Info from storage:",t),console.log("sub from userInfo:",n),console.log("userId from userInfo:",a),console.log("FINAL userId for saving changes (should be sub):",o),console.log("==== END SAVE CHANGES DEBUG INFO ====");const i=`/api/customer/update/${o}`,l=await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p),credentials:"include"});if(!l.ok){const e=await l.json().catch(()=>({}));throw new Error(e.message||`Erreur lors de la mise \xe0 jour des donn\xe9es (${l.status})`)}const c=await l.json();r(c.customer),u({}),x({type:"success",text:"Profil mis \xe0 jour avec succ\xe8s"}),window.scrollTo({top:0,behavior:"smooth"})}catch(e){console.error("Erreur lors de la mise \xe0 jour des donn\xe9es client:",e),x({type:"error",text:e.message})}finally{f(!1)}},disabled:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:h?"Enregistrement...":"Enregistrer"}),(0,o.jsx)("button",{onClick:()=>{u({}),m(e)},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Annuler"})]})]}),g&&(0,o.jsx)("div",{className:"mb-6 p-4 rounded-md "+("success"===g.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,o.jsxs)("div",{className:"flex",children:["success"===g.type?(0,o.jsx)("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,o.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,o.jsx)("p",{className:"ml-3",children:g.text})]})}),e.submittedAt&&(0,o.jsxs)("div",{className:"text-sm text-gray-500 mb-6",children:["Soumis le:"," ",new Date(e.submittedAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),A(_,"Informations soci\xe9t\xe9"),A(z,"Contacts"),A(O,"Signature"),(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)("h3",{className:"text-xl font-semibold text-sna-primary mb-2 pb-2 border-b border-gray-200 flex items-center",children:[(0,o.jsx)(xe,{className:"mr-2"}),"S\xe9curit\xe9"]}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Modifiez votre mot de passe pour s\xe9curiser votre compte."})]}),C&&(0,o.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ee,{className:"text-green-500 text-lg mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-green-800 font-medium",children:"Mot de passe modifi\xe9 avec succ\xe8s"}),(0,o.jsx)("p",{className:"text-green-600 text-sm mt-1",children:"Votre mot de passe a \xe9t\xe9 mis \xe0 jour. Utilisez-le lors de votre prochaine connexion."})]})]})}),j.general&&(0,o.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-red-600 text-sm",children:j.general})}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),E(!1),(()=>{const e={};return y.currentPassword||(e.currentPassword="Le mot de passe actuel est requis"),y.newPassword?y.newPassword.length<8?e.newPassword="Le mot de passe doit contenir au moins 8 caract\xe8res":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(y.newPassword)||(e.newPassword="Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"):e.newPassword="Le nouveau mot de passe est requis",y.confirmPassword?y.newPassword!==y.confirmPassword&&(e.confirmPassword="Les mots de passe ne correspondent pas"):e.confirmPassword="La confirmation du mot de passe est requise",y.currentPassword&&y.newPassword&&y.currentPassword===y.newPassword&&(e.newPassword="Le nouveau mot de passe doit \xeatre diff\xe9rent de l'actuel"),N(e),0===Object.keys(e).length})()){S(!0);try{const e=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:y.currentPassword,newPassword:y.newPassword})}),t=await e.json();t.success?(E(!0),v({currentPassword:"",newPassword:"",confirmPassword:""}),N({}),setTimeout(()=>E(!1),3e3)):"Invalid current password"===t.error?N({currentPassword:"Mot de passe actuel incorrect"}):N({general:t.message||"Erreur lors du changement de mot de passe"})}catch(s){console.error("Error changing password:",s),N({general:"Erreur de connexion. Veuillez r\xe9essayer."})}finally{S(!1)}}},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:["Mot de passe actuel ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{type:b.current?"text":"password",id:"currentPassword",name:"currentPassword",value:y.currentPassword,onChange:I,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm pr-10 "+(j.currentPassword?"border-red-500":""),placeholder:"Saisissez votre mot de passe actuel"}),(0,o.jsx)("button",{type:"button",onClick:()=>T("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.current?(0,o.jsx)(pe,{className:"h-4 w-4 text-gray-400"}):(0,o.jsx)(me,{className:"h-4 w-4 text-gray-400"})})]}),j.currentPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.currentPassword})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:["Nouveau mot de passe ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{type:b.new?"text":"password",id:"newPassword",name:"newPassword",value:y.newPassword,onChange:I,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm pr-10 "+(j.newPassword?"border-red-500":""),placeholder:"Saisissez votre nouveau mot de passe"}),(0,o.jsx)("button",{type:"button",onClick:()=>T("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.new?(0,o.jsx)(pe,{className:"h-4 w-4 text-gray-400"}):(0,o.jsx)(me,{className:"h-4 w-4 text-gray-400"})})]}),j.newPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.newPassword}),(0,o.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Le mot de passe doit contenir au moins 8 caract\xe8res avec une majuscule, une minuscule et un chiffre."})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:["Confirmer le nouveau mot de passe"," ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{type:b.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:y.confirmPassword,onChange:I,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm pr-10 "+(j.confirmPassword?"border-red-500":""),placeholder:"Confirmez votre nouveau mot de passe"}),(0,o.jsx)("button",{type:"button",onClick:()=>T("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:b.confirm?(0,o.jsx)(pe,{className:"h-4 w-4 text-gray-400"}):(0,o.jsx)(me,{className:"h-4 w-4 text-gray-400"})})]}),j.confirmPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.confirmPassword})]}),(0,o.jsx)("div",{className:"flex justify-end pt-4",children:(0,o.jsx)("button",{type:"submit",disabled:k,className:"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary "+(k?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90"),children:k?(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise \xe0 jour..."]}):"Changer le mot de passe"})})]})]}),l&&(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Formulaire de bienvenue"}),(0,o.jsx)("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-500",children:(0,o.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsx)(ze,{onSubmit:D})})]})})]})};function et(e){let{clientId:r,allFieldsValidated:n,validatedCount:a,totalFields:s,onValidate:i}=e;const[l,c]=t.useState(!1),[d,u]=t.useState(null);return(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:async()=>{c(!0),u(null);try{await i()}catch(e){u(e.message||"Erreur lors de la validation")}finally{c(!1)}},disabled:!n||l,className:"px-4 py-2 rounded "+(n&&!l?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:n?l?"Validation en cours...":"Cliquez pour valider le client":`Veuillez v\xe9rifier tous les champs (${s} requis)`,type:"button",children:l?"Validation en cours...":`Valider le client (${a}/${s} v\xe9rifi\xe9s)`}),d&&(0,o.jsx)("div",{className:"text-red-600 text-xs mt-1",children:d})]})}function tt(){const[e,r]=(0,t.useState)({pending:[],valid:[]}),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[p,m]=(0,t.useState)({}),[h,f]=(0,t.useState)(null),[g,x]=(0,t.useState)(!1),[y,v]=(0,t.useState)({}),[b,w]=(0,t.useState)(""),[j,N]=(0,t.useState)(""),k=(0,t.useMemo)(()=>[{key:"raisonSociale",label:"Raison Sociale"},{key:"formeJuridique",label:"Forme Juridique"},{key:"siret",label:"SIRET"},{key:"adresseSociete",label:"Adresse"},{key:"codePostalSociete",label:"Code Postal"},{key:"villeSociete",label:"Ville"},{key:"paysSociete",label:"Pays"},{key:"contact1Nom",label:"Contact Principal"},{key:"contact1Email",label:"Email Principal"},{key:"contact1Telephone",label:"T\xe9l\xe9phone Principal"},{key:"contactFacturationNom",label:"Contact Facturation"},{key:"contactFacturationEmail",label:"Email Facturation"},{key:"contactFacturationTelephone",label:"T\xe9l\xe9phone Facturation"},{key:"nomSoumission",label:"Soumis par"},{key:"fonctionSoumission",label:"Fonction"},{key:"dateSoumission",label:"Date de soumission"},{key:"CompteClientNumber",label:"Num\xe9ro Compte Client",editable:!0},{key:"Payement",label:"Type de Paiement",editable:!0,type:"radio",options:["vendeur","mandataire"]}],[]);(0,t.useEffect)(()=>{e.pending.length>0&&(console.log("Initializing validation state for clients:",e.pending),m(t=>{const r={...t};return e.pending.forEach(e=>{if(!r[e._id]){const t={};k.forEach(e=>{t[e.key]=!1}),r[e._id]=t,console.log(`Initialized validation state for client ${e._id}:`,r[e._id])}}),r}))},[e.pending,k]);const S=(e,t,r)=>{let n=r;"CompteClientNumber"===t&&(n=r.replace(/[^0-9]/g,"").slice(0,6)),v(r=>({...r,[e]:{...r[e]||{},[t]:n}}))},C=e=>{var t;if(!e||!p[e])return console.log(`No validation fields found for client ${e}`),!1;const r=p[e],n=y[e]||{},a=k.every(e=>!0===r[e.key]),s=6===(null===(t=n.CompteClientNumber)||void 0===t?void 0:t.length),o=k.filter(e=>e.editable&&"CompteClientNumber"!==e.key).every(e=>{const t=n[e.key];return t&&""!==t.trim()}),i=a&&s&&o;return console.log(`Validating client ${e}:`,{clientValidations:r,clientEditableValues:n,allChecked:a,isCompteClientNumValid:s,otherEditableFieldsFilled:o,allValid:i,fieldStates:k.map(e=>({field:e.key,isValid:!0===r[e.key],value:r[e.key],editableValue:e.editable?n[e.key]:null}))}),i},E=e=>{const t=l!==e._id;c(t?e._id:null),u(t?e._id:null),t&&(m(t=>({...t,[e._id]:t[e._id]||{}})),v(t=>({...t,[e._id]:{CompteClientNumber:e.CompteClientNumber||"",Payement:e.Payement||"",...t[e._id]||{}}})),P(e))},P=(0,t.useCallback)(async e=>{let t;if("object"===typeof e&&null!==e){if(t=e._id||e.id,!t)return console.error("No valid client ID found in client object:",e),i("Invalid client data: Missing client ID"),null}else t=e;const r=t.toString().trim();try{console.log(`Fetching details for client ID: ${r}`);const e=await fetch(`/api/customer/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"});if(!e.ok){const t=await e.text();return console.error(`Error response for client ${r}:`,t),null}const t=await e.json();console.log("Raw client details response:",t);const n=t.customer||t.data||t;if(!n)throw new Error("No client data received from server");return n}catch(s){return console.error(`Error fetching details for client ${r}:`,s),null}},[i]),D=(0,t.useCallback)(async()=>{a(!0),i(null);try{console.log("Fetching clients from /api/customer/all...");const e=await fetch("/api/customer/all",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"});if(!e.ok){const t=await e.text();throw console.error("API Error Response:",t),new Error(`HTTP error! status: ${e.status}`)}const t=await e.json();console.log("Fetched clients raw data:",t);const n=t.customers||[];console.log("Initial client list:",n);const a=await Promise.all(n.map(async e=>{const t=e._id||e.id;if(!t)return null;try{const r=await P(t);return r?{...e,...r,id:t,name:r.raisonSociale||e.raisonSociale||"Sans nom",email:r.contact1Email||r.email||e.email||"Non sp\xe9cifi\xe9",shops:Array.isArray(e.shops)?e.shops:[],shopsCount:Array.isArray(e.shops)?e.shops.length:0}:(console.error(`No details returned for client ${t}`),null)}catch(s){return console.error(`Error processing client ${t}:`,s),null}})),o=a.filter(Boolean);console.log("Clients with full details:",o);const i=o.filter(e=>"active"===e.status),l=o.filter(e=>"active"!==e.status);r({pending:l,valid:i})}catch(e){console.error("Error fetching clients:",e),i(e.message||"Une erreur est survenue lors du chargement des clients")}finally{a(!1)}},[P]);(0,t.useEffect)(()=>{let e=!0;return e&&D(),()=>{e=!1}},[D]);const I=e.pending.filter(e=>(e.raisonSociale||e.name||"").toLowerCase().includes(b.toLowerCase())||(e.email||"").toLowerCase().includes(b.toLowerCase())),T=e.valid.filter(e=>(e.raisonSociale||e.name||"").toLowerCase().includes(j.toLowerCase())||(e.email||"").toLowerCase().includes(j.toLowerCase()));return n?(0,o.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Clients \xe0 Valider"}),(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})]}):s?(0,o.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Clients \xe0 Valider"}),(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:s})]}):(0,o.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Clients \xe0 Valider"}),(0,o.jsxs)("div",{className:"space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-yellow-700",children:["Clients en attente (",I.length,")"]}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher un client en attente...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:b,onChange:e=>w(e.target.value)})]}),0===I.length?(0,o.jsx)("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:(0,o.jsx)("p",{className:"text-gray-600",children:b?"Aucun client en attente trouv\xe9 avec ce terme de recherche":"Aucun client en attente"})}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-yellow-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du Client"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,o.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(e=>(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(Ie,{className:"mr-2 text-blue-700"}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.raisonSociale||e.name})]})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email||"Non sp\xe9cifi\xe9"}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"En attente"})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,o.jsx)("button",{onClick:()=>E(e),className:"font-medium "+(l===e._id?"text-blue-600 hover:text-blue-900":"text-green-600 hover:text-green-900"),children:l===e._id?"Fermer":"Valider"})})]}),l===e._id&&(0,o.jsx)("tr",{className:"bg-gray-50",children:(0,o.jsx)("td",{colSpan:"4",className:"p-6",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Informations du Client"}),k.map(t=>{var r,n,a,s,i,l,c;const d="CompteClientNumber"===t.key&&(null===(r=y[e._id])||void 0===r?void 0:r.CompteClientNumber)&&6!==(null===(n=y[e._id])||void 0===n?void 0:n.CompteClientNumber.length);return(0,o.jsxs)("div",{className:"flex items-center space-x-4 p-3 bg-white rounded border mb-2",children:[(0,o.jsx)("span",{className:"w-40 text-sm font-medium text-gray-700 flex-shrink-0",children:t.label}),(0,o.jsx)("div",{className:"flex-1",children:t.editable?(0,o.jsxs)("div",{children:["radio"===t.type?(0,o.jsx)("div",{className:"flex space-x-4",children:t.options.map(r=>{var n;return(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:`${t.key}-${e._id}`,value:r,checked:(null===(n=y[e._id])||void 0===n?void 0:n[t.key])===r,onChange:r=>S(e._id,t.key,r.target.value),className:"form-radio"}),(0,o.jsx)("span",{className:"ml-2 capitalize",children:r})]},r)})}):(0,o.jsx)("input",{type:"text",id:`${t.key}-${e._id}`,value:(null===(a=y[e._id])||void 0===a?void 0:a[t.key])||"",onChange:r=>S(e._id,t.key,r.target.value),className:"px-3 py-2 border rounded-md w-full "+(d?"border-red-500 bg-red-50":null!==(s=p[e._id])&&void 0!==s&&s[t.key]?"border-green-200 bg-green-50":"border-gray-300")}),d&&(0,o.jsx)("p",{className:"text-red-600 text-xs mt-1",children:"Le num\xe9ro de compte doit contenir exactement 6 chiffres."})]}):(0,o.jsx)("span",{className:"px-3 py-2 rounded bg-gray-50 border block "+(null!==(i=p[e._id])&&void 0!==i&&i[t.key]?"bg-green-50 border-green-200":"border-gray-300"),children:e[t.key]||"N/A"})}),(0,o.jsx)("button",{onClick:()=>{return r=e._id,n=t.key,console.log(`Toggling validation for client ${r}, field: ${n}`),void m(e=>{const t={...e[r]||{}},a=!t[n],s={...e,[r]:{...t,[n]:a}};console.log(`Toggled ${n} to ${a} for client ${r}`),console.log("Updated validation state:",s[r]);const o=k.every(e=>{var t;return!0===(null===(t=s[r])||void 0===t?void 0:t[e.key])});return console.log(`All fields valid after toggle: ${o}`),console.log("Field states:",k.map(e=>{var t;return{field:e.key,isValid:!0===(null===(t=s[r])||void 0===t?void 0:t[e.key])}})),s});var r,n},className:"ml-2 p-2 rounded-full hover:bg-gray-200 flex-shrink-0",title:null!==(l=p[e._id])&&void 0!==l&&l[t.key]?"Marquer comme non v\xe9rifi\xe9":"Marquer comme v\xe9rifi\xe9",children:null!==(c=p[e._id])&&void 0!==c&&c[t.key]?(0,o.jsx)(ee,{className:"text-green-500 text-lg"}):(0,o.jsx)(Me,{className:"text-gray-400 text-lg"})})]},t.key)}),(0,o.jsx)("div",{className:"mt-6 flex justify-end",children:(0,o.jsx)(et,{clientId:e._id,allFieldsValidated:C(e._id),validatedCount:p[e._id]&&Object.values(p[e._id]).filter(Boolean).length||0,totalFields:k.length,onValidate:async()=>{try{await(async e=>{if(!e)return void console.error("No client provided for validation");const t=e._id||e.id;if(t){console.log("Starting validation for client:",t),console.log("Current client:",e);try{u(t);const e=t.toString();console.log(`Validating client ${e}...`);const n={status:"active",...y[t]};console.log("Update data being sent:",n);const a=await fetch(`/api/customer/clients/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},body:JSON.stringify(n),credentials:"include"});if(!a.ok){const e=await a.text();let t;console.error("Error response:",e);try{t=JSON.parse(e)}catch(r){t={message:e}}throw new Error(t.message||`HTTP error! status: ${a.status}`)}const s=await D();console.log("Updated clients after validation:",s),c(null),m(e=>{const r={...e};return delete r[t],r}),v(e=>{const r={...e};return delete r[t],r}),console.log("Client validation completed successfully")}catch(s){console.error("Error validating client:",s),i(`\xc9chec de la validation du client: ${s.message}`)}finally{u(null)}}else console.error("No client ID provided")})(e)}catch(t){}}})})]})})})]},e._id))})]})})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-green-700",children:["Clients valid\xe9s (",T.length,")"]}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher un client valid\xe9...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:j,onChange:e=>N(e.target.value)})]}),0===T.length?(0,o.jsx)("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:(0,o.jsx)("p",{className:"text-gray-600",children:j?"Aucun client valid\xe9 trouv\xe9 avec ce terme de recherche":"Aucun client valid\xe9"})}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-green-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du Client"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,o.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(e=>(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(Ie,{className:"mr-2 text-blue-700"}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.raisonSociale||e.name})]})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email||"Non sp\xe9cifi\xe9"}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Valid\xe9"})}),(0,o.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,o.jsx)("button",{onClick:()=>E(e),className:"text-blue-600 hover:text-blue-900 font-medium mr-4",children:l===e._id?"Fermer":"Voir d\xe9tails"}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{f(e),x(!0)})(e)},className:"text-red-600 hover:text-red-900 font-medium",children:"Annuler validation"})]})]}),l===e._id&&(0,o.jsx)("tr",{className:"bg-gray-50",children:(0,o.jsx)("td",{colSpan:"4",className:"p-6",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-700 mb-3 border-b pb-2",children:"Informations du Client - Client valid\xe9"}),k.map(t=>(0,o.jsxs)("div",{className:"flex items-start py-3 border-b border-gray-100",children:[(0,o.jsx)("span",{className:"font-medium w-1/3 text-gray-700",children:t.label}),(0,o.jsx)("div",{className:"flex-1 flex flex-col",children:(0,o.jsx)("span",{className:"px-3 py-2 rounded bg-green-50 border border-green-200",children:e[t.key]||"-"})}),(0,o.jsx)("div",{className:"ml-2 p-2 flex-shrink-0",children:(0,o.jsx)(ee,{className:"text-green-500 text-lg"})})]},t.key))]})})})]},e._id))})]})})]})]}),g&&(0,o.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-black opacity-50"}),(0,o.jsxs)("div",{className:"relative bg-white rounded-lg shadow p-6 z-10 min-w-[320px]",children:[(0,o.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Confirmation"}),(0,o.jsx)("p",{className:"text-gray-600 mb-4",children:"\xcates-vous s\xfbr de vouloir annuler la validation de ce client ?"}),(0,o.jsxs)("div",{className:"flex justify-end",children:[(0,o.jsx)("button",{onClick:()=>{x(!1),f(null)},className:"px-4 py-2 rounded bg-gray-300 text-gray-500 hover:bg-gray-400",children:"Annuler"}),(0,o.jsx)("button",{onClick:()=>(async e=>{const t=(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id);if(t)try{u(t);const e=t.toString();console.log(`Unvalidating client ${e}...`);const n=await fetch(`/api/customer/clients/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},body:JSON.stringify({status:"inactive"}),credentials:"include"});if(!n.ok){const e=await n.text();let t;console.error("Error response:",e);try{t=JSON.parse(e)}catch(r){t={message:e}}throw new Error(t.message||`HTTP error! status: ${n.status}`)}return await D(),x(!1),void u(null)}catch(s){console.error("Error unvalidating client:",s),i(`\xc9chec de l'invalidation du client: ${s.message}`),u(null)}else console.error("No client ID provided")})(h),className:"ml-4 px-4 py-2 rounded bg-yellow-500 hover:bg-yellow-600 text-white",children:"Confirmer"})]})]})]})]})}const rt=()=>{const[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(null);(0,t.useEffect)(()=>{d()},[]);const d=async()=>{try{a(!0),i(null);const e=await fetch("/api/statistics"),t=await e.json();if(!t.success)throw new Error(t.message||"Failed to fetch statistics");r(t.statistics),c(new Date(t.generatedAt)),console.log("\ud83d\udcca Statistics loaded:",t.statistics)}catch(e){console.error("\u274c Error fetching statistics:",e),i(e.message)}finally{a(!1)}};if(n)return(0,o.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),(0,o.jsx)("span",{className:"ml-3 text-gray-600",children:"Chargement des statistiques..."})]});if(s)return(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ue,{className:"text-red-500 text-xl mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-red-800 font-medium",children:"Erreur de chargement"}),(0,o.jsx)("p",{className:"text-red-600 text-sm mt-1",children:s}),(0,o.jsx)("button",{onClick:d,className:"mt-3 px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors text-sm",children:"R\xe9essayer"})]})]})});const u=e?[{title:"Clients",value:e.totalCustomers,icon:(0,o.jsx)(Te,{className:"text-blue-500"}),description:`${e.customers.active} actifs, ${e.customers.pending} en attente`,trend:e.recentActivity.newCustomers>0?"up":"stable",trendValue:e.recentActivity.newCustomers,trendText:"nouveaux (30j)",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-200"},{title:"Boutiques",value:e.totalShops,icon:(0,o.jsx)(Se,{className:"text-green-500"}),description:`${e.shops.valid} valid\xe9es, ${e.shops.pending} en attente`,trend:e.recentActivity.newShops>0?"up":"stable",trendValue:e.recentActivity.newShops,trendText:"nouvelles (30j)",bgGradient:"from-green-50 to-green-100",borderColor:"border-green-200"},{title:"Produits",value:e.totalProducts,icon:(0,o.jsx)(oe,{className:"text-purple-500"}),description:`${e.products.active} actifs, ${e.products.inactive} inactifs`,trend:e.recentActivity.newProducts>0?"up":"stable",trendValue:e.recentActivity.newProducts,trendText:"nouveaux (30j)",bgGradient:"from-purple-50 to-purple-100",borderColor:"border-purple-200"},{title:"Shopify",value:e.shops.withShopify,icon:(0,o.jsx)(U,{className:"text-green-600"}),description:`${Math.round(e.shops.withShopify/e.totalShops*100)}% des boutiques`,subValue:`${e.shops.parametrized} param\xe9tr\xe9es`,bgGradient:"from-emerald-50 to-emerald-100",borderColor:"border-emerald-200"}]:[],p=e?[{title:"Taux de validation",value:`${Math.round(e.shops.valid/e.totalShops*100)}%`,icon:(0,o.jsx)(ee,{className:"text-green-500"}),description:"Boutiques valid\xe9es",color:"green"},{title:"Documentation",value:`${Math.round(e.shops.documented/e.totalShops*100)}%`,icon:(0,o.jsx)(he,{className:"text-blue-500"}),description:"Boutiques document\xe9es",color:"blue"},{title:"Type Vendeur",value:e.paymentTypes.vendeur,icon:(0,o.jsx)(ce,{className:"text-yellow-500"}),description:"Clients vendeurs",color:"yellow"},{title:"Type Mandataire",value:e.paymentTypes.mandataire,icon:(0,o.jsx)(Te,{className:"text-orange-500"}),description:"Clients mandataires",color:"orange"}]:[];return(0,o.jsxs)("div",{className:"space-y-8",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord"}),(0,o.jsx)("p",{className:"mt-2 text-gray-600",children:"Vue d'ensemble des performances de la plateforme SNA"}),l&&(0,o.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[(0,o.jsx)(J,{className:"inline mr-1"}),"Derni\xe8re mise \xe0 jour : ",l.toLocaleString("fr-FR")]})]}),(0,o.jsxs)("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,o.jsx)(Z,{className:"mr-2"}),"Actualiser"]})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((e,t)=>(0,o.jsx)("div",{className:`bg-gradient-to-br ${e.bgGradient} border ${e.borderColor} rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow`,children:(0,o.jsx)("div",{className:"flex items-start justify-between",children:(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,o.jsx)("div",{className:"text-2xl",children:e.icon})]}),(0,o.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.value.toLocaleString()}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),e.subValue&&(0,o.jsx)("p",{className:"text-xs text-gray-500",children:e.subValue}),e.trend&&(0,o.jsxs)("div",{className:"flex items-center mt-3 text-xs",children:["up"===e.trend?(0,o.jsx)(Y,{className:"text-green-500 mr-1"}):(0,o.jsx)(H,{className:"text-gray-400 mr-1"}),(0,o.jsxs)("span",{className:"up"===e.trend?"text-green-600":"text-gray-500",children:["+",e.trendValue," ",e.trendText]})]})]})})},t))}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((e,t)=>(0,o.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,o.jsx)("div",{className:"text-xl",children:e.icon})]}),(0,o.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:"number"===typeof e.value?e.value.toLocaleString():e.value}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]},t))}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,o.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,o.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[(0,o.jsx)(Se,{className:"mr-3 text-green-500"}),"R\xe9partition des Boutiques"]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"Valid\xe9es"]}),(0,o.jsx)("span",{className:"font-semibold text-green-700",children:e.shops.valid})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-3"}),"En attente"]}),(0,o.jsx)("span",{className:"font-semibold text-yellow-700",children:e.shops.pending})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded-full mr-3"}),"Inactives"]}),(0,o.jsx)("span",{className:"font-semibold text-gray-700",children:e.shops.inactive})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),"Avec Shopify"]}),(0,o.jsx)("span",{className:"font-semibold text-blue-700",children:e.shops.withShopify})]})]})]}),(0,o.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,o.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[(0,o.jsx)(oe,{className:"mr-3 text-purple-500"}),"R\xe9partition des Produits"]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"Actifs"]}),(0,o.jsx)("span",{className:"font-semibold text-green-700",children:e.products.active})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded-full mr-3"}),"Inactifs"]}),(0,o.jsx)("span",{className:"font-semibold text-gray-700",children:e.products.inactive})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),"Avec Shopify"]}),(0,o.jsx)("span",{className:"font-semibold text-blue-700",children:e.products.withShopify})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-3"}),"Avec EC"]}),(0,o.jsx)("span",{className:"font-semibold text-purple-700",children:e.products.withEC})]})]})]})]}),(0,o.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[(0,o.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,o.jsx)(ne,{className:"mr-3 text-blue-500"}),"Activit\xe9 R\xe9cente (30 derniers jours)"]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.recentActivity.newCustomers}),(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Nouveaux clients"})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.recentActivity.newShops}),(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Nouvelles boutiques"})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:e.recentActivity.newProducts}),(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Nouveaux produits"})]})]})]})]})},nt=()=>{const[e,r]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[n,a]=(0,t.useState)({current:!1,new:!1,confirm:!1}),[s,i]=(0,t.useState)({}),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),p=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),s[t]&&i(e=>({...e,[t]:""}))},m=e=>{a(t=>({...t,[e]:!t[e]}))};return(0,o.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,o.jsxs)("div",{className:"bg-white shadow-sm rounded-lg",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(Ie,{className:"text-blue-500 text-xl mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Mon Profil"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"G\xe9rez vos param\xe8tres de compte et s\xe9curit\xe9"})]})]})}),(0,o.jsxs)("div",{className:"px-6 py-6",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,o.jsx)(xe,{className:"text-gray-500 mr-2"}),"Changer le mot de passe"]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Pour votre s\xe9curit\xe9, veuillez saisir votre mot de passe actuel puis d\xe9finir un nouveau mot de passe."})]}),d&&(0,o.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ee,{className:"text-green-500 text-lg mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-green-800 font-medium",children:"Mot de passe modifi\xe9 avec succ\xe8s"}),(0,o.jsx)("p",{className:"text-green-600 text-sm mt-1",children:"Votre mot de passe a \xe9t\xe9 mis \xe0 jour. Utilisez-le lors de votre prochaine connexion."})]})]})}),s.general&&(0,o.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-red-600 text-sm",children:s.general})}),(0,o.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),u(!1),(()=>{const t={};return e.currentPassword||(t.currentPassword="Le mot de passe actuel est requis"),e.newPassword?e.newPassword.length<8?t.newPassword="Le mot de passe doit contenir au moins 8 caract\xe8res":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.newPassword)||(t.newPassword="Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"):t.newPassword="Le nouveau mot de passe est requis",e.confirmPassword?e.newPassword!==e.confirmPassword&&(t.confirmPassword="Les mots de passe ne correspondent pas"):t.confirmPassword="La confirmation du mot de passe est requise",e.currentPassword&&e.newPassword&&e.currentPassword===e.newPassword&&(t.newPassword="Le nouveau mot de passe doit \xeatre diff\xe9rent de l'actuel"),i(t),0===Object.keys(t).length})()){c(!0);try{const t=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:e.currentPassword,newPassword:e.newPassword})}),n=await t.json();n.success?(u(!0),r({currentPassword:"",newPassword:"",confirmPassword:""}),i({}),setTimeout(()=>u(!1),3e3)):"Invalid current password"===n.error?i({currentPassword:"Mot de passe actuel incorrect"}):i({general:n.message||"Erreur lors du changement de mot de passe"})}catch(n){console.error("Error changing password:",n),i({general:"Erreur de connexion. Veuillez r\xe9essayer."})}finally{c(!1)}}},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:["Mot de passe actuel ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{type:n.current?"text":"password",id:"currentPassword",name:"currentPassword",value:e.currentPassword,onChange:p,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 "+(s.currentPassword?"border-red-500":""),placeholder:"Saisissez votre mot de passe actuel"}),(0,o.jsx)("button",{type:"button",onClick:()=>m("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.current?(0,o.jsx)(pe,{className:"h-4 w-4 text-gray-400"}):(0,o.jsx)(me,{className:"h-4 w-4 text-gray-400"})})]}),s.currentPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.currentPassword})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:["Nouveau mot de passe ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{type:n.new?"text":"password",id:"newPassword",name:"newPassword",value:e.newPassword,onChange:p,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 "+(s.newPassword?"border-red-500":""),placeholder:"Saisissez votre nouveau mot de passe"}),(0,o.jsx)("button",{type:"button",onClick:()=>m("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.new?(0,o.jsx)(pe,{className:"h-4 w-4 text-gray-400"}):(0,o.jsx)(me,{className:"h-4 w-4 text-gray-400"})})]}),s.newPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.newPassword}),(0,o.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Le mot de passe doit contenir au moins 8 caract\xe8res avec une majuscule, une minuscule et un chiffre."})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:["Confirmer le nouveau mot de passe"," ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{type:n.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:p,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 "+(s.confirmPassword?"border-red-500":""),placeholder:"Confirmez votre nouveau mot de passe"}),(0,o.jsx)("button",{type:"button",onClick:()=>m("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.confirm?(0,o.jsx)(pe,{className:"h-4 w-4 text-gray-400"}):(0,o.jsx)(me,{className:"h-4 w-4 text-gray-400"})})]}),s.confirmPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword})]}),(0,o.jsx)("div",{className:"flex justify-end pt-4",children:(0,o.jsx)("button",{type:"submit",disabled:l,className:"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+(l?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:l?(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise \xe0 jour..."]}):"Changer le mot de passe"})})]})]})]})})},at=()=>{const e=new URLSearchParams(window.location.search).get("token"),[r,n]=(0,t.useState)(null),[a,s]=(0,t.useState)(!0),[i,l]=(0,t.useState)(""),[c,d]=(0,t.useState)({newPassword:"",confirmPassword:""}),[u,p]=(0,t.useState)({new:!1,confirm:!1}),[m,h]=(0,t.useState)({}),[f,g]=(0,t.useState)(!1),[x,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(!e)return l("Token de r\xe9initialisation manquant"),void s(!1);v()},[e]);const v=async()=>{try{s(!0);const t=await fetch(`/api/password-reset/verify/${e}`),r=await t.json();r.success?(n(r),l("")):l(r.message||"Token invalide ou expir\xe9")}catch(t){console.error("Error validating token:",t),l("Erreur lors de la validation du token")}finally{s(!1)}},b=e=>{const{name:t,value:r}=e.target;d(e=>({...e,[t]:r})),m[t]&&h(e=>({...e,[t]:""}))},w=e=>{p(t=>({...t,[e]:!t[e]}))};return a?(0,o.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,o.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Validation du lien..."}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Veuillez patienter pendant que nous v\xe9rifions votre lien de r\xe9initialisation."})]})})}):i?(0,o.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,o.jsx)(ue,{className:"text-red-500 text-4xl mx-auto mb-4"}),(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lien invalide"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:i}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("button",{onClick:()=>window.location.href="/",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Retour \xe0 la connexion"}),(0,o.jsx)("p",{className:"text-xs text-gray-500",children:"Vous pouvez demander un nouveau lien de r\xe9initialisation depuis la page de connexion."})]})]})})}):x?(0,o.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,o.jsx)(ee,{className:"text-green-500 text-4xl mx-auto mb-4"}),(0,o.jsx)("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"Mot de passe r\xe9initialis\xe9 !"}),(0,o.jsx)("p",{className:"text-sm text-green-600 mb-6",children:"Votre mot de passe a \xe9t\xe9 modifi\xe9 avec succ\xe8s. Vous allez \xeatre redirig\xe9 vers la page de connexion."}),(0,o.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,o.jsxs)("p",{className:"text-green-700 text-xs",children:[(0,o.jsx)("strong",{children:"Conseil :"})," Utilisez votre nouveau mot de passe pour vous connecter."]})})]})})}):(0,o.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[(0,o.jsxs)("div",{className:"text-center mb-8",children:[(0,o.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,o.jsx)(xe,{className:"text-blue-500 text-3xl"})}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Nouveau mot de passe"}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Choisissez un nouveau mot de passe s\xe9curis\xe9 pour"," ",(0,o.jsx)("span",{className:"font-medium text-blue-600",children:null===r||void 0===r?void 0:r.email})]})]}),m.general&&(0,o.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-3",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ue,{className:"text-red-500 text-sm mr-2"}),(0,o.jsx)("p",{className:"text-red-600 text-sm",children:m.general})]})}),(0,o.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return c.newPassword?c.newPassword.length<8?e.newPassword="Le mot de passe doit contenir au moins 8 caract\xe8res":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(c.newPassword)||(e.newPassword="Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"):e.newPassword="Le nouveau mot de passe est requis",c.confirmPassword?c.newPassword!==c.confirmPassword&&(e.confirmPassword="Les mots de passe ne correspondent pas"):e.confirmPassword="La confirmation du mot de passe est requise",h(e),0===Object.keys(e).length})()){g(!0),h({});try{const t=await fetch("/api/password-reset/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:c.newPassword})}),r=await t.json();r.success?(y(!0),setTimeout(()=>{window.location.href="/"},3e3)):h({general:r.message||"Erreur lors de la r\xe9initialisation"})}catch(r){console.error("Error resetting password:",r),h({general:"Erreur de connexion. Veuillez r\xe9essayer."})}finally{g(!1)}}},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:["Nouveau mot de passe ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{type:u.new?"text":"password",id:"newPassword",name:"newPassword",value:c.newPassword,onChange:b,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 "+(m.newPassword?"border-red-500":""),placeholder:"Saisissez votre nouveau mot de passe",disabled:f}),(0,o.jsx)("button",{type:"button",onClick:()=>w("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:f,children:u.new?(0,o.jsx)(pe,{className:"h-4 w-4 text-gray-400"}):(0,o.jsx)(me,{className:"h-4 w-4 text-gray-400"})})]}),m.newPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.newPassword}),(0,o.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Le mot de passe doit contenir au moins 8 caract\xe8res avec une majuscule, une minuscule et un chiffre."})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:["Confirmer le nouveau mot de passe"," ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{type:u.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:b,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm pr-10 "+(m.confirmPassword?"border-red-500":""),placeholder:"Confirmez votre nouveau mot de passe",disabled:f}),(0,o.jsx)("button",{type:"button",onClick:()=>w("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:f,children:u.confirm?(0,o.jsx)(pe,{className:"h-4 w-4 text-gray-400"}):(0,o.jsx)(me,{className:"h-4 w-4 text-gray-400"})})]}),m.confirmPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),(0,o.jsx)("div",{className:"pt-4",children:(0,o.jsx)("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+(f?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:f?(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"R\xe9initialisation..."]}):"R\xe9initialiser le mot de passe"})})]}),(0,o.jsx)("div",{className:"mt-6 text-center",children:(0,o.jsx)("button",{onClick:()=>window.location.href="/",className:"text-sm text-blue-600 hover:text-blue-500",disabled:f,children:"\u2190 Retour \xe0 la connexion"})})]})})})},st=e=>{let{children:r}=e;const n=[{name:"Clients",href:"/internal/clients",icon:(0,o.jsx)(Te,{})},{name:"Boutiques",href:"/internal/boutiques",icon:(0,o.jsx)(Se,{})},{name:"Produits",href:"/internal/produits",icon:(0,o.jsx)(oe,{})},{name:"Clients \xe0 valider",href:"/internal/clients-a-valider",icon:(0,o.jsx)(re,{})},{name:"Boutiques \xe0 valider",href:"/internal/boutiques-a-valider",icon:(0,o.jsx)(ee,{})},{name:"Produits \xe0 valider",href:"/internal/produits-a-valider",icon:(0,o.jsx)(te,{})},{name:"Documentation",href:"/internal/documentation",icon:(0,o.jsx)(Q,{})},{name:"Configuration Shopify",href:"/internal/configuration-shopify",icon:(0,o.jsx)(U,{})},{name:"Fiche produits Shopify",href:"/internal/fiche-produits-shopify",icon:(0,o.jsx)(Ae,{})},{name:"G\xe9n\xe9ration d'EC",href:"/internal/generation-ec",icon:(0,o.jsx)(fe,{})},{name:"Creation de compte client",href:"/internal/creation-comptes-client",icon:(0,o.jsx)(De,{})},{name:"Statistiques",href:"/internal/statistiques",icon:(0,o.jsx)(X,{})},{name:"Mon profil",href:"/internal/profile",icon:(0,o.jsx)(Ie,{})}];return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:(0,o.jsxs)("div",{className:"flex flex-1",children:[(0,o.jsx)("div",{className:"w-64 bg-white shadow-sm relative z-40 flex flex-col",children:(0,o.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,o.jsx)("div",{className:"flex-1 py-6 px-4",children:(0,o.jsx)("nav",{className:"space-y-2",children:n.map(e=>(0,o.jsxs)("a",{href:e.href,className:"flex items-center px-4 py-3 text-sm rounded-lg transition-colors text-gray-600 hover:bg-gray-50",children:[t.isValidElement(e.icon)?t.cloneElement(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}):(0,o.jsx)("svg",{className:"mr-3 h-5 w-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.icon}),e.name]},e.name))})}),(0,o.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,o.jsxs)("button",{onClick:async()=>{console.log("Logging out internal user...");try{(await fetch("/api/logout-internal",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})).ok?console.log("Internal logout successful"):console.error("Internal logout API call failed")}catch(e){console.error("Error during internal logout:",e)}localStorage.removeItem("token"),sessionStorage.clear(),window.location.href="/logout-internal"},className:"flex w-full items-center px-4 py-3 text-sm rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[(0,o.jsx)(Ne,{className:"mr-3 h-5 w-5 flex-shrink-0"}),"Se d\xe9connecter"]})})]})}),(0,o.jsx)("main",{className:"flex-1 py-8 px-6",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto",children:r})})]})})},ot=e=>{let{client:r,onSave:n,onCancel:a}=e;const[s,i]=(0,t.useState)(r||{name:"",email:"",phone:"",address:""}),l=e=>{i({...s,[e.target.name]:e.target.value})};return(0,o.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden flex items-center justify-center",children:[(0,o.jsx)("div",{className:"absolute inset-0 pointer-events-none",onClick:a}),(0,o.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier le client":"Ajouter un client"}),(0,o.jsx)("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-500",children:(0,o.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(s)},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"T\xe9l\xe9phone"}),(0,o.jsx)("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:l,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Adresse"}),(0,o.jsx)("textarea",{id:"address",name:"address",value:s.address,onChange:l,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary",required:!0})]}),(0,o.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,o.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),(0,o.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:r?"Mettre \xe0 jour":"Cr\xe9er Client"})]})]})]})]})};function it(e){return B({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function lt(e){return B({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function ct(e){return B({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function dt(e){return B({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function ut(e){return B({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function pt(e){return B({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function mt(e){return B({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const ht=e=>{let{shops:r,clientId:n,onShopDeleted:a,onShopUpdated:s}=e;const[i,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[u,p]=(0,t.useState)({}),[m,h]=(0,t.useState)(!1),[f,g]=(0,t.useState)({open:!1});if(!r||0===r.length)return(0,o.jsx)("p",{className:"mt-4 text-gray-500",children:"Ce client n'a pas encore de boutiques enregistr\xe9es."});const x=()=>{l(null)},y=(e,t)=>{p({...u,[e]:t})},v=async()=>{h(!0);const e={...u};delete e._id,delete e.shopId;try{for(const n in e)if("string"===typeof e[n]&&e[n].trim().startsWith("{"))try{e[n]=JSON.parse(e[n])}catch(t){}const r=await fetch(`http://localhost:3000/api/internal/clients/${n}/shops/${i}?_=${(new Date).getTime()}`,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(e),credentials:"include"}),a=await r.json();if(!r.ok||!a.success)throw new Error(a.message||"Erreur lors de la mise \xe0 jour de la boutique.");s&&s(a),x()}catch(r){console.error("Failed to update shop:",r),j({type:"error",title:"Erreur",message:`Erreur: ${r.message}`,onClose:()=>g({open:!1})})}finally{h(!1)}},b=async(e,t)=>{h(!0);const r={[t]:u[t]};try{const e=await fetch(`http://localhost:3000/api/internal/clients/${n}/shops/${i}?_=${(new Date).getTime()}`,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(r),credentials:"include"}),t=await e.json();if(!e.ok||!t.success)throw new Error(t.message||"Erreur lors de la mise \xe0 jour de la boutique.");s&&s(t),d(null)}catch(a){console.error("Failed to update shop:",a),j({type:"error",title:"Erreur",message:`Erreur: ${a.message}`,onClose:()=>g({open:!1})})}finally{h(!1)}},w=(e,t,r)=>{const n=typeof r,a=i===(e.shopId||e._id);if(a&&c===t){if("typeAbonnementShopify"===t)return(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)("select",{value:u[t]||"",onChange:e=>y(t,e.target.value),className:"border rounded p-1 text-sm flex-1",children:[(0,o.jsx)("option",{value:"aucun",children:"Aucun"}),(0,o.jsx)("option",{value:"mensuel",children:"Mensuel"}),(0,o.jsx)("option",{value:"annuel",children:"Annuel"})]}),(0,o.jsxs)("div",{className:"flex space-x-1",children:[(0,o.jsx)("button",{onClick:()=>b(0,t),disabled:m,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:(0,o.jsx)(ut,{size:16})}),(0,o.jsx)("button",{onClick:()=>d(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:(0,o.jsx)(mt,{size:16})})]})]});if(["precommande","dedicaceEnvisagee","snaResponsableDesign","moduleDelivengo","moduleMondialRelay"].includes(t)){const e=u[t],n="boolean"===typeof r;return(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)("select",{value:n?e?"Oui":"Non":e||"Non",onChange:e=>{const r=e.target.value;y(t,n?"Oui"===r:r)},className:"border rounded p-1 text-sm flex-1",children:[(0,o.jsx)("option",{value:"Oui",children:"Oui"}),(0,o.jsx)("option",{value:"Non",children:"Non"})]}),(0,o.jsxs)("div",{className:"flex space-x-1",children:[(0,o.jsx)("button",{onClick:()=>b(0,t),disabled:m,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:(0,o.jsx)(ut,{size:16})}),(0,o.jsx)("button",{onClick:()=>d(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:(0,o.jsx)(mt,{size:16})})]})]})}return"boolean"===n?(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)("select",{value:u[t],onChange:e=>y(t,"true"===e.target.value),className:"border rounded p-1 text-sm flex-1",children:[(0,o.jsx)("option",{value:"true",children:"Oui"}),(0,o.jsx)("option",{value:"false",children:"Non"})]}),(0,o.jsxs)("div",{className:"flex space-x-1",children:[(0,o.jsx)("button",{onClick:()=>b(0,t),disabled:m,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:(0,o.jsx)(ut,{size:16})}),(0,o.jsx)("button",{onClick:()=>d(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:(0,o.jsx)(mt,{size:16})})]})]}):"object"===n&&null!==r?(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("textarea",{value:"string"===typeof u[t]?u[t]:JSON.stringify(u[t],null,2),onChange:e=>y(t,e.target.value),className:"border rounded p-1 w-full font-mono text-xs",rows:"3"}),(0,o.jsxs)("div",{className:"flex justify-end space-x-1",children:[(0,o.jsx)("button",{onClick:()=>b(0,t),disabled:m,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:(0,o.jsx)(ut,{size:16})}),(0,o.jsx)("button",{onClick:()=>d(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:(0,o.jsx)(mt,{size:16})})]})]}):(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:t.toLowerCase().includes("date")?"date":"text",value:u[t]||"",onChange:e=>y(t,e.target.value),className:"border rounded p-1 text-sm flex-1"}),(0,o.jsxs)("div",{className:"flex space-x-1",children:[(0,o.jsx)("button",{onClick:()=>b(0,t),disabled:m,className:"p-1 text-green-600 hover:text-green-800",title:"Enregistrer",children:(0,o.jsx)(ut,{size:16})}),(0,o.jsx)("button",{onClick:()=>d(null),className:"p-1 text-red-600 hover:text-red-800",title:"Annuler",children:(0,o.jsx)(mt,{size:16})})]})]})}const s=(e,t)=>"typeAbonnementShopify"===e?t||"Aucun":["precommande","dedicaceEnvisagee","snaResponsableDesign","moduleDelivengo","moduleMondialRelay"].includes(e)?"boolean"===typeof t?t?"Oui":"Non":t||"Non":"boolean"===n?t?"Oui":"Non":t instanceof Date||"string"===n&&e.toLowerCase().includes("date")?new Date(t).toLocaleDateString():"object"===n&&null!==t?JSON.stringify(t,null,2):String(t||"N/A");return a?(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"flex-1",children:s(t,r)}),(0,o.jsx)("button",{onClick:()=>{d(t),p({...u,[t]:r})},className:"ml-2 p-1 text-blue-600 hover:text-blue-800",title:"Modifier",children:(0,o.jsx)(dt,{size:16})})]}):s(t,r)},j=e=>g({open:!0,...e});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ge,{open:f.open,type:f.type,title:f.title,message:f.message,onClose:f.onClose,onConfirm:f.onConfirm}),(0,o.jsxs)("div",{className:"mt-6 p-6 bg-white shadow-lg rounded-lg",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Boutiques associ\xe9es au client"}),(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du Projet"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document\xe9"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shopify"}),(0,o.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-700",children:e.nomProjet||"N/A"}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+("valid"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"valid"===e.status?"Valid\xe9e":"En attente"})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.documented?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.documented?"Oui":"Non"})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.hasShopify?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.hasShopify?"Oui":"Non"})}),(0,o.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[i===(e.shopId||e._id)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:v,disabled:m,className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-full transition-colors duration-150 ease-in-out",title:"Enregistrer",children:(0,o.jsx)(ut,{size:18})}),(0,o.jsx)("button",{onClick:x,className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full transition-colors duration-150 ease-in-out",title:"Annuler",children:(0,o.jsx)(mt,{size:18})})]}):(0,o.jsx)("button",{onClick:()=>(e=>{l(e.shopId||e._id),p({...e})})(e),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-full transition-colors duration-150 ease-in-out",title:"Modifier",children:(0,o.jsx)(dt,{size:18})}),(0,o.jsx)("button",{onClick:()=>(async e=>{const t=String(e);j({type:"confirmation",title:"Supprimer la boutique",message:`\xcates-vous s\xfbr de vouloir supprimer la boutique ID: ${t} ?`,onClose:()=>g({open:!1}),onConfirm:async()=>{g({open:!1});try{const e=await fetch(`http://localhost:3000/api/internal/clients/${n}/shops/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),r=await e.json();if(!e.ok)throw new Error(r.message||"Erreur lors de la suppression de la boutique.");j({type:"success",title:"Supprim\xe9e",message:"Boutique supprim\xe9e avec succ\xe8s !",onClose:()=>g({open:!1})}),a&&a(t,r.updatedClient)}catch(e){console.error("Failed to delete shop:",e),j({type:"error",title:"Erreur",message:`Erreur: ${e.message}`,onClose:()=>g({open:!1})})}}})})(e.shopId||e._id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full transition-colors duration-150 ease-in-out",title:"Supprimer la boutique",children:(0,o.jsx)(pt,{size:18})})]})]}),i===(e.shopId||e._id)&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"5",className:"px-6 py-4 bg-gray-50",children:(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(e).filter(e=>{let[t]=e;return!["_id","shopId","createdAt","updatedAt","status","coutsEtDetailsModuleMondialRelay","coutsEtDetailsModuleDelivengo","coutsEtDetailsMaintenanceSite","hasShopify","shop","success","shopifyCreatedAt","documented","compteClientRef"].includes(t)}).map(t=>{let[r,n]=t;return(0,o.jsxs)("div",{className:"mb-2",children:[(0,o.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:r.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())})}),(0,o.jsx)("div",{className:"p-2 border rounded bg-white",children:w(e,r,n)})]},r)})})})})]},e.shopId||e._id))})]})})]})]})},ft=()=>{const[e,r]=(0,t.useState)(!1),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(""),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)([]),[g,x]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch(`/api/customer/all?details=true&_=${(new Date).getTime()}`,{headers:{"Cache-Control":"no-cache"}});if(!e.ok)throw new Error("Erreur lors du chargement des clients");const t=await e.json();a((t.customers||[]).map(e=>{const t=e.status||"inactive";return{id:e._id||e.id,name:e.raisonSociale||e.name||"-",email:e.email||"-",shopsCount:Array.isArray(e.shops)?e.shops.length:e.shopsCount||0,status:t}}))}catch(e){c(e.message)}i(!1)})()},[]);const b=(e,t)=>{let r=0;if(t&&Array.isArray(t.shops))f(t.shops),r=t.shops.length;else{let t=[];f(r=>(t=r.filter(t=>String(t.shopId||t._id)!==String(e)),t)),r=t.length}a(e=>e.map(e=>e.id===p?{...e,shopsCount:r}:e))},w=async e=>{if(e&&e.success)try{const e=await fetch(`http://localhost:3000/api/internal/clients/${p}?_=${(new Date).getTime()}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},credentials:"include"});if(!e.ok)throw new Error("Failed to refresh shop data");const t=await e.json();if(!t.success||!t.customer)throw new Error("Invalid client data received");const r=Array.isArray(t.customer.shops)?t.customer.shops:[];f(r),a(e=>e.map(e=>e.id===p?{...e,shopsCount:r.length}:e))}catch(l){console.error("Error refreshing shop data:",l),v(`Error refreshing data: ${l.message}`)}else console.error("Failed to update shop in list due to invalid response:",e)},j=n.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.email.toLowerCase().includes(d.toLowerCase()));return s?(0,o.jsx)("p",{children:"Chargement des clients..."}):l?(0,o.jsxs)("p",{children:["Erreur: ",l]}):(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Liste des Clients"}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher un client...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:d,onChange:e=>u(e.target.value)})]}),0===j.length?(0,o.jsx)("p",{children:"Aucun client trouv\xe9."}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Boutiques"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,o.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(e=>(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shopsCount}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("active"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"active"===e.status?"Valid\xe9":"En attente"})}),(0,o.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,o.jsx)("button",{onClick:()=>(async e=>{if(p===e)return m(null),void f([]);m(e),x(!0),v(null),f([]);try{const t=`http://localhost:3000/api/internal/clients/${e}`,r=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"});if(!r.ok){const e=await r.text();throw new Error(e||`Erreur lors de la r\xe9cup\xe9ration des boutiques du client (${r.status})`)}const n=await r.json();if(!n.success||!n.customer)throw new Error("Donn\xe9es du client non valides ou manquantes.");const a=Array.isArray(n.customer.shops)?n.customer.shops:[];f(a)}catch(t){v(`Erreur: ${t.message||"Impossible de charger les boutiques du client"}`),f([])}finally{x(!1)}})(e.id),className:"text-indigo-600 hover:text-indigo-900 font-medium mr-4",children:p===e.id?"Fermer boutiques":"G\xe9rer les boutiques"}),(0,o.jsx)("a",{href:`/internal/clients/${e.id}`,className:"text-sna-primary hover:text-sna-primary/90",children:"Voir les d\xe9tails"})]})]}),p===e.id&&(0,o.jsx)("tr",{className:"bg-gray-100",children:(0,o.jsxs)("td",{colSpan:"5",className:"p-4",children:[g&&(0,o.jsx)("p",{children:"Chargement des boutiques..."}),y&&(0,o.jsx)("p",{className:"text-red-500",children:y}),!g&&!y&&(h.length>0?(0,o.jsx)(ht,{shops:h,clientId:p,onShopDeleted:b,onShopUpdated:w}):(0,o.jsx)("p",{children:"Ce client n'a pas de boutiques enregistr\xe9es."})),(0,o.jsx)("button",{onClick:()=>m(null),className:"mt-2 text-sm text-gray-600 hover:text-gray-800 py-1 px-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50",children:"Fermer"})]})})]},e.id))})]})}),e&&(0,o.jsx)(ot,{onClose:()=>r(!1)})]})};function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gt.apply(this,arguments)}var xt;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(xt||(xt={}));function yt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function vt(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var bt;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(bt||(bt={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function wt(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function jt(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Nt(e,t){let r=jt(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function kt(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=vt(e):(a=gt({},e),yt(!a.pathname||!a.pathname.includes("?"),wt("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),wt("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),wt("#","search","hash",a)));let s,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)s=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?vt(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:Ct(n),hash:Et(a)}}(a,s),c=i&&"/"!==i&&i.endsWith("/"),d=(o||"."===i)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const St=e=>e.join("/").replace(/\/\/+/g,"/"),Ct=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Et=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const Pt=["post","put","patch","delete"],Dt=(new Set(Pt),["get",...Pt]);new Set(Dt),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},It.apply(this,arguments)}const Tt=t.createContext(null);const Mt=t.createContext(null);const At=t.createContext(null);const _t=t.createContext({outlet:null,matches:[],isDataRoute:!1});function zt(){return null!=t.useContext(At)}function Ot(){return zt()||yt(!1),t.useContext(At).location}function Lt(e){t.useContext(Mt).static||t.useLayoutEffect(e)}function Rt(){let{isDataRoute:e}=t.useContext(_t);return e?function(){let{router:e}=qt($t.UseNavigateStable),r=Bt(Ft.UseNavigateStable),n=t.useRef(!1);Lt(()=>{n.current=!0});let a=t.useCallback(function(t,a){void 0===a&&(a={}),n.current&&("number"===typeof t?e.navigate(t):e.navigate(t,It({fromRouteId:r},a)))},[e,r]);return a}():function(){zt()||yt(!1);let e=t.useContext(Tt),{basename:r,future:n,navigator:a}=t.useContext(Mt),{matches:s}=t.useContext(_t),{pathname:o}=Ot(),i=JSON.stringify(Nt(s,n.v7_relativeSplatPath)),l=t.useRef(!1);Lt(()=>{l.current=!0});let c=t.useCallback(function(t,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof t)return void a.go(t);let s=kt(t,JSON.parse(i),o,"path"===n.relative);null==e&&"/"!==r&&(s.pathname="/"===s.pathname?r:St([r,s.pathname])),(n.replace?a.replace:a.push)(s,n.state,n)},[r,a,i,o,e]);return c}()}t.Component;var $t=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($t||{}),Ft=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ft||{});function qt(e){let r=t.useContext(Tt);return r||yt(!1),r}function Bt(e){let r=function(){let e=t.useContext(_t);return e||yt(!1),e}(),n=r.matches[r.matches.length-1];return n.route.id||yt(!1),n.route.id}n.startTransition;new Promise(()=>{});t.Component;function Vt(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Vt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ut(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Vt(e))&&(n&&(n+=" "),n+=t);return n}const Ht=Ut,Wt=(Math.pow(10,8),6048e5),Yt=6e4,Kt=36e5,Qt=Symbol.for("constructDateFrom");function Gt(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Qt in e?e[Qt](t):e instanceof Date?new e.constructor(t):new Date(t)}function Jt(e,t){return Gt(t||e,e)}function Xt(e,t){const r=()=>Gt(t?.in,NaN),n=t?.additionalDigits??2,a=function(e){const t={},r=e.split(Zt.dateTimeDelimiter);let n;if(r.length>2)return t;/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Zt.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Zt.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length)));if(n){const e=Zt.timezone.exec(n);e?(t.time=n.replace(e[1],""),t.timezone=e[1]):t.time=n}return t}(e);let s;if(a.date){const e=function(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:null===s?a:100*s,restDateString:e.slice((n[1]||n[2]).length)}}(a.date,n);s=function(e,t){if(null===t)return new Date(NaN);const r=e.match(er);if(!r)return new Date(NaN);const n=!!r[4],a=nr(r[1]),s=nr(r[2])-1,o=nr(r[3]),i=nr(r[4]),l=nr(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,i,l)?function(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=7*(t-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}(t,i,l):new Date(NaN);{const e=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(sr[t]||(or(e)?29:28))}(t,s,o)&&function(e,t){return t>=1&&t<=(or(e)?366:365)}(t,a)?(e.setUTCFullYear(t,s,Math.max(a,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(+s))return r();const o=+s;let i,l=0;if(a.time&&(l=function(e){const t=e.match(tr);if(!t)return NaN;const r=ar(t[1]),n=ar(t[2]),a=ar(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,a))return NaN;return r*Kt+n*Yt+1e3*a}(a.time),isNaN(l)))return r();if(!a.timezone){const e=new Date(o+l),r=Jt(0,t?.in);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}return i=function(e){if("Z"===e)return 0;const t=e.match(rr);if(!t)return 0;const r="+"===t[1]?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return r*(n*Kt+a*Yt)}(a.timezone),isNaN(i)?r():Jt(o+l+i,t?.in)}const Zt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},er=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nr(e){return e?parseInt(e):1}function ar(e){return e&&parseFloat(e.replace(",","."))||0}const sr=[31,null,31,30,31,30,31,31,30,31,30,31];function or(e){return e%400===0||e%4===0&&e%100!==0}const ir={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function lr(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const cr={date:lr({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:lr({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:lr({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},dr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ur(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=r?.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=r?.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const pr={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:ur({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ur({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ur({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ur({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ur({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function mr(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],i=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(i,e=>e.test(o)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(i,e=>e.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const hr={ordinalNumber:(fr={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.match(fr.matchPattern);if(!r)return null;const n=r[0],a=e.match(fr.parsePattern);if(!a)return null;let s=fr.valueCallback?fr.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(n.length)}}),era:mr({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:mr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mr({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:mr({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mr({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var fr;const gr={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=ir[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:cr,formatRelative:(e,t,r,n)=>dr[e],localize:pr,match:hr,options:{weekStartsOn:0,firstWeekContainsDate:1}},xr=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},yr=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},vr={p:yr,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return xr(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",xr(n,t)).replace("{{time}}",yr(a,t))}},br=/^D+$/,wr=/^Y+$/,jr=["D","DD","YY","YYYY"];function Nr(e){return br.test(e)}function kr(e){return wr.test(e)}function Sr(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),jr.includes(e))throw new RangeError(n)}let Cr={};function Er(){return Cr}function Pr(){return Object.assign({},Er())}function Dr(e,t){const r=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):Gt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}class Ir{subPriority=0;validate(e,t){return!0}}class Tr extends Ir{constructor(e,t,r,n,a){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=n,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class Mr extends Ir{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>Gt(t,e))}set(e,t){return t.timestampIsSet?e:Gt(e,Dr(e,this.context))}}class Ar{run(e,t,r,n){const a=this.parse(e,t,r,n);return a?{setter:new Tr(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,r){return!0}}const _r=/^(1[0-2]|0?\d)/,zr=/^(3[0-1]|[0-2]?\d)/,Or=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Lr=/^(5[0-3]|[0-4]?\d)/,Rr=/^(2[0-3]|[0-1]?\d)/,$r=/^(2[0-4]|[0-1]?\d)/,Fr=/^(1[0-1]|0?\d)/,qr=/^(1[0-2]|0?\d)/,Br=/^[0-5]?\d/,Vr=/^[0-5]?\d/,Ur=/^\d/,Hr=/^\d{1,2}/,Wr=/^\d{1,3}/,Yr=/^\d{1,4}/,Kr=/^-?\d+/,Qr=/^-?\d/,Gr=/^-?\d{1,2}/,Jr=/^-?\d{1,3}/,Xr=/^-?\d{1,4}/,Zr=/^([+-])(\d{2})(\d{2})?|Z/,en=/^([+-])(\d{2})(\d{2})|Z/,tn=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,rn=/^([+-])(\d{2}):(\d{2})|Z/,nn=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function an(e,t){return e?{value:t(e.value),rest:e.rest}:e}function sn(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function on(e,t){const r=t.match(e);if(!r)return null;if("Z"===r[0])return{value:0,rest:t.slice(1)};const n="+"===r[1]?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*Kt+s*Yt+1e3*o),rest:t.slice(r[0].length)}}function ln(e){return sn(Kr,e)}function cn(e,t){switch(e){case 1:return sn(Ur,t);case 2:return sn(Hr,t);case 3:return sn(Wr,t);case 4:return sn(Yr,t);default:return sn(new RegExp("^\\d{1,"+e+"}"),t)}}function dn(e,t){switch(e){case 1:return sn(Qr,t);case 2:return sn(Gr,t);case 3:return sn(Jr,t);case 4:return sn(Xr,t);default:return sn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function un(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function pn(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const t=n+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return r?a:1-a}function mn(e){return e%400===0||e%4===0&&e%100!==0}function hn(e,t){const r=Er(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Jt(e,t?.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function fn(e,t){const r=Jt(e,t?.in),n=r.getFullYear(),a=Er(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Gt(t?.in||e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const i=hn(o,t),l=Gt(t?.in||e,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=hn(l,t);return+r>=+i?n+1:+r>=+c?n:n-1}function gn(e,t){return hn(e,{...t,weekStartsOn:1})}function xn(e,t){const r=Er(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=fn(e,t),s=Gt(t?.in||e,0);s.setFullYear(a,0,n),s.setHours(0,0,0,0);return hn(s,t)}function yn(e,t){const r=Jt(e,t?.in),n=+hn(r,t)-+xn(r,t);return Math.round(n/Wt)+1}function vn(e,t,r){const n=Jt(e,r?.in),a=yn(n,r)-t;return n.setDate(n.getDate()-7*a),Jt(n,r?.in)}function bn(e,t){const r=Jt(e,t?.in),n=r.getFullYear(),a=Gt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=gn(a),o=Gt(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=gn(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=i.getTime()?n:n-1}function wn(e,t){const r=bn(e,t),n=Gt(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),gn(n)}function jn(e,t){const r=Jt(e,t?.in),n=+gn(r)-+wn(r);return Math.round(n/Wt)+1}function Nn(e,t,r){const n=Jt(e,r?.in),a=jn(n,r)-t;return n.setDate(n.getDate()-7*a),n}const kn=[31,28,31,30,31,30,31,31,30,31,30,31],Sn=[31,29,31,30,31,30,31,31,30,31,30,31];function Cn(e,t,r){const n=Jt(e,r?.in);return isNaN(t)?Gt(r?.in||e,NaN):t?(n.setDate(n.getDate()+t),n):n}function En(e,t,r){const n=Er(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Jt(e,r?.in),o=s.getDay(),i=7-a;return Cn(s,t<0||t>6?t-(o+i)%7:((t%7+7)%7+i)%7-(o+i)%7,r)}function Pn(e,t){const r=Jt(e,t?.in).getDay();return 0===r?7:r}function Dn(e,t,r){const n=Jt(e,r?.in);return Cn(n,t-Pn(n,r),r)}function In(e){const t=Jt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}const Tn={G:new class extends Ar{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends Ar{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const n=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return an(cn(4,e),n);case"yo":return an(r.ordinalNumber(e,{unit:"year"}),n);default:return an(cn(t.length,e),n)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const n=e.getFullYear();if(r.isTwoDigitYear){const t=pn(r.year,n);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-r.year:r.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Ar{priority=130;parse(e,t,r){const n=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return an(cn(4,e),n);case"Yo":return an(r.ordinalNumber(e,{unit:"year"}),n);default:return an(cn(t.length,e),n)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,n){const a=fn(e,n);if(r.isTwoDigitYear){const t=pn(r.year,a);return e.setFullYear(t,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),hn(e,n)}const s="era"in t&&1!==t.era?1-r.year:r.year;return e.setFullYear(s,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),hn(e,n)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends Ar{priority=130;parse(e,t){return dn("R"===t?4:t.length,e)}set(e,t,r){const n=Gt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),gn(n)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends Ar{priority=130;parse(e,t){return dn("u"===t?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends Ar{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return cn(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth(3*(r-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends Ar{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return cn(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth(3*(r-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends Ar{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const n=e=>e-1;switch(t){case"M":return an(sn(_r,e),n);case"MM":return an(cn(2,e),n);case"Mo":return an(r.ordinalNumber(e,{unit:"month"}),n);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}},L:new class extends Ar{priority=110;parse(e,t,r){const n=e=>e-1;switch(t){case"L":return an(sn(_r,e),n);case"LL":return an(cn(2,e),n);case"Lo":return an(r.ordinalNumber(e,{unit:"month"}),n);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends Ar{priority=100;parse(e,t,r){switch(t){case"w":return sn(Lr,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return cn(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,n){return hn(vn(e,r,n),n)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends Ar{priority=100;parse(e,t,r){switch(t){case"I":return sn(Lr,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return cn(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return gn(Nn(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends Ar{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return sn(zr,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return cn(t.length,e)}}validate(e,t){const r=mn(e.getFullYear()),n=e.getMonth();return r?t>=1&&t<=Sn[n]:t>=1&&t<=kn[n]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends Ar{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return sn(Or,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return cn(t.length,e)}}validate(e,t){return mn(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends Ar{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,n){return(e=En(e,r,n)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends Ar{priority=90;parse(e,t,r,n){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return an(cn(t.length,e),a);case"eo":return an(r.ordinalNumber(e,{unit:"day"}),a);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,n){return(e=En(e,r,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends Ar{priority=90;parse(e,t,r,n){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return an(cn(t.length,e),a);case"co":return an(r.ordinalNumber(e,{unit:"day"}),a);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,n){return(e=En(e,r,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends Ar{priority=90;parse(e,t,r){const n=e=>0===e?7:e;switch(t){case"i":case"ii":return cn(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return an(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return an(r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return an(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);default:return an(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return(e=Dn(e,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends Ar{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(un(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends Ar{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(un(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends Ar{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(un(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends Ar{priority=70;parse(e,t,r){switch(t){case"h":return sn(qr,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return cn(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const n=e.getHours()>=12;return n&&r<12?e.setHours(r+12,0,0,0):n||12!==r?e.setHours(r,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends Ar{priority=70;parse(e,t,r){switch(t){case"H":return sn(Rr,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return cn(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends Ar{priority=70;parse(e,t,r){switch(t){case"K":return sn(Fr,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return cn(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends Ar{priority=70;parse(e,t,r){switch(t){case"k":return sn($r,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return cn(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const n=r<=24?r%24:r;return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends Ar{priority=60;parse(e,t,r){switch(t){case"m":return sn(Br,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return cn(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]},s:new class extends Ar{priority=50;parse(e,t,r){switch(t){case"s":return sn(Vr,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return cn(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]},S:new class extends Ar{priority=30;parse(e,t){return an(cn(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]},X:new class extends Ar{priority=10;parse(e,t){switch(t){case"X":return on(Zr,e);case"XX":return on(en,e);case"XXXX":return on(tn,e);case"XXXXX":return on(nn,e);default:return on(rn,e)}}set(e,t,r){return t.timestampIsSet?e:Gt(e,e.getTime()-In(e)-r)}incompatibleTokens=["t","T","x"]},x:new class extends Ar{priority=10;parse(e,t){switch(t){case"x":return on(Zr,e);case"xx":return on(en,e);case"xxxx":return on(tn,e);case"xxxxx":return on(nn,e);default:return on(rn,e)}}set(e,t,r){return t.timestampIsSet?e:Gt(e,e.getTime()-In(e)-r)}incompatibleTokens=["t","T","X"]},t:new class extends Ar{priority=40;parse(e){return ln(e)}set(e,t,r){return[Gt(e,1e3*r),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends Ar{priority=20;parse(e){return ln(e)}set(e,t,r){return[Gt(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}},Mn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,An=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_n=/^'([^]*?)'?$/,zn=/''/g,On=/\S/,Ln=/[a-zA-Z]/;function Rn(e,t,r,n){const a=()=>Gt(n?.in||r,NaN),s=Pr(),o=n?.locale??s.locale??gr,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?a():Jt(r,n?.in);const c={firstWeekContainsDate:i,weekStartsOn:l,locale:o},d=[new Mr(n?.in,r)],u=t.match(An).map(e=>{const t=e[0];if(t in vr){return(0,vr[t])(e,o.formatLong)}return e}).join("").match(Mn),p=[];for(let g of u){!n?.useAdditionalWeekYearTokens&&kr(g)&&Sr(g,t,e),!n?.useAdditionalDayOfYearTokens&&Nr(g)&&Sr(g,t,e);const r=g[0],s=Tn[r];if(s){const{incompatibleTokens:t}=s;if(Array.isArray(t)){const e=p.find(e=>t.includes(e.token)||e.token===r);if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===s.incompatibleTokens&&p.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);p.push({token:r,fullToken:g});const n=s.run(e,g,o.match,c);if(!n)return a();d.push(n.setter),e=n.rest}else{if(r.match(Ln))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");if("''"===g?g="'":"'"===r&&(g=$n(g)),0!==e.indexOf(g))return a();e=e.slice(g.length)}}if(e.length>0&&On.test(e))return a();const m=d.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,r)=>r.indexOf(e)===t).map(e=>d.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let h=Jt(r,n?.in);if(isNaN(+h))return a();const f={};for(const g of m){if(!g.validate(h,c))return a();const e=g.set(h,f,c);Array.isArray(e)?(h=e[0],Object.assign(f,e[1])):h=e}return h}function $n(e){return e.match(_n)[1].replace(zn,"'")}function Fn(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function qn(e){return!(!Fn(e)&&"number"!==typeof e||isNaN(+Jt(e)))}function Bn(e,t){return+Jt(e)<+Jt(t)}function Vn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=Gt.bind(null,e||r.find(e=>"object"===typeof e));return r.map(a)}function Un(e,t){const r=Jt(e,t?.in);return r.setHours(0,0,0,0),r}function Hn(e,t,r){const[n,a]=Vn(r?.in,e,t),s=Un(n),o=Un(a),i=+s-In(s),l=+o-In(o);return Math.round((i-l)/864e5)}function Wn(e,t){const r=Jt(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Yn(e,t){const r=Jt(e,t?.in);return Hn(r,Wn(r))+1}function Kn(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Qn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Kn("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):Kn(r+1,2)},d:(e,t)=>Kn(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>Kn(e.getHours()%12||12,t.length),H:(e,t)=>Kn(e.getHours(),t.length),m:(e,t)=>Kn(e.getMinutes(),t.length),s:(e,t)=>Kn(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return Kn(Math.trunc(n*Math.pow(10,r-3)),t.length)}},Gn="midnight",Jn="noon",Xn="morning",Zn="afternoon",ea="evening",ta="night",ra={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return Qn.y(e,t)},Y:function(e,t,r,n){const a=fn(e,n),s=a>0?a:1-a;if("YY"===t){return Kn(s%100,2)}return"Yo"===t?r.ordinalNumber(s,{unit:"year"}):Kn(s,t.length)},R:function(e,t){return Kn(bn(e),t.length)},u:function(e,t){return Kn(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Kn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Kn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Qn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Kn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=yn(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):Kn(a,t.length)},I:function(e,t,r){const n=jn(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):Kn(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):Qn.d(e,t)},D:function(e,t,r){const n=Yn(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):Kn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Kn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Kn(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return Kn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?Jn:0===n?Gn:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?ea:n>=12?Zn:n>=4?Xn:ta,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Qn.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):Qn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):Kn(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):Kn(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qn.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Qn.s(e,t)},S:function(e,t){return Qn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return aa(n);case"XXXX":case"XX":return sa(n);default:return sa(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return aa(n);case"xxxx":case"xx":return sa(n);default:return sa(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+na(n,":");default:return"GMT"+sa(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+na(n,":");default:return"GMT"+sa(n,":")}},t:function(e,t,r){return Kn(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return Kn(+e,t.length)}};function na(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return 0===s?r+String(a):r+String(a)+t+Kn(s,2)}function aa(e,t){if(e%60===0){return(e>0?"-":"+")+Kn(Math.abs(e)/60,2)}return sa(e,t)}function sa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+Kn(Math.trunc(n/60),2)+t+Kn(n%60,2)}const oa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ia=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,la=/^'([^]*?)'?$/,ca=/''/g,da=/[a-zA-Z]/;function ua(e,t,r){const n=Er(),a=r?.locale??n.locale??gr,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Jt(e,r?.in);if(!qn(i))throw new RangeError("Invalid time value");let l=t.match(ia).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,vr[t])(e,a.formatLong)}return e}).join("").match(oa).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:pa(e)};if(ra[t])return{isToken:!0,value:e};if(t.match(da))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(l=a.localize.preprocessor(i,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return l.map(n=>{if(!n.isToken)return n.value;const s=n.value;(!r?.useAdditionalWeekYearTokens&&kr(s)||!r?.useAdditionalDayOfYearTokens&&Nr(s))&&Sr(s,t,String(e));return(0,ra[s[0]])(i,s,a.localize,c)}).join("")}function pa(e){const t=e.match(la);return t?t[1].replace(ca,"'"):e}function ma(e,t,r){const n=Jt(e,r?.in);return n.setHours(t),n}function ha(e,t,r){const n=Jt(e,r?.in);return n.setMinutes(t),n}function fa(e,t,r){const n=Jt(e,r?.in);return n.setSeconds(t),n}function ga(e,t){const r=Jt(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function xa(e,t){const r=Jt(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function ya(e,t){const r=Jt(e,t?.in);return r.setHours(23,59,59,999),r}function va(e,t){const r=Er(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Jt(e,t?.in),s=a.getDay(),o=6+(s<n?-7:0)-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function ba(e,t){const r=Jt(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function wa(e,t,r){const[n,a]=Vn(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function ja(e,t,r){const[n,a]=Vn(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Na(e,t,r){const[n,a]=Vn(r?.in,e,t);return+xa(n)===+xa(a)}function ka(e,t,r){const[n,a]=Vn(r?.in,e,t);return+Un(n)===+Un(a)}function Sa(e,t){return+Jt(e)===+Jt(t)}function Ca(e,t,r){const n=+Jt(e,r?.in),[a,s]=[+Jt(t.start,r?.in),+Jt(t.end,r?.in)].sort((e,t)=>e-t);return n>=a&&n<=s}function Ea(e,t){const r=Jt(e,t?.in),n=r.getFullYear(),a=r.getMonth(),s=Gt(r,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Pa(e,t,r){const n=Jt(e,r?.in),a=n.getFullYear(),s=n.getDate(),o=Gt(r?.in||e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const i=Ea(o);return n.setMonth(t,Math.min(s,i)),n}function Da(e,t,r){const n=Jt(e,r?.in),a=t-(Math.trunc(n.getMonth()/3)+1);return Pa(n,n.getMonth()+3*a)}function Ia(e,t){return Jt(e,t?.in).getFullYear()}function Ta(e,t){return Jt(e,t?.in).getMonth()}function Ma(e,t){const r=Jt(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Aa(e,t){const r=Jt(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function _a(e,t){return Jt(e,t?.in).getHours()}function za(e,t){return Jt(e,t?.in).getMinutes()}function Oa(e){return Jt(e).getSeconds()}function La(e,t,r){const n=Jt(e,r?.in);if(isNaN(t))return Gt(r?.in||e,NaN);if(!t)return n;const a=n.getDate(),s=Gt(r?.in||e,n.getTime());s.setMonth(n.getMonth()+t+1,0);return a>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function Ra(e,t,r){return La(e,-t,r)}function $a(e,t,r){const[n,a]=Vn(r?.in,e,t);return 12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth())}function Fa(e,t,r){return La(e,3*t,r)}function qa(e,t,r){return Fa(e,-t,r)}function Ba(e,t,r){const[n,a]=Vn(r?.in,e,t);return 4*(n.getFullYear()-a.getFullYear())+(Aa(n)-Aa(a))}function Va(e,t,r){return La(e,12*t,r)}function Ua(e,t,r){return Va(e,-t,r)}function Ha(e,t,r){const[n,a]=Vn(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function Wa(e,t){let r,n=t?.in;return e.forEach(e=>{n||"object"!==typeof e||(n=Gt.bind(null,e));const t=Jt(e,n);(!r||r>t||isNaN(+t))&&(r=t)}),Gt(n,r||NaN)}function Ya(e,t){let r,n=t?.in;return e.forEach(e=>{n||"object"!==typeof e||(n=Gt.bind(null,e));const t=Jt(e,n);(!r||r<t||isNaN(+t))&&(r=t)}),Gt(n,r||NaN)}function Ka(e,t,r){return Gt(r?.in||e,+Jt(e)+t)}function Qa(e,t,r){return Ka(e,t*Kt,r)}function Ga(e,t,r){const n=Jt(e,r?.in);return n.setTime(n.getTime()+t*Yt),n}function Ja(e,t,r){return Ka(e,1e3*t,r)}function Xa(e,t){return+Jt(e)>+Jt(t)}function Za(e,t){return Jt(e,t?.in).getDay()}function es(e,t){return Jt(e,t?.in).getDate()}function ts(e,t,r){return Cn(e,7*t,r)}function rs(e){return+Jt(e)}function ns(e,t,r){const n=Jt(e,r?.in);return isNaN(+n)?Gt(r?.in||e,NaN):(n.setFullYear(t),n)}function as(e,t,r){const[n,a]=Vn(r?.in,e,t),s=ss(n,a),o=Math.abs(Hn(n,a));n.setDate(n.getDate()-s*o);const i=s*(o-Number(ss(n,a)===-s));return 0===i?0:i}function ss(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function os(e,t,r){return ts(e,-t,r)}function is(e,t,r){return Cn(e,-t,r)}var ls="undefined"!==typeof document?t.useLayoutEffect:function(){};const cs={...n}.useInsertionEffect||(e=>e());function ds(){return"undefined"!==typeof window}function us(e){return hs(e)?(e.nodeName||"").toLowerCase():"#document"}function ps(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ms(e){var t;return null==(t=(hs(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function hs(e){return!!ds()&&(e instanceof Node||e instanceof ps(e).Node)}function fs(e){return!!ds()&&(e instanceof Element||e instanceof ps(e).Element)}function gs(e){return!!ds()&&(e instanceof HTMLElement||e instanceof ps(e).HTMLElement)}function xs(e){return!(!ds()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof ps(e).ShadowRoot)}const ys=new Set(["inline","contents"]);function vs(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ts(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ys.has(a)}const bs=new Set(["table","td","th"]);function ws(e){return bs.has(us(e))}const js=[":popover-open",":modal"];function Ns(e){return js.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const ks=["transform","translate","scale","rotate","perspective"],Ss=["transform","translate","scale","rotate","perspective","filter"],Cs=["paint","layout","strict","content"];function Es(e){const t=Ps(),r=fs(e)?Ts(e):e;return ks.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||Ss.some(e=>(r.willChange||"").includes(e))||Cs.some(e=>(r.contain||"").includes(e))}function Ps(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Ds=new Set(["html","body","#document"]);function Is(e){return Ds.has(us(e))}function Ts(e){return ps(e).getComputedStyle(e)}function Ms(e){return fs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function As(e){if("html"===us(e))return e;const t=e.assignedSlot||e.parentNode||xs(e)&&e.host||ms(e);return xs(t)?t.host:t}function _s(e){const t=As(e);return Is(t)?e.ownerDocument?e.ownerDocument.body:e.body:gs(t)&&vs(t)?t:_s(t)}function zs(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=_s(e),s=a===(null==(n=e.ownerDocument)?void 0:n.body),o=ps(a);if(s){const e=Os(o);return t.concat(o,o.visualViewport||[],vs(a)?a:[],e&&r?zs(e):[])}return t.concat(a,zs(a,[],r))}function Os(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var Ls=r(950);const Rs=Math.min,$s=Math.max,Fs=Math.round,qs=Math.floor,Bs=e=>({x:e,y:e}),Vs={left:"right",right:"left",bottom:"top",top:"bottom"},Us={start:"end",end:"start"};function Hs(e,t){return"function"===typeof e?e(t):e}function Ws(e){return e.split("-")[0]}function Ys(e){return e.split("-")[1]}function Ks(e){return"y"===e?"height":"width"}const Qs=new Set(["top","bottom"]);function Gs(e){return Qs.has(Ws(e))?"y":"x"}function Js(e){return"x"===Gs(e)?"y":"x"}function Xs(e){return e.replace(/start|end/g,e=>Us[e])}const Zs=["left","right"],eo=["right","left"],to=["top","bottom"],ro=["bottom","top"];function no(e,t,r,n){const a=Ys(e);let s=function(e,t,r){switch(e){case"top":case"bottom":return r?t?eo:Zs:t?Zs:eo;case"left":case"right":return t?to:ro;default:return[]}}(Ws(e),"start"===r,n);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(Xs)))),s}function ao(e){return e.replace(/left|right|bottom|top/g,e=>Vs[e])}function so(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function oo(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function io(e,t,r){let{reference:n,floating:a}=e;const s=Gs(t),o=Js(t),i=Ks(o),l=Ws(t),c="y"===s,d=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,p=n[i]/2-a[i]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:u};break;case"left":m={x:n.x-a.width,y:u};break;default:m={x:n.x,y:n.y}}switch(Ys(t)){case"start":m[o]-=p*(r&&c?-1:1);break;case"end":m[o]+=p*(r&&c?-1:1)}return m}async function lo(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:s,rects:o,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:m=0}=Hs(t,e),h=so(m),f=i[p?"floating"===u?"reference":"floating":u],g=oo(await s.getClippingRect({element:null==(r=await(null==s.isElement?void 0:s.isElement(f)))||r?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(i.floating)),v=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},b=oo(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:x,offsetParent:y,strategy:l}):x);return{top:(g.top-b.top+h.top)/v.y,bottom:(b.bottom-g.bottom+h.bottom)/v.y,left:(g.left-b.left+h.left)/v.x,right:(b.right-g.right+h.right)/v.x}}const co=new Set(["left","top"]);function uo(e){const t=Ts(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=gs(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,i=Fs(r)!==s||Fs(n)!==o;return i&&(r=s,n=o),{width:r,height:n,$:i}}function po(e){return fs(e)?e:e.contextElement}function mo(e){const t=po(e);if(!gs(t))return Bs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=uo(t);let o=(s?Fs(r.width):r.width)/n,i=(s?Fs(r.height):r.height)/a;return o&&Number.isFinite(o)||(o=1),i&&Number.isFinite(i)||(i=1),{x:o,y:i}}const ho=Bs(0);function fo(e){const t=ps(e);return Ps()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ho}function go(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),s=po(e);let o=Bs(1);t&&(n?fs(n)&&(o=mo(n)):o=mo(e));const i=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==ps(e))&&t}(s,r,n)?fo(s):Bs(0);let l=(a.left+i.x)/o.x,c=(a.top+i.y)/o.y,d=a.width/o.x,u=a.height/o.y;if(s){const e=ps(s),t=n&&fs(n)?ps(n):n;let r=e,a=Os(r);for(;a&&n&&t!==r;){const e=mo(a),t=a.getBoundingClientRect(),n=Ts(a),s=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=s,c+=o,r=ps(a),a=Os(r)}}return oo({width:d,height:u,x:l,y:c})}function xo(e,t){const r=Ms(e).scrollLeft;return t?t.left+r:go(ms(e)).left+r}function yo(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:xo(e,n)),y:n.top+t.scrollTop}}const vo=new Set(["absolute","fixed"]);function bo(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=ps(e),n=ms(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,i=0,l=0;if(a){s=a.width,o=a.height;const e=Ps();(!e||e&&"fixed"===t)&&(i=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:i,y:l}}(e,r);else if("document"===t)n=function(e){const t=ms(e),r=Ms(e),n=e.ownerDocument.body,a=$s(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=$s(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+xo(e);const i=-r.scrollTop;return"rtl"===Ts(n).direction&&(o+=$s(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:i}}(ms(e));else if(fs(t))n=function(e,t){const r=go(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=gs(e)?mo(e):Bs(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:n*s.y}}(t,r);else{const r=fo(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return oo(n)}function wo(e,t){const r=As(e);return!(r===t||!fs(r)||Is(r))&&("fixed"===Ts(r).position||wo(r,t))}function jo(e,t,r){const n=gs(t),a=ms(t),s="fixed"===r,o=go(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const l=Bs(0);function c(){l.x=xo(a)}if(n||!n&&!s)if(("body"!==us(t)||vs(a))&&(i=Ms(t)),n){const e=go(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();s&&!n&&a&&c();const d=!a||n||s?Bs(0):yo(a,i);return{x:o.left+i.scrollLeft-l.x-d.x,y:o.top+i.scrollTop-l.y-d.y,width:o.width,height:o.height}}function No(e){return"static"===Ts(e).position}function ko(e,t){if(!gs(e)||"fixed"===Ts(e).position)return null;if(t)return t(e);let r=e.offsetParent;return ms(e)===r&&(r=r.ownerDocument.body),r}function So(e,t){const r=ps(e);if(Ns(e))return r;if(!gs(e)){let t=As(e);for(;t&&!Is(t);){if(fs(t)&&!No(t))return t;t=As(t)}return r}let n=ko(e,t);for(;n&&ws(n)&&No(n);)n=ko(n,t);return n&&Is(n)&&No(n)&&!Es(n)?r:n||function(e){let t=As(e);for(;gs(t)&&!Is(t);){if(Es(t))return t;if(Ns(t))return null;t=As(t)}return null}(e)||r}const Co={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s="fixed"===a,o=ms(n),i=!!t&&Ns(t.floating);if(n===o||i&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Bs(1);const d=Bs(0),u=gs(n);if((u||!u&&!s)&&(("body"!==us(n)||vs(o))&&(l=Ms(n)),gs(n))){const e=go(n);c=mo(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const p=!o||u||s?Bs(0):yo(o,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:r.y*c.y-l.scrollTop*c.y+d.y+p.y}},getDocumentElement:ms,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[..."clippingAncestors"===r?Ns(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=zs(e,[],!1).filter(e=>fs(e)&&"body"!==us(e)),a=null;const s="fixed"===Ts(e).position;let o=s?As(e):e;for(;fs(o)&&!Is(o);){const t=Ts(o),r=Es(o);r||"fixed"!==t.position||(a=null),(s?!r&&!a:!r&&"static"===t.position&&a&&vo.has(a.position)||vs(o)&&!r&&wo(e,o))?n=n.filter(e=>e!==o):a=t,o=As(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],o=s[0],i=s.reduce((e,r)=>{const n=bo(t,r,a);return e.top=$s(n.top,e.top),e.right=Rs(n.right,e.right),e.bottom=Rs(n.bottom,e.bottom),e.left=$s(n.left,e.left),e},bo(t,o,a));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:So,getElementRects:async function(e){const t=this.getOffsetParent||So,r=this.getDimensions,n=await r(e.floating);return{reference:jo(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=uo(e);return{width:t,height:r}},getScale:mo,isElement:fs,isRTL:function(e){return"rtl"===Ts(e).direction}};function Eo(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Po(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:i="function"===typeof IntersectionObserver,animationFrame:l=!1}=n,c=po(e),d=a||s?[...c?zs(c):[],...zs(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});const u=c&&i?function(e,t){let r,n=null;const a=ms(e);function s(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function o(i,l){void 0===i&&(i=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:m}=c;if(i||t(),!p||!m)return;const h={rootMargin:-qs(u)+"px "+-qs(a.clientWidth-(d+p))+"px "+-qs(a.clientHeight-(u+m))+"px "+-qs(d)+"px",threshold:$s(0,Rs(1,l))||1};let f=!0;function g(t){const n=t[0].intersectionRatio;if(n!==l){if(!f)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==n||Eo(c,e.getBoundingClientRect())||o(),f=!1}try{n=new IntersectionObserver(g,{...h,root:a.ownerDocument})}catch(x){n=new IntersectionObserver(g,h)}n.observe(e)}(!0),s}(c,r):null;let p,m=-1,h=null;o&&(h=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let f=l?go(e):null;return l&&function t(){const n=go(e);f&&!Eo(f,n)&&r();f=n,p=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==u||u(),null==(e=h)||e.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const Do=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:i}=t,l=await async function(e,t){const{placement:r,platform:n,elements:a}=e,s=await(null==n.isRTL?void 0:n.isRTL(a.floating)),o=Ws(r),i=Ys(r),l="y"===Gs(r),c=co.has(o)?-1:1,d=s&&l?-1:1,u=Hs(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&"number"===typeof h&&(m="end"===i?-1*h:h),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}(t,e);return o===(null==(r=i.offset)?void 0:r.placement)&&null!=(n=i.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:o}}}}},Io=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:i,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:f=!0,...g}=Hs(e,t);if(null!=(r=s.arrow)&&r.alignmentOffset)return{};const x=Ws(a),y=Gs(i),v=Ws(i)===i,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=p||(v||!f?[ao(i)]:function(e){const t=ao(e);return[Xs(e),t,Xs(t)]}(i)),j="none"!==h;!p&&j&&w.push(...no(i,f,h,b));const N=[i,...w],k=await lo(t,g),S=[];let C=(null==(n=s.flip)?void 0:n.overflows)||[];if(d&&S.push(k[x]),u){const e=function(e,t,r){void 0===r&&(r=!1);const n=Ys(e),a=Js(e),s=Ks(a);let o="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=ao(o)),[o,ao(o)]}(a,o,b);S.push(k[e[0]],k[e[1]])}if(C=[...C,{placement:a,overflows:S}],!S.every(e=>e<=0)){var E,P;const e=((null==(E=s.flip)?void 0:E.index)||0)+1,t=N[e];if(t){if(!("alignment"===u&&y!==Gs(t))||C.every(e=>e.overflows[0]>0&&Gs(e.placement)===y))return{data:{index:e,overflows:C},reset:{placement:t}}}let r=null==(P=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:P.placement;if(!r)switch(m){case"bestFit":{var D;const e=null==(D=C.filter(e=>{if(j){const t=Gs(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:D[0];e&&(r=e);break}case"initialPlacement":r=i}if(a!==r)return{reset:{placement:r}}}return{}}}},To=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:i,middlewareData:l}=t,{element:c,padding:d=0}=Hs(e,t)||{};if(null==c)return{};const u=so(d),p={x:r,y:n},m=Js(a),h=Ks(m),f=await o.getDimensions(c),g="y"===m,x=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",b=s.reference[h]+s.reference[m]-p[m]-s.floating[h],w=p[m]-s.reference[m],j=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let N=j?j[v]:0;N&&await(null==o.isElement?void 0:o.isElement(j))||(N=i.floating[v]||s.floating[h]);const k=b/2-w/2,S=N/2-f[h]/2-1,C=Rs(u[x],S),E=Rs(u[y],S),P=C,D=N-f[h]-E,I=N/2-f[h]/2+k,T=$s(P,Rs(I,D));const M=!l.arrow&&null!=Ys(a)&&I!==T&&s.reference[h]/2-(I<P?C:E)-f[h]/2<0,A=M?I<P?I-P:I-D:0;return{[m]:p[m]+A,data:{[m]:T,centerOffset:I-T-A,...M&&{alignmentOffset:A}},reset:M}}}),Mo=(e,t,r)=>{const n=new Map,a={platform:Co,...r},s={...a.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,i=s.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=io(c,n,l),p=n,m={},h=0;for(let f=0;f<i.length;f++){const{name:r,fn:s}=i[f],{x:g,y:x,data:y,reset:v}=await s({x:d,y:u,initialPlacement:n,placement:p,strategy:a,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,m={...m,[r]:{...m[r],...y}},v&&h<=50&&(h++,"object"===typeof v&&(v.placement&&(p=v.placement),v.rects&&(c=!0===v.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):v.rects),({x:d,y:u}=io(c,p,l))),f=-1)}return{x:d,y:u,placement:p,strategy:a,middlewareData:m}})(e,t,{...a,platform:s})};var Ao="undefined"!==typeof document?t.useLayoutEffect:function(){};function _o(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!_o(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(("_owner"!==r||!e.$$typeof)&&!_o(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function zo(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Oo(e,t){const r=zo(e);return Math.round(t*r)/r}function Lo(e){const r=t.useRef(e);return Ao(()=>{r.current=e}),r}const Ro=e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"===typeof e?e(t):e;return r&&(a=r,{}.hasOwnProperty.call(a,"current"))?null!=r.current?To({element:r.current,padding:n}).fn(t):{}:r?To({element:r,padding:n}).fn(t):{};var a}}),$o=(e,t)=>({...Do(e),options:[e,t]}),Fo=(e,t)=>({...Io(e),options:[e,t]}),qo=(e,t)=>({...Ro(e),options:[e,t]});const Bo="ArrowLeft",Vo="ArrowRight",Uo="ArrowUp",Ho="ArrowDown";const Wo=[Bo,Vo],Yo=[Uo,Ho],Ko={...n};let Qo=!1,Go=0;const Jo=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Go++;const Xo=Ko.useId||function(){const[e,r]=t.useState(()=>Qo?Jo():void 0);return ls(()=>{null==e&&r(Jo())},[]),t.useEffect(()=>{Qo=!0},[]),e};const Zo=t.forwardRef(function(e,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:i}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:u=0,staticOffset:p,stroke:m,d:h,style:{transform:f,...g}={},...x}=e;const y=Xo(),[v,b]=t.useState(!1);if(ls(()=>{if(!a)return;"rtl"===Ts(a).direction&&b(!0)},[a]),!a)return null;const[w,j]=n.split("-"),N="top"===w||"bottom"===w;let k=p;(N&&null!=i&&i.x||!N&&null!=i&&i.y)&&(k=null);const S=2*u,C=S/2,E=l/2*(d/-8+1),P=c/2*d/4,D=!!h,I=k&&"end"===j?"bottom":"top";let T=k&&"end"===j?"right":"left";k&&v&&(T="end"===j?"left":"right");const M=null!=(null==s?void 0:s.x)?k||s.x:"",A=null!=(null==s?void 0:s.y)?k||s.y:"",_=h||"M0,0 H"+l+" L"+(l-E)+","+(c-P)+" Q"+l/2+","+c+" "+E+","+(c-P)+" Z",z={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[w];return(0,o.jsxs)("svg",{...x,"aria-hidden":!0,ref:r,width:D?l:l+S,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[T]:M,[I]:A,[w]:N||D?"100%":"calc(100% - "+S/2+"px)",transform:[z,f].filter(e=>!!e).join(" "),...g},children:[S>0&&(0,o.jsx)("path",{clipPath:"url(#"+y+")",fill:"none",stroke:m,strokeWidth:S+(h?0:1),d:_}),(0,o.jsx)("path",{stroke:S&&!h?x.fill:"none",d:_}),(0,o.jsx)("clipPath",{id:y,children:(0,o.jsx)("rect",{x:-C,y:C*(D?-1:1),width:l+S,height:l})})]})});function ei(){const e=new Map;return{emit(t,r){var n;null==(n=e.get(t))||n.forEach(e=>e(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;null==(n=e.get(t))||n.delete(r)}}}const ti=t.createContext(null),ri=t.createContext(null),ni=()=>{var e;return(null==(e=t.useContext(ti))?void 0:e.id)||null},ai=()=>t.useContext(ri);function si(e){const{open:r=!1,onOpenChange:n,elements:a}=e,s=Xo(),o=t.useRef({}),[i]=t.useState(()=>ei()),l=null!=ni();const[c,d]=t.useState(a.reference),u=function(e){const r=t.useRef(()=>{});return cs(()=>{r.current=e}),t.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==r.current?void 0:r.current(...t)},[])}((e,t,r)=>{o.current.openEvent=e?t:void 0,i.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)}),p=t.useMemo(()=>({setPositionReference:d}),[]),m=t.useMemo(()=>({reference:c||a.reference||null,floating:a.floating||null,domReference:a.reference}),[c,a.reference,a.floating]);return t.useMemo(()=>({dataRef:o,open:r,onOpenChange:u,elements:m,events:i,floatingId:s,refs:p}),[r,u,m,i,s,p])}function oi(e){void 0===e&&(e={});const{nodeId:r}=e,n=si({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||n,s=a.elements,[o,i]=t.useState(null),[l,c]=t.useState(null),d=(null==s?void 0:s.domReference)||o,u=t.useRef(null),p=ai();ls(()=>{d&&(u.current=d)},[d]);const m=function(e){void 0===e&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,p]=t.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[m,h]=t.useState(a);_o(m,a)||h(a);const[f,g]=t.useState(null),[x,y]=t.useState(null),v=t.useCallback(e=>{e!==N.current&&(N.current=e,g(e))},[]),b=t.useCallback(e=>{e!==k.current&&(k.current=e,y(e))},[]),w=o||f,j=i||x,N=t.useRef(null),k=t.useRef(null),S=t.useRef(u),C=null!=c,E=Lo(c),P=Lo(s),D=Lo(d),I=t.useCallback(()=>{if(!N.current||!k.current)return;const e={placement:r,strategy:n,middleware:m};P.current&&(e.platform=P.current),Mo(N.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==D.current};T.current&&!_o(S.current,t)&&(S.current=t,Ls.flushSync(()=>{p(t)}))})},[m,r,n,P,D]);Ao(()=>{!1===d&&S.current.isPositioned&&(S.current.isPositioned=!1,p(e=>({...e,isPositioned:!1})))},[d]);const T=t.useRef(!1);Ao(()=>(T.current=!0,()=>{T.current=!1}),[]),Ao(()=>{if(w&&(N.current=w),j&&(k.current=j),w&&j){if(E.current)return E.current(w,j,I);I()}},[w,j,I,E,C]);const M=t.useMemo(()=>({reference:N,floating:k,setReference:v,setFloating:b}),[v,b]),A=t.useMemo(()=>({reference:w,floating:j}),[w,j]),_=t.useMemo(()=>{const e={position:n,left:0,top:0};if(!A.floating)return e;const t=Oo(A.floating,u.x),r=Oo(A.floating,u.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...zo(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,l,A.floating,u.x,u.y]);return t.useMemo(()=>({...u,update:I,refs:M,elements:A,floatingStyles:_}),[u,I,M,A,_])}({...e,elements:{...s,...l&&{reference:l}}}),h=t.useCallback(e=>{const t=fs(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),m.refs.setReference(t)},[m.refs]),f=t.useCallback(e=>{(fs(e)||null===e)&&(u.current=e,i(e)),(fs(m.refs.reference.current)||null===m.refs.reference.current||null!==e&&!fs(e))&&m.refs.setReference(e)},[m.refs]),g=t.useMemo(()=>({...m.refs,setReference:f,setPositionReference:h,domReference:u}),[m.refs,f,h]),x=t.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),y=t.useMemo(()=>({...m,...a,refs:g,elements:x,nodeId:r}),[m,g,x,r,a]);return ls(()=>{a.dataRef.current.floatingContext=y;const e=null==p?void 0:p.nodesRef.current.find(e=>e.id===r);e&&(e.context=y)}),t.useMemo(()=>({...m,context:y,refs:g,elements:x}),[m,g,x,y])}var ii=function(e,t){return ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},ii(e,t)};function li(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ii(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var ci=function(){return ci=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ci.apply(this,arguments)};function di(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var ui,pi=function(e){var r=e.showTimeSelectOnly,n=void 0!==r&&r,a=e.showTime,s=void 0!==a&&a,o=e.className,i=e.children,l=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return t.createElement("div",{className:o,role:"dialog","aria-label":l,"aria-modal":"true"},i)},mi=function(e){var r=e.children,n=e.onClickOutside,a=e.className,s=e.containerRef,o=e.style,i=function(e,r){var n=(0,t.useRef)(null),a=(0,t.useRef)(e);a.current=e;var s=(0,t.useCallback)(function(e){var t,s=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(s)&&(r&&s instanceof HTMLElement&&s.classList.contains(r)||null===(t=a.current)||void 0===t||t.call(a,e))},[r]);return(0,t.useEffect)(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),n}(n,e.ignoreClass);return t.createElement("div",{className:a,style:o,ref:function(e){i.current=e,s&&(s.current=e)}},r)};function hi(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(ui||(ui={}));function fi(e){if(null==e)return new Date;var t="string"===typeof e?Xt(e):Jt(e);return xi(t)?t:new Date}function gi(e,t,r,n,a){void 0===a&&(a=fi());for(var s=Oi(r)||Oi(zi()),o=0,i=Array.isArray(t)?t:[t];o<i.length;o++){var l=i[o],c=Rn(e,l,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(xi(c)&&(!n||e===yi(c,l,r)))return c}return null}function xi(e,t){return qn(e)&&!Bn(e,new Date("1/1/1800"))}function yi(e,t,r){if("en"===r)return ua(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Oi(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),ua(e,t,{locale:n=n||Oi(zi()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function vi(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&yi(e,a,n)||""}function bi(e,t){var r=t.hour,n=void 0===r?0:r,a=t.minute,s=void 0===a?0:a,o=t.second;return ma(ha(fa(e,void 0===o?0:o),s),n)}function wi(e){return Un(e)}function ji(e,t,r){return hn(e,{locale:Oi(t||zi()),weekStartsOn:r})}function Ni(e){return ga(e)}function ki(e){return Wn(e)}function Si(e){return xa(e)}function Ci(){return Un(fi())}function Ei(e){return ya(e)}function Pi(e){return ba(e)}function Di(e,t){return e&&t?wa(e,t):!e&&!t}function Ii(e,t){return e&&t?ja(e,t):!e&&!t}function Ti(e,t){return e&&t?Na(e,t):!e&&!t}function Mi(e,t){return e&&t?ka(e,t):!e&&!t}function Ai(e,t){return e&&t?Sa(e,t):!e&&!t}function _i(e,t,r){var n,a=Un(t),s=ya(r);try{n=Ca(e,{start:a,end:s})}catch(o){n=!1}return n}function zi(){return hi().__localeId__}function Oi(e){if("string"===typeof e){var t=hi();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Li(e,t){return yi(Pa(fi(),e),"LLLL",t)}function Ri(e,t){return yi(Pa(fi(),e),"LLL",t)}function $i(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.excludeDateIntervals,i=r.includeDates,l=r.includeDateIntervals,c=r.filterDate;return Ki(e,{minDate:n,maxDate:a})||s&&s.some(function(t){return t instanceof Date?Mi(e,t):Mi(e,t.date)})||o&&o.some(function(t){var r=t.start,n=t.end;return Ca(e,{start:r,end:n})})||i&&!i.some(function(t){return Mi(e,t)})||l&&!l.some(function(t){var r=t.start,n=t.end;return Ca(e,{start:r,end:n})})||c&&!c(fi(e))||!1}function Fi(e,t){var r=void 0===t?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(t){var r=t.start,n=t.end;return Ca(e,{start:r,end:n})}):n&&n.some(function(t){var r;return t instanceof Date?Mi(e,t):Mi(e,null!==(r=t.date)&&void 0!==r?r:new Date)})||!1}function qi(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,i=r.filterDate;return Ki(e,{minDate:n?ga(n):void 0,maxDate:a?ba(a):void 0})||(null===s||void 0===s?void 0:s.some(function(t){return Ii(e,t instanceof Date?t:t.date)}))||o&&!o.some(function(t){return Ii(e,t)})||i&&!i(fi(e))||!1}function Bi(e,t,r,n){var a=Ia(e),s=Ta(e),o=Ia(t),i=Ta(t),l=Ia(n);return a===o&&a===l?s<=r&&r<=i:a<o&&(l===a&&s<=r||l===o&&i>=r||l<o&&l>a)}function Vi(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates;return Ki(e,{minDate:n,maxDate:a})||s&&s.some(function(t){return Ii(t instanceof Date?t:t.date,e)})||o&&!o.some(function(t){return Ii(t,e)})||!1}function Ui(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,i=r.filterDate;return Ki(e,{minDate:n,maxDate:a})||(null===s||void 0===s?void 0:s.some(function(t){return Ti(e,t instanceof Date?t:t.date)}))||o&&!o.some(function(t){return Ti(e,t)})||i&&!i(fi(e))||!1}function Hi(e,t,r){if(!t||!r)return!1;if(!qn(t)||!qn(r))return!1;var n=Ia(t),a=Ia(r);return n<=e&&a>=e}function Wi(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,i=r.filterDate,l=new Date(e,0,1);return Ki(l,{minDate:n?Wn(n):void 0,maxDate:a?Ma(a):void 0})||(null===s||void 0===s?void 0:s.some(function(e){return Di(l,e instanceof Date?e:e.date)}))||o&&!o.some(function(e){return Di(l,e)})||i&&!i(fi(l))||!1}function Yi(e,t,r,n){var a=Ia(e),s=Aa(e),o=Ia(t),i=Aa(t),l=Ia(n);return a===o&&a===l?s<=r&&r<=i:a<o&&(l===a&&s<=r||l===o&&i>=r||l<o&&l>a)}function Ki(e,t){var r,n=void 0===t?{}:t,a=n.minDate,s=n.maxDate;return null!==(r=a&&Hn(e,a)<0||s&&Hn(e,s)>0)&&void 0!==r&&r}function Qi(e,t){return t.some(function(t){return _a(t)===_a(e)&&za(t)===za(e)&&Oa(t)===Oa(e)})}function Gi(e,t){var r=void 0===t?{}:t,n=r.excludeTimes,a=r.includeTimes,s=r.filterTime;return n&&Qi(e,n)||a&&!Qi(e,a)||s&&!s(e)||!1}function Ji(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=fi();a=fa(a=ha(a=ma(a,_a(e)),za(e)),Oa(e));var s=fi();s=fa(s=ha(s=ma(s,_a(r)),za(r)),Oa(r));var o,i=fi();i=fa(i=ha(i=ma(i,_a(n)),za(n)),Oa(n));try{o=!Ca(a,{start:s,end:i})}catch(l){o=!1}return o}function Xi(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.includeDates,s=Ra(e,1);return n&&$a(n,s)>0||a&&a.every(function(e){return $a(e,s)>0})||!1}function Zi(e,t){var r=void 0===t?{}:t,n=r.maxDate,a=r.includeDates,s=La(e,1);return n&&$a(s,n)>0||a&&a.every(function(e){return $a(s,e)>0})||!1}function el(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.includeDates,s=Ua(e,1);return n&&Ha(n,s)>0||a&&a.every(function(e){return Ha(e,s)>0})||!1}function tl(e,t){var r=void 0===t?{}:t,n=r.maxDate,a=r.includeDates,s=Va(e,1);return n&&Ha(s,n)>0||a&&a.every(function(e){return Ha(s,e)>0})||!1}function rl(e){var t=e.minDate,r=e.includeDates;return r&&t?Wa(r.filter(function(e){return Hn(e,t)>=0})):r?Wa(r):t}function nl(e){var t=e.maxDate,r=e.includeDates;return r&&t?Ya(r.filter(function(e){return Hn(e,t)<=0})):r?Ya(r):t}function al(e,t){var r;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,s=e.length;a<s;a++){var o=e[a];if(Fn(o)){var i=yi(o,"MM.dd.yyyy");(m=n.get(i)||[]).includes(t)||(m.push(t),n.set(i,m))}else if("object"===typeof o){var l=null!==(r=Object.keys(o)[0])&&void 0!==r?r:"",c=o[l];if("string"===typeof l&&Array.isArray(c))for(var d=0,u=c.length;d<u;d++){var p=c[d];if(p){var m;i=yi(p,"MM.dd.yyyy");(m=n.get(i)||[]).includes(l)||(m.push(l),n.set(i,m))}}}}return n}function sl(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(e){var n=e.date,a=e.holidayName;if(Fn(n)){var s=yi(n,"MM.dd.yyyy"),o=r.get(s)||{className:"",holidayNames:[]};if(!("className"in o)||o.className!==t||(i=o.holidayNames,l=[a],i.length!==l.length||!i.every(function(e,t){return e===l[t]}))){var i,l;o.className=t;var c=o.holidayNames;o.holidayNames=c?di(di([],c,!0),[a],!1):[a],r.set(s,o)}}}),r}function ol(e,t,r,n,a){for(var s=a.length,o=[],i=0;i<s;i++){var l=e,c=a[i];c&&(l=Ja(l=Ga(l=Qa(l,_a(c)),za(c)),Oa(c)));var d=Ga(e,(r+1)*n);Xa(l,t)&&Bn(l,d)&&void 0!=c&&o.push(c)}return o}function il(e){return e<10?"0".concat(e):"".concat(e)}function ll(e,t){void 0===t&&(t=12);var r=Math.ceil(Ia(e)/t)*t;return{startPeriod:r-(t-1),endPeriod:r}}function cl(e){var t=e.getSeconds(),r=e.getMilliseconds();return Jt(e.getTime()-1e3*t-r)}function dl(e){if(!Fn(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function ul(e,t){if(!Fn(e)||!Fn(t))throw new Error("Invalid date received");return Bn(dl(e),dl(t))}function pl(e){return e.key===ui.Space}var ml,hl=function(e){function r(r){var n=e.call(this,r)||this;return n.inputRef=t.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var a=n.props.date,s=a instanceof Date&&!isNaN(+a)?a:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var o=e.split(":"),i=o[0],l=o[1];s.setHours(Number(i)),s.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,s)},n.renderTimeInput=function(){var e=n.state.time,r=n.props,a=r.date,s=r.timeString,o=r.customTimeInput;return o?(0,t.cloneElement)(o,{date:a,value:e,onChange:n.onTimeChange}):t.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||s)}})},n.state={time:n.props.timeString},n}return li(r,e),r.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},r.prototype.render=function(){return t.createElement("div",{className:"react-datepicker__input-time-container"},t.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),t.createElement("div",{className:"react-datepicker-time__input-container"},t.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(t.Component),fl=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.dayEl=(0,t.createRef)(),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.handleOnKeyDown=function(e){var t,n;e.key===ui.Space&&(e.preventDefault(),e.key=ui.Enter),null===(n=(t=r.props).handleOnKeyDown)||void 0===n||n.call(t,e)},r.isSameDay=function(e){return Mi(r.props.day,e)},r.isKeyboardSelected=function(){var e;if(r.props.disabledKeyboardNavigation)return!1;var t=r.props.selectsMultiple?null===(e=r.props.selectedDates)||void 0===e?void 0:e.some(function(e){return r.isSameDayOrWeek(e)}):r.isSameDayOrWeek(r.props.selected),n=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!t&&r.isSameDayOrWeek(r.props.preSelection)&&!n},r.isDisabled=function(e){return void 0===e&&(e=r.props.day),$i(e,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return Fi(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Mi(r.props.day,ji(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(e){return r.props.showWeekPicker&&Mi(e,ji(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(e){return r.isSameDay(e)||r.isSameWeek(e)},r.getHighLightedClass=function(){var e=r.props,t=e.day,n=e.highlightDates;if(!n)return!1;var a=yi(t,"MM.dd.yyyy");return n.get(a)},r.getHolidaysClass=function(){var e,t=r.props,n=t.day,a=t.holidays;if(!a)return[void 0];var s=yi(n,"MM.dd.yyyy");return a.has(s)?[null===(e=a.get(s))||void 0===e?void 0:e.className]:[void 0]},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&_i(t,n,a)},r.isInSelectingRange=function(){var e,t=r.props,n=t.day,a=t.selectsStart,s=t.selectsEnd,o=t.selectsRange,i=t.selectsDisabledDaysInRange,l=t.startDate,c=t.endDate,d=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return!(!(a||s||o)||!d||!i&&r.isDisabled())&&(a&&c&&(Bn(d,c)||Ai(d,c))?_i(n,d,c):(s&&l&&(Xa(d,l)||Ai(d,l))||!(!o||!l||c||!Xa(d,l)&&!Ai(d,l)))&&_i(n,l,d))},r.isSelectingRangeStart=function(){var e;if(!r.isInSelectingRange())return!1;var t=r.props,n=t.day,a=t.startDate,s=t.selectsStart,o=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return Mi(n,s?o:a)},r.isSelectingRangeEnd=function(){var e;if(!r.isInSelectingRange())return!1;var t=r.props,n=t.day,a=t.endDate,s=t.selectsEnd,o=t.selectsRange,i=null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection;return Mi(n,s||o?i:a)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&Mi(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&Mi(a,t)},r.isWeekend=function(){var e=Za(r.props.day);return 0===e||6===e},r.isAfterMonth=function(){return void 0!==r.props.month&&(r.props.month+1)%12===Ta(r.props.day)},r.isBeforeMonth=function(){return void 0!==r.props.month&&(Ta(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(fi())},r.isSelected=function(){var e;return r.props.selectsMultiple?null===(e=r.props.selectedDates)||void 0===e?void 0:e.some(function(e){return r.isSameDayOrWeek(e)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(e){var t;return Ut("react-datepicker__day",r.props.dayClassName?r.props.dayClassName(e):void 0,"react-datepicker__day--"+yi(r.props.day,"ddd",t),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var e=r.props,t=e.day,n=e.ariaLabelPrefixWhenEnabled,a=void 0===n?"Choose":n,s=e.ariaLabelPrefixWhenDisabled,o=void 0===s?"Not available":s,i=r.isDisabled()||r.isExcluded()?o:a;return"".concat(i," ").concat(yi(t,"PPPP",r.props.locale))},r.getTitle=function(){var e=r.props,t=e.day,n=e.holidays,a=void 0===n?new Map:n,s=e.excludeDates,o=yi(t,"MM.dd.yyyy"),i=[];return a.has(o)&&i.push.apply(i,a.get(o).holidayNames),r.isExcluded()&&i.push(null===s||void 0===s?void 0:s.filter(function(e){return e instanceof Date?Mi(e,t):Mi(null===e||void 0===e?void 0:e.date,t)}).map(function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message})),i.join(", ")},r.getTabIndex=function(){var e=r.props.selected,t=r.props.preSelection;return(!r.props.showWeekPicker||!r.props.showWeekNumber&&r.isStartOfWeek())&&(r.isKeyboardSelected()||r.isSameDay(e)&&Mi(t,e))?0:-1},r.handleFocusDay=function(){var e;r.shouldFocusDay()&&(null===(e=r.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(es(r.props.day),r.props.day):es(r.props.day)},r.render=function(){return t.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),""!==r.getTitle()&&t.createElement("span",{className:"overlay"},r.getTitle()))},r}return li(r,e),r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},r.prototype.isDayActiveElement=function(){var e,t,r;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(r=document.activeElement)||void 0===r?void 0:r.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(t.Component),gl=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.weekNumberEl=(0,t.createRef)(),r.handleClick=function(e){r.props.onClick&&r.props.onClick(e)},r.handleOnKeyDown=function(e){var t,n;e.key===ui.Space&&(e.preventDefault(),e.key=ui.Enter),null===(n=(t=r.props).handleOnKeyDown)||void 0===n||n.call(t,e)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Mi(r.props.date,r.props.selected)&&Mi(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Mi(r.props.date,r.props.selected)&&Mi(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(e){var t=!1;0===r.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&Mi(r.props.date,r.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(t=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(t=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(t=!0)),t&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return li(r,e),Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},r.prototype.render=function(){var e=this.props,n=e.weekNumber,a=e.isWeekDisabled,s=e.ariaLabelPrefix,o=void 0===s?r.defaultProps.ariaLabelPrefix:s,i=e.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!i&&!a,"react-datepicker__week-number--selected":!!i&&Mi(this.props.date,this.props.selected)};return t.createElement("div",{ref:this.weekNumberEl,className:Ut(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},r}(t.Component),xl=function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return $i(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,t,a){for(var s,o,i,l=new Date(e),c=0;c<7;c++){var d=new Date(e);if(d.setDate(d.getDate()+c),!n.isDisabled(d)){l=d;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,t,a),n.props.showWeekPicker&&n.handleDayClick(l,a),(null!==(s=n.props.shouldCloseOnSelect)&&void 0!==s?s:r.defaultProps.shouldCloseOnSelect)&&(null===(i=(o=n.props).setOpen)||void 0===i||i.call(o,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return jn(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Cn(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Cn(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),a=[],s=n.formatWeekNumber(e);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,s):void 0;a.push(t.createElement(gl,ci({key:"W"},r.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(a){var s=Cn(e,a);return t.createElement(fl,ci({},r.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:s.valueOf(),day:s,onClick:n.handleDayClick.bind(n,s),onMouseEnter:n.handleDayMouseEnter.bind(n,s)}))}))},n.startOfWeek=function(){return ji(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Mi(n.startOfWeek(),n.props.selected)&&Mi(n.startOfWeek(),n.props.preSelection)},n}return li(r,e),Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Mi(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return t.createElement("div",{className:Ut(e)},this.renderDays())},r}(t.Component),yl="two_columns",vl="three_columns",bl="four_columns",wl=((ml={})[yl]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ml[vl]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ml[bl]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ml);function jl(e,t){return e?bl:t?yl:vl}var Nl=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.MONTH_REFS=di([],Array(12),!0).map(function(){return(0,t.createRef)()}),r.QUARTER_REFS=di([],Array(4),!0).map(function(){return(0,t.createRef)()}),r.isDisabled=function(e){return $i(e,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(e){return Fi(e,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(e,t){var n,a;null===(a=(n=r.props).onDayClick)||void 0===a||a.call(n,e,t,r.props.orderInDisplay)},r.handleDayMouseEnter=function(e){var t,n;null===(n=(t=r.props).onDayMouseEnter)||void 0===n||n.call(t,e)},r.handleMouseLeave=function(){var e,t;null===(t=(e=r.props).onMouseLeave)||void 0===t||t.call(e)},r.isRangeStartMonth=function(e){var t=r.props,n=t.day,a=t.startDate,s=t.endDate;return!(!a||!s)&&Ii(Pa(n,e),a)},r.isRangeStartQuarter=function(e){var t=r.props,n=t.day,a=t.startDate,s=t.endDate;return!(!a||!s)&&Ti(Da(n,e),a)},r.isRangeEndMonth=function(e){var t=r.props,n=t.day,a=t.startDate,s=t.endDate;return!(!a||!s)&&Ii(Pa(n,e),s)},r.isRangeEndQuarter=function(e){var t=r.props,n=t.day,a=t.startDate,s=t.endDate;return!(!a||!s)&&Ti(Da(n,e),s)},r.isInSelectingRangeMonth=function(e){var t,n=r.props,a=n.day,s=n.selectsStart,o=n.selectsEnd,i=n.selectsRange,l=n.startDate,c=n.endDate,d=null!==(t=r.props.selectingDate)&&void 0!==t?t:r.props.preSelection;return!(!(s||o||i)||!d)&&(s&&c?Bi(d,c,e,a):(o&&l||!(!i||!l||c))&&Bi(l,d,e,a))},r.isSelectingMonthRangeStart=function(e){var t;if(!r.isInSelectingRangeMonth(e))return!1;var n=r.props,a=n.day,s=n.startDate,o=n.selectsStart,i=Pa(a,e),l=null!==(t=r.props.selectingDate)&&void 0!==t?t:r.props.preSelection;return Ii(i,o?l:s)},r.isSelectingMonthRangeEnd=function(e){var t;if(!r.isInSelectingRangeMonth(e))return!1;var n=r.props,a=n.day,s=n.endDate,o=n.selectsEnd,i=n.selectsRange,l=Pa(a,e),c=null!==(t=r.props.selectingDate)&&void 0!==t?t:r.props.preSelection;return Ii(l,o||i?c:s)},r.isInSelectingRangeQuarter=function(e){var t,n=r.props,a=n.day,s=n.selectsStart,o=n.selectsEnd,i=n.selectsRange,l=n.startDate,c=n.endDate,d=null!==(t=r.props.selectingDate)&&void 0!==t?t:r.props.preSelection;return!(!(s||o||i)||!d)&&(s&&c?Yi(d,c,e,a):(o&&l||!(!i||!l||c))&&Yi(l,d,e,a))},r.isWeekInMonth=function(e){var t=r.props.day,n=Cn(e,6);return Ii(e,t)||Ii(n,t)},r.isCurrentMonth=function(e,t){return Ia(e)===Ia(fi())&&t===Ta(fi())},r.isCurrentQuarter=function(e,t){return Ia(e)===Ia(fi())&&t===Aa(fi())},r.isSelectedMonth=function(e,t,r){return Ta(r)===t&&Ia(e)===Ia(r)},r.isSelectMonthInList=function(e,t,n){return n.some(function(n){return r.isSelectedMonth(e,t,n)})},r.isSelectedQuarter=function(e,t,r){return Aa(e)===t&&Ia(e)===Ia(r)},r.isMonthSelected=function(){var e=r.props,t=e.day,n=e.selected,a=e.selectedDates,s=e.selectsMultiple,o=Ta(t);return s?null===a||void 0===a?void 0:a.some(function(e){return r.isSelectedMonth(t,o,e)}):!!n&&r.isSelectedMonth(t,o,n)},r.renderWeeks=function(){for(var e=[],n=r.props.fixedHeight,a=0,s=!1,o=ji(Ni(r.props.day),r.props.locale,r.props.calendarStartDay),i=r.props.selected?function(e){return r.props.showWeekPicker?ji(e,r.props.locale,r.props.calendarStartDay):r.props.selected}(r.props.selected):void 0,l=r.props.preSelection?function(e){return r.props.showWeekPicker?ji(e,r.props.locale,r.props.calendarStartDay):r.props.preSelection}(r.props.preSelection):void 0;e.push(t.createElement(xl,ci({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:a,day:o,month:Ta(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:i,preSelection:l,showWeekNumber:r.props.showWeekNumbers}))),!s;){a++,o=ts(o,1);var c=n&&a>=6,d=!n&&!r.isWeekInMonth(o);if(c||d){if(!r.props.peekNextMonth)break;s=!0}}return e},r.onMonthClick=function(e,t){var n=r.isMonthDisabledForLabelDate(t),a=n.isDisabled,s=n.labelDate;a||r.handleDayClick(Ni(s),e)},r.onMonthMouseEnter=function(e){var t=r.isMonthDisabledForLabelDate(e),n=t.isDisabled,a=t.labelDate;n||r.handleDayMouseEnter(Ni(a))},r.handleMonthNavigation=function(e,t){var n,a,s,o;null===(a=(n=r.props).setPreSelection)||void 0===a||a.call(n,t),null===(o=null===(s=r.MONTH_REFS[e])||void 0===s?void 0:s.current)||void 0===o||o.focus()},r.handleKeyboardNavigation=function(e,t,n){var a,s=r.props,o=s.selected,i=s.preSelection,l=s.setPreSelection,c=s.minDate,d=s.maxDate,u=s.showFourColumnMonthYearPicker,p=s.showTwoColumnMonthYearPicker;if(i){var m=jl(u,p),h=r.getVerticalOffset(m),f=null===(a=wl[m])||void 0===a?void 0:a.grid,g=function(e,t,r){var n,a,s=t,o=r;switch(e){case ui.ArrowRight:s=La(t,1),o=11===r?0:r+1;break;case ui.ArrowLeft:s=Ra(t,1),o=0===r?11:r-1;break;case ui.ArrowUp:s=Ra(t,h),o=(null===(n=null===f||void 0===f?void 0:f[0])||void 0===n?void 0:n.includes(r))?r+12-h:r-h;break;case ui.ArrowDown:s=La(t,h),o=(null===(a=null===f||void 0===f?void 0:f[f.length-1])||void 0===a?void 0:a.includes(r))?r-12+h:r+h}return{newCalculatedDate:s,newCalculatedMonth:o}};if(t!==ui.Enter){var x=function(e,t,n){for(var a=e,s=!1,o=0,i=g(a,t,n),l=i.newCalculatedDate,u=i.newCalculatedMonth;!s;){if(o>=40){l=t,u=n;break}var p;if(c&&l<c)a=ui.ArrowRight,l=(p=g(a,l,u)).newCalculatedDate,u=p.newCalculatedMonth;if(d&&l>d)a=ui.ArrowLeft,l=(p=g(a,l,u)).newCalculatedDate,u=p.newCalculatedMonth;if(Vi(l,r.props))l=(p=g(a,l,u)).newCalculatedDate,u=p.newCalculatedMonth;else s=!0;o++}return{newCalculatedDate:l,newCalculatedMonth:u}}(t,i,n),y=x.newCalculatedDate,v=x.newCalculatedMonth;switch(t){case ui.ArrowRight:case ui.ArrowLeft:case ui.ArrowUp:case ui.ArrowDown:r.handleMonthNavigation(v,y)}}else r.isMonthDisabled(n)||(r.onMonthClick(e,n),null===l||void 0===l||l(o))}},r.getVerticalOffset=function(e){var t,r;return null!==(r=null===(t=wl[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==r?r:0},r.onMonthKeyDown=function(e,t){var n=r.props,a=n.disabledKeyboardNavigation,s=n.handleOnMonthKeyDown,o=e.key;o!==ui.Tab&&e.preventDefault(),a||r.handleKeyboardNavigation(e,o,t),s&&s(e)},r.onQuarterClick=function(e,t){var n=Da(r.props.day,t);Ui(n,r.props)||r.handleDayClick(Si(n),e)},r.onQuarterMouseEnter=function(e){var t=Da(r.props.day,e);Ui(t,r.props)||r.handleDayMouseEnter(Si(t))},r.handleQuarterNavigation=function(e,t){var n,a,s,o;r.isDisabled(t)||r.isExcluded(t)||(null===(a=(n=r.props).setPreSelection)||void 0===a||a.call(n,t),null===(o=null===(s=r.QUARTER_REFS[e-1])||void 0===s?void 0:s.current)||void 0===o||o.focus())},r.onQuarterKeyDown=function(e,t){var n,a,s=e.key;if(!r.props.disabledKeyboardNavigation)switch(s){case ui.Enter:r.onQuarterClick(e,t),null===(a=(n=r.props).setPreSelection)||void 0===a||a.call(n,r.props.selected);break;case ui.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(4===t?1:t+1,Fa(r.props.preSelection,1));break;case ui.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(1===t?4:t-1,qa(r.props.preSelection,1))}},r.isMonthDisabledForLabelDate=function(e){var t,n=r.props,a=n.day,s=n.minDate,o=n.maxDate,i=n.excludeDates,l=n.includeDates,c=Pa(a,e);return{isDisabled:null!==(t=(s||o||i||l)&&qi(c,r.props))&&void 0!==t&&t,labelDate:c}},r.isMonthDisabled=function(e){return r.isMonthDisabledForLabelDate(e).isDisabled},r.getMonthClassNames=function(e){var t=r.props,n=t.day,a=t.startDate,s=t.endDate,o=t.preSelection,i=t.monthClassName,l=i?i(Pa(n,e)):void 0,c=r.getSelection();return Ut("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":r.isMonthDisabled(e),"react-datepicker__month-text--selected":c?r.isSelectMonthInList(n,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&o&&r.isSelectedMonth(n,e,o)&&!r.isMonthSelected()&&!r.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":a&&s?Bi(a,s,e,n):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(e),"react-datepicker__month-text--range-end":r.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":r.isCurrentMonth(n,e)})},r.getTabIndex=function(e){if(null==r.props.preSelection)return"-1";var t=Ta(r.props.preSelection),n=r.isMonthDisabledForLabelDate(t).isDisabled;return e!==t||n||r.props.disabledKeyboardNavigation?"-1":"0"},r.getQuarterTabIndex=function(e){if(null==r.props.preSelection)return"-1";var t=Aa(r.props.preSelection),n=Ui(r.props.day,r.props);return e!==t||n||r.props.disabledKeyboardNavigation?"-1":"0"},r.getAriaLabel=function(e){var t=r.props,n=t.chooseDayAriaLabelPrefix,a=void 0===n?"Choose":n,s=t.disabledDayAriaLabelPrefix,o=void 0===s?"Not available":s,i=t.day,l=t.locale,c=Pa(i,e),d=r.isDisabled(c)||r.isExcluded(c)?o:a;return"".concat(d," ").concat(yi(c,"MMMM yyyy",l))},r.getQuarterClassNames=function(e){var t=r.props,n=t.day,a=t.startDate,s=t.endDate,o=t.selected,i=t.minDate,l=t.maxDate,c=t.excludeDates,d=t.includeDates,u=t.filterDate,p=t.preSelection,m=t.disabledKeyboardNavigation,h=(i||l||c||d||u)&&Ui(Da(n,e),r.props);return Ut("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":h,"react-datepicker__quarter-text--selected":o?r.isSelectedQuarter(n,e,o):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&p&&r.isSelectedQuarter(n,e,p)&&!h,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":a&&s?Yi(a,s,e,n):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":r.isCurrentQuarter(n,e)})},r.getMonthContent=function(e){var t=r.props,n=t.showFullMonthYearPicker,a=t.renderMonthContent,s=t.locale,o=t.day,i=Ri(e,s),l=Li(e,s);return a?a(e,i,l,o):n?l:i},r.getQuarterContent=function(e){var t,n=r.props,a=n.renderQuarterContent,s=function(e,t){return yi(Da(fi(),e),"QQQ",t)}(e,n.locale);return null!==(t=null===a||void 0===a?void 0:a(e,s))&&void 0!==t?t:s},r.renderMonths=function(){var e,n=r.props,a=n.showTwoColumnMonthYearPicker,s=n.showFourColumnMonthYearPicker,o=n.day,i=n.selected,l=null===(e=wl[jl(s,a)])||void 0===e?void 0:e.grid;return null===l||void 0===l?void 0:l.map(function(e,n){return t.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map(function(e,n){return t.createElement("div",{ref:r.MONTH_REFS[e],key:n,onClick:function(t){r.onMonthClick(t,e)},onKeyDown:function(t){pl(t)&&(t.preventDefault(),t.key=ui.Enter),r.onMonthKeyDown(t,e)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(e)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(e)}:void 0,tabIndex:Number(r.getTabIndex(e)),className:r.getMonthClassNames(e),"aria-disabled":r.isMonthDisabled(e),role:"option","aria-label":r.getAriaLabel(e),"aria-current":r.isCurrentMonth(o,e)?"date":void 0,"aria-selected":i?r.isSelectedMonth(o,e,i):void 0},r.getMonthContent(e))}))})},r.renderQuarters=function(){var e=r.props,n=e.day,a=e.selected;return t.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(e,s){return t.createElement("div",{key:s,ref:r.QUARTER_REFS[s],role:"option",onClick:function(t){r.onQuarterClick(t,e)},onKeyDown:function(t){r.onQuarterKeyDown(t,e)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(e)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(e)}:void 0,className:r.getQuarterClassNames(e),"aria-selected":a?r.isSelectedQuarter(n,e,a):void 0,tabIndex:Number(r.getQuarterTabIndex(e)),"aria-current":r.isCurrentQuarter(n,e)?"date":void 0},r.getQuarterContent(e))}))},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,a=e.selectsEnd;return Ut("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||a)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},r}return li(r,e),r.prototype.getSelection=function(){var e=this.props,t=e.selected,r=e.selectedDates;return e.selectsMultiple?r:t?[t]:void 0},r.prototype.render=function(){var e=this.props,r=e.showMonthYearPicker,n=e.showQuarterYearPicker,a=e.day,s=e.ariaLabelPrefix,o=void 0===s?"Month ":s,i=o?o.trim()+" ":"";return t.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(i).concat(yi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},r}(t.Component),kl=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(e){return r.props.month===e},r.renderOptions=function(){return r.props.monthNames.map(function(e,n){return t.createElement("div",{className:r.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:r.onChange.bind(r,n),"aria-selected":r.isSelectedMonth(n)?"true":void 0},r.isSelectedMonth(n)?t.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)})},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},r}return li(r,e),r.prototype.render=function(){return t.createElement(mi,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(t.Component),Sl=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(e){return e.map(function(e,r){return t.createElement("option",{key:e,value:r},e)})},r.renderSelectMode=function(e){return t.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(e){return r.onChange(parseInt(e.target.value))}},r.renderSelectOptions(e))},r.renderReadView=function(e,n){return t.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},t.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),t.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[r.props.month]))},r.renderDropdown=function(e){return t.createElement(kl,ci({key:"dropdown"},r.props,{monthNames:e,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return li(r,e),r.prototype.render=function(){var e,r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return Ri(e,r.props.locale)}:function(e){return Li(e,r.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return t.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},r}(t.Component);function Cl(e,t){for(var r=[],n=Ni(e),a=Ni(t);!Xa(n,a);)r.push(fi(n)),n=La(n,1);return r}var El=function(e){function r(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var r=rs(e),a=Di(n.props.date,e)&&Ii(n.props.date,e);return t.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:r,onClick:n.onChange.bind(n,r),"aria-selected":a?"true":void 0},a?t.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",yi(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Cl(n.props.minDate,n.props.maxDate)},n}return li(r,e),r.prototype.render=function(){var e=Ut({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return t.createElement(mi,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(t.Component),Pl=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=Ni(r.props.minDate),n=Ni(r.props.maxDate),a=[];!Xa(e,n);){var s=rs(e);a.push(t.createElement("option",{key:s,value:s},yi(e,r.props.dateFormat,r.props.locale))),e=La(e,1)}return a},r.onSelectChange=function(e){r.onChange(parseInt(e.target.value))},r.renderSelectMode=function(){return t.createElement("select",{value:rs(Ni(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){var n=yi(r.props.date,r.props.dateFormat,r.props.locale);return t.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},t.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),t.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},r.renderDropdown=function(){return t.createElement(El,ci({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown();var t=fi(e);Di(r.props.date,t)&&Ii(r.props.date,t)||r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return li(r,e),r.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return t.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},r}(t.Component),Dl=function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,t,a;n.list&&(n.list.scrollTop=null!==(a=n.centerLi&&r.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(t=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0):n.list.clientHeight,n.centerLi))&&void 0!==a?a:0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&Ji(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Gi(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,cl(t).getTime()===cl(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&Ji(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Gi(e,n.props)},n.liClasses=function(e){var t,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*_a(e)+60*za(e)+Oa(e))%(60*(null!==(t=n.props.intervals)&&void 0!==t?t:r.defaultProps.intervals))!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(e,t){var r,a;e.key===ui.Space&&(e.preventDefault(),e.key=ui.Enter),(e.key===ui.ArrowUp||e.key===ui.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===ui.ArrowDown||e.key===ui.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===ui.Enter&&n.handleClick(t),null===(a=(r=n.props).handleOnKeyDown)||void 0===a||a.call(r,e)},n.renderTimes=function(){for(var e,a=[],s="string"===typeof n.props.format?n.props.format:"p",o=null!==(e=n.props.intervals)&&void 0!==e?e:r.defaultProps.intervals,i=n.props.selected||n.props.openToDate||fi(),l=wi(i),c=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),d=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}(i),u=d/o,p=0;p<u;p++){var m=Ga(l,p*o);if(a.push(m),c){var h=ol(l,m,p,o,c);a=a.concat(h)}}var f=a.reduce(function(e,t){return t.getTime()<=i.getTime()?t:e},a[0]);return a.map(function(e){return t.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===f&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===f?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},yi(e,s,n.props.locale))})},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?t.createElement(t.Fragment,null):t.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},t.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return li(r,e),Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},r.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},r.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},r.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var e,n=this,a=this.state.height;return t.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),t.createElement("div",{className:"react-datepicker__time"},t.createElement("div",{className:"react-datepicker__time-box"},t.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},r}(t.Component),Il=function(e){function r(r){var n=e.call(this,r)||this;return n.YEAR_REFS=di([],Array(n.props.yearItemNumber),!0).map(function(){return(0,t.createRef)()}),n.isDisabled=function(e){return $i(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return Fi(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,a,s,o,i=n.props,l=i.date,c=i.yearItemNumber;if(void 0!==l&&void 0!==c){var d=ll(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,t),e-d<0?n.updateFocusOnPaginate(c-(d-e)):e-d>=c?n.updateFocusOnPaginate(Math.abs(c-(e-d))):null===(o=null===(s=n.YEAR_REFS[e-d])||void 0===s?void 0:s.current)||void 0===o||o.focus())}},n.isSameDay=function(e,t){return Mi(e,t)},n.isCurrentYear=function(e){return e===Ia(fi())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&Di(ns(fi(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&Di(ns(fi(),e),n.props.endDate)},n.isInRange=function(e){return Hi(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,a=t.selectsEnd,s=t.selectsRange,o=t.startDate,i=t.endDate;return!(!(r||a||s)||!n.selectingDate())&&(r&&i?Hi(e,n.selectingDate(),i):(a&&o||!(!s||!o||i))&&Hi(e,o,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.startDate,s=r.selectsStart,o=ns(fi(),e);return Di(o,s?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.endDate,s=r.selectsEnd,o=r.selectsRange,i=ns(fi(),e);return Di(i,s||o?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,a=t.maxDate,s=t.excludeDates,o=t.includeDates,i=t.filterDate,l=ki(ns(n.props.date,e)),c=(r||a||s||o||i)&&Wi(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Mi(l,ki(n.props.selected))&&Mi(l,ki(n.props.preSelection))&&!c}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,a=t.selected,s=t.selectedDates;return r?null===s||void 0===s?void 0:s.some(function(t){return e===Ia(t)}):!!a&&e===Ia(a)},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(ki(ns(r,t)),e)},n.onYearKeyDown=function(e,t){var r,a,s=e.key,o=n.props,i=o.date,l=o.yearItemNumber,c=o.handleOnKeyDown;if(s!==ui.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(s){case ui.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,n.props.selected);break;case ui.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,Va(n.props.preSelection,1));break;case ui.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,Ua(n.props.preSelection,1));break;case ui.ArrowUp:if(void 0===i||void 0===l||null==n.props.preSelection)break;var d=ll(i,l).startPeriod;if((m=t-(p=3))<d){var u=l%p;t>=d&&t<d+u?p=u:p+=u,m=t-p}n.handleYearNavigation(m,Ua(n.props.preSelection,p));break;case ui.ArrowDown:if(void 0===i||void 0===l||null==n.props.preSelection)break;var p,m,h=ll(i,l).endPeriod;if((m=t+(p=3))>h){u=l%p;t<=h&&t>h-u?p=u:p+=u,m=t+p}n.handleYearNavigation(m,Va(n.props.preSelection,p))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,a=t.minDate,s=t.maxDate,o=t.excludeDates,i=t.includeDates,l=t.filterDate,c=t.yearClassName;return Ut("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===c||void 0===c?void 0:c(ns(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(a||s||o||i||l)&&Wi(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Ia(n.props.preSelection),r=Wi(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return li(r,e),r.prototype.render=function(){var e=this,r=[],n=this.props,a=n.date,s=n.yearItemNumber,o=n.onYearMouseEnter,i=n.onYearMouseLeave;if(void 0===a)return null;for(var l=ll(a,s),c=l.startPeriod,d=l.endPeriod,u=function(n){r.push(t.createElement("div",{ref:p.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){pl(t)&&(t.preventDefault(),t.key=ui.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(p.getYearTabIndex(n)),className:p.getYearClassNames(n),onMouseEnter:p.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerEnter:p.props.usePointerEvent?function(e){return o(e,n)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(e){return i(e,n)},onPointerLeave:p.props.usePointerEvent?function(e){return i(e,n)}:void 0,key:n,"aria-current":p.isCurrentYear(n)?"date":void 0},p.getYearContent(n)))},p=this,m=c;m<=d;m++)u(m);return t.createElement("div",{className:"react-datepicker__year"},t.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},r}(t.Component);function Tl(e,t,r,n){for(var a=[],s=0;s<2*t+1;s++){var o=e+t-s,i=!0;r&&(i=Ia(r)<=o),n&&i&&(i=Ia(n)>=o),i&&a.push(o)}return a}var Ml=function(e){function r(r){var n=e.call(this,r)||this;n.renderOptions=function(){var e=n.props.year,r=n.state.yearsList.map(function(r){return t.createElement("div",{className:e===r?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:r,onClick:n.onChange.bind(n,r),"aria-selected":e===r?"true":void 0},e===r?t.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",r)}),a=n.props.minDate?Ia(n.props.minDate):null,s=n.props.maxDate?Ia(n.props.maxDate):null;return s&&n.state.yearsList.find(function(e){return e===s})||r.unshift(t.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},t.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),a&&n.state.yearsList.find(function(e){return e===a})||r.push(t.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},t.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),r},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,o=a||(s?10:5);return n.state={yearsList:Tl(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,t.createRef)(),n}return li(r,e),r.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,r=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},r.prototype.render=function(){var e=Ut({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return t.createElement(mi,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(t.Component),Al=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=r.props.minDate?Ia(r.props.minDate):1900,n=r.props.maxDate?Ia(r.props.maxDate):2100,a=[],s=e;s<=n;s++)a.push(t.createElement("option",{key:s,value:s},s));return a},r.onSelectChange=function(e){r.onChange(parseInt(e.target.value))},r.renderSelectMode=function(){return t.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){return t.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return r.toggleDropdown(e)}},t.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),t.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return t.createElement(Ml,ci({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(e){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,e)})},r.handleYearChange=function(e,t){var n;null===(n=r.onSelect)||void 0===n||n.call(r,e,t),r.setOpen()},r.onSelect=function(e,t){var n,a;null===(a=(n=r.props).onSelect)||void 0===a||a.call(n,e,t)},r.setOpen=function(){var e,t;null===(t=(e=r.props).setOpen)||void 0===t||t.call(e,!0)},r}return li(r,e),r.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return t.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},r}(t.Component),_l=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],zl=function(e){function r(n){var a=e.call(this,n)||this;return a.monthContainer=void 0,a.handleClickOutside=function(e){a.props.onClickOutside(e)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(e){var t,r;(function(e){var t=(e.className||"").split(/\s+/);return _l.some(function(e){return t.indexOf(e)>=0})})(e.target)&&(null===(r=(t=a.props).onDropdownFocus)||void 0===r||r.call(t,e))},a.getDateInView=function(){var e=a.props,t=e.preSelection,r=e.selected,n=e.openToDate,s=rl(a.props),o=nl(a.props),i=fi(),l=n||r||t;return l||(s&&Bn(i,s)?s:o&&Xa(i,o)?o:i)},a.increaseMonth=function(){a.setState(function(e){return{date:La(e.date,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(e){return{date:Ra(e.date,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(e,t,r){a.props.onSelect(e,t,r),a.props.setPreSelection&&a.props.setPreSelection(e)},a.handleDayMouseEnter=function(e){a.setState({selectingDate:e}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(e)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(e,t){a.setState({selectingDate:ns(fi(),t)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(e,t)},a.handleYearMouseLeave=function(e,t){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(e,t)},a.handleYearChange=function(e){var t,r,n,s;null===(r=(t=a.props).onYearChange)||void 0===r||r.call(t,e),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(e),null===(s=(n=a.props).setOpen)||void 0===s||s.call(n,!0)),a.props.setPreSelection&&a.props.setPreSelection(e)},a.getEnabledPreSelectionDateForMonth=function(e){if(!$i(e,a.props))return e;for(var t=Ni(e),r=as(Pi(e),t),n=null,s=0;s<=r;s++){var o=Cn(t,s);if(!$i(o,a.props)){n=o;break}}return n},a.handleMonthChange=function(e){var t,r,n,s=null!==(t=a.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;a.handleCustomMonthChange(s),a.props.adjustDateOnChange&&(a.props.onSelect(s),null===(n=(r=a.props).setOpen)||void 0===n||n.call(r,!0)),a.props.setPreSelection&&a.props.setPreSelection(s)},a.handleCustomMonthChange=function(e){var t,r;null===(r=(t=a.props).onMonthChange)||void 0===r||r.call(t,e),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(e){a.handleYearChange(e),a.handleMonthChange(e)},a.changeYear=function(e){a.setState(function(t){return{date:ns(t.date,Number(e))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(e){a.setState(function(t){return{date:Pa(t.date,Number(e))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(e){a.setState(function(t){return{date:ns(Pa(t.date,Ta(e)),Ia(e))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(e){void 0===e&&(e=a.state.date);var r=ji(e,a.props.locale,a.props.calendarStartDay),n=[];return a.props.showWeekNumbers&&n.push(t.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map(function(e){var n=Cn(r,e),s=a.formatWeekday(n,a.props.locale),o=a.props.weekDayClassName?a.props.weekDayClassName(n):void 0;return t.createElement("div",{key:e,"aria-label":yi(n,"EEEE",a.props.locale),className:Ut("react-datepicker__day-name",o)},s)}))},a.formatWeekday=function(e,t){return a.props.formatWeekDay?function(e,t,r){return t(yi(e,"EEEE",r))}(e,a.props.formatWeekDay,t):a.props.useWeekdaysShort?function(e,t){return yi(e,"EEE",t)}(e,t):function(e,t){return yi(e,"EEEEEE",t)}(e,t)},a.decreaseYear=function(){a.setState(function(e){var t;return{date:Ua(e.date,a.props.showYearPicker?null!==(t=a.props.yearItemNumber)&&void 0!==t?t:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var e,n,s;if(!a.props.renderCustomHeader){var o,i=null!==(e=a.props.monthsShown)&&void 0!==e?e:r.defaultProps.monthsShown,l=a.props.showPreviousMonths?i-1:0,c=null!==(n=a.props.monthSelectedIn)&&void 0!==n?n:l,d=Ra(a.state.date,c);switch(!0){case a.props.showMonthYearPicker:o=el(a.state.date,a.props);break;case a.props.showYearPicker:o=function(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.yearItemNumber,s=void 0===a?12:a,o=ll(ki(Ua(e,s)),s).endPeriod,i=n&&Ia(n);return i&&i>o||!1}(a.state.date,a.props);break;case a.props.showQuarterYearPicker:o=function(e,t){var r=void 0===t?{}:t,n=r.minDate,a=r.includeDates,s=qa(Wn(e),1);return n&&Ba(n,s)>0||a&&a.every(function(e){return Ba(e,s)>0})||!1}(a.state.date,a.props);break;default:o=Xi(d,a.props)}if(((null!==(s=a.props.forceShowMonthNavigation)&&void 0!==s?s:r.defaultProps.forceShowMonthNavigation)||a.props.showDisabledMonthNavigation||!o)&&!a.props.showTimeSelectOnly){var u=["react-datepicker__navigation","react-datepicker__navigation--previous"],p=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(p=a.decreaseYear),o&&a.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--previous--disabled"),p=void 0);var m=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,h=a.props,f=h.previousMonthButtonLabel,g=void 0===f?r.defaultProps.previousMonthButtonLabel:f,x=h.previousYearButtonLabel,y=void 0===x?r.defaultProps.previousYearButtonLabel:x,v=a.props,b=v.previousMonthAriaLabel,w=void 0===b?"string"===typeof g?g:"Previous Month":b,j=v.previousYearAriaLabel,N=void 0===j?"string"===typeof y?y:"Previous Year":j;return t.createElement("button",{type:"button",className:u.join(" "),onClick:p,onKeyDown:a.props.handleOnKeyDown,"aria-label":m?N:w},t.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},m?y:g))}}},a.increaseYear=function(){a.setState(function(e){var t;return{date:Va(e.date,a.props.showYearPicker?null!==(t=a.props.yearItemNumber)&&void 0!==t?t:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var e;if(!a.props.renderCustomHeader){var n;switch(!0){case a.props.showMonthYearPicker:n=tl(a.state.date,a.props);break;case a.props.showYearPicker:n=function(e,t){var r=void 0===t?{}:t,n=r.maxDate,a=r.yearItemNumber,s=void 0===a?12:a,o=ll(Va(e,s),s).startPeriod,i=n&&Ia(n);return i&&i<o||!1}(a.state.date,a.props);break;case a.props.showQuarterYearPicker:n=function(e,t){var r=void 0===t?{}:t,n=r.maxDate,a=r.includeDates,s=Fa(Ma(e),1);return n&&Ba(s,n)>0||a&&a.every(function(e){return Ba(s,e)>0})||!1}(a.state.date,a.props);break;default:n=Zi(a.state.date,a.props)}if(((null!==(e=a.props.forceShowMonthNavigation)&&void 0!==e?e:r.defaultProps.forceShowMonthNavigation)||a.props.showDisabledMonthNavigation||!n)&&!a.props.showTimeSelectOnly){var s=["react-datepicker__navigation","react-datepicker__navigation--next"];a.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var o=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(o=a.increaseYear),n&&a.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),o=void 0);var i=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,l=a.props,c=l.nextMonthButtonLabel,d=void 0===c?r.defaultProps.nextMonthButtonLabel:c,u=l.nextYearButtonLabel,p=void 0===u?r.defaultProps.nextYearButtonLabel:u,m=a.props,h=m.nextMonthAriaLabel,f=void 0===h?"string"===typeof d?d:"Next Month":h,g=m.nextYearAriaLabel,x=void 0===g?"string"===typeof p?p:"Next Year":g;return t.createElement("button",{type:"button",className:s.join(" "),onClick:o,onKeyDown:a.props.handleOnKeyDown,"aria-label":i?x:f},t.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},i?p:d))}}},a.renderCurrentMonth=function(e){void 0===e&&(e=a.state.date);var r=["react-datepicker__current-month"];return a.props.showYearDropdown&&r.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&r.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&r.push("react-datepicker__current-month--hasMonthYearDropdown"),t.createElement("h2",{className:r.join(" ")},yi(e,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(e){if(void 0===e&&(e=!1),a.props.showYearDropdown&&!e)return t.createElement(Al,ci({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Ia(a.state.date)}))},a.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),a.props.showMonthDropdown&&!e)return t.createElement(Sl,ci({},r.defaultProps,a.props,{month:Ta(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),a.props.showMonthYearDropdown&&!e)return t.createElement(Pl,ci({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(e){a.props.onSelect(Ci(),e),a.props.setPreSelection&&a.props.setPreSelection(Ci())},a.renderTodayButton=function(){if(a.props.todayButton&&!a.props.showTimeSelectOnly)return t.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDefaultHeader=function(e){var r=e.monthDate,n=e.i;return t.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(r),t.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(0!==n),a.renderMonthYearDropdown(0!==n),a.renderYearDropdown(0!==n)),t.createElement("div",{className:"react-datepicker__day-names"},a.header(r)))},a.renderCustomHeader=function(e){var r,n,s=e.monthDate,o=e.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var i=Xi(a.state.date,a.props),l=Zi(a.state.date,a.props),c=el(a.state.date,a.props),d=tl(a.state.date,a.props),u=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return t.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},null===(n=(r=a.props).renderCustomHeader)||void 0===n?void 0:n.call(r,ci(ci({},a.state),{customHeaderCount:o,monthDate:s,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:i,nextMonthButtonDisabled:l,prevYearButtonDisabled:c,nextYearButtonDisabled:d})),u&&t.createElement("div",{className:"react-datepicker__day-names"},a.header(s)))},a.renderYearHeader=function(e){var n=e.monthDate,s=a.props,o=s.showYearPicker,i=s.yearItemNumber,l=ll(n,void 0===i?r.defaultProps.yearItemNumber:i),c=l.startPeriod,d=l.endPeriod;return t.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(c," - ").concat(d):Ia(n))},a.renderHeader=function(e){var t=e.monthDate,r=e.i,n={monthDate:t,i:void 0===r?0:r};switch(!0){case void 0!==a.props.renderCustomHeader:return a.renderCustomHeader(n);case a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker:return a.renderYearHeader(n);default:return a.renderDefaultHeader(n)}},a.renderMonths=function(){var e,n;if(!a.props.showTimeSelectOnly&&!a.props.showYearPicker){for(var s=[],o=null!==(e=a.props.monthsShown)&&void 0!==e?e:r.defaultProps.monthsShown,i=a.props.showPreviousMonths?o-1:0,l=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Va(a.state.date,i):Ra(a.state.date,i),c=null!==(n=a.props.monthSelectedIn)&&void 0!==n?n:i,d=0;d<o;++d){var u=d-c+i,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Va(l,u):La(l,u),m="month-".concat(d),h=d<o-1,f=d>0;s.push(t.createElement("div",{key:m,ref:function(e){a.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:p,i:d}),t.createElement(Nl,ci({},r.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:p,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:d,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:h,monthShowsDuplicateDaysStart:f}))))}return s}},a.renderYears=function(){if(!a.props.showTimeSelectOnly)return a.props.showYearPicker?t.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),t.createElement(Il,ci({},r.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave}))):void 0},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return t.createElement(Dl,ci({},r.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var e=a.props.selected?new Date(a.props.selected):void 0,n=e&&xi(e)&&Boolean(a.props.selected)?"".concat(il(e.getHours()),":").concat(il(e.getMinutes())):"";if(a.props.showTimeInput)return t.createElement(hl,ci({},r.defaultProps,a.props,{date:e,timeString:n,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var e,n,s=ll(a.state.date,null!==(e=a.props.yearItemNumber)&&void 0!==e?e:r.defaultProps.yearItemNumber),o=s.startPeriod,i=s.endPeriod;return n=a.props.showYearPicker?"".concat(o," - ").concat(i):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Ia(a.state.date):"".concat(Li(Ta(a.state.date),a.props.locale)," ").concat(Ia(a.state.date)),t.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&n)},a.renderChildren=function(){if(a.props.children)return t.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=(0,t.createRef)(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return li(r,e),Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},r.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Mi(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Mi(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var r=!Ii(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&t.handleCustomMonthChange(t.state.date)})}},r.prototype.render=function(){var e=this.props.container||pi;return t.createElement(mi,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},t.createElement("div",{style:{display:"contents"},ref:this.containerRef},t.createElement(e,{className:Ut("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r}(t.Component),Ol=function(e){var r=e.icon,n=e.className,a=void 0===n?"":n,s=e.onClick,o="react-datepicker__calendar-icon";if("string"===typeof r)return t.createElement("i",{className:"".concat(o," ").concat(r," ").concat(a),"aria-hidden":"true",onClick:s});if(t.isValidElement(r)){var i=r;return t.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(o," ").concat(a),onClick:function(e){"function"===typeof i.props.onClick&&i.props.onClick(e),"function"===typeof s&&s(e)}})}return t.createElement("svg",{className:"".concat(o," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},t.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Ll=function(e){function t(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return li(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Ls.createPortal(this.props.children,this.el)},t}(t.Component),Rl=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},$l=function(e){function r(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Rl)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,t.createRef)(),n}return li(r,e),r.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:r.defaultProps.enableTabLoop)?t.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},t.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,t.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(t.Component);var Fl,ql=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return li(r,e),Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var e=this.props,n=e.className,a=e.wrapperClassName,s=e.hidePopper,o=void 0===s?r.defaultProps.hidePopper:s,i=e.popperComponent,l=e.targetComponent,c=e.enableTabLoop,d=e.popperOnKeyDown,u=e.portalId,p=e.portalHost,m=e.popperProps,h=e.showArrow,f=void 0;if(!o){var g=Ut("react-datepicker-popper",n);f=t.createElement($l,{enableTabLoop:c},t.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:g,"data-placement":m.placement,onKeyDown:d},i,h&&t.createElement(Zo,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(f=(0,t.createElement)(this.props.popperContainer,{},f)),u&&!o&&(f=t.createElement(Ll,{portalId:u,portalHost:p},f));var x=Ut("react-datepicker-wrapper",a);return t.createElement(t.Fragment,null,t.createElement("div",{ref:m.refs.setReference,className:x},l),f)},r}(t.Component),Bl=(Fl=ql,function(e){var r,n="boolean"!==typeof e.hidePopper||e.hidePopper,a=(0,t.useRef)(null),s=oi(ci({open:!n,whileElementsMounted:Po,placement:e.popperPlacement,middleware:di([Fo({padding:15}),$o(10),qo({element:a})],null!==(r=e.popperModifiers)&&void 0!==r?r:[],!0)},e.popperProps)),o=ci(ci({},e),{hidePopper:n,popperProps:ci(ci({},s),{arrowRef:a})});return t.createElement(Fl,ci({},o))}),Vl="react-datepicker-ignore-onclickoutside";var Ul="Date input not valid.",Hl=function(e){function r(n){var a=e.call(this,n)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:fi()},a.modifyHolidays=function(){var e;return null===(e=a.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var r=new Date(t.date);return xi(r)?di(di([],e,!0),[ci(ci({},t),{date:r})],!1):e},[])},a.calcInitialState=function(){var e,t=a.getPreSelection(),r=rl(a.props),n=nl(a.props),s=r&&Bn(t,wi(r))?r:n&&Xa(t,Ei(n))?n:t;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=a.props.selectsRange?a.props.startDate:a.props.selected)&&void 0!==e?e:s,highlightDates:al(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.resetHiddenStatus=function(){a.setState(ci(ci({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(ci(ci({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var e,t;null===(t=null===(e=a.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},a.setBlur=function(){var e,t;null===(t=null===(e=a.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(e,t){void 0===t&&(t=!1),a.setState({open:e,preSelection:e&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Yl},function(){e||a.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return Fn(a.state.preSelection)},a.isCalendarOpen=function(){return void 0===a.props.open?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(e){var t,r,n=a.state.wasHidden,s=!n||a.state.open;n&&a.resetHiddenStatus(),a.state.preventFocus||(null===(r=(t=a.props).onFocus)||void 0===r||r.call(t,e),!s||a.props.preventOpenOnFocus||a.props.readOnly||a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.handleBlur=function(e){var t,r;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&(null===(r=(t=a.props).onBlur)||void 0===r||r.call(t,e)),a.state.open&&!1===a.props.open&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(e){var t,r;a.props.inline||a.setOpen(!1),null===(r=(t=a.props).onClickOutside)||void 0===r||r.call(t,e),a.props.withPortal&&e.preventDefault()},a.handleChange=function(){for(var e,t,n,s,o,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var c=i[0];if(!a.props.onChangeRaw||(a.props.onChangeRaw.apply(a,i),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){a.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:Wl});var d=a.props,u=d.selectsRange,p=d.startDate,m=d.endDate,h=null!==(e=a.props.dateFormat)&&void 0!==e?e:r.defaultProps.dateFormat,f=null!==(t=a.props.strictParsing)&&void 0!==t?t:r.defaultProps.strictParsing,g=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(u){var x=g.split(h.includes("-")?" - ":"-",2).map(function(e){return e.trim()}),y=x[0],v=x[1],b=gi(null!==y&&void 0!==y?y:"",h,a.props.locale,f),w=gi(null!==v&&void 0!==v?v:"",h,a.props.locale,f),j=(null===p||void 0===p?void 0:p.getTime())!==(null===b||void 0===b?void 0:b.getTime()),N=(null===m||void 0===m?void 0:m.getTime())!==(null===w||void 0===w?void 0:w.getTime());if(!j&&!N)return;if(b&&$i(b,a.props))return;if(w&&$i(w,a.props))return;null===(s=(n=a.props).onChange)||void 0===s||s.call(n,[b,w],c)}else{var k=gi(g,h,a.props.locale,f,null!==(o=a.props.selected)&&void 0!==o?o:void 0);!k&&g||a.setSelected(k,c,!0)}}},a.handleSelect=function(e,t,r){if(!a.props.readOnly)if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&a.sendFocusBackToInput(),a.props.onChangeRaw&&a.props.onChangeRaw(t),a.setSelected(e,t,!1,r),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(e);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var n=a.props,s=n.startDate,o=n.endDate;!s||o||!a.props.swapRange&&ul(e,s)||a.setOpen(!1)}},a.setSelected=function(e,t,r,n){var s,o,i=e;if(a.props.showYearPicker){if(null!==i&&Wi(Ia(i),a.props))return}else if(a.props.showMonthYearPicker){if(null!==i&&qi(i,a.props))return}else if(null!==i&&$i(i,a.props))return;var l=a.props,c=l.onChange,d=l.selectsRange,u=l.startDate,p=l.endDate,m=l.selectsMultiple,h=l.selectedDates,f=l.minTime,g=l.swapRange;if(!Ai(a.props.selected,i)||a.props.allowSameDay||d||m)if(null!==i&&(!a.props.selected||r&&(a.props.showTimeSelect||a.props.showTimeSelectOnly||a.props.showTimeInput)||(i=bi(i,{hour:_a(a.props.selected),minute:za(a.props.selected),second:Oa(a.props.selected)})),r||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly||f&&(i=bi(i,{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()})),a.props.inline||a.setState({preSelection:i}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:n})),d){var x=u&&!p,y=u&&p;!u&&!p?null===c||void 0===c||c([i,null],t):x&&(null===i?null===c||void 0===c||c([null,null],t):ul(i,u)?g?null===c||void 0===c||c([i,u],t):null===c||void 0===c||c([i,null],t):null===c||void 0===c||c([u,i],t)),y&&(null===c||void 0===c||c([i,null],t))}else if(m){if(null!==i)if(null===h||void 0===h?void 0:h.length)if(h.some(function(e){return Mi(e,i)})){var v=h.filter(function(e){return!Mi(e,i)});null===c||void 0===c||c(v,t)}else null===c||void 0===c||c(di(di([],h,!0),[i],!1),t);else null===c||void 0===c||c([i],t)}else null===c||void 0===c||c(i,t);r||(null===(o=(s=a.props).onSelect)||void 0===o||o.call(s,i,t),a.setState({inputValue:null}))},a.setPreSelection=function(e){if(!a.props.readOnly){var t=Fn(a.props.minDate),r=Fn(a.props.maxDate),n=!0;if(e){var s=wi(e);if(t&&r)n=_i(e,a.props.minDate,a.props.maxDate);else if(t){var o=wi(a.props.minDate);n=Xa(e,o)||Ai(s,o)}else if(r){var i=Ei(a.props.maxDate);n=Bn(e,i)||Ai(s,i)}}n&&a.setState({preSelection:e})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(e){var t,r;if(!a.props.selectsRange&&!a.props.selectsMultiple){var n=a.props.selected?a.props.selected:a.getPreSelection(),s=a.props.selected?e:bi(n,{hour:_a(e),minute:za(e)});a.setState({preSelection:s}),null===(r=(t=a.props).onChange)||void 0===r||r.call(t,s),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var e,t;a.props.disabled||a.props.readOnly||a.setOpen(!0),null===(t=(e=a.props).onInputClick)||void 0===t||t.call(e)},a.onInputKeyDown=function(e){var t,r,n,s,o,i;null===(r=(t=a.props).onKeyDown)||void 0===r||r.call(t,e);var l=e.key;if(a.state.open||a.props.inline||a.props.preventOpenOnFocus){if(a.state.open){if(l===ui.ArrowDown||l===ui.ArrowUp){e.preventDefault();var c=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',d=(null===(s=a.calendar)||void 0===s?void 0:s.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(c);return void(d instanceof HTMLElement&&d.focus({preventScroll:!0}))}var u=fi(a.state.preSelection);l===ui.Enter?(e.preventDefault(),e.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===Yl?(a.handleSelect(u,e),!a.props.shouldCloseOnSelect&&a.setPreSelection(u)):a.setOpen(!1)):l===ui.Escape?(e.preventDefault(),e.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):l===ui.Tab&&a.setOpen(!1),a.inputOk()||null===(i=(o=a.props).onInputError)||void 0===i||i.call(o,{code:1,msg:Ul})}}else l!==ui.ArrowDown&&l!==ui.ArrowUp&&l!==ui.Enter||null===(n=a.onInputClick)||void 0===n||n.call(a)},a.onPortalKeyDown=function(e){e.key===ui.Escape&&(e.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(e){var t,r,n,s,o,i,l=a.props,c=l.minDate,d=l.maxDate,u=l.disabledKeyboardNavigation,p=l.showWeekPicker,m=l.shouldCloseOnSelect,h=l.locale,f=l.calendarStartDay,g=l.adjustDateOnChange,x=l.inline;if(null===(r=(t=a.props).onKeyDown)||void 0===r||r.call(t,e),!u){var y=e.key,v=e.shiftKey,b=fi(a.state.preSelection),w=function(e,t){var r=t;switch(e){case ui.ArrowRight:r=p?ts(t,1):Cn(t,1);break;case ui.ArrowLeft:r=p?os(t,1):is(t,1);break;case ui.ArrowUp:r=os(t,1);break;case ui.ArrowDown:r=ts(t,1);break;case ui.PageUp:r=v?Ua(t,1):Ra(t,1);break;case ui.PageDown:r=v?Va(t,1):La(t,1);break;case ui.Home:r=ji(t,h,f);break;case ui.End:r=function(e){return va(e)}(t)}return r};if(y===ui.Enter)return e.preventDefault(),a.handleSelect(b,e),void(!m&&a.setPreSelection(b));if(y===ui.Escape)return e.preventDefault(),a.setOpen(!1),void(a.inputOk()||null===(s=(n=a.props).onInputError)||void 0===s||s.call(n,{code:1,msg:Ul}));var j=null;switch(y){case ui.ArrowLeft:case ui.ArrowRight:case ui.ArrowUp:case ui.ArrowDown:case ui.PageUp:case ui.PageDown:case ui.Home:case ui.End:j=function(e,t){for(var r=e,n=!1,s=0,o=w(e,t);!n;){if(s>=40){o=t;break}c&&o<c&&(r=ui.ArrowRight,o=$i(c,a.props)?w(r,o):c),d&&o>d&&(r=ui.ArrowLeft,o=$i(d,a.props)?w(r,o):d),$i(o,a.props)?(r!==ui.PageUp&&r!==ui.Home||(r=ui.ArrowRight),r!==ui.PageDown&&r!==ui.End||(r=ui.ArrowLeft),o=w(r,o)):n=!0,s++}return o}(y,b)}if(j){if(e.preventDefault(),a.setState({lastPreSelectChange:Yl}),g&&a.setSelected(j),a.setPreSelection(j),x){var N=Ta(b),k=Ta(j),S=Ia(b),C=Ia(j);N!==k||S!==C?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}else null===(i=(o=a.props).onInputError)||void 0===i||i.call(o,{code:1,msg:Ul})}},a.onPopperKeyDown=function(e){e.key===ui.Escape&&(e.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),a.sendFocusBackToInput();var t=a.props,r=t.selectsRange,n=t.onChange;r?null===n||void 0===n||n([null,null],e):null===n||void 0===n||n(null,e),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(e){"boolean"===typeof a.props.closeOnScroll&&a.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||a.setOpen(!1):"function"===typeof a.props.closeOnScroll&&a.props.closeOnScroll(e)&&a.setOpen(!1)},a.renderCalendar=function(){var e,n;return a.props.inline||a.isCalendarOpen()?t.createElement(zl,ci({showMonthYearDropdown:void 0,ref:function(e){a.calendar=e}},a.props,a.state,{setOpen:a.setOpen,dateFormat:null!==(e=a.props.dateFormatCalendar)&&void 0!==e?e:r.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:sl(a.modifyHolidays()),outsideClickIgnoreClass:Vl,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:null!==(n=a.props.dropdownMode)&&void 0!==n?n:r.defaultProps.dropdownMode}),a.props.children):null},a.renderAriaLiveRegion=function(){var e,n=a.props,s=n.dateFormat,o=void 0===s?r.defaultProps.dateFormat:s,i=n.locale,l=a.props.showTimeInput||a.props.showTimeSelect?"PPPPp":"PPPP";return e=a.props.selectsRange?"Selected start date: ".concat(vi(a.props.startDate,{dateFormat:l,locale:i}),". ").concat(a.props.endDate?"End date: "+vi(a.props.endDate,{dateFormat:l,locale:i}):""):a.props.showTimeSelectOnly?"Selected time: ".concat(vi(a.props.selected,{dateFormat:o,locale:i})):a.props.showYearPicker?"Selected year: ".concat(vi(a.props.selected,{dateFormat:"yyyy",locale:i})):a.props.showMonthYearPicker?"Selected month: ".concat(vi(a.props.selected,{dateFormat:"MMMM yyyy",locale:i})):a.props.showQuarterYearPicker?"Selected quarter: ".concat(vi(a.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):"Selected date: ".concat(vi(a.props.selected,{dateFormat:l,locale:i})),t.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},a.renderDateInput=function(){var e,n,s,o=Ut(a.props.className,((e={})[Vl]=a.state.open,e)),i=a.props.customInput||t.createElement("input",{type:"text"}),l=a.props.customInputRef||"ref",c=a.props,d=c.dateFormat,u=void 0===d?r.defaultProps.dateFormat:d,p=c.locale,m="string"===typeof a.props.value?a.props.value:"string"===typeof a.state.inputValue?a.state.inputValue:a.props.selectsRange?function(e,t,r){if(!e)return"";var n=vi(e,r),a=t?vi(t,r):"";return"".concat(n).concat(" - ").concat(a)}(a.props.startDate,a.props.endDate,{dateFormat:u,locale:p}):a.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var r=e[0]?vi(e[0],t):"";if(1===e.length)return r;if(2===e.length&&e[1]){var n=vi(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}(null!==(s=a.props.selectedDates)&&void 0!==s?s:[],{dateFormat:u,locale:p}):vi(a.props.selected,{dateFormat:u,locale:p});return(0,t.cloneElement)(i,((n={})[l]=function(e){a.input=e},n.value=m,n.onBlur=a.handleBlur,n.onChange=a.handleChange,n.onClick=a.onInputClick,n.onFocus=a.handleFocus,n.onKeyDown=a.onInputKeyDown,n.id=a.props.id,n.name=a.props.name,n.form=a.props.form,n.autoFocus=a.props.autoFocus,n.placeholder=a.props.placeholderText,n.disabled=a.props.disabled,n.autoComplete=a.props.autoComplete,n.className=Ut(i.props.className,o),n.title=a.props.title,n.readOnly=a.props.readOnly,n.required=a.props.required,n.tabIndex=a.props.tabIndex,n["aria-describedby"]=a.props.ariaDescribedBy,n["aria-invalid"]=a.props.ariaInvalid,n["aria-labelledby"]=a.props.ariaLabelledBy,n["aria-required"]=a.props.ariaRequired,n))},a.renderClearButton=function(){var e=a.props,r=e.isClearable,n=e.disabled,s=e.selected,o=e.startDate,i=e.endDate,l=e.clearButtonTitle,c=e.clearButtonClassName,d=void 0===c?"":c,u=e.ariaLabelClose,p=void 0===u?"Close":u,m=e.selectedDates,h=e.readOnly;return!r||h||null==s&&null==o&&null==i&&!(null===m||void 0===m?void 0:m.length)?null:t.createElement("button",{type:"button",className:Ut("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":p,onClick:a.onClearClick,title:l,tabIndex:-1})},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return li(r,e),Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(e,t){var r,n,a,s,o,i;e.inline&&(o=e.selected,i=this.props.selected,o&&i?Ta(o)!==Ta(i)||Ia(o)!==Ia(i):o!==i)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:al(this.props.highlightDates)}),t.focused||Ai(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(n=(r=this.props).onCalendarOpen)||void 0===n||n.call(r)),!0===t.open&&!1===this.state.open&&(null===(s=(a=this.props).onCalendarClose)||void 0===s||s.call(a)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var e=this.props,r=e.showIcon,n=e.icon,a=e.calendarIconClassname,s=e.calendarIconClassName,o=e.toggleCalendarOnIconClick,i=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),t.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&t.createElement(Ol,ci({icon:n,className:Ut(s,!s&&a,i&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var r=this.state.open?t.createElement($l,{enableTabLoop:this.props.enableTabLoop},t.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(r=t.createElement(Ll,ci({portalId:this.props.portalId},this.props),r)),t.createElement("div",null,this.renderInputContainer(),r)}return t.createElement(Bl,ci({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(t.Component),Wl="input",Yl="navigate";const Kl=e=>{const r=function(){let{matches:e}=t.useContext(_t),r=e[e.length-1];return r?r.params:{}}(),n=e.clientId||r.clientId||r.id,[a,s]=(0,t.useState)(null),[i,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,p]=(0,t.useState)(null),[m,h]=(0,t.useState)(!1),[f,g]=(0,t.useState)(null),[x,y]=(0,t.useState)(null),[v,b]=(0,t.useState)({}),[w,j]=(0,t.useState)(!1),N=e=>e?e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).replace(/_/g," "):"",k=(0,t.useCallback)(async()=>{if(!n||"undefined"===n)return d("Aucun ID client valide fourni"),void l(!1);l(!0),d(null);try{const e=`http://localhost:3000/api/internal/clients/${n}`,t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include"});if(!t.ok){const e=await t.text();throw new Error(e||`Erreur lors de la r\xe9cup\xe9ration du client (${t.status})`)}const r=await t.json();if(!r.success||!r.customer)throw new Error("Donn\xe9es client non valides");s(r.customer),b({}),j(!1)}catch(e){d(`Erreur: ${e.message||"Impossible de charger les d\xe9tails du client"}`)}finally{l(!1)}},[n]);(0,t.useEffect)(()=>{n&&"undefined"!==n?k():(d("ID client manquant ou invalide"),l(!1))},[n,k]);const S=()=>{p(null)},C=e=>{const{value:t,type:r,checked:n}=e.target;y("checkbox"===r?n:t)},E=e=>{y(e)};if(i)return(0,o.jsx)("div",{className:"flex items-center justify-center min-h-[200px]",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary"})});if(c)return(0,o.jsxs)("div",{className:"p-4 bg-red-50 text-red-700 rounded-md",children:[(0,o.jsx)("p",{className:"font-medium",children:"Erreur"}),(0,o.jsx)("p",{children:c}),(0,o.jsx)("button",{onClick:()=>{l(!0),k()},className:"mt-2 text-sm text-red-600 hover:underline",children:"R\xe9essayer"})]});if(!a)return(0,o.jsx)("div",{className:"p-4 bg-yellow-50 text-yellow-700 rounded-md",children:"Aucune donn\xe9e client disponible."});const P=["_id","__v","createdAt","updatedAt","password","hashedPassword","salt","shops","userId","status","submittedAt","dateSoumission","nomSoumission","fonctionSoumission","documented"];return(0,o.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:[(0,o.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:["D\xe9tails du client:"," ",a.raisonSociale||a.nomSoumission||n]}),(w||f)&&(0,o.jsxs)("div",{className:"mb-4 p-4 sticky top-0 bg-white z-10 shadow-sm rounded-md",children:[f&&(0,o.jsx)("div",{className:"mb-2 p-3 rounded-md text-sm "+(f.includes("Erreur")?"bg-red-100 text-red-800":f.includes("Aucune modification")?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:f}),w&&(0,o.jsx)("button",{onClick:async()=>{if(0===Object.keys(v).length)return g("Aucune modification \xe0 enregistrer."),void setTimeout(()=>g(null),3e3);if(n){h(!0),g(null);try{const e=`http://localhost:3000/api/internal/clients/${n}`,t=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},credentials:"include",body:JSON.stringify(v)});if(!t.ok){const e=await t.text();throw new Error(e||`Erreur lors de la sauvegarde (${t.status} ${t.statusText})`)}s(e=>({...e,...v})),b({}),j(!1),g("Toutes les modifications ont \xe9t\xe9 enregistr\xe9es avec succ\xe8s !"),setTimeout(()=>g(null),3e3)}catch(e){g(`Erreur lors de la sauvegarde: ${e.message}`)}finally{h(!1)}}else g("Erreur: ID client manquant pour la sauvegarde.")},disabled:m,className:"w-full px-4 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary-dark focus:outline-none focus:ring-2 focus:ring-sna-primary-light focus:ring-opacity-50 disabled:opacity-50 flex items-center justify-center",children:m?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Enregistrement..."]}):"Enregistrer les modifications"})]}),(0,o.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,o.jsx)("div",{className:"border-t border-gray-200",children:(0,o.jsx)("dl",{children:Object.entries(a).filter(e=>{let[t]=e;return!P.includes(t)}).map(e=>{let[t,r]=e;const n=a&&a[t],s=void 0!==v[t]?v[t]:n,i=u===t,l=((e,t)=>e.toLowerCase().includes("email")?"email":e.toLowerCase().includes("phone")||e.toLowerCase().includes("tel")?"tel":e.toLowerCase().includes("date")?"date":"boolean"===typeof t?"checkbox":"number"===typeof t?"number":"text")(t,s);let c;if("boolean"===typeof s)c=s?"Oui":"Non";else if(s instanceof Date||"string"===typeof s&&t.toLowerCase().includes("date"))try{const e=new Date(s);c=isNaN(e.getTime())?s||"-":e.toLocaleDateString("fr-FR")}catch(d){c=s||"-"}else c=null===s||void 0===s||""===s?"-":String(s);return(0,o.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 border-b border-gray-100 hover:bg-gray-50 group relative",children:[(0,o.jsx)("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:N(t)}),(0,o.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 flex items-center justify-between",children:i?(0,o.jsxs)("div",{className:"flex items-center w-full",children:["checkbox"===l?(0,o.jsx)("div",{className:"flex items-center space-x-2",children:(0,o.jsx)("input",{type:"checkbox",checked:!!x,onChange:C,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}):"date"===l?(0,o.jsxs)("div",{className:"relative w-full",children:[(0,o.jsx)(Hl,{selected:x&&!isNaN(new Date(x).getTime())?new Date(x):null,onChange:E,dateFormat:"dd/MM/yyyy",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholderText:"JJ/MM/AAAA",popperPlacement:"top-start"}),(0,o.jsx)(it,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"})]}):"Payement"===t||"payement"===t?(0,o.jsxs)("select",{value:x||"",onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",autoFocus:!0,children:[(0,o.jsx)("option",{value:"",children:"S\xe9lectionner..."}),(0,o.jsx)("option",{value:"vendeur",children:"Vendeur"}),(0,o.jsx)("option",{value:"mandataire",children:"Mandataire"})]}):(0,o.jsx)("input",{type:l,value:null===x||void 0===x?"":x,onChange:C,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),(0,o.jsx)("button",{onClick:()=>(e=>{const t={...v,[e]:x};b(t),j(!0),p(null)})(t),className:"ml-2 p-1 text-green-600 hover:bg-green-100 rounded-full",title:"Confirmer",children:(0,o.jsx)(lt,{size:20})}),(0,o.jsx)("button",{onClick:S,className:"ml-1 p-1 text-red-600 hover:bg-red-100 rounded-full",title:"Annuler",children:(0,o.jsx)(mt,{size:20})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"flex-grow break-words",children:c}),(0,o.jsx)("button",{onClick:()=>((e,t)=>{p(e);const r=void 0!==v[e]?v[e]:t;y(r)})(t,s),className:"ml-2 p-1 text-gray-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity rounded-full hover:bg-gray-100",title:"Modifier",children:(0,o.jsx)(ct,{size:16})})]})})]},t)})})})})]})},Ql=e=>{let{clientId:r}=e;const[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null);return(0,t.useEffect)(()=>{r&&(async()=>{try{a([{id:"shop1",name:"Boutique Alpha",products:5},{id:"shop2",name:"Magasin Beta",products:12}])}catch(e){c(e.message)}i(!1)})()},[r]),s?(0,o.jsx)("p",{children:"Chargement des boutiques du client..."}):l?(0,o.jsxs)("p",{children:["Erreur: ",l]}):(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Boutiques du Client: ",r]}),0===n.length?(0,o.jsx)("p",{children:"Ce client n'a pas encore de boutiques."}):(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:e.name}),(0,o.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Nombre de produits: ",e.products]}),(0,o.jsx)("div",{className:"mt-4 flex justify-end",children:(0,o.jsx)("a",{href:`/internal/clients/${r}/boutiques/${e.id}`,className:"text-sm text-sna-primary hover:underline",children:"Voir D\xe9tails"})})]},e.id))})]})},Gl=e=>{let{isOpen:t,onClose:r,onConfirm:n,shopName:a}=e;return t?Ls.createPortal((0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmer la suppression"}),(0,o.jsxs)("p",{className:"text-gray-600 mb-6",children:['\xcates-vous s\xfbr de vouloir supprimer la boutique "',a,'" ? Cette action est irr\xe9versible.']}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Annuler"}),(0,o.jsx)("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Supprimer"})]})]})}),document.body):null},Jl=e=>{let{clientId:r,shopId:n,onDelete:a}=e;const[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)({}),[g,x]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{c(!0);const e=await fetch(`/api/internal/clients/${r}/shops/${n}`);if(!e.ok)throw new Error("Failed to fetch shop details");const t=await e.json(),a=t.shop||t;if(console.log("Shop data:",a),!a||"object"!==typeof a)throw new Error("Invalid shop data format");i(a),u(null)}catch(e){console.error("Error details:",e),u(e.message)}finally{c(!1)}})()},[r,n]);const y=e=>{const t=s[e.key];return void 0===t||null===t?"Non sp\xe9cifi\xe9":"date"===e.type&&t?new Date(t).toLocaleDateString():"checkbox"===e.type?t?e.trueLabel:e.falseLabel:(e.type,t)},v=()=>{m(null)},b=(e,t)=>{f({...h,[e.key]:t})};if(l)return(0,o.jsx)("p",{children:"Chargement des d\xe9tails de la boutique..."});if(d)return(0,o.jsxs)("p",{children:["Erreur: ",d]});if(!s)return(0,o.jsx)("p",{children:"Boutique non trouv\xe9e."});console.log("Shop data in state:",s);const w=[{key:"nomProjet",label:"Nom Projet",type:"text"},{key:"typeProjet",label:"Type Projet",type:"text"},{key:"commercial",label:"Commercial",type:"text"},{key:"demarrageProjet",label:"D\xe9marrage du projet",type:"date"},{key:"nomChefProjet",label:"Nom chef de projet",type:"text"},{key:"prenomChefProjet",label:"Pr\xe9nom chef de projet",type:"text"},{key:"estBoutiqueEnLigne",label:"Est Boutique En Ligne",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"status",label:"Statut",type:"text"},{key:"clientName",label:"Client",type:"text"},{key:"createdAt",label:"Date de Cr\xe9ation",type:"date"},{key:"nomClient",label:"Nom Client"},{key:"contactsClient",label:"Contacts Client"},{key:"dateMiseEnLigne",label:"Date Mise En Ligne",type:"date"},{key:"dateCommercialisation",label:"Date Commercialisation",type:"date"},{key:"dateSortieOfficielle",label:"Date Sortie Officielle",type:"date"},{key:"precommande",label:"Precommande",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"dedicaceEnvisagee",label:"Dedicace Envisagee",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"typeAbonnementShopify",label:"Type Abonnement Shopify",type:"select",options:["aucun","mensuel","annuel"]},{key:"snaResponsableDesign",label:"Sna Responsable Design",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"moduleDelivengo",label:"Module Delivengo",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"},{key:"moduleMondialRelay",label:"Module Mondial Relay",type:"checkbox",trueLabel:"Oui",falseLabel:"Non"}].filter(e=>!["shopifyCreatedAt","documented","compteClientRef"].includes(e.key));return(0,o.jsxs)("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center mb-4",children:[s.logoUrl&&(0,o.jsx)("img",{src:s.logoUrl,alt:"Logo",className:"h-12 w-12 rounded-full mr-3 object-cover"}),(0,o.jsx)("h2",{className:"text-xl font-bold",children:s.nomProjet||s.name})]}),(0,o.jsx)(Gl,{isOpen:g,onClose:()=>x(!1),onConfirm:async()=>{try{if(!(await fetch(`/api/internal/clients/${r}/shops/${n}`,{method:"DELETE"})).ok)throw new Error("La suppression de la boutique a \xe9chou\xe9");x(!1),a&&a(n)}catch(e){console.error("Erreur lors de la suppression:",e),alert(e.message)}},shopName:(null===s||void 0===s?void 0:s.nomProjet)||(null===s||void 0===s?void 0:s.name)||""}),(s.logoUrl||s.desktopBannerUrl||s.mobileBannerUrl)&&(0,o.jsxs)("div",{className:"space-y-3 border-b border-gray-200 pb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Images de la boutique"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.logoUrl&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Logo"}),(0,o.jsx)("img",{src:s.logoUrl,alt:"Logo de la boutique",className:"h-20 w-20 object-cover rounded-lg border cursor-pointer transition-transform hover:scale-105",onClick:()=>window.open(s.logoUrl,"_blank")})]}),s.desktopBannerUrl&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Banni\xe8re Desktop"}),(0,o.jsx)("img",{src:s.desktopBannerUrl,alt:"Banni\xe8re desktop",className:"h-20 w-40 object-cover rounded-lg border cursor-pointer transition-transform hover:scale-105",onClick:()=>window.open(s.desktopBannerUrl,"_blank")})]}),s.mobileBannerUrl&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Banni\xe8re Mobile"}),(0,o.jsx)("img",{src:s.mobileBannerUrl,alt:"Banni\xe8re mobile",className:"h-20 w-32 object-cover rounded-lg border cursor-pointer transition-transform hover:scale-105",onClick:()=>window.open(s.mobileBannerUrl,"_blank")})]})]})]}),w.map(e=>(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("span",{className:"font-medium w-48",children:[e.label,":"]}),p===e.key?(0,o.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:["checkbox"===e.type?(0,o.jsxs)("select",{className:"px-3 py-1 border rounded flex-1",value:h[e.key]?"true":"false",onChange:t=>b(e,"true"===t.target.value),children:[(0,o.jsx)("option",{value:"true",children:"Oui"}),(0,o.jsx)("option",{value:"false",children:"Non"})]}):"select"===e.type?(0,o.jsx)("select",{className:"px-3 py-1 border rounded flex-1",value:h[e.key]||"",onChange:t=>b(e,t.target.value),children:e.options.map(e=>(0,o.jsx)("option",{value:e,children:e},e))}):(0,o.jsx)("input",{className:"px-3 py-1 border rounded flex-1",type:"date"===e.type?"date":"text",value:h[e.key]||"",onChange:t=>b(e,t.target.value)}),(0,o.jsx)("button",{className:"p-1 text-green-600 hover:text-green-800",onClick:()=>(async e=>{try{const t=await fetch(`/api/internal/clients/${r}/shops/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[e.key]:h[e.key]})});if(!t.ok)throw new Error("Failed to update shop");const a=await t.json(),s=a.shop||a;i(s),m(null)}catch(t){console.error("Error updating field:",t),u(t.message)}})(e),children:(0,o.jsx)(ve,{})}),(0,o.jsx)("button",{className:"p-1 text-red-600 hover:text-red-800",onClick:v,children:(0,o.jsx)(Ee,{})})]}):(0,o.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,o.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded flex-1",children:y(e)}),(0,o.jsx)("button",{className:"p-1 text-blue-600 hover:text-blue-800",onClick:()=>(e=>{m(e.key),f({...h,[e.key]:s[e.key]})})(e),children:(0,o.jsx)(le,{})})]})]},e.key))]})},Xl=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)({});(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/customer/all-shops");if(!e.ok)throw new Error("Erreur lors du chargement des boutiques");const t=await e.json();r((t.shops||[]).map(e=>({id:e.shopId,name:e.nomProjet||e.name||"-",clientName:e.clientName,clientId:e.clientId,productsCount:e.productsCount,status:e.status,hasShopify:e.hasShopify,documented:e.documented,logoUrl:e.logoUrl})))}catch(e){i(e.message)}a(!1)})()},[]);const p=e.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.clientName.toLowerCase().includes(l.toLowerCase())),m=e=>{r(t=>t.filter(t=>t.id!==e))};return n?(0,o.jsx)("p",{children:"Chargement de toutes les boutiques..."}):s?(0,o.jsxs)("p",{children:["Erreur: ",s]}):(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Toutes les Boutiques"}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher une boutique ou un client...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:l,onChange:e=>c(e.target.value)})]}),0===p.length?(0,o.jsx)("p",{children:"Aucune boutique trouv\xe9e."}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom Boutique"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom Client"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document\xe9"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shopify"}),(0,o.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,o.jsxs)("div",{className:"flex items-center",children:[console.log(e.logoUrl),e.logoUrl&&(0,o.jsx)("img",{src:e.logoUrl,alt:"Logo",className:"h-8 w-8 rounded-full mr-3 object-cover"}),(0,o.jsx)("span",{children:e.name||"-"})]})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.clientName}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("valid"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"valid"===e.status?"Valid\xe9e":"En attente"})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("documented"===e.documented?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"documented"===e.documented?"Oui":"Non"})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.hasShopify?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.hasShopify?"Oui":"Non"})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,o.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>({...e,[t]:!e[t]}));var t},className:"text-sna-primary hover:underline",children:d[e.id]?"Masquer":"Voir D\xe9tails"})})]}),d[e.id]&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"6",className:"px-6 py-4 bg-gray-50",children:(0,o.jsx)(Jl,{clientId:e.clientId,shopId:e.id,onDelete:m})})})]},e.id))})]})})]})};function Zl(){const[e,r]=(0,t.useState)({pending:[],valid:[]}),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)({}),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[y,v]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),j=["nomProjet","typeProjet","commercial","demarrageProjet","nomChefProjet","prenomChefProjet","estBoutiqueEnLigne","clientName","createdAt","nomClient","contactsClient","dateMiseEnLigne","dateCommercialisation","dateSortieOfficielle","precommande","dedicaceEnvisagee","typeAbonnementShopify","snaResponsableDesign","moduleDelivengo","moduleMondialRelay","logoUrl","desktopBannerUrl","mobileBannerUrl","faviconUrl","pourcentageSNA"],N=e=>{const t=d[e]||{};return j.every(e=>{if("pourcentageSNA"===e){const r=t[e];return r&&!isNaN(r)&&r>0&&r<=100}return t[e]})},k=e=>{const t=l!==e.shopId;c(t?e.shopId:null),m(t?e.shopId:null),t&&(u(t=>({...t,[e.shopId]:t[e.shopId]||{}})),S(e))},S=async e=>{try{const t=await fetch(`/api/internal/clients/${e.clientId}/shops/${e.shopId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},credentials:"include"});if(!t.ok)throw new Error("Failed to fetch shop details");const n=await t.json(),a=n.shop||n;r(t=>({pending:t.pending.map(t=>t.shopId===e.shopId?{...t,...a}:t),valid:t.valid.map(t=>t.shopId===e.shopId?{...t,...a}:t)}))}catch(t){console.error("Error fetching shop details:",t),i(t.message)}};if((0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/internal/all-shops",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},credentials:"include"});if(!e.ok)throw new Error("Failed to fetch shops");const t=await e.json(),n=Array.isArray(t.shops)?t.shops:[];r({pending:n.filter(e=>"valid"!==e.status),valid:n.filter(e=>"valid"===e.status)})}catch(e){console.error("Error fetching shops:",e),i(e.message)}finally{a(!1)}})()},[]),n)return(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Boutiques \xe0 Valider"}),(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})]});if(s)return(0,o.jsxs)("div",{className:"p-6 text-center text-red-600",children:[(0,o.jsxs)("p",{children:["Error loading shops: ",s]}),(0,o.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try Again"})]});const C=e.pending.filter(e=>{if(!y)return!0;const t=y.toLowerCase();return e.name.toLowerCase().includes(t)||e.clientName.toLowerCase().includes(t)}),E=e.valid.filter(e=>{if(!b)return!0;const t=b.toLowerCase();return e.name.toLowerCase().includes(t)||e.clientName.toLowerCase().includes(t)});return(0,o.jsxs)("div",{className:"container mx-auto p-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Validation des Boutiques"}),(0,o.jsxs)("div",{className:"space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-yellow-700",children:["Boutiques en attente (",e.pending.length,")"]}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher une boutique en attente...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:y,onChange:e=>v(e.target.value)})]}),0===C.length?(0,o.jsx)("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:(0,o.jsx)("p",{className:"text-gray-600",children:y?"Aucune boutique en attente trouv\xe9e avec ce terme de recherche":"Aucune boutique en attente"})}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-yellow-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la Boutique"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,o.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(e=>(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(Se,{className:"mr-2 text-blue-700"}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.clientName}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"En attente"})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,o.jsx)("button",{onClick:()=>k(e),className:"font-medium "+(l===e.shopId?"text-blue-600 hover:text-blue-900":"text-green-600 hover:text-green-900"),children:l===e.shopId?"Fermer":"Valider"})})]}),l===e.shopId&&(0,o.jsx)("tr",{className:"bg-gray-50",children:(0,o.jsx)("td",{colSpan:"4",className:"p-6",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-700 mb-3 border-b pb-2",children:"Informations du Projet"}),j.map(t=>{var r,n,a,s,i,l,c,p,m;return(0,o.jsxs)("div",{className:"flex items-start py-3 border-b border-gray-100",children:[(0,o.jsx)("span",{className:"font-medium w-1/3 text-gray-700",children:"nomProjet"===t?"Nom Projet":"typeProjet"===t?"Type Projet":"commercial"===t?"Commercial":"demarrageProjet"===t?"D\xe9marrage du projet":"nomChefProjet"===t?"Nom chef de projet":"prenomChefProjet"===t?"Pr\xe9nom chef de projet":"estBoutiqueEnLigne"===t?"Est Boutique En Ligne":"clientName"===t?"Client":"createdAt"===t?"Date de Cr\xe9ation":"nomClient"===t?"Nom Client":"contactsClient"===t?"Contacts Client":"dateMiseEnLigne"===t?"Date Mise En Ligne":"dateCommercialisation"===t?"Date Commercialisation":"dateSortieOfficielle"===t?"Date Sortie Officielle":"precommande"===t?"Precommande":"dedicaceEnvisagee"===t?"D\xe9dicace Envisag\xe9e":"typeAbonnementShopify"===t?"Type Abonnement Shopify":"snaResponsableDesign"===t?"SNA Responsable Design":"moduleDelivengo"===t?"Module Delivengo":"moduleMondialRelay"===t?"Module Mondial Relay":"logoUrl"===t?"Logo":"desktopBannerUrl"===t?"Banni\xe8re Desktop":"mobileBannerUrl"===t?"Banni\xe8re Mobile":"faviconUrl"===t?"Favicon":"pourcentageSNA"===t?"Pourcentage SNA":t}),(0,o.jsx)("div",{className:"flex-1 flex flex-col",children:"pourcentageSNA"===t?(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"number",min:"1",max:"100",step:"0.1",placeholder:"Ex: 15.5",value:(null===(r=d[e.shopId])||void 0===r?void 0:r.pourcentageSNA)||"",onChange:t=>{return r=e.shopId,n=parseFloat(t.target.value),void u(e=>({...e,[r]:{...e[r]||{},pourcentageSNA:n}}));var r,n},className:"px-3 py-2 border rounded flex-1 "+(null!==(n=d[e.shopId])&&void 0!==n&&n.pourcentageSNA&&(null===(a=d[e.shopId])||void 0===a?void 0:a.pourcentageSNA)>0&&(null===(s=d[e.shopId])||void 0===s?void 0:s.pourcentageSNA)<=100?"border-green-200 bg-green-50":"border-gray-300")}),(0,o.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}):(0,o.jsx)("span",{className:"px-3 py-2 rounded bg-gray-50 border "+(null!==(i=d[e.shopId])&&void 0!==i&&i[t]?"bg-green-50 border-green-200":""),children:(r=>{const n=e[t]||(null===(r=e.shop)||void 0===r?void 0:r[t]);if("moduleDelivengo"===t||"moduleMondialRelay"===t||"estBoutiqueEnLigne"===t||"dedicaceEnvisagee"===t||"precommande"===t){if(!0===n||"true"===n||"Oui"===n)return"Oui";if(!1===n||"false"===n||"Non"===n||""===n||null===n||void 0===n)return"Non"}if(("dateSortieOfficielle"===t||"createdAt"===t||"demarrageProjet"===t)&&n){const e=new Date(n);if(!isNaN(e.getTime()))return e.toISOString().split("T")[0]}return n||"-"})()})}),(0,o.jsx)("button",{onClick:()=>{return r=e.shopId,void("pourcentageSNA"!==(n=t)&&u(e=>{var t;return{...e,[r]:{...e[r]||{},[n]:!(null!==(t=e[r])&&void 0!==t&&t[n])}}}));var r,n},className:"ml-2 p-2 rounded-full hover:bg-gray-200 flex-shrink-0 "+("pourcentageSNA"===t?"pointer-events-none":""),children:"pourcentageSNA"===t?null!==(l=d[e.shopId])&&void 0!==l&&l.pourcentageSNA&&(null===(c=d[e.shopId])||void 0===c?void 0:c.pourcentageSNA)>0&&(null===(p=d[e.shopId])||void 0===p?void 0:p.pourcentageSNA)<=100?(0,o.jsx)(ee,{className:"text-green-500 text-lg"}):(0,o.jsx)(Me,{className:"text-gray-400"}):null!==(m=d[e.shopId])&&void 0!==m&&m[t]?(0,o.jsx)(ee,{className:"text-green-500 text-lg"}):(0,o.jsx)(Me,{className:"text-gray-400"})})]},t)}),(0,o.jsx)("div",{className:"mt-6 flex justify-end",children:(0,o.jsx)("button",{onClick:()=>(async e=>{try{var t;m(e.shopId);const n=null===(t=d[e.shopId])||void 0===t?void 0:t.pourcentageSNA;if(!n||n<=0||n>100)return i("Le pourcentage SNA doit \xeatre entre 1 et 100%"),void m(null);const a=await fetch(`/api/internal/clients/${e.clientId}/shops/${e.shopId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"valid",pourcentageSNA:n})}),s=await a.json();if(!a.ok)throw new Error(s.message||"Failed to validate shop");r(t=>({pending:t.pending.filter(t=>t.shopId!==e.shopId),valid:[...t.valid,{...e,status:"valid",pourcentageSNA:n}]})),c(null),m(null)}catch(s){console.error("Error validating shop:",s),i("Failed to validate shop"),m(null)}})(e),disabled:!N(e.shopId),className:"px-4 py-2 rounded "+(N(e.shopId)?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:p===e.shopId?"Validation en cours...":"Valider la boutique"})})]})})})]},e.shopId))})]})})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-green-700",children:["Boutiques valid\xe9es (",e.valid.length,")"]}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher une boutique valid\xe9e...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:b,onChange:e=>w(e.target.value)})]}),0===E.length?(0,o.jsx)("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:(0,o.jsx)("p",{className:"text-gray-600",children:b?"Aucune boutique valid\xe9e trouv\xe9e avec ce terme de recherche":"Aucune boutique valid\xe9e"})}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-green-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la Boutique"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,o.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(e=>(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(Se,{className:"mr-2 text-blue-700"}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.clientName}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Valid\xe9e"})}),(0,o.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,o.jsx)("button",{onClick:()=>k(e),className:"text-blue-600 hover:text-blue-900 font-medium mr-4",children:l===e.shopId?"Fermer":"Voir d\xe9tails"}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{x(e),f(!0)})(e)},className:"text-red-600 hover:text-red-900 font-medium",children:"Annuler validation"})]})]}),l===e.shopId&&(0,o.jsx)("tr",{className:"bg-gray-50",children:(0,o.jsx)("td",{colSpan:"4",className:"p-6",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-700 mb-3 border-b pb-2",children:"Informations du Projet - Boutique valid\xe9e"}),j.map(t=>(0,o.jsxs)("div",{className:"flex items-start py-3 border-b border-gray-100",children:[(0,o.jsx)("span",{className:"font-medium w-1/3 text-gray-700",children:"nomProjet"===t?"Nom Projet":"typeProjet"===t?"Type Projet":"commercial"===t?"Commercial":"demarrageProjet"===t?"D\xe9marrage du projet":"nomChefProjet"===t?"Nom chef de projet":"prenomChefProjet"===t?"Pr\xe9nom chef de projet":"estBoutiqueEnLigne"===t?"Est Boutique En Ligne":"clientName"===t?"Client":"createdAt"===t?"Date de Cr\xe9ation":"nomClient"===t?"Nom Client":"contactsClient"===t?"Contacts Client":"dateMiseEnLigne"===t?"Date Mise En Ligne":"dateCommercialisation"===t?"Date Commercialisation":"dateSortieOfficielle"===t?"Date Sortie Officielle":"precommande"===t?"Precommande":"dedicaceEnvisagee"===t?"D\xe9dicace Envisag\xe9e":"typeAbonnementShopify"===t?"Type Abonnement Shopify":"snaResponsableDesign"===t?"SNA Responsable Design":"moduleDelivengo"===t?"Module Delivengo":"moduleMondialRelay"===t?"Module Mondial Relay":"logoUrl"===t?"Logo":"desktopBannerUrl"===t?"Banni\xe8re Desktop":"mobileBannerUrl"===t?"Banni\xe8re Mobile":"faviconUrl"===t?"Favicon":"Pourcentage SNA"}),(0,o.jsx)("div",{className:"flex-1 flex flex-col",children:(0,o.jsx)("span",{className:"px-3 py-2 rounded bg-green-50 border border-green-200",children:(r=>{const n=e[t]||(null===(r=e.shop)||void 0===r?void 0:r[t]);if("moduleDelivengo"===t||"moduleMondialRelay"===t||"estBoutiqueEnLigne"===t||"dedicaceEnvisagee"===t||"precommande"===t){if(!0===n||"true"===n||"Oui"===n)return"Oui";if(!1===n||"false"===n||"Non"===n||""===n||null===n||void 0===n)return"Non"}if(("dateSortieOfficielle"===t||"createdAt"===t||"demarrageProjet"===t)&&n){const e=new Date(n);if(!isNaN(e.getTime()))return e.toISOString().split("T")[0]}return n||"-"})()})}),(0,o.jsx)("div",{className:"ml-2 p-2 flex-shrink-0",children:(0,o.jsx)(ee,{className:"text-green-500 text-lg"})})]},t))]})})})]},e.shopId))})]})})]})]}),h&&(0,o.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-black opacity-50"}),(0,o.jsxs)("div",{className:"relative bg-white rounded-lg shadow p-6 z-10 min-w-[320px]",children:[(0,o.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Confirmation"}),(0,o.jsx)("p",{className:"text-gray-600 mb-4",children:"\xcates-vous s\xfbr de vouloir annuler la validation de cette boutique ?"}),(0,o.jsxs)("div",{className:"flex justify-end",children:[(0,o.jsx)("button",{onClick:()=>{f(!1),x(null)},className:"px-4 py-2 rounded bg-gray-300 text-gray-500 hover:bg-gray-400",children:"Annuler"}),(0,o.jsx)("button",{onClick:()=>(async e=>{try{m(e.shopId);const t=await fetch(`/api/internal/clients/${e.clientId}/shops/${e.shopId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"pending"})}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to unvalidate shop");r(t=>({pending:[...t.pending,{...e,status:"pending"}],valid:t.valid.filter(t=>t.shopId!==e.shopId)})),c(null),m(null),f(!1)}catch(s){console.error("Error unvalidating shop:",s),i("Failed to unvalidate shop"),m(null),f(!1)}})(g),className:"ml-4 px-4 py-2 rounded bg-yellow-500 hover:bg-yellow-600 text-white",children:"Confirmer"})]})]})]})]})}function ec(e){let{isOpen:t,onClose:r,onConfirm:n,productTitle:a,isLoading:s}=e;return t?(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirmer l'invalidation"}),(0,o.jsxs)("p",{className:"text-gray-600 mb-6",children:['\xcates-vous s\xfbr de vouloir invalider le produit "',a,'" ? Cette action d\xe9placera le produit vers la liste des produits en attente de validation.']}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:r,disabled:s,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50",children:"Annuler"}),(0,o.jsx)("button",{onClick:n,disabled:s,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50 flex items-center",children:s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Invalidation..."]}):"Invalider"})]})]})}):null}function tc(e){let{productId:r,allFieldsValidated:n,validatedCount:a,totalFields:s,onValidate:i}=e;const[l,c]=t.useState(!1),[d,u]=t.useState(null);return(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:async()=>{c(!0),u(null);try{await i()}catch(e){u(e.message||"Erreur lors de la validation")}finally{c(!1)}},disabled:!n||l,className:"px-4 py-2 rounded "+(n&&!l?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:n?l?"Validation en cours...":"Cliquez pour valider le produit":`Veuillez v\xe9rifier tous les champs (${s} requis)`,type:"button",children:l?"Validation en cours...":`Valider le produit (${a}/${s} v\xe9rifi\xe9s)`}),d&&(0,o.jsx)("div",{className:"text-red-600 text-xs mt-1",children:d})]})}function rc(){const[e,r]=(0,t.useState)({pending:[],validated:[]}),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[p,m]=(0,t.useState)({}),[h,f]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),j=(e,t,r)=>{const n=e[t],a=e[r];return void 0!==n&&null!==n&&""!==n?n:void 0!==a&&null!==a&&""!==a?a:"tailles"===t||"couleurs"===t?[]:""},N=[{key:"titre",label:"Titre"},{key:"description",label:"Description"},{key:"typeProduit",label:"Type de produit"},{key:"price",label:"Prix"},{key:"weight",label:"Poids"},{key:"ean",label:"Code EAN"},{key:"skus",label:"SKUs"},{key:"sizes",label:"Tailles disponibles"},{key:"colors",label:"Couleurs disponibles"},{key:"images",label:"Images produit"},{key:"occ",label:"OCC"},{key:"clientName",label:"Client"},{key:"shopName",label:"Boutique"},{key:"createdAt",label:"Date de cr\xe9ation"}],k=e=>{const t=p[e]||{};return N.every(e=>t[e.key])},S=e=>{const t=p[e]||{};return Object.values(t).filter(Boolean).length};(0,t.useEffect)(()=>{(async()=>{try{a(!0);const e=await fetch("/api/internal/all-products",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Cache-Control":"no-cache"},credentials:"include"});if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json(),n=Array.isArray(t.products)?t.products:[],s=n.filter(e=>!e.active),o=n.filter(e=>e.active);r({pending:s,validated:o})}catch(e){console.error("Error fetching products:",e),i(e.message)}finally{a(!1)}})()},[]),(0,t.useEffect)(()=>{e.pending.length>0&&m(t=>{const r={...t};return e.pending.forEach(e=>{const t=`${e.clientId}-${e.shopId}-${e.productId}`;if(!r[t]){const e={};N.forEach(t=>{e[t.key]=!1}),r[t]=e}}),r})},[e.pending]);const C=e.pending.filter(e=>(e.titre||"").toLowerCase().includes(h.toLowerCase())||(e.clientName||"").toLowerCase().includes(h.toLowerCase())||(e.shopName||"").toLowerCase().includes(h.toLowerCase())),E=e.validated.filter(e=>(e.titre||"").toLowerCase().includes(g.toLowerCase())||(e.clientName||"").toLowerCase().includes(g.toLowerCase())||(e.shopName||"").toLowerCase().includes(g.toLowerCase())),P=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r&&("price"===t||"weight"===t||"ean"===t||"sizes"===t||"colors"===t))switch(t){case"price":e=j(r,"prix","price");break;case"weight":e=j(r,"poids","weight");break;case"ean":const t=r.eans||{};e=Object.values(t).find(Boolean)||j(r,"codeEAN","ean");break;case"sizes":e=j(r,"tailles","sizes");break;case"colors":e=j(r,"couleurs","colors");break;case"skus":e=r.skus||{};break;case"images":e=r.images||[]}if("occ"===t)return e?"Oui":"Non";if(!e&&0!==e)return"-";switch(t){case"sizes":case"colors":return Array.isArray(e)&&e.length>0?e.join(", "):"-";case"skus":const t=Object.values(e).filter(Boolean);return t.length>0?t.join(", "):"-";case"images":return Array.isArray(e)&&e.length>0?`${e.length} image(s)`:"-";case"price":return`${e}\u20ac`;case"weight":return`${e}g`;case"createdAt":return new Date(e).toLocaleDateString();default:return e.toString()}};return n?(0,o.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Produits \xe0 Valider"}),(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})]}):s?(0,o.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Produits \xe0 Valider"}),(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:s})]}):(0,o.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Produits \xe0 Valider"}),(0,o.jsxs)("div",{className:"space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-yellow-700",children:["Produits en attente (",C.length,")"]}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher un produit en attente...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:h,onChange:e=>f(e.target.value)})]}),0===C.length?(0,o.jsx)("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:(0,o.jsx)("p",{className:"text-gray-600",children:h?"Aucun produit en attente trouv\xe9 avec ce terme de recherche":"Aucun produit en attente de validation"})}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-yellow-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Boutique"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),(0,o.jsx)("th",{className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(e=>{const n=`${e.clientId}-${e.shopId}-${e.productId}`;return(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(we,{className:"mr-2 text-blue-700"}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.titre})]})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.clientName}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shopName}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.typeProduit}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(e.price,"price",e)}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,o.jsx)("button",{onClick:()=>(e=>{const t=`${e.clientId}-${e.shopId}-${e.productId}`,r=l!==t;c(r?t:null),u(r?e.productId:null),r&&m(e=>({...e,[t]:e[t]||{}}))})(e),className:"text-blue-600 hover:text-blue-900 font-medium",children:l===n?"Fermer":"Valider"})})]}),l===n&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"6",className:"px-6 py-4 bg-gray-50",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("h4",{className:"font-semibold text-gray-800 mb-4",children:["Validation des champs - ",e.titre]}),N.map(t=>{var r,a;return(0,o.jsxs)("div",{className:"flex items-center space-x-4 p-3 bg-white rounded border",children:[(0,o.jsx)("span",{className:"w-40 text-sm font-medium text-gray-700 flex-shrink-0",children:t.label}),(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsx)("span",{className:"px-3 py-2 rounded bg-gray-50 border block "+(null!==(r=p[n])&&void 0!==r&&r[t.key]?"bg-green-50 border-green-200":""),children:P(e[t.key],t.key,e)})}),(0,o.jsx)("button",{onClick:()=>((e,t)=>{m(r=>{var n;return{...r,[e]:{...r[e]||{},[t]:!(null!==(n=r[e])&&void 0!==n&&n[t])}}})})(n,t.key),className:"ml-2 p-2 rounded-full hover:bg-gray-200 flex-shrink-0",children:null!==(a=p[n])&&void 0!==a&&a[t.key]?(0,o.jsx)(ee,{className:"text-green-500 text-lg"}):(0,o.jsx)(Me,{className:"text-gray-400 text-lg"})})]},t.key)}),(0,o.jsx)("div",{className:"mt-6 flex justify-end",children:(0,o.jsx)(tc,{productId:e.productId,allFieldsValidated:k(n),validatedCount:S(n),totalFields:N.length,onValidate:async()=>{await(async e=>{try{u(e.productId);const t=await fetch(`/api/internal/products/${e.clientId}/${e.shopId}/${e.productId}/validate`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({active:!0}),credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to validate product")}r(t=>({pending:t.pending.filter(t=>t.productId!==e.productId),validated:[...t.validated,{...e,active:!0}]})),c(null),u(null)}catch(s){console.error("Error validating product:",s),i("Failed to validate product"),u(null)}})(e)}})})]})})})]},n)})})]})})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-green-700",children:["Produits valid\xe9s (",E.length,")"]}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher un produit valid\xe9...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:g,onChange:e=>x(e.target.value)})]}),0===E.length?(0,o.jsx)("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:(0,o.jsx)("p",{className:"text-gray-600",children:g?"Aucun produit valid\xe9 trouv\xe9 avec ce terme de recherche":"Aucun produit valid\xe9"})}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-green-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Boutique"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,o.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),(0,o.jsx)("th",{className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(e=>{const t=`${e.clientId}-${e.shopId}-${e.productId}`;return(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(we,{className:"mr-2 text-green-700"}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.titre})]})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.clientName}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.shopName}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.typeProduit}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(e.price,"price",e)}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,o.jsx)("button",{onClick:()=>{w(e),v(!0)},className:"text-red-600 hover:text-red-900 font-medium",disabled:d===e.productId,children:d===e.productId?"...":"Invalider"})})]},t)})})]})})]})]}),y&&(0,o.jsx)(ec,{isOpen:y,onClose:()=>{v(!1),w(null),u(null)},onConfirm:async()=>{try{u(b.productId),await(async e=>{try{const t=await fetch(`/api/internal/products/${e.clientId}/${e.shopId}/${e.productId}/validate`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({active:!1,documented:!1,hasShopify:!1,hasEC:!1}),credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to unvalidate product")}r(t=>({pending:[...t.pending,{...e,active:!1,documented:!1,hasShopify:!1,hasEC:!1}],validated:t.validated.filter(t=>t.productId!==e.productId)})),c(null),u(null)}catch(s){console.error("Error unvalidating product:",s),i("Failed to unvalidate product"),u(null)}})(b),v(!1),w(null),u(null)}catch(s){console.error("Error unvalidating product:",s),i("Failed to unvalidate product"),u(null)}},productTitle:null===b||void 0===b?void 0:b.titre,isLoading:d===(null===b||void 0===b?void 0:b.productId)})]})}const nc=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)({}),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)({}),[g,x]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),j=["Rouge","Bleu","Vert","Jaune","Orange","Violet","Rose","Cyan","Marron","Gris","Noir","Blanc"],N=["XS","S","M","L","XL"],k=(e,t,r)=>{const n=""===t?"":Math.max(0,parseInt(t)||0);f(t=>({...t,[r]:{...t[r]||{},[e]:n}}))},S=(e,t,r)=>{const n=e[t],a=e[r];return void 0!==n&&null!==n&&""!==n?n:void 0!==a&&null!==a&&""!==a?a:"tailles"===t||"couleurs"===t?[]:""};(0,t.useEffect)(()=>{C()},[]);const C=async()=>{try{a(!0);const e=await fetch("/api/internal/all-products");if(!e.ok)throw new Error("Erreur lors du chargement des produits");const t=await e.json();if(!t.success)throw new Error("Erreur lors du chargement des produits");r(t.products||[])}catch(e){i(e.message)}finally{a(!1)}},E=e.filter(e=>{var t,r,n,a;return(null===(t=e.titre)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(r=e.clientName)||void 0===r?void 0:r.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.shopName)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase()))||(null===(a=e.typeProduit)||void 0===a?void 0:a.toLowerCase().includes(l.toLowerCase()))}),P=()=>{m(null),f({})},D=e=>{let{product:t,fieldName:n,label:a,type:s="text",options:l=null}=e;const c=`${t.productId}-${n}`,d=p===c,u={prix:"price",poids:"weight",eans:"ean",tailles:"sizes",couleurs:"colors"}[n]||n;let y,v;if("eans"===n){const e=t.eans||{};y=Object.values(e).find(Boolean)||t.codeEAN||""}else y=S(t,n,u)||("object"===typeof t[n]?JSON.stringify(t[n]):t[n]);return d?(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)("strong",{className:"w-20 text-sm",children:[a,":"]}),(0,o.jsx)("div",{className:"flex-1",children:"select"===s?(0,o.jsx)("select",{value:h[n]||"",onChange:e=>f(t=>({...t,[n]:e.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:l.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))}):"checkbox"===s?(0,o.jsx)("input",{type:"checkbox",checked:!!h[n],onChange:e=>f(t=>({...t,[n]:e.target.checked})),className:"h-4 w-4"}):"textarea"===s?(0,o.jsx)("textarea",{value:h[n]||"",onChange:e=>f(t=>({...t,[n]:e.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:"2"}):"array"===s?(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("div",{className:"text-xs text-gray-500",children:"S\xe9lectionnez les options:"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:l.map(e=>(0,o.jsxs)("label",{className:"flex items-center text-xs",children:[(0,o.jsx)("input",{type:"checkbox",checked:(h[n]||[]).includes(e),onChange:t=>{const r=h[n]||[],a=t.target.checked?[...r,e]:r.filter(t=>t!==e);f(e=>({...e,[n]:a}))},className:"mr-1"}),e]},e))})]}):(0,o.jsx)("input",{type:s,step:"number"===s?"0.01":void 0,value:h[n]||"",onChange:e=>f(t=>({...t,[n]:e.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})}),(0,o.jsx)("button",{onClick:()=>(async(e,t)=>{try{let n;x(!0),n="eans"===t?{eans:{...e.eans||{},default:h[t]}}:{[t]:h[t]};const a=await fetch(`/api/internal/products/${e.clientId}/${e.shopId}/${e.productId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});(await a.json()).success?(r(r=>r.map(r=>r.productId===e.productId?{...r,..."eans"===t?{eans:n.eans}:{[t]:h[t]},updatedAt:(new Date).toISOString()}:r)),m(null),f({}),i(null)):i("Erreur lors de la mise \xe0 jour du produit")}catch(n){console.error("Error updating product:",n),i("Erreur de connexion lors de la mise \xe0 jour")}finally{x(!1)}})(t,n),disabled:g,className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:(0,o.jsx)(ve,{})}),(0,o.jsx)("button",{onClick:P,disabled:g,className:"px-2 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700 disabled:opacity-50",children:(0,o.jsx)(Ee,{})})]}):(v="checkbox"===s?y?"Oui":"Non":"array"===s?Array.isArray(y)&&y.length>0?y.join(", "):"-":"number"===s&&"prix"===n?y?`${y}\u20ac`:"-":"number"===s&&"poids"===n?y?`${y}g`:"-":y||"-",(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,o.jsxs)("strong",{children:[a,":"]})," ",v]}),(0,o.jsx)("button",{onClick:()=>((e,t)=>{const r=`${e.productId}-${t}`;let n;if(m(r),"eans"===t){const t=e.eans||{};n=Object.values(t).find(Boolean)||e.codeEAN||""}else n=S(e,t,{prix:"price",poids:"weight",tailles:"sizes",couleurs:"colors"}[t]||t)||e[t];f({[t]:n})})(t,n),className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded text-xs transition-colors",title:"Modifier ce champ",children:(0,o.jsx)(le,{})})]}))},I=e=>{let{product:t}=e;const n=`${t.productId}-stock`,a=p===n,s=t.stock||{},l=(e=>{if(!e)return[];const t=[],r=S(e,"tailles","sizes")||[],n=S(e,"couleurs","colors")||[];return r.length>0&&n.length>0?r.forEach(e=>{n.forEach(r=>{t.push({key:`${e}-${r}`,label:`${e} - ${r}`,size:e,color:r})})}):r.length>0&&0===n.length?r.forEach(e=>{t.push({key:e,label:`Taille ${e}`,size:e,color:null})}):0===r.length&&n.length>0?n.forEach(e=>{t.push({key:e,label:`Couleur ${e}`,size:null,color:e})}):t.push({key:"default",label:"Stock g\xe9n\xe9ral",size:null,color:null}),t})(t),c=()=>{m(n),f({stock:{...s}})},d=async()=>{try{x(!0);const e=await fetch(`/api/internal/products/${t.clientId}/${t.shopId}/${t.productId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({stock:h.stock})});(await e.json()).success?(r(e=>e.map(e=>e.productId===t.productId?{...e,stock:h.stock,updatedAt:(new Date).toISOString()}:e)),m(null),f({}),i(null)):i("Erreur lors de la mise \xe0 jour du stock")}catch(e){console.error("Error updating stock:",e),i("Erreur de connexion lors de la mise \xe0 jour du stock")}finally{x(!1)}};if(a)return(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("strong",{className:"text-sm",children:"Stock par variante:"}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[(0,o.jsx)("button",{onClick:d,disabled:g,className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:(0,o.jsx)(ve,{})}),(0,o.jsx)("button",{onClick:P,disabled:g,className:"px-2 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700 disabled:opacity-50",children:(0,o.jsx)(Ee,{})})]})]}),0===l.length?(0,o.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucune variante d\xe9finie. Ajoutez des tailles et/ou couleurs pour g\xe9rer les stocks par variante."}):(0,o.jsxs)("div",{className:"space-y-3",children:[l.length>6?(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.map(e=>{var t;return(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("label",{className:"flex-1 text-xs font-medium text-gray-700",children:e.label}),(0,o.jsx)("input",{type:"number",min:"0",value:(null===(t=h.stock)||void 0===t?void 0:t[e.key])||"",onChange:t=>k(e.key,t.target.value,"stock"),className:"w-16 px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"0"})]},e.key)})}):(0,o.jsx)("div",{className:"space-y-2",children:l.map(e=>{var t;return(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:e.label}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"number",min:"0",value:(null===(t=h.stock)||void 0===t?void 0:t[e.key])||"",onChange:t=>k(e.key,t.target.value,"stock"),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0"}),(0,o.jsx)("span",{className:"text-xs text-gray-500",children:"unit\xe9s"})]})]},e.key)})}),l.length>0&&(0,o.jsx)("div",{className:"mt-3 pt-2 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,o.jsx)("span",{className:"font-medium text-gray-700",children:"Stock total :"}),(0,o.jsxs)("span",{className:"text-lg font-semibold text-sna-primary",children:[Object.values(h.stock||{}).reduce((e,t)=>e+(parseInt(t)||0),0)," ","unit\xe9s"]})]})})]})]});if(!s||0===Object.keys(s).length)return(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,o.jsx)("strong",{children:"Stock:"})," Non d\xe9fini"]}),(0,o.jsx)("button",{onClick:c,className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded text-xs transition-colors",title:"Modifier le stock",children:(0,o.jsx)(le,{})})]});const u=Object.values(s).reduce((e,t)=>e+(parseInt(t)||0),0);return(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,o.jsx)("strong",{children:"Stock:"}),(0,o.jsxs)("div",{className:"mt-1",children:[1===Object.keys(s).length&&void 0!==s.default?(0,o.jsxs)("div",{className:"text-gray-600",children:[(0,o.jsx)("span",{className:"font-semibold text-sna-primary",children:s.default})," ","unit\xe9s"]}):(0,o.jsxs)("div",{className:"space-y-1",children:[Object.entries(s).slice(0,3).map(e=>{let[t,r]=e;return(0,o.jsxs)("div",{className:"flex justify-between items-center text-xs bg-gray-100 px-2 py-1 rounded",children:[(0,o.jsx)("span",{className:"text-gray-700",children:t}),(0,o.jsx)("span",{className:"font-semibold text-sna-primary",children:r})]},t)}),Object.keys(s).length>3&&(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:["... et ",Object.keys(s).length-3," autre(s)"]})]}),(0,o.jsxs)("div",{className:"mt-1 text-xs text-gray-500",children:["Total:"," ",(0,o.jsx)("span",{className:"font-semibold text-sna-primary",children:u})," ","unit\xe9s"]})]})]}),(0,o.jsx)("button",{onClick:c,className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded text-xs transition-colors",title:"Modifier le stock",children:(0,o.jsx)(le,{})})]})},T=e=>e?new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",M=(e,t,r)=>{const n=e?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",a=e?t:r;return(0,o.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n}`,children:a})};return n?(0,o.jsx)("p",{children:"Chargement des produits..."}):s?(0,o.jsxs)("p",{children:["Erreur: ",s]}):(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Tous les Produits"}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher par titre, client, boutique ou type...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:l,onChange:e=>c(e.target.value)})]}),0===E.length?(0,o.jsx)("p",{children:"Aucun produit trouv\xe9."}):(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-x-auto",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client / Boutique"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statuts"}),(0,o.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(e=>{const r=`${e.clientId}-${e.shopId}-${e.productId}`;return(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("td",{className:"px-6 py-4",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.imageUrls&&e.imageUrls.length>0?(0,o.jsx)("img",{className:"h-10 w-10 rounded-md object-cover",src:e.imageUrls[0],alt:e.titre||"Product image"}):(0,o.jsx)("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center",children:(0,o.jsx)(oe,{className:"h-5 w-5 text-gray-400"})})}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.titre||"-"}),e.description&&(0,o.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description})]})]})}),(0,o.jsxs)("td",{className:"px-6 py-4",children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.clientName}),(0,o.jsx)("div",{className:"text-sm text-gray-500",children:e.shopName})]}),(0,o.jsxs)("td",{className:"px-6 py-4",children:[(0,o.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.typeProduit}),"Phono"===e.typeProduit&&(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.OCC?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:["OCC: ",e.OCC||e.occ?"Oui":"Non"]})})]}),(0,o.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900",children:[(0,o.jsx)("div",{className:"font-medium",children:S(e,"prix","price")?`${S(e,"prix","price")}\u20ac`:"-"}),S(e,"poids","weight")&&(0,o.jsxs)("div",{className:"text-gray-500",children:[S(e,"poids","weight"),"g"]})]}),(0,o.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.stock&&Object.keys(e.stock).length>0?(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"font-medium text-sna-primary",children:[Object.values(e.stock).reduce((e,t)=>e+(parseInt(t)||0),0)," ","unit\xe9s"]}),Object.keys(e.stock).length>1&&(0,o.jsxs)("div",{className:"text-gray-500 text-xs",children:[Object.keys(e.stock).length," variante(s)"]})]}):(0,o.jsx)("div",{className:"text-gray-500",children:"Non d\xe9fini"})}),(0,o.jsx)("td",{className:"px-6 py-4",children:(0,o.jsxs)("div",{className:"space-y-1",children:[M(e.active,"Actif","Inactif"),M(e.documented,"Document\xe9","Non document\xe9"),M(e.hasShopify,"Shopify","Pas Shopify"),M(e.hasEC,"EC","Pas d'EC")]})}),(0,o.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium",children:(0,o.jsx)("button",{onClick:()=>(e=>{u(t=>({...t,[e]:!t[e]}))})(r),className:"text-sna-primary hover:underline",children:d[r]?"Masquer":"Voir D\xe9tails"})})]}),d[r]&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"7",className:"px-6 py-4 bg-gray-50",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["D\xe9tails du Produit: ",e.titre]}),(0,o.jsxs)("button",{onClick:()=>(e=>{w(e),v(!0)})(e),className:"flex items-center px-3 py-1 bg-red-600 text-white rounded-md text-sm hover:bg-red-700 transition-colors",children:[(0,o.jsx)(Pe,{className:"mr-2"}),"Supprimer"]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Informations g\xe9n\xe9rales"}),(0,o.jsx)(D,{product:e,fieldName:"titre",label:"Titre",type:"text"}),(0,o.jsx)(D,{product:e,fieldName:"description",label:"Description",type:"textarea"}),(0,o.jsx)(D,{product:e,fieldName:"typeProduit",label:"Type",type:"select",options:[{value:"Phono",label:"Phono"},{value:"Merch",label:"Merch"}]}),"Phono"===e.typeProduit&&(0,o.jsx)(D,{product:e,fieldName:"OCC",label:"OCC",type:"checkbox"})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"D\xe9tails techniques"}),(0,o.jsx)(D,{product:e,fieldName:"prix",label:"Prix",type:"number"}),(0,o.jsx)(D,{product:e,fieldName:"poids",label:"Poids",type:"number"}),(0,o.jsx)(D,{product:e,fieldName:"eans",label:"Code EAN",type:"text"}),e.skus&&(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,o.jsx)("strong",{children:"SKU(s):"})," ",1===Object.keys(e.skus).length&&void 0!==e.skus.default?(0,o.jsx)("span",{className:"text-sna-primary font-medium",children:e.skus.default}):(0,o.jsxs)("span",{children:[Object.values(e.skus).filter(Boolean).slice(0,3).join(", "),Object.values(e.skus).filter(Boolean).length>3&&` + ${Object.values(e.skus).filter(Boolean).length-3} autre(s)`]})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Variantes"}),(0,o.jsx)(D,{product:e,fieldName:"tailles",label:"Tailles",type:"array",options:N}),(0,o.jsx)(D,{product:e,fieldName:"couleurs",label:"Couleurs",type:"array",options:j}),(0,o.jsx)(I,{product:e})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Statuts"," ",(0,o.jsx)("span",{className:"text-xs text-gray-500",children:"(g\xe9r\xe9 par l'\xe9quipe)"})]}),(0,o.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Actif:"})," ",e.active?"Oui":"Non"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Document\xe9:"})," ",e.documented?"Oui":"Non"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Shopify:"})," ",e.hasShopify?"Oui":"Non"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"E-Commerce:"})," ",e.hasEC?"Oui":"Non"]})]})]}),(0,o.jsxs)("div",{className:"md:col-span-2 space-y-1 text-sm text-gray-600",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Dates"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Cr\xe9\xe9 le:"})," ",T(e.createdAt)]}),e.updatedAt&&e.updatedAt!==e.createdAt&&(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Modifi\xe9 le:"})," ",T(e.updatedAt)]})]}),(0,o.jsxs)("div",{className:"md:col-span-2 space-y-3",children:[(0,o.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Images du produit",e.imageUrls&&e.imageUrls.length>0?` (${e.imageUrls.length})`:" (aucune)"]}),e.imageUrls&&e.imageUrls.length>0?(0,o.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:e.imageUrls.map((t,r)=>(0,o.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden border border-gray-200 hover:border-gray-300 transition-all duration-200",children:[(0,o.jsx)("div",{className:"aspect-square",children:(0,o.jsx)("img",{src:t,alt:`${e.titre} - Image ${r+1}`,className:"w-full h-full object-cover cursor-pointer transition-transform duration-200 group-hover:scale-105",onClick:()=>window.open(t,"_blank"),onError:e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2Y3ZjdmNyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub24gZGlzcG9uaWJsZTwvdGV4dD48L3N2Zz4=",e.target.classList.add("opacity-50")}})}),(0,o.jsx)("div",{className:"absolute top-1 right-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:r+1}),(0,o.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center",children:(0,o.jsx)("div",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:(0,o.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})})]},r))}):(0,o.jsx)("div",{className:"flex items-center justify-center h-24 bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("svg",{className:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,o.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Aucune image ajout\xe9e"})]})})]}),!1]})]})})})]},r)})})]})}),y&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,o.jsx)("div",{className:"bg-red-100 p-3 rounded-full",children:(0,o.jsx)(ue,{className:"h-6 w-6 text-red-600"})}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Supprimer le produit"}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:['\xcates-vous s\xfbr de vouloir supprimer le produit "',(0,o.jsx)("strong",{children:null===b||void 0===b?void 0:b.titre}),'"? Cette action est irr\xe9versible.']})]}),(0,o.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Annuler"}),(0,o.jsx)("button",{onClick:async()=>{if(b)try{const e=await fetch(`/api/internal/products/${b.clientId}/${b.shopId}/${b.productId}`,{method:"DELETE"}),t=await e.json();t.success?(r(e=>e.filter(e=>e.productId!==b.productId)),i(null)):i(t.message||"Erreur lors de la suppression du produit")}catch(e){i("Erreur de connexion lors de la suppression")}finally{v(!1),w(null)}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Supprimer"})]})]})})]})},ac=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(new Set),[p,m]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[g,x]=(0,t.useState)({}),[y,v]=(0,t.useState)(new Set),[b,w]=(0,t.useState)({});(0,t.useEffect)(()=>{const e=async e=>{try{const t=await fetch(`/api/customer/shop/${e}/products`);if(!t.ok)return;const r=await t.json();w(t=>{var n;return{...t,[e]:(null===(n=r.products)||void 0===n?void 0:n.length)||0}})}catch(t){console.error("Error fetching product count for shop:",e,t),w(t=>({...t,[e]:0}))}};(async()=>{try{const t=await fetch("/api/customer/all?details=true");if(!t.ok)throw new Error("Erreur lors du chargement des boutiques");const n=((await t.json()).customers||[]).reduce((e,t)=>{if("active"===t.status&&Array.isArray(t.shops)){const r=t.shops.filter(e=>"valid"===e.status).map(e=>({...e,customerName:t.raisonSociale,customerId:t._id,customerStatus:t.status}));return[...e,...r]}return e},[]);r(n),n.forEach(t=>{e(t.shopId)})}catch(t){i(t.message)}finally{a(!1)}})()},[]);const j=async e=>{y.has(e)?v(t=>{const r=new Set(t);return r.delete(e),r}):(g[e]||await(async e=>{try{const t=await fetch(`/api/customer/shop/${e}/products`);if(!t.ok)throw new Error("Erreur lors du chargement des produits");const r=await t.json();x(t=>({...t,[e]:r.products||[]}))}catch(t){console.error("Error fetching shop products:",t),c({type:"error",message:"Erreur lors du chargement des produits: "+t.message})}})(e),v(t=>new Set(t).add(e)))},N=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"document"===t&&(u(t=>new Set(t).add(e)),m(!0));try{const a=await fetch(`/api/customer/shop/${e}/documentation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,forceOverwrite:n})}),s=await a.json();if(409===a.status&&"DOCUMENTATION_EXISTS"===s.message)return void c({type:"overwrite_confirmation",message:"La documentation existe d\xe9j\xe0 pour cette boutique. Voulez-vous la remplacer ou simplement marquer la boutique comme document\xe9e ?",shopId:e,onOverwrite:()=>{c(null),N(e,"document",!0)},onMarkDocumented:()=>{c(null),N(e,"mark_documented")},onCancel:()=>c(null)});if(!a.ok)throw new Error(s.message||"Erreur lors de la mise \xe0 jour de la documentation");r(t=>t.map(t=>t.shopId===e?{...t,documented:s.documented}:t)),c({type:"success",message:s.message})}catch(a){c({type:"error",message:"Erreur: "+a.message})}finally{"document"===t&&(u(t=>{const r=new Set(t);return r.delete(e),r}),m(!1))}},k=(e,t)=>{let r="";switch(t){case"mark_documented":r="\xcates-vous s\xfbr de vouloir marquer cette boutique comme d\xe9j\xe0 document\xe9e ?";break;case"document":r="\xcates-vous s\xfbr de vouloir g\xe9n\xe9rer la documentation SharePoint pour cette boutique ?";break;case"undocument":r="\u26a0\ufe0f ATTENTION: Cette action ne supprimera que le statut 'document\xe9' dans la base de donn\xe9es. Si une documentation existe dans SharePoint, elle y restera et devra \xeatre supprim\xe9e manuellement.\n\n\xcates-vous s\xfbr de vouloir continuer ?";break;default:return}c({type:"confirmation",message:r,onConfirm:()=>{N(e,t),c(null)},onCancel:()=>c(null)})},S=(e,t,r)=>{let n="";switch(r){case"document":n="\xcates-vous s\xfbr de vouloir documenter ce produit dans SharePoint ?";break;case"mark_documented":n="\xcates-vous s\xfbr de vouloir marquer ce produit comme d\xe9j\xe0 document\xe9 ?";break;case"undocument":n="\u26a0\ufe0f ATTENTION: Cette action ne supprimera que le statut 'document\xe9' dans la base de donn\xe9es. Si une documentation existe dans SharePoint, elle y restera et devra \xeatre supprim\xe9e manuellement.\n\n\xcates-vous s\xfbr de vouloir continuer ?";break;default:return}c({type:"confirmation",message:n,onConfirm:()=>{(async(e,t,r)=>{try{const n=await fetch(`/api/customer/shop/${e}/product/${t}/documentation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:r})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Erreur lors de l'action sur le produit");x(r=>{var n;return{...r,[e]:(null===(n=r[e])||void 0===n?void 0:n.map(e=>e.productId===t?{...e,documented:a.documented}:e))||[]}}),c({type:"success",message:a.message})}catch(n){c({type:"error",message:"Erreur: "+n.message})}})(e,t,r),c(null)},onCancel:()=>c(null)})};return n?(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sna-primary"})}):s?(0,o.jsx)("div",{className:"bg-red-50 p-4 rounded-md",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,o.jsxs)("div",{className:"ml-3",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erreur"}),(0,o.jsx)("div",{className:"mt-2 text-sm text-red-700",children:s})]})]})}):(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,o.jsx)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:(0,o.jsx)("div",{className:"text-center",children:"confirmation"===l.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmation"}),(0,o.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:l.message}),(0,o.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,o.jsx)("button",{onClick:l.onCancel,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Annuler"}),(0,o.jsx)("button",{onClick:l.onConfirm,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Confirmer"})]})]}):"overwrite_confirmation"===l.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Documentation existante"}),(0,o.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:l.message}),(0,o.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,o.jsx)("button",{onClick:l.onMarkDocumented,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Marquer comme document\xe9e"}),(0,o.jsx)("button",{onClick:l.onCancel,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Annuler"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full "+("success"===l.type?"bg-green-100":"bg-red-100"),children:"success"===l.type?(0,o.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):(0,o.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,o.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"success"===l.type?"Succ\xe8s":"Erreur"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:l.message}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsx)("button",{onClick:()=>c(null),className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary",children:"Fermer"})})]})})})}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"G\xe9n\xe9rer la documentation"}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher une boutique ou un client...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:h,onChange:e=>f(e.target.value)})]}),(0,o.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:(0,o.jsx)("div",{className:"flex",children:(0,o.jsx)("div",{className:"ml-3",children:(0,o.jsxs)("p",{className:"text-sm text-blue-700",children:["Seules les boutiques"," ",(0,o.jsx)("span",{className:"font-semibold",children:"valid\xe9es"})," des clients"," ",(0,o.jsx)("span",{className:"font-semibold",children:"actifs"})," peuvent \xeatre document\xe9es."]})})})})]}),(0,o.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,o.jsx)("ul",{className:"divide-y divide-gray-200",children:e.filter(e=>{var t,r;return(null===(t=e.nomProjet)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(r=e.customerName)||void 0===r?void 0:r.toLowerCase().includes(h.toLowerCase()))}).map(e=>{var t,r;return(0,o.jsxs)("li",{className:"px-6 py-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-sna-primary truncate",children:e.nomProjet}),(0,o.jsx)("div",{className:"ml-2 flex-shrink-0 flex",children:(0,o.jsx)("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Boutique valid\xe9e"})})]}),(0,o.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,o.jsx)("div",{className:"sm:flex",children:(0,o.jsxs)("p",{className:"flex items-center text-sm text-gray-500",children:["Client: ",e.customerName]})}),(0,o.jsx)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:(0,o.jsxs)("p",{children:["Statut documentation:"," ",(0,o.jsx)("span",{className:"font-medium "+("documented"===e.documented||!0===e.documented?"text-green-600":"text-yellow-600"),children:"documented"===e.documented||!0===e.documented?"Document\xe9e":"Non document\xe9e"})]})})]})]}),(0,o.jsx)("div",{className:"ml-4 flex-shrink-0 flex space-x-4",children:"documented"!==e.documented&&!0!==e.documented?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>k(e.shopId,"mark_documented"),disabled:d.size>0||p,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary "+(d.size>0||p?"bg-gray-100 text-gray-400 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50"),children:"Boutique d\xe9j\xe0 document\xe9e"}),(0,o.jsx)("button",{onClick:()=>k(e.shopId,"document"),disabled:d.size>0||p,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sna-primary "+(d.size>0||p?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90"),children:d.has(e.shopId)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"G\xe9n\xe9ration en cours..."]}):"G\xe9n\xe9rer documentation SharePoint"})]}):(0,o.jsx)("button",{onClick:()=>k(e.shopId,"undocument"),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Supprimer documentation"})})]}),(0,o.jsxs)("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[(0,o.jsxs)("button",{onClick:()=>j(e.shopId),className:"flex items-center justify-between w-full text-xs font-medium text-gray-600 hover:text-sna-primary hover:bg-gray-50 p-1.5 rounded-md transition-colors",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-2 transform transition-transform "+(y.has(e.shopId)?"rotate-90":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,o.jsx)("span",{children:"G\xe9rer les produits"})]}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:void 0!==b[e.shopId]?(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:b[e.shopId]}):(0,o.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-500",children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-1 h-2 w-2 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]})})]}),y.has(e.shopId)&&(0,o.jsx)("div",{className:"mt-2 bg-gray-50 rounded p-2 border border-gray-100",children:(0,o.jsx)("div",{className:"space-y-2",children:0===(null===(t=g[e.shopId])||void 0===t?void 0:t.length)?(0,o.jsxs)("div",{className:"text-center py-3",children:[(0,o.jsx)("svg",{className:"mx-auto h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8l-3 3-3-3m-4 8l3-3 3 3"})}),(0,o.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Aucun produit valide trouv\xe9"})]}):null===(r=g[e.shopId])||void 0===r?void 0:r.map(t=>(0,o.jsx)("div",{className:"bg-white p-2 rounded border border-gray-200 hover:bg-gray-50 transition-colors",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("div",{className:"flex-1 min-w-0",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("h4",{className:"text-xs font-medium text-gray-900 truncate",children:t.titre}),(0,o.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium "+(t.documented?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.documented?"\u2713":"\u25cb"})]})}),(0,o.jsx)("div",{className:"ml-2 flex-shrink-0",children:(0,o.jsx)("div",{className:"flex space-x-1",children:t.documented?(0,o.jsx)("button",{onClick:()=>S(e.shopId,t.productId,"undocument"),disabled:p||d.size>0,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white focus:outline-none transition-colors "+(p||d.size>0?"bg-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-700"),title:"Supprimer la documentation",children:"Supprimer doc"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>S(e.shopId,t.productId,"document"),disabled:p||d.size>0,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white focus:outline-none transition-colors "+(p||d.size>0?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90"),title:"Documenter ce produit dans SharePoint",children:"Documenter"}),(0,o.jsx)("button",{onClick:()=>S(e.shopId,t.productId,"mark_documented"),disabled:p||d.size>0,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white focus:outline-none transition-colors "+(p||d.size>0?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),title:"Marquer comme d\xe9j\xe0 document\xe9",children:"Marquer document\xe9"})]})})})]})},t.productId))})})]})]},e.shopId)})})})]})};function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sc.apply(null,arguments)}var oc=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(n){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),ic=Math.abs,lc=String.fromCharCode,cc=Object.assign;function dc(e){return e.trim()}function uc(e,t,r){return e.replace(t,r)}function pc(e,t){return e.indexOf(t)}function mc(e,t){return 0|e.charCodeAt(t)}function hc(e,t,r){return e.slice(t,r)}function fc(e){return e.length}function gc(e){return e.length}function xc(e,t){return t.push(e),e}var yc=1,vc=1,bc=0,wc=0,jc=0,Nc="";function kc(e,t,r,n,a,s,o){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:yc,column:vc,length:o,return:""}}function Sc(e,t){return cc(kc("",null,null,"",null,null,0),e,{length:-e.length},t)}function Cc(){return jc=wc>0?mc(Nc,--wc):0,vc--,10===jc&&(vc=1,yc--),jc}function Ec(){return jc=wc<bc?mc(Nc,wc++):0,vc++,10===jc&&(vc=1,yc++),jc}function Pc(){return mc(Nc,wc)}function Dc(){return wc}function Ic(e,t){return hc(Nc,e,t)}function Tc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Mc(e){return yc=vc=1,bc=fc(Nc=e),wc=0,[]}function Ac(e){return Nc="",e}function _c(e){return dc(Ic(wc-1,Lc(91===e?e+2:40===e?e+1:e)))}function zc(e){for(;(jc=Pc())&&jc<33;)Ec();return Tc(e)>2||Tc(jc)>3?"":" "}function Oc(e,t){for(;--t&&Ec()&&!(jc<48||jc>102||jc>57&&jc<65||jc>70&&jc<97););return Ic(e,Dc()+(t<6&&32==Pc()&&32==Ec()))}function Lc(e){for(;Ec();)switch(jc){case e:return wc;case 34:case 39:34!==e&&39!==e&&Lc(jc);break;case 40:41===e&&Lc(e);break;case 92:Ec()}return wc}function Rc(e,t){for(;Ec()&&e+jc!==57&&(e+jc!==84||47!==Pc()););return"/*"+Ic(t,wc-1)+"*"+lc(47===e?e:Ec())}function $c(e){for(;!Tc(Pc());)Ec();return Ic(e,wc)}var Fc="-ms-",qc="-moz-",Bc="-webkit-",Vc="comm",Uc="rule",Hc="decl",Wc="@keyframes";function Yc(e,t){for(var r="",n=gc(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function Kc(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Hc:return e.return=e.return||e.value;case Vc:return"";case Wc:return e.return=e.value+"{"+Yc(e.children,n)+"}";case Uc:e.value=e.props.join(",")}return fc(r=Yc(e.children,n))?e.return=e.value+"{"+r+"}":""}function Qc(e){return Ac(Gc("",null,null,null,[""],e=Mc(e),0,[0],e))}function Gc(e,t,r,n,a,s,o,i,l){for(var c=0,d=0,u=o,p=0,m=0,h=0,f=1,g=1,x=1,y=0,v="",b=a,w=s,j=n,N=v;g;)switch(h=y,y=Ec()){case 40:if(108!=h&&58==mc(N,u-1)){-1!=pc(N+=uc(_c(y),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:N+=_c(y);break;case 9:case 10:case 13:case 32:N+=zc(h);break;case 92:N+=Oc(Dc()-1,7);continue;case 47:switch(Pc()){case 42:case 47:xc(Xc(Rc(Ec(),Dc()),t,r),l);break;default:N+="/"}break;case 123*f:i[c++]=fc(N)*x;case 125*f:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:-1==x&&(N=uc(N,/\f/g,"")),m>0&&fc(N)-u&&xc(m>32?Zc(N+";",n,r,u-1):Zc(uc(N," ","")+";",n,r,u-2),l);break;case 59:N+=";";default:if(xc(j=Jc(N,t,r,c,d,a,i,v,b=[],w=[],u),s),123===y)if(0===d)Gc(N,t,j,j,b,s,u,i,w);else switch(99===p&&110===mc(N,3)?100:p){case 100:case 108:case 109:case 115:Gc(e,j,j,n&&xc(Jc(e,j,j,0,0,a,i,v,a,b=[],u),w),a,w,u,i,n?b:w);break;default:Gc(N,j,j,j,[""],w,0,i,w)}}c=d=m=0,f=x=1,v=N="",u=o;break;case 58:u=1+fc(N),m=h;default:if(f<1)if(123==y)--f;else if(125==y&&0==f++&&125==Cc())continue;switch(N+=lc(y),y*f){case 38:x=d>0?1:(N+="\f",-1);break;case 44:i[c++]=(fc(N)-1)*x,x=1;break;case 64:45===Pc()&&(N+=_c(Ec())),p=Pc(),d=u=fc(v=N+=$c(Dc())),y++;break;case 45:45===h&&2==fc(N)&&(f=0)}}return s}function Jc(e,t,r,n,a,s,o,i,l,c,d){for(var u=a-1,p=0===a?s:[""],m=gc(p),h=0,f=0,g=0;h<n;++h)for(var x=0,y=hc(e,u+1,u=ic(f=o[h])),v=e;x<m;++x)(v=dc(f>0?p[x]+" "+y:uc(y,/&\f/g,p[x])))&&(l[g++]=v);return kc(e,t,r,0===a?Uc:i,l,c,d)}function Xc(e,t,r){return kc(e,t,r,Vc,lc(jc),hc(e,2,-2),0)}function Zc(e,t,r,n){return kc(e,t,r,Hc,hc(e,0,n),hc(e,n+1,-1),n)}var ed=function(e,t,r){for(var n=0,a=0;n=a,a=Pc(),38===n&&12===a&&(t[r]=1),!Tc(a);)Ec();return Ic(e,wc)},td=function(e,t){return Ac(function(e,t){var r=-1,n=44;do{switch(Tc(n)){case 0:38===n&&12===Pc()&&(t[r]=1),e[r]+=ed(wc-1,t,r);break;case 2:e[r]+=_c(n);break;case 4:if(44===n){e[++r]=58===Pc()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=lc(n)}}while(n=Ec());return e}(Mc(e),t))},rd=new WeakMap,nd=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||rd.get(r))&&!n){rd.set(e,!0);for(var a=[],s=td(t,a),o=r.props,i=0,l=0;i<s.length;i++)for(var c=0;c<o.length;c++,l++)e.props[l]=a[i]?s[i].replace(/&\f/g,o[c]):o[c]+" "+s[i]}}},ad=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function sd(e,t){switch(function(e,t){return 45^mc(e,0)?(((t<<2^mc(e,0))<<2^mc(e,1))<<2^mc(e,2))<<2^mc(e,3):0}(e,t)){case 5103:return Bc+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Bc+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Bc+e+qc+e+Fc+e+e;case 6828:case 4268:return Bc+e+Fc+e+e;case 6165:return Bc+e+Fc+"flex-"+e+e;case 5187:return Bc+e+uc(e,/(\w+).+(:[^]+)/,Bc+"box-$1$2"+Fc+"flex-$1$2")+e;case 5443:return Bc+e+Fc+"flex-item-"+uc(e,/flex-|-self/,"")+e;case 4675:return Bc+e+Fc+"flex-line-pack"+uc(e,/align-content|flex-|-self/,"")+e;case 5548:return Bc+e+Fc+uc(e,"shrink","negative")+e;case 5292:return Bc+e+Fc+uc(e,"basis","preferred-size")+e;case 6060:return Bc+"box-"+uc(e,"-grow","")+Bc+e+Fc+uc(e,"grow","positive")+e;case 4554:return Bc+uc(e,/([^-])(transform)/g,"$1"+Bc+"$2")+e;case 6187:return uc(uc(uc(e,/(zoom-|grab)/,Bc+"$1"),/(image-set)/,Bc+"$1"),e,"")+e;case 5495:case 3959:return uc(e,/(image-set\([^]*)/,Bc+"$1$`$1");case 4968:return uc(uc(e,/(.+:)(flex-)?(.*)/,Bc+"box-pack:$3"+Fc+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Bc+e+e;case 4095:case 3583:case 4068:case 2532:return uc(e,/(.+)-inline(.+)/,Bc+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fc(e)-1-t>6)switch(mc(e,t+1)){case 109:if(45!==mc(e,t+4))break;case 102:return uc(e,/(.+:)(.+)-([^]+)/,"$1"+Bc+"$2-$3$1"+qc+(108==mc(e,t+3)?"$3":"$2-$3"))+e;case 115:return~pc(e,"stretch")?sd(uc(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==mc(e,t+1))break;case 6444:switch(mc(e,fc(e)-3-(~pc(e,"!important")&&10))){case 107:return uc(e,":",":"+Bc)+e;case 101:return uc(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Bc+(45===mc(e,14)?"inline-":"")+"box$3$1"+Bc+"$2$3$1"+Fc+"$2box$3")+e}break;case 5936:switch(mc(e,t+11)){case 114:return Bc+e+Fc+uc(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Bc+e+Fc+uc(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Bc+e+Fc+uc(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Bc+e+Fc+e+e}return e}var od=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case Hc:e.return=sd(e.value,e.length);break;case Wc:return Yc([Sc(e,{value:uc(e.value,"@","@"+Bc)})],n);case Uc:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yc([Sc(e,{props:[uc(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return Yc([Sc(e,{props:[uc(t,/:(plac\w+)/,":"+Bc+"input-$1")]}),Sc(e,{props:[uc(t,/:(plac\w+)/,":-moz-$1")]}),Sc(e,{props:[uc(t,/:(plac\w+)/,Fc+"input-$1")]})],n)}return""})}}],id=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var n,a,s=e.stylisPlugins||od,o={},i=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)o[t[r]]=!0;i.push(e)});var l,c,d=[Kc,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],u=function(e){var t=gc(e);return function(r,n,a,s){for(var o="",i=0;i<t;i++)o+=e[i](r,n,a,s)||"";return o}}([nd,ad].concat(s,d));a=function(e,t,r,n){l=r,Yc(Qc(e?e+"{"+t.styles+"}":t.styles),u),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new oc({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return p.sheet.hydrate(i),p};function ld(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")}),n}var cd=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},dd=function(e,t,r){cd(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}};var ud={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function pd(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var md=/[A-Z]|^ms/g,hd=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fd=function(e){return 45===e.charCodeAt(1)},gd=function(e){return null!=e&&"boolean"!==typeof e},xd=pd(function(e){return fd(e)?e:e.replace(md,"-$&").toLowerCase()}),yd=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(hd,function(e,t,r){return bd={name:t,styles:r,next:bd},t})}return 1===ud[e]||fd(e)||"number"!==typeof t||0===t?t:t+"px"};function vd(e,t,r){if(null==r)return"";var n=r;if(void 0!==n.__emotion_styles)return n;switch(typeof r){case"boolean":return"";case"object":var a=r;if(1===a.anim)return bd={name:a.name,styles:a.styles,next:bd},a.name;var s=r;if(void 0!==s.styles){var o=s.next;if(void 0!==o)for(;void 0!==o;)bd={name:o.name,styles:o.styles,next:bd},o=o.next;return s.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=vd(e,t,r[a])+";";else for(var s in r){var o=r[s];if("object"!==typeof o){var i=o;null!=t&&void 0!==t[i]?n+=s+"{"+t[i]+"}":gd(i)&&(n+=xd(s)+":"+yd(s,i)+";")}else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=vd(e,t,o);switch(s){case"animation":case"animationName":n+=xd(s)+":"+l+";";break;default:n+=s+"{"+l+"}"}}else for(var c=0;c<o.length;c++)gd(o[c])&&(n+=xd(s)+":"+yd(s,o[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=bd,l=r(e);return bd=i,vd(e,t,l)}}var c=r;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var bd,wd=/label:\s*([^\s;{]+)\s*(;|$)/g;function jd(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";bd=void 0;var s=e[0];null==s||void 0===s.raw?(n=!1,a+=vd(r,t,s)):a+=s[0];for(var o=1;o<e.length;o++){if(a+=vd(r,t,e[o]),n)a+=s[o]}wd.lastIndex=0;for(var i,l="";null!==(i=wd.exec(a));)l+="-"+i[1];var c=function(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(a)+l;return{name:c,styles:a,next:bd}}var Nd=!!n.useInsertionEffect&&n.useInsertionEffect,kd=Nd||function(e){return e()},Sd=(Nd||t.useLayoutEffect,t.createContext("undefined"!==typeof HTMLElement?id({key:"css"}):null)),Cd=(Sd.Provider,function(e){return(0,t.forwardRef)(function(r,n){var a=(0,t.useContext)(Sd);return e(r,a,n)})}),Ed=t.createContext({});var Pd={}.hasOwnProperty,Dd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Id=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return cd(t,r,n),kd(function(){return dd(t,r,n)}),null},Td=Cd(function(e,r,n){var a=e.css;"string"===typeof a&&void 0!==r.registered[a]&&(a=r.registered[a]);var s=e[Dd],o=[a],i="";"string"===typeof e.className?i=ld(r.registered,o,e.className):null!=e.className&&(i=e.className+" ");var l=jd(o,void 0,t.useContext(Ed));i+=r.key+"-"+l.name;var c={};for(var d in e)Pd.call(e,d)&&"css"!==d&&d!==Dd&&(c[d]=e[d]);return c.className=i,n&&(c.ref=n),t.createElement(t.Fragment,null,t.createElement(Id,{cache:r,serialized:l,isStringTag:"string"===typeof s}),t.createElement(s,c))}),Md=Td,Ad=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_d=pd(function(e){return Ad.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),zd=function(e){return"theme"!==e},Od=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?_d:zd},Ld=function(e,t,r){var n;if(t){var a=t.shouldForwardProp;n=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},Rd=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return cd(t,r,n),kd(function(){return dd(t,r,n)}),null},$d=function e(r,n){var a,s,o=r.__emotion_real===r,i=o&&r.__emotion_base||r;void 0!==n&&(a=n.label,s=n.target);var l=Ld(r,n,o),c=l||Od(i),d=!c("as");return function(){var u=arguments,p=o&&void 0!==r.__emotion_styles?r.__emotion_styles.slice(0):[];if(void 0!==a&&p.push("label:"+a+";"),null==u[0]||void 0===u[0].raw)p.push.apply(p,u);else{var m=u[0];p.push(m[0]);for(var h=u.length,f=1;f<h;f++)p.push(u[f],m[f])}var g=Cd(function(e,r,n){var a=d&&e.as||i,o="",u=[],m=e;if(null==e.theme){for(var h in m={},e)m[h]=e[h];m.theme=t.useContext(Ed)}"string"===typeof e.className?o=ld(r.registered,u,e.className):null!=e.className&&(o=e.className+" ");var f=jd(p.concat(u),r.registered,m);o+=r.key+"-"+f.name,void 0!==s&&(o+=" "+s);var g=d&&void 0===l?Od(a):c,x={};for(var y in e)d&&"as"===y||g(y)&&(x[y]=e[y]);return x.className=o,n&&(x.ref=n),t.createElement(t.Fragment,null,t.createElement(Rd,{cache:r,serialized:f,isStringTag:"string"===typeof a}),t.createElement(a,x))});return g.displayName=void 0!==a?a:"Styled("+("string"===typeof i?i:i.displayName||i.name||"Component")+")",g.defaultProps=r.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=p,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(t,r){return e(t,sc({},n,r,{shouldForwardProp:Ld(g,r,!0)})).apply(void 0,p)},g}}.bind(null);function Fd(e,t){return $d(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){$d[e]=$d(e)});const qd=[];function Bd(e){return qd[0]=e,jd(qd)}function Vd(e){const t=new URL(`https://mui.com/production-error/?code=${e}`);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.searchParams.append("args[]",e)),`Minified MUI error #${e}; visit ${t} for the full message.`}function Ud(e){if("string"!==typeof e)throw new Error(Vd(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Hd=r(528);function Wd(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Yd(e){if(t.isValidElement(e)||(0,Hd.Hy)(e)||!Wd(e))return e;const r={};return Object.keys(e).forEach(t=>{r[t]=Yd(e[t])}),r}function Kd(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?{...e}:e;return Wd(e)&&Wd(r)&&Object.keys(r).forEach(s=>{t.isValidElement(r[s])||(0,Hd.Hy)(r[s])?a[s]=r[s]:Wd(r[s])&&Object.prototype.hasOwnProperty.call(e,s)&&Wd(e[s])?a[s]=Kd(e[s],r[s],n):n.clone?a[s]=Wd(r[s])?Yd(r[s]):r[s]:a[s]=r[s]}),a}const Qd=function(e,t){return t?Kd(e,t,{clone:!1}):e};function Gd(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{const r=/min-width:\s*([0-9.]+)/;return+(e.match(r)?.[1]||0)-+(t.match(r)?.[1]||0)});return r.length?r.reduce((e,r)=>{const n=t[r];return delete e[r],e[r]=n,e},{...t}):t}const Jd={xs:0,sm:600,md:900,lg:1200,xl:1536},Xd={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Jd[e]}px)`},Zd={containerQueries:e=>({up:t=>{let r="number"===typeof t?t:Jd[t]||t;return"number"===typeof r&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function eu(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const e=n.breakpoints||Xd;return t.reduce((n,a,s)=>(n[e.up(e.keys[s])]=r(t[s]),n),{})}if("object"===typeof t){const e=n.breakpoints||Xd;return Object.keys(t).reduce((a,s)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}(e.keys,s)){const e=function(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,a]=r,s=Number.isNaN(+n)?n||0:+n;return e.containerQueries(a).up(s)}(n.containerQueries?n:Zd,s);e&&(a[e]=r(t[s],s))}else if(Object.keys(e.values||Jd).includes(s)){a[e.up(s)]=r(t[s],s)}else{const e=s;a[e]=t[e]}return a},{})}return r(t)}function tu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.keys?.reduce((t,r)=>(t[e.up(r)]={},t),{});return t||{}}function ru(e,t){return e.reduce((e,t)=>{const r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e},t)}function nu(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&r){const r=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=r)return r}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function au(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"===typeof e?e(r):Array.isArray(e)?e[r]||a:nu(e,r)||a,t&&(n=t(n,a,e)),n}const su=function(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:a}=e,s=e=>{if(null==e[t])return null;const s=e[t],o=nu(e.theme,n)||{};return eu(e,s,e=>{let n=au(o,a,e);return e===n&&"string"===typeof e&&(n=au(o,a,`${t}${"default"===e?"":Ud(e)}`,e)),!1===r?n:{[r]:n}})};return s.propTypes={},s.filterProps=[t],s};const ou={m:"margin",p:"padding"},iu={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lu={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},cu=function(e){const t={};return r=>(void 0===t[r]&&(t[r]=e(r)),t[r])}(e=>{if(e.length>2){if(!lu[e])return[e];e=lu[e]}const[t,r]=e.split(""),n=ou[t],a=iu[r]||"";return Array.isArray(a)?a.map(e=>n+e):[n+a]}),du=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],uu=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],pu=[...du,...uu];function mu(e,t,r,n){const a=nu(e,t,!0)??r;return"number"===typeof a||"string"===typeof a?e=>"string"===typeof e?e:"string"===typeof a?a.startsWith("var(")&&0===e?0:a.startsWith("var(")&&1===e?a:`calc(${e} * ${a})`:a*e:Array.isArray(a)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const r=a[t];return e>=0?r:"number"===typeof r?-r:"string"===typeof r&&r.startsWith("var(")?`calc(-1 * ${r})`:`-${r}`}:"function"===typeof a?a:()=>{}}function hu(e){return mu(e,"spacing",8)}function fu(e,t){return"string"===typeof t||null==t?t:e(t)}function gu(e,t,r,n){if(!t.includes(r))return null;const a=function(e,t){return r=>e.reduce((e,n)=>(e[n]=fu(t,r),e),{})}(cu(r),n);return eu(e,e[r],a)}function xu(e,t){const r=hu(e.theme);return Object.keys(e).map(n=>gu(e,t,n,r)).reduce(Qd,{})}function yu(e){return xu(e,du)}function vu(e){return xu(e,uu)}function bu(e){return xu(e,pu)}yu.propTypes={},yu.filterProps=du,vu.propTypes={},vu.filterProps=uu,bu.propTypes={},bu.filterProps=pu;const wu=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce((e,t)=>(t.filterProps.forEach(r=>{e[r]=t}),e),{}),a=e=>Object.keys(e).reduce((t,r)=>n[r]?Qd(t,n[r](e)):t,{});return a.propTypes={},a.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),a};function ju(e){return"number"!==typeof e?e:`${e}px solid`}function Nu(e,t){return su({prop:e,themeKey:"borders",transform:t})}const ku=Nu("border",ju),Su=Nu("borderTop",ju),Cu=Nu("borderRight",ju),Eu=Nu("borderBottom",ju),Pu=Nu("borderLeft",ju),Du=Nu("borderColor"),Iu=Nu("borderTopColor"),Tu=Nu("borderRightColor"),Mu=Nu("borderBottomColor"),Au=Nu("borderLeftColor"),_u=Nu("outline",ju),zu=Nu("outlineColor"),Ou=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=mu(e.theme,"shape.borderRadius",4),r=e=>({borderRadius:fu(t,e)});return eu(e,e.borderRadius,r)}return null};Ou.propTypes={},Ou.filterProps=["borderRadius"];wu(ku,Su,Cu,Eu,Pu,Du,Iu,Tu,Mu,Au,Ou,_u,zu);const Lu=e=>{if(void 0!==e.gap&&null!==e.gap){const t=mu(e.theme,"spacing",8),r=e=>({gap:fu(t,e)});return eu(e,e.gap,r)}return null};Lu.propTypes={},Lu.filterProps=["gap"];const Ru=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=mu(e.theme,"spacing",8),r=e=>({columnGap:fu(t,e)});return eu(e,e.columnGap,r)}return null};Ru.propTypes={},Ru.filterProps=["columnGap"];const $u=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=mu(e.theme,"spacing",8),r=e=>({rowGap:fu(t,e)});return eu(e,e.rowGap,r)}return null};$u.propTypes={},$u.filterProps=["rowGap"];wu(Lu,Ru,$u,su({prop:"gridColumn"}),su({prop:"gridRow"}),su({prop:"gridAutoFlow"}),su({prop:"gridAutoColumns"}),su({prop:"gridAutoRows"}),su({prop:"gridTemplateColumns"}),su({prop:"gridTemplateRows"}),su({prop:"gridTemplateAreas"}),su({prop:"gridArea"}));function Fu(e,t){return"grey"===t?t:e}wu(su({prop:"color",themeKey:"palette",transform:Fu}),su({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Fu}),su({prop:"backgroundColor",themeKey:"palette",transform:Fu}));function qu(e){return e<=1&&0!==e?100*e+"%":e}const Bu=su({prop:"width",transform:qu}),Vu=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const r=e.theme?.breakpoints?.values?.[t]||Jd[t];return r?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:qu(t)}};return eu(e,e.maxWidth,t)}return null};Vu.filterProps=["maxWidth"];const Uu=su({prop:"minWidth",transform:qu}),Hu=su({prop:"height",transform:qu}),Wu=su({prop:"maxHeight",transform:qu}),Yu=su({prop:"minHeight",transform:qu}),Ku=(su({prop:"size",cssProperty:"width",transform:qu}),su({prop:"size",cssProperty:"height",transform:qu}),wu(Bu,Vu,Uu,Hu,Wu,Yu,su({prop:"boxSizing"})),{border:{themeKey:"borders",transform:ju},borderTop:{themeKey:"borders",transform:ju},borderRight:{themeKey:"borders",transform:ju},borderBottom:{themeKey:"borders",transform:ju},borderLeft:{themeKey:"borders",transform:ju},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ju},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ou},color:{themeKey:"palette",transform:Fu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Fu},backgroundColor:{themeKey:"palette",transform:Fu},p:{style:vu},pt:{style:vu},pr:{style:vu},pb:{style:vu},pl:{style:vu},px:{style:vu},py:{style:vu},padding:{style:vu},paddingTop:{style:vu},paddingRight:{style:vu},paddingBottom:{style:vu},paddingLeft:{style:vu},paddingX:{style:vu},paddingY:{style:vu},paddingInline:{style:vu},paddingInlineStart:{style:vu},paddingInlineEnd:{style:vu},paddingBlock:{style:vu},paddingBlockStart:{style:vu},paddingBlockEnd:{style:vu},m:{style:yu},mt:{style:yu},mr:{style:yu},mb:{style:yu},ml:{style:yu},mx:{style:yu},my:{style:yu},margin:{style:yu},marginTop:{style:yu},marginRight:{style:yu},marginBottom:{style:yu},marginLeft:{style:yu},marginX:{style:yu},marginY:{style:yu},marginInline:{style:yu},marginInlineStart:{style:yu},marginInlineEnd:{style:yu},marginBlock:{style:yu},marginBlockStart:{style:yu},marginBlockEnd:{style:yu},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Lu},rowGap:{style:$u},columnGap:{style:Ru},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qu},maxWidth:{style:Vu},minWidth:{transform:qu},height:{transform:qu},maxHeight:{transform:qu},minHeight:{transform:qu},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const Qu=function(){function e(e,t,r,n){const a={[e]:t,theme:r},s=n[e];if(!s)return{[e]:t};const{cssProperty:o=e,themeKey:i,transform:l,style:c}=s;if(null==t)return null;if("typography"===i&&"inherit"===t)return{[e]:t};const d=nu(r,i)||{};if(c)return c(a);return eu(a,t,t=>{let r=au(d,l,t);return t===r&&"string"===typeof t&&(r=au(d,l,`${e}${"default"===t?"":Ud(t)}`,t)),!1===o?r:{[o]:r}})}return function t(r){const{sx:n,theme:a={},nested:s}=r||{};if(!n)return null;const o=a.unstable_sxConfig??Ku;function i(r){let n=r;if("function"===typeof r)n=r(a);else if("object"!==typeof r)return r;if(!n)return null;const i=tu(a.breakpoints),l=Object.keys(i);let c=i;return Object.keys(n).forEach(r=>{const s=function(e,t){return"function"===typeof e?e(t):e}(n[r],a);if(null!==s&&void 0!==s)if("object"===typeof s)if(o[r])c=Qd(c,e(r,s,a,o));else{const e=eu({theme:a},s,e=>({[r]:e}));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),a=new Set(n);return t.every(e=>a.size===Object.keys(e).length)}(e,s)?c=Qd(c,e):c[r]=t({sx:s,theme:a,nested:!0})}else c=Qd(c,e(r,s,a,o))}),!s&&a.modularCssLayers?{"@layer sx":Gd(a,ru(l,c))}:Gd(a,ru(l,c))}return Array.isArray(n)?n.map(i):i(n)}}();Qu.filterProps=["sx"];const Gu=Qu;function Ju(e){const{sx:t,...r}=e,{systemProps:n,otherProps:a}=(e=>{const t={systemProps:{},otherProps:{}},r=e?.theme?.unstable_sxConfig??Ku;return Object.keys(e).forEach(n=>{r[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t})(r);let s;return s=Array.isArray(t)?[n,...t]:"function"===typeof t?function(){const e=t(...arguments);return Wd(e)?{...n,...e}:n}:{...n,...t},{...a,sx:s}}function Xu(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...a}=e,s=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>({...e,[t.key]:t.val}),{})})(t),o=Object.keys(s);function i(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${r})`}function l(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-n/100}${r})`}function c(e,a){const s=o.indexOf(a);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${r}) and (max-width:${(-1!==s&&"number"===typeof t[o[s]]?t[o[s]]:a)-n/100}${r})`}return{keys:o,values:s,up:i,down:l,between:c,only:function(e){return o.indexOf(e)+1<o.length?c(e,o[o.indexOf(e)+1]):i(e)},not:function(e){const t=o.indexOf(e);return 0===t?i(o[1]):t===o.length-1?l(o[t]):c(e,o[o.indexOf(e)+1]).replace("@media","@media not all and")},unit:r,...a}}const Zu={borderRadius:4};function ep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hu({spacing:e});if(e.mui)return e;const r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map(e=>{const r=t(e);return"number"===typeof r?`${r}px`:r}).join(" ")};return r.mui=!0,r}function tp(e,t){const r=this;if(r.vars){if(!r.colorSchemes?.[e]||"function"!==typeof r.getColorSchemeSelector)return{};let n=r.getColorSchemeSelector(e);return"&"===n?t:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:t})}return r.palette.mode===e?t:{}}const rp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:r={},spacing:n,shape:a={},...s}=e;let o=Kd({breakpoints:Xu(t),direction:"ltr",components:{},palette:{mode:"light",...r},spacing:ep(n),shape:{...Zu,...a}},s);o=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function r(r,n){r.up=function(){return t(e.breakpoints.up(...arguments),n)},r.down=function(){return t(e.breakpoints.down(...arguments),n)},r.between=function(){return t(e.breakpoints.between(...arguments),n)},r.only=function(){return t(e.breakpoints.only(...arguments),n)},r.not=function(){const r=t(e.breakpoints.not(...arguments),n);return r.includes("not all and")?r.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):r}}const n={},a=e=>(r(n,e),n);return r(a),{...e,containerQueries:a}}(o),o.applyStyles=tp;for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];return o=l.reduce((e,t)=>Kd(e,t),o),o.unstable_sxConfig={...Ku,...s?.unstable_sxConfig},o.unstable_sx=function(e){return Gu({sx:e,theme:this})},o};const np=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const r=t.useContext(Ed);return r&&(n=r,0!==Object.keys(n).length)?r:e;var n},ap=rp();const sp=function(){return np(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ap)};const op=e=>e,ip=(()=>{let e=op;return{configure(t){e=t},generate:t=>e(t),reset(){e=op}}})();const lp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,r))};function cp(e){return lp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function dp(e){if(e.type)return e;if("#"===e.charAt(0))return dp(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&1===r[0].length&&(r=r.map(e=>e+e)),r?`rgb${4===r.length?"a":""}(${r.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Vd(9,e));let n,a=e.substring(t+1,e.length-1);if("color"===r){if(a=a.split(" "),n=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(Vd(10,n))}else a=a.split(",");return a=a.map(e=>parseFloat(e)),{type:r,values:a,colorSpace:n}}const up=(e,t)=>{try{return(e=>{const t=dp(e);return t.values.slice(0,3).map((e,r)=>t.type.includes("hsl")&&0!==r?`${e}%`:e).join(" ")})(e)}catch(r){return e}};function pp(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),n=t.includes("color")?`${r} ${n.join(" ")}`:`${n.join(", ")}`,`${t}(${n})`}function mp(e){e=dp(e);const{values:t}=e,r=t[0],n=t[1]/100,a=t[2]/100,s=n*Math.min(a,1-a),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)};let i="rgb";const l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(i+="a",l.push(t[3])),pp({type:i,values:l})}function hp(e){let t="hsl"===(e=dp(e)).type||"hsla"===e.type?dp(mp(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function fp(e,t){return e=dp(e),t=cp(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,pp(e)}function gp(e,t,r){try{return fp(e,t)}catch(n){return e}}function xp(e,t){if(e=dp(e),t=cp(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return pp(e)}function yp(e,t,r){try{return xp(e,t)}catch(n){return e}}function vp(e,t){if(e=dp(e),t=cp(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return pp(e)}function bp(e,t,r){try{return vp(e,t)}catch(n){return e}}function wp(e,t,r){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return hp(e)>.5?xp(e,t):vp(e,t)}(e,t)}catch(n){return e}}const jp={black:"#000",white:"#fff"},Np={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},kp={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Sp={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Cp={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ep={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Pp={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Dp={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Ip(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:jp.white,default:jp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Tp=Ip();function Mp(){return{text:{primary:jp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:jp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Ap=Mp();function _p(e,t,r,n){const a=n.light||n,s=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=vp(e.main,a):"dark"===t&&(e.dark=xp(e.main,s)))}function zp(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,...a}=e,s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ep[200],light:Ep[50],dark:Ep[400]}:{main:Ep[700],light:Ep[400],dark:Ep[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:kp[200],light:kp[50],dark:kp[400]}:{main:kp[500],light:kp[300],dark:kp[700]}}(t),i=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Sp[500],light:Sp[300],dark:Sp[700]}:{main:Sp[700],light:Sp[400],dark:Sp[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Pp[400],light:Pp[300],dark:Pp[700]}:{main:Pp[700],light:Pp[500],dark:Pp[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Dp[400],light:Dp[300],dark:Dp[700]}:{main:Dp[800],light:Dp[500],dark:Dp[900]}}(t),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Cp[400],light:Cp[300],dark:Cp[700]}:{main:"#ed6c02",light:Cp[500],dark:Cp[900]}}(t);function u(e){const t=function(e,t){const r=hp(e),n=hp(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}(e,Ap.text.primary)>=r?Ap.text.primary:Tp.text.primary;return t}const p=e=>{let{color:t,name:r,mainShade:a=500,lightShade:s=300,darkShade:o=700}=e;if(t={...t},!t.main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(Vd(11,r?` (${r})`:"",a));if("string"!==typeof t.main)throw new Error(Vd(12,r?` (${r})`:"",JSON.stringify(t.main)));return _p(t,"light",s,n),_p(t,"dark",o,n),t.contrastText||(t.contrastText=u(t.main)),t};let m;"light"===t?m=Ip():"dark"===t&&(m=Mp());return Kd({common:{...jp},mode:t,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:i,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:Np,contrastThreshold:r,getContrastText:u,augmentColor:p,tonalOffset:n,...m},a)}function Op(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return"";const s=n[0];return"string"!==typeof s||s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${s}`:`, var(--${e?`${e}-`:""}${s}${t(...n.slice(1))})`}return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return`var(--${e?`${e}-`:""}${r}${t(...a)})`}}function Lp(e){const t={};return Object.entries(e).forEach(e=>{const[r,n]=e;"object"===typeof n&&(t[r]=`${n.fontStyle?`${n.fontStyle} `:""}${n.fontVariant?`${n.fontVariant} `:""}${n.fontWeight?`${n.fontWeight} `:""}${n.fontStretch?`${n.fontStretch} `:""}${n.fontSize||""}${n.lineHeight?`/${n.lineHeight} `:""}${n.fontFamily||""}`)}),t}const Rp=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=e;t.forEach((e,s)=>{s===t.length-1?Array.isArray(a)?a[Number(e)]=r:a&&"object"===typeof a&&(a[e]=r):a&&"object"===typeof a&&(a[e]||(a[e]=n.includes(e)?[]:{}),a=a[e])})};function $p(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},a={},s={},o={};var i,l;return i=(e,t,i)=>{if(("string"===typeof t||"number"===typeof t)&&(!n||!n(e,t))){const n=`--${r?`${r}-`:""}${e.join("-")}`,l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t)(e,t);Object.assign(a,{[n]:l}),Rp(s,e,`var(${n})`,i),Rp(o,e,`var(${n}, ${l})`,i)}},l=e=>"vars"===e[0],function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach(t=>{let[a,s]=t;(!l||l&&!l([...r,a]))&&void 0!==s&&null!==s&&("object"===typeof s&&Object.keys(s).length>0?e(s,[...r,a],Array.isArray(s)?[...n,a]:n):i([...r,a],s,n))})}(e),{css:a,vars:s,varsWithDefaults:o}}const Fp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:r=g,disableCssColorScheme:n,colorSchemeSelector:a}=t,{colorSchemes:s={},components:o,defaultColorScheme:i="light",...l}=e,{vars:c,css:d,varsWithDefaults:u}=$p(l,t);let p=u;const m={},{[i]:h,...f}=s;if(Object.entries(f||{}).forEach(e=>{let[r,n]=e;const{vars:a,css:s,varsWithDefaults:o}=$p(n,t);p=Kd(p,o),m[r]={css:s,vars:a}}),h){const{css:e,vars:r,varsWithDefaults:n}=$p(h,t);p=Kd(p,n),m[i]={css:e,vars:r}}function g(t,r){let n=a;if("class"===a&&(n=".%s"),"data"===a&&(n="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(n=`[${a}="%s"]`),t){if("media"===n){if(e.defaultColorScheme===t)return":root";const n=s[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${n})`]:{":root":r}}}if(n)return e.defaultColorScheme===t?`:root, ${n.replace("%s",String(t))}`:n.replace("%s",String(t))}return":root"}return{vars:p,generateThemeVars:()=>{let e={...c};return Object.entries(m).forEach(t=>{let[,{vars:r}]=t;e=Kd(e,r)}),e},generateStyleSheets:()=>{const t=[],a=e.defaultColorScheme||"light";function o(e,r){Object.keys(r).length&&t.push("string"===typeof e?{[e]:{...r}}:e)}o(r(void 0,{...d}),d);const{[a]:i,...l}=m;if(i){const{css:e}=i,t=s[a]?.palette?.mode,l=!n&&t?{colorScheme:t,...e}:{...e};o(r(a,{...l}),l)}return Object.entries(l).forEach(e=>{let[t,{css:a}]=e;const i=s[t]?.palette?.mode,l=!n&&i?{colorScheme:i,...a}:{...a};o(r(t,{...l}),l)}),t}}};function qp(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}const Bp={textTransform:"uppercase"},Vp='"Roboto", "Helvetica", "Arial", sans-serif';function Up(e,t){const{fontFamily:r=Vp,fontSize:n=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:i=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...u}="function"===typeof t?t(e):t;const p=n/14,m=d||(e=>e/l*p+"rem"),h=(e,t,n,a,s)=>{return{fontFamily:r,fontWeight:e,fontSize:m(t),lineHeight:n,...r===Vp?{letterSpacing:(o=a/t,Math.round(1e5*o)/1e5)+"em"}:{},...s,...c};var o},f={h1:h(a,96,1.167,-1.5),h2:h(a,60,1.2,-.5),h3:h(s,48,1.167,0),h4:h(s,34,1.235,.25),h5:h(s,24,1.334,0),h6:h(o,20,1.6,.15),subtitle1:h(s,16,1.75,.15),subtitle2:h(o,14,1.57,.1),body1:h(s,16,1.5,.15),body2:h(s,14,1.43,.15),button:h(o,14,1.75,.4,Bp),caption:h(s,12,1.66,.4),overline:h(s,12,2.66,1,Bp),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Kd({htmlFontSize:l,pxToRem:m,fontFamily:r,fontSize:n,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:i,...f},u,{clone:!1})}function Hp(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const Wp=["none",Hp(0,2,1,-1,0,1,1,0,0,1,3,0),Hp(0,3,1,-2,0,2,2,0,0,1,5,0),Hp(0,3,3,-2,0,3,4,0,0,1,8,0),Hp(0,2,4,-1,0,4,5,0,0,1,10,0),Hp(0,3,5,-1,0,5,8,0,0,1,14,0),Hp(0,3,5,-1,0,6,10,0,0,1,18,0),Hp(0,4,5,-2,0,7,10,1,0,2,16,1),Hp(0,5,5,-3,0,8,10,1,0,3,14,2),Hp(0,5,6,-3,0,9,12,1,0,3,16,2),Hp(0,6,6,-3,0,10,14,1,0,4,18,3),Hp(0,6,7,-4,0,11,15,1,0,4,20,3),Hp(0,7,8,-4,0,12,17,2,0,5,22,4),Hp(0,7,8,-4,0,13,19,2,0,5,24,4),Hp(0,7,9,-4,0,14,21,2,0,5,26,4),Hp(0,8,9,-5,0,15,22,2,0,6,28,5),Hp(0,8,10,-5,0,16,24,2,0,6,30,5),Hp(0,8,11,-5,0,17,26,2,0,6,32,5),Hp(0,9,11,-5,0,18,28,2,0,7,34,6),Hp(0,9,12,-6,0,19,29,2,0,7,36,6),Hp(0,10,13,-6,0,20,31,3,0,8,38,7),Hp(0,10,13,-6,0,21,33,3,0,8,40,7),Hp(0,10,14,-6,0,22,35,3,0,8,42,7),Hp(0,11,14,-7,0,23,36,3,0,9,44,8),Hp(0,11,15,-7,0,24,38,3,0,9,46,8)],Yp={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Kp={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Qp(e){return`${Math.round(e)}ms`}function Gp(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Jp(e){const t={...Yp,...e.easing},r={...Kp,...e.duration};return{getAutoHeightDuration:Gp,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:a=r.standard,easing:s=t.easeInOut,delay:o=0,...i}=n;return(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"===typeof a?a:Qp(a)} ${s} ${"string"===typeof o?o:Qp(o)}`).join(",")},...e,easing:t,duration:r}}const Xp={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Zp(e){return Wd(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function em(){const e={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function e(t){const r=Object.entries(t);for(let n=0;n<r.length;n++){const[a,s]=r[n];!Zp(s)||a.startsWith("unstable_")?delete t[a]:Wd(s)&&(t[a]={...s},e(t[a]))}}(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(e,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}const tm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:r={},spacing:n,palette:a={},transitions:s={},typography:o={},shape:i,...l}=e;if(e.vars&&void 0===e.generateThemeVars)throw new Error(Vd(20));const c=zp(a),d=rp(e);let u=Kd(d,{mixins:qp(d.breakpoints,r),palette:c,shadows:Wp.slice(),typography:Up(c,o),transitions:Jp(s),zIndex:{...Xp}});u=Kd(u,l);for(var p=arguments.length,m=new Array(p>1?p-1:0),h=1;h<p;h++)m[h-1]=arguments[h];return u=m.reduce((e,t)=>Kd(e,t),u),u.unstable_sxConfig={...Ku,...l?.unstable_sxConfig},u.unstable_sx=function(e){return Gu({sx:e,theme:this})},u.toRuntimeSource=em,u};function rm(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const nm=[...Array(25)].map((e,t)=>{if(0===t)return"none";const r=rm(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function am(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function sm(e){return"dark"===e?nm:[]}function om(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const im=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],lm=e=>(t,r)=>{const n=e.rootSelector||":root",a=e.colorSchemeSelector;let s=a;if("class"===a&&(s=".%s"),"data"===a&&(s="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(s=`[${a}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const a={};return im(e.cssVarPrefix).forEach(e=>{a[e]=r[e],delete r[e]}),"media"===s?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:a}}:s?{[s.replace("%s",t)]:a,[`${n}, ${s.replace("%s",t)}`]:r}:{[n]:{...r,...a}}}if(s&&"media"!==s)return`${n}, ${s.replace("%s",String(t))}`}else if(t){if("media"===s)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(s)return s.replace("%s",String(t))}return n};function cm(e,t,r){!e[t]&&r&&(e[t]=r)}function dm(e){return"string"===typeof e&&e.startsWith("hsl")?mp(e):e}function um(e,t){`${t}Channel`in e||(e[`${t}Channel`]=up(dm(e[t])))}const pm=e=>{try{return e()}catch(t){}};function mm(e,t,r,n){if(!t)return;t=!0===t?{}:t;const a="dark"===n?"dark":"light";if(!r)return void(e[n]=function(e){const{palette:t={mode:"light"},opacity:r,overlays:n,...a}=e,s=zp(t);return{palette:s,opacity:{...am(s.mode),...r},overlays:n||sm(s.mode),...a}}({...t,palette:{mode:a,...t?.palette}}));const{palette:s,...o}=tm({...r,palette:{mode:a,...t?.palette}});return e[n]={...t,palette:s,opacity:{...am(a),...t?.opacity},overlays:t?.overlays||sm(a)},o}function hm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:n=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:s=om,colorSchemeSelector:o=(t.light&&t.dark?"media":void 0),rootSelector:i=":root",...l}=e,c=Object.keys(t)[0],d=r||(t.light&&"light"!==c?"light":c),u=function(){return Op(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(a),{[d]:p,light:m,dark:h,...f}=t,g={...f};let x=p;if(("dark"===d&&!("dark"in t)||"light"===d&&!("light"in t))&&(x=!0),!x)throw new Error(Vd(21,d));const y=mm(g,x,l,d);m&&!g.light&&mm(g,m,void 0,"light"),h&&!g.dark&&mm(g,h,void 0,"dark");let v={defaultColorScheme:d,...y,cssVarPrefix:a,colorSchemeSelector:o,rootSelector:i,getCssVar:u,colorSchemes:g,font:{...Lp(y.typography),...y.font},spacing:(b=l.spacing,"number"===typeof b?`${b}px`:"string"===typeof b||"function"===typeof b||Array.isArray(b)?b:"8px")};var b;Object.keys(v.colorSchemes).forEach(e=>{const t=v.colorSchemes[e].palette,r=e=>{const r=e.split("-"),n=r[1],a=r[2];return u(e,t[n][a])};var n;if("light"===t.mode&&(cm(t.common,"background","#fff"),cm(t.common,"onBackground","#000")),"dark"===t.mode&&(cm(t.common,"background","#000"),cm(t.common,"onBackground","#fff")),n=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{n[e]||(n[e]={})}),"light"===t.mode){cm(t.Alert,"errorColor",yp(t.error.light,.6)),cm(t.Alert,"infoColor",yp(t.info.light,.6)),cm(t.Alert,"successColor",yp(t.success.light,.6)),cm(t.Alert,"warningColor",yp(t.warning.light,.6)),cm(t.Alert,"errorFilledBg",r("palette-error-main")),cm(t.Alert,"infoFilledBg",r("palette-info-main")),cm(t.Alert,"successFilledBg",r("palette-success-main")),cm(t.Alert,"warningFilledBg",r("palette-warning-main")),cm(t.Alert,"errorFilledColor",pm(()=>t.getContrastText(t.error.main))),cm(t.Alert,"infoFilledColor",pm(()=>t.getContrastText(t.info.main))),cm(t.Alert,"successFilledColor",pm(()=>t.getContrastText(t.success.main))),cm(t.Alert,"warningFilledColor",pm(()=>t.getContrastText(t.warning.main))),cm(t.Alert,"errorStandardBg",bp(t.error.light,.9)),cm(t.Alert,"infoStandardBg",bp(t.info.light,.9)),cm(t.Alert,"successStandardBg",bp(t.success.light,.9)),cm(t.Alert,"warningStandardBg",bp(t.warning.light,.9)),cm(t.Alert,"errorIconColor",r("palette-error-main")),cm(t.Alert,"infoIconColor",r("palette-info-main")),cm(t.Alert,"successIconColor",r("palette-success-main")),cm(t.Alert,"warningIconColor",r("palette-warning-main")),cm(t.AppBar,"defaultBg",r("palette-grey-100")),cm(t.Avatar,"defaultBg",r("palette-grey-400")),cm(t.Button,"inheritContainedBg",r("palette-grey-300")),cm(t.Button,"inheritContainedHoverBg",r("palette-grey-A100")),cm(t.Chip,"defaultBorder",r("palette-grey-400")),cm(t.Chip,"defaultAvatarColor",r("palette-grey-700")),cm(t.Chip,"defaultIconColor",r("palette-grey-700")),cm(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),cm(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),cm(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),cm(t.LinearProgress,"primaryBg",bp(t.primary.main,.62)),cm(t.LinearProgress,"secondaryBg",bp(t.secondary.main,.62)),cm(t.LinearProgress,"errorBg",bp(t.error.main,.62)),cm(t.LinearProgress,"infoBg",bp(t.info.main,.62)),cm(t.LinearProgress,"successBg",bp(t.success.main,.62)),cm(t.LinearProgress,"warningBg",bp(t.warning.main,.62)),cm(t.Skeleton,"bg",`rgba(${r("palette-text-primaryChannel")} / 0.11)`),cm(t.Slider,"primaryTrack",bp(t.primary.main,.62)),cm(t.Slider,"secondaryTrack",bp(t.secondary.main,.62)),cm(t.Slider,"errorTrack",bp(t.error.main,.62)),cm(t.Slider,"infoTrack",bp(t.info.main,.62)),cm(t.Slider,"successTrack",bp(t.success.main,.62)),cm(t.Slider,"warningTrack",bp(t.warning.main,.62));const e=wp(t.background.default,.8);cm(t.SnackbarContent,"bg",e),cm(t.SnackbarContent,"color",pm(()=>t.getContrastText(e))),cm(t.SpeedDialAction,"fabHoverBg",wp(t.background.paper,.15)),cm(t.StepConnector,"border",r("palette-grey-400")),cm(t.StepContent,"border",r("palette-grey-400")),cm(t.Switch,"defaultColor",r("palette-common-white")),cm(t.Switch,"defaultDisabledColor",r("palette-grey-100")),cm(t.Switch,"primaryDisabledColor",bp(t.primary.main,.62)),cm(t.Switch,"secondaryDisabledColor",bp(t.secondary.main,.62)),cm(t.Switch,"errorDisabledColor",bp(t.error.main,.62)),cm(t.Switch,"infoDisabledColor",bp(t.info.main,.62)),cm(t.Switch,"successDisabledColor",bp(t.success.main,.62)),cm(t.Switch,"warningDisabledColor",bp(t.warning.main,.62)),cm(t.TableCell,"border",bp(gp(t.divider,1),.88)),cm(t.Tooltip,"bg",gp(t.grey[700],.92))}if("dark"===t.mode){cm(t.Alert,"errorColor",bp(t.error.light,.6)),cm(t.Alert,"infoColor",bp(t.info.light,.6)),cm(t.Alert,"successColor",bp(t.success.light,.6)),cm(t.Alert,"warningColor",bp(t.warning.light,.6)),cm(t.Alert,"errorFilledBg",r("palette-error-dark")),cm(t.Alert,"infoFilledBg",r("palette-info-dark")),cm(t.Alert,"successFilledBg",r("palette-success-dark")),cm(t.Alert,"warningFilledBg",r("palette-warning-dark")),cm(t.Alert,"errorFilledColor",pm(()=>t.getContrastText(t.error.dark))),cm(t.Alert,"infoFilledColor",pm(()=>t.getContrastText(t.info.dark))),cm(t.Alert,"successFilledColor",pm(()=>t.getContrastText(t.success.dark))),cm(t.Alert,"warningFilledColor",pm(()=>t.getContrastText(t.warning.dark))),cm(t.Alert,"errorStandardBg",yp(t.error.light,.9)),cm(t.Alert,"infoStandardBg",yp(t.info.light,.9)),cm(t.Alert,"successStandardBg",yp(t.success.light,.9)),cm(t.Alert,"warningStandardBg",yp(t.warning.light,.9)),cm(t.Alert,"errorIconColor",r("palette-error-main")),cm(t.Alert,"infoIconColor",r("palette-info-main")),cm(t.Alert,"successIconColor",r("palette-success-main")),cm(t.Alert,"warningIconColor",r("palette-warning-main")),cm(t.AppBar,"defaultBg",r("palette-grey-900")),cm(t.AppBar,"darkBg",r("palette-background-paper")),cm(t.AppBar,"darkColor",r("palette-text-primary")),cm(t.Avatar,"defaultBg",r("palette-grey-600")),cm(t.Button,"inheritContainedBg",r("palette-grey-800")),cm(t.Button,"inheritContainedHoverBg",r("palette-grey-700")),cm(t.Chip,"defaultBorder",r("palette-grey-700")),cm(t.Chip,"defaultAvatarColor",r("palette-grey-300")),cm(t.Chip,"defaultIconColor",r("palette-grey-300")),cm(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),cm(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),cm(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),cm(t.LinearProgress,"primaryBg",yp(t.primary.main,.5)),cm(t.LinearProgress,"secondaryBg",yp(t.secondary.main,.5)),cm(t.LinearProgress,"errorBg",yp(t.error.main,.5)),cm(t.LinearProgress,"infoBg",yp(t.info.main,.5)),cm(t.LinearProgress,"successBg",yp(t.success.main,.5)),cm(t.LinearProgress,"warningBg",yp(t.warning.main,.5)),cm(t.Skeleton,"bg",`rgba(${r("palette-text-primaryChannel")} / 0.13)`),cm(t.Slider,"primaryTrack",yp(t.primary.main,.5)),cm(t.Slider,"secondaryTrack",yp(t.secondary.main,.5)),cm(t.Slider,"errorTrack",yp(t.error.main,.5)),cm(t.Slider,"infoTrack",yp(t.info.main,.5)),cm(t.Slider,"successTrack",yp(t.success.main,.5)),cm(t.Slider,"warningTrack",yp(t.warning.main,.5));const e=wp(t.background.default,.98);cm(t.SnackbarContent,"bg",e),cm(t.SnackbarContent,"color",pm(()=>t.getContrastText(e))),cm(t.SpeedDialAction,"fabHoverBg",wp(t.background.paper,.15)),cm(t.StepConnector,"border",r("palette-grey-600")),cm(t.StepContent,"border",r("palette-grey-600")),cm(t.Switch,"defaultColor",r("palette-grey-300")),cm(t.Switch,"defaultDisabledColor",r("palette-grey-600")),cm(t.Switch,"primaryDisabledColor",yp(t.primary.main,.55)),cm(t.Switch,"secondaryDisabledColor",yp(t.secondary.main,.55)),cm(t.Switch,"errorDisabledColor",yp(t.error.main,.55)),cm(t.Switch,"infoDisabledColor",yp(t.info.main,.55)),cm(t.Switch,"successDisabledColor",yp(t.success.main,.55)),cm(t.Switch,"warningDisabledColor",yp(t.warning.main,.55)),cm(t.TableCell,"border",yp(gp(t.divider,1),.68)),cm(t.Tooltip,"bg",gp(t.grey[700],.92))}um(t.background,"default"),um(t.background,"paper"),um(t.common,"background"),um(t.common,"onBackground"),um(t,"divider"),Object.keys(t).forEach(e=>{const r=t[e];"tonalOffset"!==e&&r&&"object"===typeof r&&(r.main&&cm(t[e],"mainChannel",up(dm(r.main))),r.light&&cm(t[e],"lightChannel",up(dm(r.light))),r.dark&&cm(t[e],"darkChannel",up(dm(r.dark))),r.contrastText&&cm(t[e],"contrastTextChannel",up(dm(r.contrastText))),"text"===e&&(um(t[e],"primary"),um(t[e],"secondary")),"action"===e&&(r.active&&um(t[e],"active"),r.selected&&um(t[e],"selected")))})});for(var w=arguments.length,j=new Array(w>1?w-1:0),N=1;N<w;N++)j[N-1]=arguments[N];v=j.reduce((e,t)=>Kd(e,t),v);const k={prefix:a,disableCssColorScheme:n,shouldSkipGeneratingVar:s,getSelector:lm(v)},{vars:S,generateThemeVars:C,generateStyleSheets:E}=Fp(v,k);return v.vars=S,Object.entries(v.colorSchemes[v.defaultColorScheme]).forEach(e=>{let[t,r]=e;v[t]=r}),v.generateThemeVars=C,v.generateStyleSheets=E,v.generateSpacing=function(){return ep(l.spacing,hu(this))},v.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(o),v.spacing=v.generateSpacing(),v.shouldSkipGeneratingVar=s,v.unstable_sxConfig={...Ku,...l?.unstable_sxConfig},v.unstable_sx=function(e){return Gu({sx:e,theme:this})},v.toRuntimeSource=em,v}function fm(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...!0!==r&&r,palette:zp({...!0===r?{}:r.palette,mode:t})})}function gm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:r=!1,colorSchemes:n=(t?void 0:{light:!0}),defaultColorScheme:a=t?.mode,...s}=e,o=a||"light",i=n?.[o],l={...n,...t?{[o]:{..."boolean"!==typeof i&&i,palette:t}}:void 0};for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];if(!1===r){if(!("colorSchemes"in e))return tm(e,...d);let r=t;"palette"in e||l[o]&&(!0!==l[o]?r=l[o].palette:"dark"===o&&(r={mode:"dark"}));const n=tm({...e,palette:r},...d);return n.defaultColorScheme=o,n.colorSchemes=l,"light"===n.palette.mode&&(n.colorSchemes.light={...!0!==l.light&&l.light,palette:n.palette},fm(n,"dark",l.dark)),"dark"===n.palette.mode&&(n.colorSchemes.dark={...!0!==l.dark&&l.dark,palette:n.palette},fm(n,"light",l.light)),n}return t||"light"in l||"light"!==o||(l.light=!0),hm({...s,colorSchemes:l,defaultColorScheme:o,..."boolean"!==typeof r&&r},...d)}const xm="$$material",ym={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vm(e,t){const r=ym[t];return r?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${r}`:`${ip.generate(e)}-${t}`}function bm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const n={};return t.forEach(t=>{n[t]=vm(e,t,r)}),n}const wm=bm("MuiBox",["root"]),jm=gm(),Nm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:r,defaultTheme:n,defaultClassName:a="MuiBox-root",generateClassName:s}=e,i=Fd("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Gu);return t.forwardRef(function(e,t){const l=sp(n),{className:c,component:d="div",...u}=Ju(e);return(0,o.jsx)(i,{as:d,ref:t,className:Ht(c,s?s(a):a),theme:r&&l[r]||l,...u})})}({themeId:xm,defaultTheme:jm,defaultClassName:wm.root,generateClassName:ip.generate}),km=Nm;function Sm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n={};for(const a in e){const s=e[a];let o="",i=!0;for(let e=0;e<s.length;e+=1){const n=s[e];n&&(o+=(!0===i?"":" ")+t(n),i=!1,r&&r[n]&&(o+=" "+r[n]))}n[a]=o}return n}function Cm(e){const{variants:t,...r}=e,n={variants:t,style:Bd(r),isProcessed:!0};return n.style===r||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=Bd(e.style))}),n}const Em=rp();function Pm(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Dm(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function Im(e){return e?(t,r)=>r[e]:null}function Tm(e,t,r){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap(t=>Tm(e,t,r));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=r?Dm(n.style,r):n.style;else{const{variants:e,...a}=n;t=r?Dm(Bd(a),r):a}return Mm(e,n.variants,[t],r)}return n?.isProcessed?r?Dm(Bd(n.style),r):n.style:r?Dm(Bd(n),r):n}function Mm(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let s=0;s<t.length;s+=1){const o=t[s];if("function"===typeof o.props){if(r??={...e,...e.ownerState,ownerState:e.ownerState},!o.props(r))continue}else for(const t in o.props)if(e[t]!==o.props[t]&&e.ownerState?.[t]!==o.props[t])continue e;"function"===typeof o.style?(r??={...e,...e.ownerState,ownerState:e.ownerState},n.push(a?Dm(Bd(o.style(r)),a):o.style(r))):n.push(a?Dm(Bd(o.style),a):o.style)}return n}function Am(e,t){}function _m(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const zm=gm();const Om=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Lm=e=>Om(e)&&"classes"!==e,Rm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r=Em,rootShouldForwardProp:n=Pm,slotShouldForwardProp:a=Pm}=e;function s(e){!function(e,t,r){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?r:e.theme[t]||e.theme}(e,t,r)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==Gu));const{name:r,slot:o,skipVariantsResolver:i,skipSx:l,overridesResolver:c=Im(_m(o)),...d}=t,u=r&&r.startsWith("Mui")||o?"components":"custom",p=void 0!==i?i:o&&"Root"!==o&&"root"!==o||!1,m=l||!1;let h=Pm;"Root"===o||"root"===o?h=n:o?h=a:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(h=void 0);const f=Fd(e,{shouldForwardProp:h,label:Am(r,o),...d}),g=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return Tm(t,e,t.theme.modularCssLayers?u:void 0)};if(Wd(e)){const t=Cm(e);return function(e){return t.variants?Tm(e,t,e.theme.modularCssLayers?u:void 0):e.theme.modularCssLayers?Dm(t.style,u):t.style}}return e},x=function(){const t=[];for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];const i=a.map(g),l=[];if(t.push(s),r&&c&&l.push(function(e){const t=e.theme,n=t.components?.[r]?.styleOverrides;if(!n)return null;const a={};for(const r in n)a[r]=Tm(e,n[r],e.theme.modularCssLayers?"theme":void 0);return c(e,a)}),r&&!p&&l.push(function(e){const t=e.theme,n=t?.components?.[r]?.variants;return n?Mm(e,n,[],e.theme.modularCssLayers?"theme":void 0):null}),m||l.push(Gu),Array.isArray(i[0])){const e=i.shift(),r=new Array(t.length).fill(""),n=new Array(l.length).fill("");let a;a=[...r,...e,...n],a.raw=[...r,...e.raw,...n],t.unshift(a)}const d=[...t,...i,...l],u=f(...d);return e.muiName&&(u.muiName=e.muiName),u};return f.withConfig&&(x.withConfig=f.withConfig),x}}({themeId:xm,defaultTheme:zm,rootShouldForwardProp:Lm}),$m=Rm,Fm={theme:void 0};const qm=function(e){let t,r;return function(n){let a=t;return void 0!==a&&n.theme===r||(Fm.theme=n.theme,a=Cm(e(Fm)),t=a,r=n.theme),a}};function Bm(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n={...t};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=a;if("components"===s||"slots"===s)n[s]={...e[s],...n[s]};else if("componentsProps"===s||"slotProps"===s){const a=e[s],o=t[s];if(o)if(a){n[s]={...o};for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)){const t=e;n[s][t]=Bm(a[t],o[t],r)}}else n[s]=o;else n[s]=a||{}}else"className"===s&&r&&t.className?n.className=Ht(e?.className,t?.className):"style"===s&&r&&t.style?n.style={...e?.style,...t?.style}:void 0===n[s]&&(n[s]=e[s])}return n}const Vm=t.createContext(void 0);function Um(e){let{props:r,name:n}=e;return function(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const a=t.components[r];return a.defaultProps?Bm(a.defaultProps,n,t.components.mergeClassNameAndStyle):a.styleOverrides||a.variants?n:Bm(a,n,t.components.mergeClassNameAndStyle)}({props:r,name:n,theme:{components:t.useContext(Vm)}})}function Hm(e){return Um(e)}const Wm=Ud;function Ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,r]=t;return r&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||"string"!==typeof e[r])return!1;return!0}(r,e)}}function Km(e){return vm("MuiTypography",e)}bm("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Qm={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Gm=Ju,Jm=$m("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t[`align${Wm(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(qm(e=>{let{theme:t}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(e=>{let[t,r]=e;return"inherit"!==t&&r&&"object"===typeof r}).map(e=>{let[t,r]=e;return{props:{variant:t},style:r}}),...Object.entries(t.palette).filter(Ym()).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].main}}}),...Object.entries(t.palette?.text||{}).filter(e=>{let[,t]=e;return"string"===typeof t}).map(e=>{let[r]=e;return{props:{color:`text${Wm(r)}`},style:{color:(t.vars||t).palette.text[r]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),Xm={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Zm=t.forwardRef(function(e,t){const{color:r,...n}=Hm({props:e,name:"MuiTypography"}),a=Gm({...n,...!Qm[r]&&{color:r}}),{align:s="inherit",className:i,component:l,gutterBottom:c=!1,noWrap:d=!1,paragraph:u=!1,variant:p="body1",variantMapping:m=Xm,...h}=a,f={...a,align:s,color:r,className:i,component:l,gutterBottom:c,noWrap:d,paragraph:u,variant:p,variantMapping:m},g=l||(u?"p":m[p]||Xm[p])||"span",x=(e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:a,variant:s,classes:o}=e;return Sm({root:["root",s,"inherit"!==e.align&&`align${Wm(t)}`,r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]},Km,o)})(f);return(0,o.jsx)(Jm,{as:g,ref:t,className:Ht(x.root,i),...h,ownerState:f,style:{..."inherit"!==s&&{"--Typography-textAlign":s},...h.style}})}),eh=Zm;let th=0;const rh={...n}.useId;const nh=function(e){if(void 0!==rh){const t=rh();return e??t}return function(e){const[r,n]=t.useState(e),a=e||r;return t.useEffect(()=>{null==r&&(th+=1,n(`mui-${th}`))},[r]),a}(e)};function ah(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}function sh(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const a=t.useRef(void 0),s=t.useCallback(e=>{const t=r.map(t=>{if(null==t)return null;if("function"===typeof t){const r=t,n=r(e);return"function"===typeof n?n:()=>{r(null)}}return t.current=e,()=>{t.current=null}});return()=>{t.forEach(e=>e?.())}},r);return t.useMemo(()=>r.every(e=>null==e)?null:e=>{a.current&&(a.current(),a.current=void 0),null!=e&&(a.current=s(e))},r)}const oh=sh,ih="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const lh=function(e){const r=t.useRef(e);return ih(()=>{r.current=e}),t.useRef(function(){return(0,r.current)(...arguments)}).current},ch={};function dh(e,r){const n=t.useRef(ch);return n.current===ch&&(n.current=e(r)),n}class uh{static create(){return new uh}static use(){const e=dh(uh.create).current,[r,n]=t.useState(!1);return e.shouldMount=r,e.setShouldMount=n,t.useEffect(e.mountEffect,[r]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>this.ref.current?.start(...t))}stop(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.mount().then(()=>this.ref.current?.pulsate(...t))}}function ph(e,t){return ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ph(e,t)}const mh=t.createContext(null);function hh(e,r){var n=Object.create(null);return e&&t.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return r&&(0,t.isValidElement)(e)?r(e):e}(e)}),n}function fh(e,t,r){return null!=r[t]?r[t]:e.props[t]}function gh(e,r,n){var a=hh(e.children),s=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,a=Object.create(null),s=[];for(var o in e)o in t?s.length&&(a[o]=s,s=[]):s.push(o);var i={};for(var l in t){if(a[l])for(n=0;n<a[l].length;n++){var c=a[l][n];i[a[l][n]]=r(c)}i[l]=r(l)}for(n=0;n<s.length;n++)i[s[n]]=r(s[n]);return i}(r,a);return Object.keys(s).forEach(function(o){var i=s[o];if((0,t.isValidElement)(i)){var l=o in r,c=o in a,d=r[o],u=(0,t.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,t.isValidElement)(d)&&(s[o]=(0,t.cloneElement)(i,{onExited:n.bind(null,i),in:d.props.in,exit:fh(i,"exit",e),enter:fh(i,"enter",e)})):s[o]=(0,t.cloneElement)(i,{in:!1}):s[o]=(0,t.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:fh(i,"exit",e),enter:fh(i,"enter",e)})}}),s}var xh=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},yh=function(e){var r,n;function a(t,r){var n,a=(n=e.call(this,t,r)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},n}n=e,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,ph(r,n);var s=a.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(e,r){var n,a,s=r.children,o=r.handleExited;return{children:r.firstRender?(n=e,a=o,hh(n.children,function(e){return(0,t.cloneElement)(e,{onExited:a.bind(null,e),in:!0,appear:fh(e,"appear",n),enter:fh(e,"enter",n),exit:fh(e,"exit",n)})})):gh(e,s,o),firstRender:!1}},s.handleExited=function(e,t){var r=hh(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var r=sc({},t.children);return delete r[e.key],{children:r}}))},s.render=function(){var e=this.props,r=e.component,n=e.childFactory,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,["component","childFactory"]),s=this.state.contextValue,o=xh(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===r?t.createElement(mh.Provider,{value:s},o):t.createElement(mh.Provider,{value:s},t.createElement(r,a,o))},a}(t.Component);yh.propTypes={},yh.defaultProps={component:"div",childFactory:function(e){return e}};const vh=yh,bh=[];class wh{static create(){return new wh}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function jh(){const e=dh(wh.create).current;var r;return r=e.disposeEffect,t.useEffect(r,bh),e}var Nh=function(e,r){var n=arguments;if(null==r||!Pd.call(r,"css"))return t.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Md,s[1]=function(e,t){var r={};for(var n in t)Pd.call(t,n)&&(r[n]=t[n]);return r[Dd]=e,r}(e,r);for(var o=2;o<a;o++)s[o]=n[o];return t.createElement.apply(null,s)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(Nh||(Nh={}));function kh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return jd(t)}function Sh(){var e=kh.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Ch=function(e){const{className:r,classes:n,pulsate:a=!1,rippleX:s,rippleY:i,rippleSize:l,in:c,onExited:d,timeout:u}=e,[p,m]=t.useState(!1),h=Ht(r,n.ripple,n.rippleVisible,a&&n.ripplePulsate),f={width:l,height:l,top:-l/2+i,left:-l/2+s},g=Ht(n.child,p&&n.childLeaving,a&&n.childPulsate);return c||p||m(!0),t.useEffect(()=>{if(!c&&null!=d){const e=setTimeout(d,u);return()=>{clearTimeout(e)}}},[d,c,u]),(0,o.jsx)("span",{className:h,style:f,children:(0,o.jsx)("span",{className:g})})};const Eh=bm("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ph=Sh`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Dh=Sh`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Ih=Sh`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Th=$m("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Mh=$m(Ch,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Eh.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Ph};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  &.${Eh.ripplePulsate} {
    animation-duration: ${e=>{let{theme:t}=e;return t.transitions.duration.shorter}}ms;
  }

  & .${Eh.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Eh.childLeaving} {
    opacity: 0;
    animation-name: ${Dh};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  & .${Eh.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Ih};
    animation-duration: 2500ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Ah=t.forwardRef(function(e,r){const n=Hm({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:s={},className:i,...l}=n,[c,d]=t.useState([]),u=t.useRef(0),p=t.useRef(null);t.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const m=t.useRef(!1),h=jh(),f=t.useRef(null),g=t.useRef(null),x=t.useCallback(e=>{const{pulsate:t,rippleX:r,rippleY:n,rippleSize:a,cb:i}=e;d(e=>[...e,(0,o.jsx)(Mh,{classes:{ripple:Ht(s.ripple,Eh.ripple),rippleVisible:Ht(s.rippleVisible,Eh.rippleVisible),ripplePulsate:Ht(s.ripplePulsate,Eh.ripplePulsate),child:Ht(s.child,Eh.child),childLeaving:Ht(s.childLeaving,Eh.childLeaving),childPulsate:Ht(s.childPulsate,Eh.childPulsate)},timeout:550,pulsate:t,rippleX:r,rippleY:n,rippleSize:a},u.current)]),u.current+=1,p.current=i},[s]),y=t.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:n=!1,center:s=a||t.pulsate,fakeElement:o=!1}=t;if("mousedown"===e?.type&&m.current)return void(m.current=!1);"touchstart"===e?.type&&(m.current=!0);const i=o?null:g.current,l=i?i.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,d,u;if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),d=Math.round(l.height/2);else{const{clientX:t,clientY:r}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),d=Math.round(r-l.top)}if(s)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((i?i.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((i?i.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}e?.touches?null===f.current&&(f.current=()=>{x({pulsate:n,rippleX:c,rippleY:d,rippleSize:u,cb:r})},h.start(80,()=>{f.current&&(f.current(),f.current=null)})):x({pulsate:n,rippleX:c,rippleY:d,rippleSize:u,cb:r})},[a,x,h]),v=t.useCallback(()=>{y({},{pulsate:!0})},[y]),b=t.useCallback((e,t)=>{if(h.clear(),"touchend"===e?.type&&f.current)return f.current(),f.current=null,void h.start(0,()=>{b(e,t)});f.current=null,d(e=>e.length>0?e.slice(1):e),p.current=t},[h]);return t.useImperativeHandle(r,()=>({pulsate:v,start:y,stop:b}),[v,y,b]),(0,o.jsx)(Th,{className:Ht(Eh.root,s.root,i),ref:g,...l,children:(0,o.jsx)(vh,{component:null,exit:!0,children:c})})}),_h=Ah;function zh(e){return vm("MuiButtonBase",e)}const Oh=bm("MuiButtonBase",["root","disabled","focusVisible"]),Lh=$m("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Oh.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});function Rh(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lh(a=>(r&&r(a),n||e[t](a),!0))}const $h=t.forwardRef(function(e,r){const n=Hm({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:s=!1,children:i,className:l,component:c="button",disabled:d=!1,disableRipple:u=!1,disableTouchRipple:p=!1,focusRipple:m=!1,focusVisibleClassName:h,LinkComponent:f="a",onBlur:g,onClick:x,onContextMenu:y,onDragLeave:v,onFocus:b,onFocusVisible:w,onKeyDown:j,onKeyUp:N,onMouseDown:k,onMouseLeave:S,onMouseUp:C,onTouchEnd:E,onTouchMove:P,onTouchStart:D,tabIndex:I=0,TouchRippleProps:T,touchRippleRef:M,type:A,..._}=n,z=t.useRef(null),O=uh.use(),L=oh(O.ref,M),[R,$]=t.useState(!1);d&&R&&$(!1),t.useImperativeHandle(a,()=>({focusVisible:()=>{$(!0),z.current.focus()}}),[]);const F=O.shouldMount&&!u&&!d;t.useEffect(()=>{R&&m&&!u&&O.pulsate()},[u,m,R,O]);const q=Rh(O,"start",k,p),B=Rh(O,"stop",y,p),V=Rh(O,"stop",v,p),U=Rh(O,"stop",C,p),H=Rh(O,"stop",e=>{R&&e.preventDefault(),S&&S(e)},p),W=Rh(O,"start",D,p),Y=Rh(O,"stop",E,p),K=Rh(O,"stop",P,p),Q=Rh(O,"stop",e=>{ah(e.target)||$(!1),g&&g(e)},!1),G=lh(e=>{z.current||(z.current=e.currentTarget),ah(e.target)&&($(!0),w&&w(e)),b&&b(e)}),J=()=>{const e=z.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},X=lh(e=>{m&&!e.repeat&&R&&" "===e.key&&O.stop(e,()=>{O.start(e)}),e.target===e.currentTarget&&J()&&" "===e.key&&e.preventDefault(),j&&j(e),e.target===e.currentTarget&&J()&&"Enter"===e.key&&!d&&(e.preventDefault(),x&&x(e))}),Z=lh(e=>{m&&" "===e.key&&R&&!e.defaultPrevented&&O.stop(e,()=>{O.pulsate(e)}),N&&N(e),x&&e.target===e.currentTarget&&J()&&" "===e.key&&!e.defaultPrevented&&x(e)});let ee=c;"button"===ee&&(_.href||_.to)&&(ee=f);const te={};"button"===ee?(te.type=void 0===A?"button":A,te.disabled=d):(_.href||_.to||(te.role="button"),d&&(te["aria-disabled"]=d));const re=oh(r,z),ne={...n,centerRipple:s,component:c,disabled:d,disableRipple:u,disableTouchRipple:p,focusRipple:m,tabIndex:I,focusVisible:R},ae=(e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:a}=e,s=Sm({root:["root",t&&"disabled",r&&"focusVisible"]},zh,a);return r&&n&&(s.root+=` ${n}`),s})(ne);return(0,o.jsxs)(Lh,{as:ee,className:Ht(ae.root,l),ownerState:ne,onBlur:Q,onClick:x,onContextMenu:B,onFocus:G,onKeyDown:X,onKeyUp:Z,onMouseDown:q,onMouseLeave:H,onMouseUp:U,onDragLeave:V,onTouchEnd:Y,onTouchMove:K,onTouchStart:W,ref:re,tabIndex:d?-1:I,type:A,...te,..._,children:[i,F?(0,o.jsx)(_h,{ref:L,center:s,...T}):null]})});function Fh(e){return vm("MuiCircularProgress",e)}bm("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const qh=44,Bh=Sh`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Vh=Sh`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Uh="string"!==typeof Bh?kh`
        animation: ${Bh} 1.4s linear infinite;
      `:null,Hh="string"!==typeof Vh?kh`
        animation: ${Vh} 1.4s ease-in-out infinite;
      `:null,Wh=$m("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${Wm(r.color)}`]]}})(qm(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Uh||{animation:`${Bh} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Ym()).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].main}}})]}})),Yh=$m("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Kh=$m("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${Wm(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(qm(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:Hh||{animation:`${Vh} 1.4s ease-in-out infinite`}}]}})),Qh=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiCircularProgress"}),{className:n,color:a="primary",disableShrink:s=!1,size:i=40,style:l,thickness:c=3.6,value:d=0,variant:u="indeterminate",...p}=r,m={...r,color:a,disableShrink:s,size:i,thickness:c,value:d,variant:u},h=(e=>{const{classes:t,variant:r,color:n,disableShrink:a}=e;return Sm({root:["root",r,`color${Wm(n)}`],svg:["svg"],circle:["circle",`circle${Wm(r)}`,a&&"circleDisableShrink"]},Fh,t)})(m),f={},g={},x={};if("determinate"===u){const e=2*Math.PI*((qh-c)/2);f.strokeDasharray=e.toFixed(3),x["aria-valuenow"]=Math.round(d),f.strokeDashoffset=`${((100-d)/100*e).toFixed(3)}px`,g.transform="rotate(-90deg)"}return(0,o.jsx)(Wh,{className:Ht(h.root,n),style:{width:i,height:i,...g,...l},ownerState:m,ref:t,role:"progressbar",...x,...p,children:(0,o.jsx)(Yh,{className:h.svg,ownerState:m,viewBox:"22 22 44 44",children:(0,o.jsx)(Kh,{className:h.circle,style:f,ownerState:m,cx:qh,cy:qh,r:(qh-c)/2,fill:"none",strokeWidth:c})})})}),Gh=Qh;function Jh(e){return vm("MuiButton",e)}const Xh=bm("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const Zh=t.createContext({});const ef=t.createContext(void 0),tf=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],rf=$m($h,{shouldForwardProp:e=>Lm(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Wm(r.color)}`],t[`size${Wm(r.size)}`],t[`${r.variant}Size${Wm(r.size)}`],"inherit"===r.color&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(qm(e=>{let{theme:t}=e;const r="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],n="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Xh.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Xh.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Xh.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Xh.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Ym()).map(e=>{let[r]=e;return{props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:fp(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fp(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fp(t.palette[r].main,t.palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:r,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:fp(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:fp(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Xh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Xh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Xh.loading}`]:{color:"transparent"}}}]}})),nf=$m("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${Wm(r.size)}`]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...tf]}}),af=$m("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${Wm(r.size)}`]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...tf]}}),sf=$m("span",{name:"MuiButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}}),of=$m("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),lf=t.forwardRef(function(e,r){const n=t.useContext(Zh),a=t.useContext(ef),s=Hm({props:Bm(n,e),name:"MuiButton"}),{children:i,color:l="primary",component:c="button",className:d,disabled:u=!1,disableElevation:p=!1,disableFocusRipple:m=!1,endIcon:h,focusVisibleClassName:f,fullWidth:g=!1,id:x,loading:y=null,loadingIndicator:v,loadingPosition:b="center",size:w="medium",startIcon:j,type:N,variant:k="text",...S}=s,C=nh(x),E=v??(0,o.jsx)(Gh,{"aria-labelledby":C,color:"inherit",size:16}),P={...s,color:l,component:c,disabled:u,disableElevation:p,disableFocusRipple:m,fullWidth:g,loading:y,loadingIndicator:E,loadingPosition:b,size:w,type:N,variant:k},D=(e=>{const{color:t,disableElevation:r,fullWidth:n,size:a,variant:s,loading:o,loadingPosition:i,classes:l}=e,c=Sm({root:["root",o&&"loading",s,`${s}${Wm(t)}`,`size${Wm(a)}`,`${s}Size${Wm(a)}`,`color${Wm(t)}`,r&&"disableElevation",n&&"fullWidth",o&&`loadingPosition${Wm(i)}`],startIcon:["icon","startIcon",`iconSize${Wm(a)}`],endIcon:["icon","endIcon",`iconSize${Wm(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},Jh,l);return{...l,...c}})(P),I=(j||y&&"start"===b)&&(0,o.jsx)(nf,{className:D.startIcon,ownerState:P,children:j||(0,o.jsx)(of,{className:D.loadingIconPlaceholder,ownerState:P})}),T=(h||y&&"end"===b)&&(0,o.jsx)(af,{className:D.endIcon,ownerState:P,children:h||(0,o.jsx)(of,{className:D.loadingIconPlaceholder,ownerState:P})}),M=a||"",A="boolean"===typeof y?(0,o.jsx)("span",{className:D.loadingWrapper,style:{display:"contents"},children:y&&(0,o.jsx)(sf,{className:D.loadingIndicator,ownerState:P,children:E})}):null;return(0,o.jsxs)(rf,{ownerState:P,className:Ht(n.className,D.root,d,M),component:c,disabled:u||y,focusRipple:!m,focusVisibleClassName:Ht(D.focusVisible,f),ref:r,type:N,id:y?C:x,...S,classes:D,children:[I,"end"!==b&&A,i,"end"===b&&A,T]})}),cf=lf;const df=function(e){return"string"===typeof e};const uf=function(e,t,r){return void 0===e||df(e)?t:{...t,ownerState:{...t.ownerState,...r}}};const pf=function(e,t,r){return"function"===typeof e?e(t,r):e};const mf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const r={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&"function"===typeof e[r]&&!t.includes(r)).forEach(t=>{r[t]=e[t]}),r};const hf=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(r=>{t[r]=e[r]}),t};const ff=function(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:a,className:s}=e;if(!t){const e=Ht(r?.className,s,a?.className,n?.className),t={...r?.style,...a?.style,...n?.style},o={...r,...a,...n};return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}const o=mf({...a,...n}),i=hf(n),l=hf(a),c=t(o),d=Ht(c?.className,r?.className,s,a?.className,n?.className),u={...c?.style,...r?.style,...a?.style,...n?.style},p={...c,...r,...l,...i};return d.length>0&&(p.className=d),Object.keys(u).length>0&&(p.style=u),{props:p,internalRef:c.ref}};function gf(e,t){const{className:r,elementType:n,ownerState:a,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:i=!1,...l}=t,{component:c,slots:d={[e]:void 0},slotProps:u={[e]:void 0},...p}=s,m=d[e]||n,h=pf(u[e],a),{props:{component:f,...g},internalRef:x}=ff({className:r,...l,externalForwardedProps:"root"===e?p:void 0,externalSlotProps:h}),y=sh(x,h?.ref,t.ref),v="root"===e?f||c:f;return[m,uf(m,{..."root"===e&&!c&&!d[e]&&o,..."root"!==e&&!d[e]&&o,...g,...v&&!i&&{as:v},...v&&i&&{component:v},ref:y},a)]}function xf(e){return vm("MuiPaper",e)}bm("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const yf=$m("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,"elevation"===r.variant&&t[`elevation${r.elevation}`]]}})(qm(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),vf=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiPaper"}),n=function(){const e=sp(zm);return e[xm]||e}(),{className:a,component:s="div",elevation:i=1,square:l=!1,variant:c="elevation",...d}=r,u={...r,component:s,elevation:i,square:l,variant:c},p=(e=>{const{square:t,elevation:r,variant:n,classes:a}=e;return Sm({root:["root",n,!t&&"rounded","elevation"===n&&`elevation${r}`]},xf,a)})(u);return(0,o.jsx)(yf,{as:s,ownerState:u,className:Ht(p.root,a),ref:t,...d,style:{..."elevation"===c&&{"--Paper-shadow":(n.vars||n).shadows[i],...n.vars&&{"--Paper-overlay":n.vars.overlays?.[i]},...!n.vars&&"dark"===n.palette.mode&&{"--Paper-overlay":`linear-gradient(${fp("#fff",rm(i))}, ${fp("#fff",rm(i))})`}},...d.style}})});function bf(e){return vm("MuiAlert",e)}const wf=bm("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function jf(e){return vm("MuiIconButton",e)}const Nf=bm("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),kf=$m($h,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,"default"!==r.color&&t[`color${Wm(r.color)}`],r.edge&&t[`edge${Wm(r.edge)}`],t[`size${Wm(r.size)}`]]}})(qm(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:fp(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),qm(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Ym()).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].main}}}),...Object.entries(t.palette).filter(Ym()).map(e=>{let[r]=e;return{props:{color:r},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fp((t.vars||t).palette[r].main,t.palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Nf.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Nf.loading}`]:{color:"transparent"}}})),Sf=$m("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),Cf=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiIconButton"}),{edge:n=!1,children:a,className:s,color:i="default",disabled:l=!1,disableFocusRipple:c=!1,size:d="medium",id:u,loading:p=null,loadingIndicator:m,...h}=r,f=nh(u),g=m??(0,o.jsx)(Gh,{"aria-labelledby":f,color:"inherit",size:16}),x={...r,edge:n,color:i,disabled:l,disableFocusRipple:c,loading:p,loadingIndicator:g,size:d},y=(e=>{const{classes:t,disabled:r,color:n,edge:a,size:s,loading:o}=e;return Sm({root:["root",o&&"loading",r&&"disabled","default"!==n&&`color${Wm(n)}`,a&&`edge${Wm(a)}`,`size${Wm(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},jf,t)})(x);return(0,o.jsxs)(kf,{id:p?f:u,className:Ht(y.root,s),centerRipple:!0,focusRipple:!c,disabled:l||p,ref:t,...h,ownerState:x,children:["boolean"===typeof p&&(0,o.jsx)("span",{className:y.loadingWrapper,style:{display:"contents"},children:(0,o.jsx)(Sf,{className:y.loadingIndicator,ownerState:x,children:p&&g})}),a]})}),Ef=Cf;function Pf(e){return vm("MuiSvgIcon",e)}bm("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Df=$m("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t[`color${Wm(r.color)}`],t[`fontSize${Wm(r.fontSize)}`]]}})(qm(e=>{let{theme:t}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars??t).palette?.[r]?.main}}}),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),If=t.forwardRef(function(e,r){const n=Hm({props:e,name:"MuiSvgIcon"}),{children:a,className:s,color:i="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:u=!1,titleAccess:p,viewBox:m="0 0 24 24",...h}=n,f=t.isValidElement(a)&&"svg"===a.type,g={...n,color:i,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:m,hasSvgAsChild:f},x={};u||(x.viewBox=m);const y=(e=>{const{color:t,fontSize:r,classes:n}=e;return Sm({root:["root","inherit"!==t&&`color${Wm(t)}`,`fontSize${Wm(r)}`]},Pf,n)})(g);return(0,o.jsxs)(Df,{as:l,className:Ht(y.root,s),focusable:"false",color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:r,...x,...h,...f&&a.props,ownerState:g,children:[f?a.props.children:a,p?(0,o.jsx)("title",{children:p}):null]})});If.muiName="SvgIcon";const Tf=If;function Mf(e,r){function n(t,r){return(0,o.jsx)(Tf,{"data-testid":void 0,ref:r,...t,children:e})}return n.muiName=Tf.muiName,t.memo(t.forwardRef(n))}const Af=Mf((0,o.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),_f=Mf((0,o.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),zf=Mf((0,o.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Of=Mf((0,o.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Lf=Mf((0,o.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Rf=$m(vf,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Wm(r.color||r.severity)}`]]}})(qm(e=>{let{theme:t}=e;const r="light"===t.palette.mode?xp:vp,n="light"===t.palette.mode?vp:xp;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Ym(["light"])).map(e=>{let[a]=e;return{props:{colorSeverity:a,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${a}Color`]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${a}StandardBg`]:n(t.palette[a].light,.9),[`& .${wf.icon}`]:t.vars?{color:t.vars.palette.Alert[`${a}IconColor`]}:{color:t.palette[a].main}}}}),...Object.entries(t.palette).filter(Ym(["light"])).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:r(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${wf.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}}}),...Object.entries(t.palette).filter(Ym(["dark"])).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}})]}})),$f=$m("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ff=$m("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),qf=$m("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Bf={success:(0,o.jsx)(Af,{fontSize:"inherit"}),warning:(0,o.jsx)(_f,{fontSize:"inherit"}),error:(0,o.jsx)(zf,{fontSize:"inherit"}),info:(0,o.jsx)(Of,{fontSize:"inherit"})},Vf=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiAlert"}),{action:n,children:a,className:s,closeText:i="Close",color:l,components:c={},componentsProps:d={},icon:u,iconMapping:p=Bf,onClose:m,role:h="alert",severity:f="success",slotProps:g={},slots:x={},variant:y="standard",...v}=r,b={...r,color:l,severity:f,variant:y,colorSeverity:l||f},w=(e=>{const{variant:t,color:r,severity:n,classes:a}=e;return Sm({root:["root",`color${Wm(r||n)}`,`${t}${Wm(r||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]},bf,a)})(b),j={slots:{closeButton:c.CloseButton,closeIcon:c.CloseIcon,...x},slotProps:{...d,...g}},[N,k]=gf("root",{ref:t,shouldForwardComponentProp:!0,className:Ht(w.root,s),elementType:Rf,externalForwardedProps:{...j,...v},ownerState:b,additionalProps:{role:h,elevation:0}}),[S,C]=gf("icon",{className:w.icon,elementType:$f,externalForwardedProps:j,ownerState:b}),[E,P]=gf("message",{className:w.message,elementType:Ff,externalForwardedProps:j,ownerState:b}),[D,I]=gf("action",{className:w.action,elementType:qf,externalForwardedProps:j,ownerState:b}),[T,M]=gf("closeButton",{elementType:Ef,externalForwardedProps:j,ownerState:b}),[A,_]=gf("closeIcon",{elementType:Lf,externalForwardedProps:j,ownerState:b});return(0,o.jsxs)(N,{...k,children:[!1!==u?(0,o.jsx)(S,{...C,children:u||p[f]||Bf[f]}):null,(0,o.jsx)(E,{...P,children:a}),null!=n?(0,o.jsx)(D,{...I,children:n}):null,null==n&&m?(0,o.jsx)(D,{...I,children:(0,o.jsx)(T,{size:"small","aria-label":i,title:i,color:"inherit",onClick:m,...M,children:(0,o.jsx)(A,{fontSize:"small",..._})})}):null]})}),Uf=Vf;function Hf(e){return vm("MuiCard",e)}bm("MuiCard",["root"]);const Wf=$m(vf,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Yf=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiCard"}),{className:n,raised:a=!1,...s}=r,i={...r,raised:a},l=(e=>{const{classes:t}=e;return Sm({root:["root"]},Hf,t)})(i);return(0,o.jsx)(Wf,{className:Ht(l.root,n),elevation:a?8:void 0,ref:t,ownerState:i,...s})});function Kf(e){return vm("MuiCardContent",e)}bm("MuiCardContent",["root"]);const Qf=$m("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Gf=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiCardContent"}),{className:n,component:a="div",...s}=r,i={...r,component:a},l=(e=>{const{classes:t}=e;return Sm({root:["root"]},Kf,t)})(i);return(0,o.jsx)(Qf,{as:a,className:Ht(l.root,n),ownerState:i,ref:t,...s})});function Jf(e){return vm("MuiTableContainer",e)}bm("MuiTableContainer",["root"]);const Xf=$m("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),Zf=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiTableContainer"}),{className:n,component:a="div",...s}=r,i={...r,component:a},l=(e=>{const{classes:t}=e;return Sm({root:["root"]},Jf,t)})(i);return(0,o.jsx)(Xf,{ref:t,as:a,className:Ht(l.root,n),ownerState:i,...s})});const eg=t.createContext();function tg(e){return vm("MuiTable",e)}bm("MuiTable",["root","stickyHeader"]);const rg=$m("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(qm(e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}})),ng="table",ag=t.forwardRef(function(e,r){const n=Hm({props:e,name:"MuiTable"}),{className:a,component:s=ng,padding:i="normal",size:l="medium",stickyHeader:c=!1,...d}=n,u={...n,component:s,padding:i,size:l,stickyHeader:c},p=(e=>{const{classes:t,stickyHeader:r}=e;return Sm({root:["root",r&&"stickyHeader"]},tg,t)})(u),m=t.useMemo(()=>({padding:i,size:l,stickyHeader:c}),[i,l,c]);return(0,o.jsx)(eg.Provider,{value:m,children:(0,o.jsx)(rg,{as:s,role:s===ng?null:"table",ref:r,className:Ht(p.root,a),ownerState:u,...d})})}),sg=ag;const og=t.createContext();function ig(e){return vm("MuiTableHead",e)}bm("MuiTableHead",["root"]);const lg=$m("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),cg={variant:"head"},dg="thead",ug=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiTableHead"}),{className:n,component:a=dg,...s}=r,i={...r,component:a},l=(e=>{const{classes:t}=e;return Sm({root:["root"]},ig,t)})(i);return(0,o.jsx)(og.Provider,{value:cg,children:(0,o.jsx)(lg,{as:a,className:Ht(l.root,n),ref:t,role:a===dg?null:"rowgroup",ownerState:i,...s})})});function pg(e){return vm("MuiTableRow",e)}const mg=bm("MuiTableRow",["root","selected","hover","head","footer"]),hg=$m("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(qm(e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${mg.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${mg.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fp(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fp(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),fg="tr",gg=t.forwardRef(function(e,r){const n=Hm({props:e,name:"MuiTableRow"}),{className:a,component:s=fg,hover:i=!1,selected:l=!1,...c}=n,d=t.useContext(og),u={...n,component:s,hover:i,selected:l,head:d&&"head"===d.variant,footer:d&&"footer"===d.variant},p=(e=>{const{classes:t,selected:r,hover:n,head:a,footer:s}=e;return Sm({root:["root",r&&"selected",n&&"hover",a&&"head",s&&"footer"]},pg,t)})(u);return(0,o.jsx)(hg,{as:s,ref:r,className:Ht(p.root,a),role:s===fg?null:"row",ownerState:u,...c})}),xg=gg;function yg(e){return vm("MuiTableCell",e)}const vg=bm("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),bg=$m("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${Wm(r.size)}`],"normal"!==r.padding&&t[`padding${Wm(r.padding)}`],"inherit"!==r.align&&t[`align${Wm(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(qm(e=>{let{theme:t}=e;return{...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===t.palette.mode?vp(fp(t.palette.divider,1),.88):xp(fp(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${vg.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}})),wg=t.forwardRef(function(e,r){const n=Hm({props:e,name:"MuiTableCell"}),{align:a="inherit",className:s,component:i,padding:l,scope:c,size:d,sortDirection:u,variant:p,...m}=n,h=t.useContext(eg),f=t.useContext(og),g=f&&"head"===f.variant;let x;x=i||(g?"th":"td");let y=c;"td"===x?y=void 0:!y&&g&&(y="col");const v=p||f&&f.variant,b={...n,align:a,component:x,padding:l||(h&&h.padding?h.padding:"normal"),size:d||(h&&h.size?h.size:"medium"),sortDirection:u,stickyHeader:"head"===v&&h&&h.stickyHeader,variant:v},w=(e=>{const{classes:t,variant:r,align:n,padding:a,size:s,stickyHeader:o}=e;return Sm({root:["root",r,o&&"stickyHeader","inherit"!==n&&`align${Wm(n)}`,"normal"!==a&&`padding${Wm(a)}`,`size${Wm(s)}`]},yg,t)})(b);let j=null;return u&&(j="asc"===u?"ascending":"descending"),(0,o.jsx)(bg,{as:x,ref:r,className:Ht(w.root,s),"aria-sort":j,scope:y,ownerState:b,...m})}),jg=wg;function Ng(e){return vm("MuiTableBody",e)}bm("MuiTableBody",["root"]);const kg=$m("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Sg={variant:"body"},Cg="tbody",Eg=t.forwardRef(function(e,t){const r=Hm({props:e,name:"MuiTableBody"}),{className:n,component:a=Cg,...s}=r,i={...r,component:a},l=(e=>{const{classes:t}=e;return Sm({root:["root"]},Ng,t)})(i);return(0,o.jsx)(og.Provider,{value:Sg,children:(0,o.jsx)(kg,{className:Ht(l.root,n),as:a,ref:t,role:a===Cg?null:"rowgroup",ownerState:i,...s})})}),Pg=Mf((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Dg(e){return vm("MuiChip",e)}const Ig=bm("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Tg=$m("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:a,clickable:s,onDelete:o,size:i,variant:l}=r;return[{[`& .${Ig.avatar}`]:t.avatar},{[`& .${Ig.avatar}`]:t[`avatar${Wm(i)}`]},{[`& .${Ig.avatar}`]:t[`avatarColor${Wm(n)}`]},{[`& .${Ig.icon}`]:t.icon},{[`& .${Ig.icon}`]:t[`icon${Wm(i)}`]},{[`& .${Ig.icon}`]:t[`iconColor${Wm(a)}`]},{[`& .${Ig.deleteIcon}`]:t.deleteIcon},{[`& .${Ig.deleteIcon}`]:t[`deleteIcon${Wm(i)}`]},{[`& .${Ig.deleteIcon}`]:t[`deleteIconColor${Wm(n)}`]},{[`& .${Ig.deleteIcon}`]:t[`deleteIcon${Wm(l)}Color${Wm(n)}`]},t.root,t[`size${Wm(i)}`],t[`color${Wm(n)}`],s&&t.clickable,s&&"default"!==n&&t[`clickableColor${Wm(n)})`],o&&t.deletable,o&&"default"!==n&&t[`deletableColor${Wm(n)}`],t[l],t[`${l}${Wm(n)}`]]}})(qm(e=>{let{theme:t}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ig.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ig.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${Ig.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Ig.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Ig.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Ig.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Ig.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:fp(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:fp(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Ig.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Ig.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Ym(["contrastText"])).map(e=>{let[r]=e;return{props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main,color:(t.vars||t).palette[r].contrastText,[`& .${Ig.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[r].contrastTextChannel} / 0.7)`:fp(t.palette[r].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].contrastText}}}}}),{props:e=>e.iconColor===e.color,style:{[`& .${Ig.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:r}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{[`& .${Ig.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Ig.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fp(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Ym(["dark"])).map(e=>{let[r]=e;return{props:{color:r,onDelete:!0},style:{[`&.${Ig.focusVisible}`]:{background:(t.vars||t).palette[r].dark}}}}),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fp(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Ig.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fp(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Ym(["dark"])).map(e=>{let[r]=e;return{props:{color:r,clickable:!0},style:{[`&:hover, &.${Ig.focusVisible}`]:{backgroundColor:(t.vars||t).palette[r].dark}}}}),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Ig.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ig.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Ig.avatar}`]:{marginLeft:4},[`& .${Ig.avatarSmall}`]:{marginLeft:2},[`& .${Ig.icon}`]:{marginLeft:4},[`& .${Ig.iconSmall}`]:{marginLeft:2},[`& .${Ig.deleteIcon}`]:{marginRight:5},[`& .${Ig.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Ym()).map(e=>{let[r]=e;return{props:{variant:"outlined",color:r},style:{color:(t.vars||t).palette[r].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.7)`:fp(t.palette[r].main,.7)}`,[`&.${Ig.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fp(t.palette[r].main,t.palette.action.hoverOpacity)},[`&.${Ig.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.focusOpacity})`:fp(t.palette[r].main,t.palette.action.focusOpacity)},[`& .${Ig.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.7)`:fp(t.palette[r].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].main}}}}})]}})),Mg=$m("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${Wm(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Ag(e){return"Backspace"===e.key||"Delete"===e.key}const _g=t.forwardRef(function(e,r){const n=Hm({props:e,name:"MuiChip"}),{avatar:a,className:s,clickable:i,color:l="default",component:c,deleteIcon:d,disabled:u=!1,icon:p,label:m,onClick:h,onDelete:f,onKeyDown:g,onKeyUp:x,size:y="medium",variant:v="filled",tabIndex:b,skipFocusWhenDisabled:w=!1,slots:j={},slotProps:N={},...k}=n,S=t.useRef(null),C=oh(S,r),E=e=>{e.stopPropagation(),f&&f(e)},P=!(!1===i||!h)||i,D=P||f?$h:c||"div",I={...n,component:D,disabled:u,size:y,color:l,iconColor:t.isValidElement(p)&&p.props.color||l,onDelete:!!f,clickable:P,variant:v},T=(e=>{const{classes:t,disabled:r,size:n,color:a,iconColor:s,onDelete:o,clickable:i,variant:l}=e;return Sm({root:["root",l,r&&"disabled",`size${Wm(n)}`,`color${Wm(a)}`,i&&"clickable",i&&`clickableColor${Wm(a)}`,o&&"deletable",o&&`deletableColor${Wm(a)}`,`${l}${Wm(a)}`],label:["label",`label${Wm(n)}`],avatar:["avatar",`avatar${Wm(n)}`,`avatarColor${Wm(a)}`],icon:["icon",`icon${Wm(n)}`,`iconColor${Wm(s)}`],deleteIcon:["deleteIcon",`deleteIcon${Wm(n)}`,`deleteIconColor${Wm(a)}`,`deleteIcon${Wm(l)}Color${Wm(a)}`]},Dg,t)})(I),M=D===$h?{component:c||"div",focusVisibleClassName:T.focusVisible,...f&&{disableRipple:!0}}:{};let A=null;f&&(A=d&&t.isValidElement(d)?t.cloneElement(d,{className:Ht(d.props.className,T.deleteIcon),onClick:E}):(0,o.jsx)(Pg,{className:T.deleteIcon,onClick:E}));let _=null;a&&t.isValidElement(a)&&(_=t.cloneElement(a,{className:Ht(T.avatar,a.props.className)}));let z=null;p&&t.isValidElement(p)&&(z=t.cloneElement(p,{className:Ht(T.icon,p.props.className)}));const O={slots:j,slotProps:N},[L,R]=gf("root",{elementType:Tg,externalForwardedProps:{...O,...k},ownerState:I,shouldForwardComponentProp:!0,ref:C,className:Ht(T.root,s),additionalProps:{disabled:!(!P||!u)||void 0,tabIndex:w&&u?-1:b,...M},getSlotProps:e=>({...e,onClick:t=>{e.onClick?.(t),h?.(t)},onKeyDown:t=>{e.onKeyDown?.(t),(e=>{e.currentTarget===e.target&&Ag(e)&&e.preventDefault(),g&&g(e)})?.(t)},onKeyUp:t=>{e.onKeyUp?.(t),(e=>{e.currentTarget===e.target&&f&&Ag(e)&&f(e),x&&x(e)})?.(t)}})}),[$,F]=gf("label",{elementType:Mg,externalForwardedProps:O,ownerState:I,className:T.label});return(0,o.jsxs)(L,{as:D,...R,children:[_||z,(0,o.jsx)($,{...F,children:m}),A]})}),zg=_g,Og=Mf((0,o.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),Lg=Mf((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}));function Rg(e,t){return function(){return e.apply(t,arguments)}}const{toString:$g}=Object.prototype,{getPrototypeOf:Fg}=Object,{iterator:qg,toStringTag:Bg}=Symbol,Vg=(Ug=Object.create(null),e=>{const t=$g.call(e);return Ug[t]||(Ug[t]=t.slice(8,-1).toLowerCase())});var Ug;const Hg=e=>(e=e.toLowerCase(),t=>Vg(t)===e),Wg=e=>t=>typeof t===e,{isArray:Yg}=Array,Kg=Wg("undefined");const Qg=Hg("ArrayBuffer");const Gg=Wg("string"),Jg=Wg("function"),Xg=Wg("number"),Zg=e=>null!==e&&"object"===typeof e,ex=e=>{if("object"!==Vg(e))return!1;const t=Fg(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Bg in e)&&!(qg in e)},tx=Hg("Date"),rx=Hg("File"),nx=Hg("Blob"),ax=Hg("FileList"),sx=Hg("URLSearchParams"),[ox,ix,lx,cx]=["ReadableStream","Request","Response","Headers"].map(Hg);function dx(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Yg(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let o;for(r=0;r<s;r++)o=n[r],t.call(null,e[o],o,e)}}function ux(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const px="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,mx=e=>!Kg(e)&&e!==px;const hx=(fx="undefined"!==typeof Uint8Array&&Fg(Uint8Array),e=>fx&&e instanceof fx);var fx;const gx=Hg("HTMLFormElement"),xx=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),yx=Hg("RegExp"),vx=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};dx(r,(r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)}),Object.defineProperties(e,n)};const bx=Hg("AsyncFunction"),wx=(jx="function"===typeof setImmediate,Nx=Jg(px.postMessage),jx?setImmediate:Nx?((e,t)=>(px.addEventListener("message",r=>{let{source:n,data:a}=r;n===px&&a===e&&t.length&&t.shift()()},!1),r=>{t.push(r),px.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var jx,Nx;const kx="undefined"!==typeof queueMicrotask?queueMicrotask.bind(px):"undefined"!==typeof process&&process.nextTick||wx,Sx={isArray:Yg,isArrayBuffer:Qg,isBuffer:function(e){return null!==e&&!Kg(e)&&null!==e.constructor&&!Kg(e.constructor)&&Jg(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Jg(e.append)&&("formdata"===(t=Vg(e))||"object"===t&&Jg(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Qg(e.buffer),t},isString:Gg,isNumber:Xg,isBoolean:e=>!0===e||!1===e,isObject:Zg,isPlainObject:ex,isReadableStream:ox,isRequest:ix,isResponse:lx,isHeaders:cx,isUndefined:Kg,isDate:tx,isFile:rx,isBlob:nx,isRegExp:yx,isFunction:Jg,isStream:e=>Zg(e)&&Jg(e.pipe),isURLSearchParams:sx,isTypedArray:hx,isFileList:ax,forEach:dx,merge:function e(){const{caseless:t}=mx(this)&&this||{},r={},n=(n,a)=>{const s=t&&ux(r,a)||a;ex(r[s])&&ex(n)?r[s]=e(r[s],n):ex(n)?r[s]=e({},n):Yg(n)?r[s]=n.slice():r[s]=n};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&dx(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return dx(t,(t,n)=>{r&&Jg(t)?e[n]=Rg(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,o;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],n&&!n(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==r&&Fg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Vg,kindOfTest:Hg,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Yg(e))return e;let t=e.length;if(!Xg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[qg]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:gx,hasOwnProperty:xx,hasOwnProp:xx,reduceDescriptors:vx,freezeMethods:e=>{vx(e,(t,r)=>{if(Jg(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Jg(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Yg(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ux,global:px,isContextDefined:mx,isSpecCompliantForm:function(e){return!!(e&&Jg(e.append)&&"FormData"===e[Bg]&&e[qg])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Zg(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=Yg(e)?[]:{};return dx(e,(e,t)=>{const s=r(e,n+1);!Kg(s)&&(a[t]=s)}),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:bx,isThenable:e=>e&&(Zg(e)||Jg(e))&&Jg(e.then)&&Jg(e.catch),setImmediate:wx,asap:kx,isIterable:e=>null!=e&&Jg(e[qg])};function Cx(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Sx.inherits(Cx,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Sx.toJSONObject(this.config),code:this.code,status:this.status}}});const Ex=Cx.prototype,Px={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Px[e]={value:e}}),Object.defineProperties(Cx,Px),Object.defineProperty(Ex,"isAxiosError",{value:!0}),Cx.from=(e,t,r,n,a,s)=>{const o=Object.create(Ex);return Sx.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Cx.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Dx=Cx;function Ix(e){return Sx.isPlainObject(e)||Sx.isArray(e)}function Tx(e){return Sx.endsWith(e,"[]")?e.slice(0,-2):e}function Mx(e,t,r){return e?e.concat(t).map(function(e,t){return e=Tx(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Ax=Sx.toFlatObject(Sx,{},null,function(e){return/^is[A-Z]/.test(e)});const _x=function(e,t,r){if(!Sx.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=Sx.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Sx.isUndefined(t[e])})).metaTokens,a=r.visitor||c,s=r.dots,o=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Sx.isSpecCompliantForm(t);if(!Sx.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Sx.isDate(e))return e.toISOString();if(Sx.isBoolean(e))return e.toString();if(!i&&Sx.isBlob(e))throw new Dx("Blob is not supported. Use a Buffer instead.");return Sx.isArrayBuffer(e)||Sx.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let i=e;if(e&&!a&&"object"===typeof e)if(Sx.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Sx.isArray(e)&&function(e){return Sx.isArray(e)&&!e.some(Ix)}(e)||(Sx.isFileList(e)||Sx.endsWith(r,"[]"))&&(i=Sx.toArray(e)))return r=Tx(r),i.forEach(function(e,n){!Sx.isUndefined(e)&&null!==e&&t.append(!0===o?Mx([r],n,s):null===o?r:r+"[]",l(e))}),!1;return!!Ix(e)||(t.append(Mx(a,r,s),l(e)),!1)}const d=[],u=Object.assign(Ax,{defaultVisitor:c,convertValue:l,isVisitable:Ix});if(!Sx.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Sx.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),Sx.forEach(r,function(r,s){!0===(!(Sx.isUndefined(r)||null===r)&&a.call(t,r,Sx.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])}),d.pop()}}(e),t};function zx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ox(e,t){this._pairs=[],e&&_x(e,this,t)}const Lx=Ox.prototype;Lx.append=function(e,t){this._pairs.push([e,t])},Lx.toString=function(e){const t=e?function(t){return e.call(this,t,zx)}:zx;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Rx=Ox;function $x(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fx(e,t,r){if(!t)return e;const n=r&&r.encode||$x;Sx.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(s=a?a(t,r):Sx.isURLSearchParams(t)?t.toString():new Rx(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const qx=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Sx.forEach(this.handlers,function(t){null!==t&&e(t)})}},Bx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vx={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Rx,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ux="undefined"!==typeof window&&"undefined"!==typeof document,Hx="object"===typeof navigator&&navigator||void 0,Wx=Ux&&(!Hx||["ReactNative","NativeScript","NS"].indexOf(Hx.product)<0),Yx="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Kx=Ux&&window.location.href||"http://localhost",Qx={...e,...Vx};const Gx=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),i=a>=e.length;if(s=!s&&Sx.isArray(n)?n.length:s,i)return Sx.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o;n[s]&&Sx.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&Sx.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!o}if(Sx.isFormData(e)&&Sx.isFunction(e.entries)){const r={};return Sx.forEachEntry(e,(e,n)=>{t(function(e){return Sx.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const Jx={transitional:Bx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=Sx.isObject(e);a&&Sx.isHTMLForm(e)&&(e=new FormData(e));if(Sx.isFormData(e))return n?JSON.stringify(Gx(e)):e;if(Sx.isArrayBuffer(e)||Sx.isBuffer(e)||Sx.isStream(e)||Sx.isFile(e)||Sx.isBlob(e)||Sx.isReadableStream(e))return e;if(Sx.isArrayBufferView(e))return e.buffer;if(Sx.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _x(e,new Qx.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Qx.isNode&&Sx.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Sx.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return _x(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(Sx.isString(e))try{return(t||JSON.parse)(e),Sx.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Jx.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Sx.isResponse(e)||Sx.isReadableStream(e))return e;if(e&&Sx.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(r){if("SyntaxError"===a.name)throw Dx.from(a,Dx.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qx.classes.FormData,Blob:Qx.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Sx.forEach(["delete","get","head","post","put","patch"],e=>{Jx.headers[e]={}});const Xx=Jx,Zx=Sx.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ey=Symbol("internals");function ty(e){return e&&String(e).trim().toLowerCase()}function ry(e){return!1===e||null==e?e:Sx.isArray(e)?e.map(ry):String(e)}function ny(e,t,r,n,a){return Sx.isFunction(n)?n.call(this,t,r):(a&&(t=r),Sx.isString(t)?Sx.isString(n)?-1!==t.indexOf(n):Sx.isRegExp(n)?n.test(t):void 0:void 0)}class ay{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=ty(t);if(!a)throw new Error("header name must be a non-empty string");const s=Sx.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=ry(e))}const s=(e,t)=>Sx.forEach(e,(e,r)=>a(e,r,t));if(Sx.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Sx.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&Zx[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(Sx.isObject(e)&&Sx.isIterable(e)){let r,n,a={};for(const t of e){if(!Sx.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?Sx.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=ty(e)){const r=Sx.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Sx.isFunction(t))return t.call(this,e,r);if(Sx.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ty(e)){const r=Sx.findKey(this,e);return!(!r||void 0===this[r]||t&&!ny(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=ty(e)){const a=Sx.findKey(r,e);!a||t&&!ny(0,r[a],a,t)||(delete r[a],n=!0)}}return Sx.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!ny(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return Sx.forEach(this,(n,a)=>{const s=Sx.findKey(r,a);if(s)return t[s]=ry(n),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();o!==a&&delete t[a],t[o]=ry(n),r[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Sx.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Sx.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ey]=this[ey]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=ty(e);t[n]||(!function(e,t){const r=Sx.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[n]=!0)}return Sx.isArray(e)?e.forEach(n):n(e),this}}ay.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Sx.reduceDescriptors(ay.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),Sx.freezeMethods(ay);const sy=ay;function oy(e,t){const r=this||Xx,n=t||r,a=sy.from(n.headers);let s=n.data;return Sx.forEach(e,function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function iy(e){return!(!e||!e.__CANCEL__)}function ly(e,t,r){Dx.call(this,null==e?"canceled":e,Dx.ERR_CANCELED,t,r),this.name="CanceledError"}Sx.inherits(ly,Dx,{__CANCEL__:!0});const cy=ly;function dy(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Dx("Request failed with status code "+r.status,[Dx.ERR_BAD_REQUEST,Dx.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const uy=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=n[o];a||(a=l),r[s]=i,n[s]=l;let d=o,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-a<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const py=function(e,t){let r,n,a=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=s?o(l,e):(r=l,n||(n=setTimeout(()=>{n=null,o(r)},s-t)))},()=>r&&o(r)]},my=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=uy(50,250);return py(r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,i=s-n,l=a(i);n=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})},r)},hy=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},fy=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Sx.asap(()=>e(...r))},gy=Qx.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Qx.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Qx.origin),Qx.navigator&&/(msie|trident)/i.test(Qx.navigator.userAgent)):()=>!0,xy=Qx.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const o=[e+"="+encodeURIComponent(t)];Sx.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Sx.isString(n)&&o.push("path="+n),Sx.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function yy(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const vy=e=>e instanceof sy?{...e}:e;function by(e,t){t=t||{};const r={};function n(e,t,r,n){return Sx.isPlainObject(e)&&Sx.isPlainObject(t)?Sx.merge.call({caseless:n},e,t):Sx.isPlainObject(t)?Sx.merge({},t):Sx.isArray(t)?t.slice():t}function a(e,t,r,a){return Sx.isUndefined(t)?Sx.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!Sx.isUndefined(t))return n(void 0,t)}function o(e,t){return Sx.isUndefined(t)?Sx.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,r)=>a(vy(e),vy(t),0,!0)};return Sx.forEach(Object.keys(Object.assign({},e,t)),function(n){const s=l[n]||a,o=s(e[n],t[n],n);Sx.isUndefined(o)&&s!==i||(r[n]=o)}),r}const wy=e=>{const t=by({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=sy.from(i),t.url=Fx(yy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Sx.isFormData(n))if(Qx.hasStandardBrowserEnv||Qx.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(r=i.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(Qx.hasStandardBrowserEnv&&(a&&Sx.isFunction(a)&&(a=a(t)),a||!1!==a&&gy(t.url))){const e=s&&o&&xy.read(o);e&&i.set(s,e)}return t},jy="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=wy(e);let a=n.data;const s=sy.from(n.headers).normalize();let o,i,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:m}=n;function h(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=sy.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());dy(function(e){t(e),h()},function(e){r(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(r(new Dx("Request aborted",Dx.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Dx("Network Error",Dx.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||Bx;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Dx(t,a.clarifyTimeoutError?Dx.ETIMEDOUT:Dx.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&Sx.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Sx.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),m&&([l,d]=my(m,!0),f.addEventListener("progress",l)),p&&f.upload&&([i,c]=my(p),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(o=t=>{f&&(r(!t||t.type?new cy(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);x&&-1===Qx.protocols.indexOf(x)?r(new Dx("Unsupported protocol "+x+":",Dx.ERR_BAD_REQUEST,e)):f.send(a||null)})},Ny=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Dx?t:new cy(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Dx(`timeout ${t} of ms exceeded`,Dx.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:i}=n;return i.unsubscribe=()=>Sx.asap(o),i}},ky=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Sy=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},Cy=(e,t,r,n)=>{const a=async function*(e,t){for await(const r of Sy(e))yield*ky(r,t)}(e,t);let s,o=0,i=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return i(),void e.close();let s=n.byteLength;if(r){let e=o+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},Ey="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Py=Ey&&"function"===typeof ReadableStream,Dy=Ey&&("function"===typeof TextEncoder?(Iy=new TextEncoder,e=>Iy.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Iy;const Ty=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(a){return!1}},My=Py&&Ty(()=>{let e=!1;const t=new Request(Qx.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ay=Py&&Ty(()=>Sx.isReadableStream(new Response("").body)),_y={stream:Ay&&(e=>e.body)};var zy;Ey&&(zy=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!_y[e]&&(_y[e]=Sx.isFunction(zy[e])?t=>t[e]():(t,r)=>{throw new Dx(`Response type '${e}' is not supported`,Dx.ERR_NOT_SUPPORT,r)})}));const Oy=async(e,t)=>{const r=Sx.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Sx.isBlob(e))return e.size;if(Sx.isSpecCompliantForm(e)){const t=new Request(Qx.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Sx.isArrayBufferView(e)||Sx.isArrayBuffer(e)?e.byteLength:(Sx.isURLSearchParams(e)&&(e+=""),Sx.isString(e)?(await Dy(e)).byteLength:void 0)})(t):r},Ly=Ey&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:s,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=wy(e);c=c?(c+"").toLowerCase():"text";let m,h=Ny([a,s&&s.toAbortSignal()],o);const f=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&My&&"get"!==r&&"head"!==r&&0!==(g=await Oy(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(Sx.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=hy(g,my(fy(l)));n=Cy(r.body,65536,e,t)}}Sx.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;m=new Request(t,{...p,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?u:void 0});let s=await fetch(m,p);const o=Ay&&("stream"===c||"response"===c);if(Ay&&(i||o&&f)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=Sx.toFiniteNumber(s.headers.get("content-length")),[r,n]=i&&hy(t,my(fy(i),!0))||[];s=new Response(Cy(s.body,65536,r,()=>{n&&n(),f&&f()}),e)}c=c||"text";let x=await _y[Sx.findKey(_y,c)||"text"](s,e);return!o&&f&&f(),await new Promise((t,r)=>{dy(t,r,{data:x,headers:sy.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:m})})}catch(x){if(f&&f(),x&&"TypeError"===x.name&&/Load failed|fetch/i.test(x.message))throw Object.assign(new Dx("Network Error",Dx.ERR_NETWORK,e,m),{cause:x.cause||x});throw Dx.from(x,x&&x.code,e,m)}}),Ry={http:null,xhr:jy,fetch:Ly};Sx.forEach(Ry,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const $y=e=>`- ${e}`,Fy=e=>Sx.isFunction(e)||null===e||!1===e,qy=e=>{e=Sx.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!Fy(r)&&(n=Ry[(t=String(r)).toLowerCase()],void 0===n))throw new Dx(`Unknown adapter '${t}'`);if(n)break;a[t||"#"+s]=n}if(!n){const e=Object.entries(a).map(e=>{let[t,r]=e;return`adapter ${t} `+(!1===r?"is not supported by the environment":"is not available in the build")});let r=t?e.length>1?"since :\n"+e.map($y).join("\n"):" "+$y(e[0]):"as no adapter specified";throw new Dx("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function By(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cy(null,e)}function Vy(e){By(e),e.headers=sy.from(e.headers),e.data=oy.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return qy(e.adapter||Xx.adapter)(e).then(function(t){return By(e),t.data=oy.call(e,e.transformResponse,t),t.headers=sy.from(t.headers),t},function(t){return iy(t)||(By(e),t&&t.response&&(t.response.data=oy.call(e,e.transformResponse,t.response),t.response.headers=sy.from(t.response.headers))),Promise.reject(t)})}const Uy="1.10.0",Hy={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Hy[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Wy={};Hy.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Uy+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new Dx(n(a," has been removed"+(t?" in "+t:"")),Dx.ERR_DEPRECATED);return t&&!Wy[a]&&(Wy[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},Hy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};const Yy={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Dx("options must be an object",Dx.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new Dx("option "+s+" must be "+r,Dx.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Dx("Unknown option "+s,Dx.ERR_BAD_OPTION)}},validators:Hy},Ky=Yy.validators;class Qy{constructor(e){this.defaults=e||{},this.interceptors={request:new qx,response:new qx}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(n){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=by(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&Yy.assertOptions(r,{silentJSONParsing:Ky.transitional(Ky.boolean),forcedJSONParsing:Ky.transitional(Ky.boolean),clarifyTimeoutError:Ky.transitional(Ky.boolean)},!1),null!=n&&(Sx.isFunction(n)?t.paramsSerializer={serialize:n}:Yy.assertOptions(n,{encode:Ky.function,serialize:Ky.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yy.assertOptions(t,{baseUrl:Ky.spelling("baseURL"),withXsrfToken:Ky.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&Sx.merge(a.common,a[t.method]);a&&Sx.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=sy.concat(s,a);const o=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[Vy.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let p=t;for(u=0;u<d;){const e=o[u++],t=o[u++];try{p=e(p)}catch(m){t.call(this,m);break}}try{c=Vy.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Fx(yy((e=by(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Sx.forEach(["delete","get","head","options"],function(e){Qy.prototype[e]=function(t,r){return this.request(by(r||{},{method:e,url:t,data:(r||{}).data}))}}),Sx.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(by(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Qy.prototype[e]=t(),Qy.prototype[e+"Form"]=t(!0)});const Gy=Qy;class Jy{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,a){r.reason||(r.reason=new cy(e,n,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Jy(function(t){e=t}),cancel:e}}}const Xy=Jy;const Zy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zy).forEach(e=>{let[t,r]=e;Zy[r]=t});const ev=Zy;const tv=function e(t){const r=new Gy(t),n=Rg(Gy.prototype.request,r);return Sx.extend(n,Gy.prototype,r,{allOwnKeys:!0}),Sx.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(by(t,r))},n}(Xx);tv.Axios=Gy,tv.CanceledError=cy,tv.CancelToken=Xy,tv.isCancel=iy,tv.VERSION=Uy,tv.toFormData=_x,tv.AxiosError=Dx,tv.Cancel=tv.CanceledError,tv.all=function(e){return Promise.all(e)},tv.spread=function(e){return function(t){return e.apply(null,t)}},tv.isAxiosError=function(e){return Sx.isObject(e)&&!0===e.isAxiosError},tv.mergeConfig=by,tv.AxiosHeaders=sy,tv.formToJSON=e=>Gx(Sx.isHTMLForm(e)?new FormData(e):e),tv.getAdapter=qy,tv.HttpStatusCode=ev,tv.default=tv;const rv=tv,nv=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),l=Rt(),c=async()=>{try{a(!0);const e=await rv.get("/api/shopify/shops");r(e.data.shops||[]),i(null)}catch(e){console.error("Error fetching Shopify shops:",e),i("Erreur lors du chargement des boutiques Shopify")}finally{a(!1)}};(0,t.useEffect)(()=>{c()},[]);const d=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"actif":return"success";case"en attente":return"warning";case"erreur":return"error";default:return"default"}};return(0,o.jsxs)(km,{sx:{p:3},children:[(0,o.jsxs)(km,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,o.jsx)(eh,{variant:"h4",component:"h1",children:"Gestion des boutiques Shopify"}),(0,o.jsxs)(km,{children:[(0,o.jsx)(cf,{variant:"contained",color:"primary",startIcon:(0,o.jsx)(Og,{}),onClick:c,sx:{mr:2},children:"Actualiser"}),(0,o.jsx)(cf,{variant:"contained",color:"primary",startIcon:(0,o.jsx)(Lg,{}),onClick:()=>l("/internal/boutiques/nouvelle"),children:"Nouvelle boutique"})]})]}),s&&(0,o.jsx)(Uf,{severity:"error",sx:{mb:3},children:s}),n?(0,o.jsx)(km,{display:"flex",justifyContent:"center",p:4,children:(0,o.jsx)(Gh,{})}):(0,o.jsx)(Yf,{children:(0,o.jsx)(Gf,{children:(0,o.jsx)(Zf,{component:vf,children:(0,o.jsxs)(sg,{children:[(0,o.jsx)(ug,{children:(0,o.jsxs)(xg,{children:[(0,o.jsx)(jg,{children:"Boutique"}),(0,o.jsx)(jg,{children:"Client"}),(0,o.jsx)(jg,{children:"Type d'abonnement"}),(0,o.jsx)(jg,{children:"Statut"}),(0,o.jsx)(jg,{children:"Actions"})]})}),(0,o.jsx)(Eg,{children:e.length>0?e.map(e=>(0,o.jsxs)(xg,{children:[(0,o.jsx)(jg,{children:e.shopName}),(0,o.jsx)(jg,{children:e.clientName}),(0,o.jsx)(jg,{children:e.typeAbonnement}),(0,o.jsx)(jg,{children:(0,o.jsx)(zg,{label:e.status,color:d(e.status),size:"small"})}),(0,o.jsx)(jg,{children:(0,o.jsx)(cf,{variant:"outlined",size:"small",onClick:()=>l(`/internal/boutiques/${e.shopId}`),children:"Voir"})})]},e.shopId)):(0,o.jsx)(xg,{children:(0,o.jsx)(jg,{colSpan:5,align:"center",children:"Aucune boutique Shopify trouv\xe9e"})})})]})})})})]})},av=e=>{var r,n,a;let{isOpen:s,onClose:i,shop:l}=e;const[c,d]=(0,t.useState)(1),[u,p]=(0,t.useState)(new Set),[m,h]=(0,t.useState)(!1),[f,g]=(0,t.useState)(null),[x,y]=(0,t.useState)(!0),[v,b]=(0,t.useState)(null),[w,j]=(0,t.useState)(null),[N,k]=(0,t.useState)(!0),[S,C]=(0,t.useState)(null),E="vendeur"===((null===l||void 0===l?void 0:l.Payement)||(null===l||void 0===l?void 0:l.payment)||"").toLowerCase(),P=(null===f||void 0===f?void 0:f.email)||"",D=(null===f||void 0===f?void 0:f.password)||"",[I,T]=(0,t.useState)(!1),[M,A]=(0,t.useState)(!1),[_,z]=(0,t.useState)(null),[O,L]=(0,t.useState)(!0),[R,$]=(0,t.useState)(null),[F,q]=(0,t.useState)(!1),[B,V]=(0,t.useState)(""),[U,H]=(0,t.useState)(""),[Y,K]=(0,t.useState)(""),[Q,G]=(0,t.useState)(""),[J,X]=(0,t.useState)(!1),[Z,te]=(0,t.useState)(null),[re,ne]=(0,t.useState)(!1),[ae,oe]=(0,t.useState)(!1),[le,ce]=(0,t.useState)(!1),[he,fe]=(0,t.useState)(null),[ge,xe]=(0,t.useState)({open:!1}),[ye,ve]=(0,t.useState)({write_products:!1,read_products:!1,write_themes:!1,read_themes:!1,write_content:!1,read_content:!1}),be=!0===(null===l||void 0===l?void 0:l.moduleMondialRelay)||!0===(null===l||void 0===l?void 0:l.moduleMondialeRelay)||"string"===typeof(null===l||void 0===l?void 0:l.moduleMondialRelay)&&["oui","yes","true","1"].includes(l.moduleMondialRelay.toLowerCase());(0,t.useEffect)(()=>{s||(d(1),p(new Set),oe(!1),h(!1),V(""),H(""),K(""),G(""),te(null),ne(!1),X(!1),L(!1),z(null),$(null),g(null),y(!1),xe({open:!1}),b(null),ce(!1),fe(null),k(!1),j(null),C(null),ve({write_products:!1,read_products:!1,write_themes:!1,read_themes:!1,write_content:!1,read_content:!1}))},[s]),(0,t.useEffect)(()=>{if(s){const e=async()=>{try{var e,t;y(!0),b(null);const r=await fetch("/api/internal/config/shopify-partner-credentials"),n=null===(e=r.headers.get("content-type"))||void 0===e?void 0:e.includes("application/json");let a=null;if(a=n?await r.json():await r.text(),!r.ok){const e=n&&a&&a.message?a.message:a;throw new Error(e||"Failed to fetch partner credentials")}if(!n||null===(t=a)||void 0===t||!t.credentials)throw new Error("Invalid credentials format");g(a.credentials)}catch(r){b(r.message)}finally{y(!1)}};e();const t=async()=>{try{k(!0),C(null);const e=await fetch("/api/internal/config/paypal-credentials");if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch credentials")}const t=await e.json();j(t.credentials)}catch(e){C(e.message)}finally{k(!1)}},r=async()=>{try{L(!0),$(null);const e=await fetch("/api/internal/config/mondialrelay-credentials");if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch Mondial Relay credentials")}const t=await e.json();z(t.credentials)}catch(e){$(e.message)}finally{L(!1)}};t(),be&&r()}},[s,be]),(0,t.useEffect)(()=>{},[_]);const we=async()=>{if(B&&U&&Y){X(!0),te(null),ne(!1);try{const e=await fetch(`/api/internal/shops/${l._id}/api-credentials`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:B,apiSecret:U,accessToken:Y,adminUrl:Q||`https://${l.shopifyDomain||l.name||"your-shop"}.myshopify.com/admin`})}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to save API keys.");ne(!0);const r=Se.find(e=>"Param\xe9trage des API"===e.title);r&&Ce(r.id)}catch(e){te(e.message)}finally{X(!1)}}else te("Veuillez remplir tous les champs de cl\xe9s API.")},je=async()=>{try{var e;ce(!0),fe(null);const t=await fetch(`/api/internal/shops/${encodeURIComponent(l._id)}/configure-theme`,{method:"POST",headers:{"Content-Type":"application/json"}}),r=null===(e=t.headers.get("content-type"))||void 0===e?void 0:e.includes("application/json"),n=r?await t.json():await t.text();if(!t.ok){if(r&&"MISSING_CREDENTIALS"===n.errorType)return void Ne(n.missingFields,n.shopId);const e=r?n.message:n;throw new Error(e||"\xc9chec de la configuration du th\xe8me.")}const a=n.themeName?`\n\nTh\xe8me utilis\xe9 : ${n.themeName} (${n.themeRole||"N/A"})`:"";xe({open:!0,type:"success",title:"\u2705 Configuration r\xe9ussie",message:`Configuration du th\xe8me appliqu\xe9e avec succ\xe8s !${a}\n\nVous pouvez maintenant cliquer sur "Finaliser" pour terminer le param\xe9trage.`,onClose:()=>xe({open:!1}),confirmText:"Fermer"})}catch(t){console.error("Error configuring theme:",t),xe({open:!0,type:"error",title:"\u274c Erreur de configuration",message:"Erreur lors de la configuration du th\xe8me: "+t.message,onClose:()=>xe({open:!1}),confirmText:"Fermer"})}finally{ce(!1)}},Ne=(e,t)=>{const r={open:!0,type:"info",title:"\ud83d\udd27 Configuration Shopify requise",message:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Pour configurer le th\xe8me, nous avons besoin des informations Shopify suivantes :"}),(0,o.jsxs)("div",{className:"space-y-3",children:[e.accessToken&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Access Token Shopify *"}),(0,o.jsx)("input",{id:"shopify-access-token",type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"shpat_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Cr\xe9ez une app priv\xe9e dans votre Shopify Admin \u2192 Settings \u2192 Apps and sales channels \u2192 Develop apps"})]}),e.domain&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Domaine Shopify *"}),(0,o.jsx)("input",{id:"shopify-domain",type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"votre-boutique"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Le nom de votre boutique (sans .myshopify.com)"})]})]}),(0,o.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Instructions :"}),(0,o.jsxs)("ol",{className:"text-xs text-blue-700 space-y-1",children:[(0,o.jsx)("li",{children:"1. Allez dans votre Shopify Admin"}),(0,o.jsx)("li",{children:"2. Settings \u2192 Apps and sales channels \u2192 Develop apps"}),(0,o.jsx)("li",{children:"3. Cr\xe9ez une nouvelle app priv\xe9e"}),(0,o.jsxs)("li",{children:["4. Activez les scopes : ",(0,o.jsx)("code",{children:"read_themes"}),","," ",(0,o.jsx)("code",{children:"write_themes"})]}),(0,o.jsx)("li",{children:"5. Copiez l'access token g\xe9n\xe9r\xe9"})]})]})]}),onClose:()=>xe({open:!1}),onConfirm:async()=>{var e,r;const n=null===(e=document.getElementById("shopify-access-token"))||void 0===e?void 0:e.value.trim(),a=null===(r=document.getElementById("shopify-domain"))||void 0===r?void 0:r.value.trim();if(n&&a)try{const e=await fetch(`/api/internal/shops/${encodeURIComponent(t)}/save-credentials-and-configure-theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:n,shopifyDomain:a})}),r=await e.json();if(!e.ok)throw new Error(r.message||"Erreur lors de la sauvegarde et configuration");alert("Configuration du th\xe8me appliqu\xe9e avec succ\xe8s !"),xe({open:!1})}catch(s){console.error("Error saving credentials and configuring theme:",s),alert("Erreur : "+s.message)}else alert("Veuillez remplir tous les champs requis")},confirmText:"\ud83d\udcbe Sauvegarder et Configurer",cancelText:"Annuler"};xe(r)},Se=(0,t.useMemo)(()=>{const e=[{id:1,title:"Connexion",description:"Connexion \xe0 votre compte Shopify",instructions:[{title:"Premi\xe8re connexion",steps:["Saisissez l'adresse e-mail ci-dessous puis cliquez sur 'Continuer avec un e-mail'","Saisissez le mot de passe ci-dessous puis cliquez sur 'Se connecter'","Si un code 2FA est demand\xe9, ouvrez votre application d'authentification ou vos SMS, saisissez le code et cliquez sur 'Connexion'","Vous acc\xe9derez alors au tableau de bord administrateur de la boutique"]},{title:"Connexion avec compte existant",steps:["Si la page 'Choisir un compte' s'affiche, s\xe9lectionnez le compte '<span class=\"font-bold\">Boris Ducteil</span>'","OU vous serez directement redirig\xe9 vers le tableau de bord administrateur"]}]},{id:2,title:"Connexion \xe0 la boutique",description:`Connexion \xe0 la boutique ${(null===l||void 0===l?void 0:l.name)||""}`,instructions:["Cliquez sur le nom de la boutique actuelle avec l'ic\xf4ne boutique (\xe9l\xe9ment le plus \xe0 droite en haut de la page)","Dans le menu d\xe9roulant, cliquez sur '<span class=\"font-bold\">Toutes les boutiques</span>' - un nouvel onglet s'ouvrira",{title:"Recherche de la boutique",steps:["Dans la barre de recherche, saisissez le nom de la boutique ou son domaine :",{type:"shop_name",value:(null===l||void 0===l?void 0:l.name)||""},{type:"separator",value:"OU"},{type:"shop_domain",value:(null===l||void 0===l?void 0:l.shopifyDomain)||""},`Cliquez sur la boutique nomm\xe9e '<span class="font-bold">${(null===l||void 0===l?void 0:l.name)||""}</span>'`]}]},{id:3,title:"Configuration de base",description:"Configurez les param\xe8tres essentiels de votre boutique",instructions:["Une fois dans le tableau de bord, cliquez sur le bouton 'Param\xe8tres' situ\xe9 dans le coin inf\xe9rieur gauche de la page",{title:"Configuration de l'email",steps:["Dans la section 'D\xe9tails de la boutique', placez votre souris sur l'email 'amanda.gerard@dna-gz.com' sous '<span class=\"font-bold\">"+((null===l||void 0===l?void 0:l.name)||"")+"</span>' et cliquez sur l'ic\xf4ne crayon qui appara\xeet","Remplacez l'email existant par :",{type:"copy_data",label:"Email de la boutique",value:"sav.dtoc@sna-gz.com"},"Cliquez sur 'Enregistrer'"]},{title:"Configuration de l'adresse",steps:["De retour dans les param\xe8tres g\xe9n\xe9raux, placez votre souris sur 'Adresse de facturation' et cliquez sur l'ic\xf4ne crayon","Remplissez les champs suivants :",{type:"copy_data",label:"Raison sociale",value:"SNA GZ"},{type:"copy_data",label:"Adresse",value:"ZA de sainte anne"},{type:"copy_data",label:"Code postal",value:"61190"},{type:"copy_data",label:"Ville",value:"Tourouvre au perche"},"Cliquez sur 'Enregistrer'"]},{title:"Configuration de la r\xe9f\xe9rence de commande",steps:["De retour dans la page des param\xe8tres g\xe9n\xe9raux, faites d\xe9filer vers le bas jusqu'\xe0 la section 'R\xe9f\xe9rence de commande'","Remplissez le champ 'Pr\xe9fixe' avec l'information suivante :",{type:"shop_prefix",label:"Pr\xe9fixe de commande",value:(null===l||void 0===l?void 0:l.name)||(null===l||void 0===l?void 0:l.nomProjet)||"SHOP"},"Cliquez sur 'Enregistrer'"]}]},{id:4,title:"Param\xe9trage des forfaits",description:"Configuration du forfait Shopify",instructions:["Dans les param\xe8tres, cliquez sur '<span class=\"font-bold\">Forfait</span>' dans la barre lat\xe9rale gauche (juste en dessous de la barre '<span class=\"font-bold\">Rechercher</span>' et de l'ic\xf4ne '<span class=\"font-bold\">G\xe9n\xe9ral</span>')","Cliquez sur le bouton noir '<span class=\"font-bold\">Choisir un forfait</span>'","S\xe9lectionnez '<span class=\"font-bold\">Grow</span>' en cliquant sur '<span class=\"font-bold\">S\xe9lectionner Grow</span>'","Cliquez sur le bouton '<span class=\"font-bold\">PayPal</span>' puis sur la bo\xeete '<span class=\"font-bold\">Pay with PayPal</span>' avec le logo PayPal",{title:"Connexion PayPal",steps:[{type:"account_type",title:E?"Compte Vendeur":"Compte Mandataire",credentials:{type:"env",email_key:E?"PAYPAL_VENDEUR_EMAIL":"PAYPAL_MANDATAIRE_EMAIL",password_key:E?"PAYPAL_VENDEUR_PASSWORD":"PAYPAL_MANDATAIRE_PASSWORD"}},"Une fois connect\xe9, vous recevrez un code de v\xe9rification sur le num\xe9ro :",{type:"phone_number",label:"T\xe9l\xe9phone de Cl\xe9ment",value:"+33 6 ** ** 73 24"},"Saisissez le code re\xe7u et confirmez le paiement"]}]},{id:5,title:"Configuration des Moyens de Paiement",description:"Finalisez la configuration de Shopify Payments",instructions:["De retour dans les param\xe8tres, cliquez sur la section 'Moyens de paiement'.","Cliquez sur le bouton noir 'Terminer la configuration du compte'.","Cliquez sur le bouton noir 'Soumettre les informations'.",{title:"Configurer Shopify Payments",steps:["Pour la question 'J'exploite ma boutique en tant que :', s\xe9lectionnez 'Entreprise immatricul\xe9e', puis dans le menu d\xe9roulant, s\xe9lectionnez 'Soci\xe9t\xe9 priv\xe9e'.","Cliquez sur 'Suivant'."]},{title:"Informations sur l'entreprise",steps:[{type:"copy_data",label:"D\xe9nomination sociale",value:"SNA GZ"},{type:"copy_data",label:"SIRET",value:"840 379 499 00022"},{type:"copy_data",label:"Num\xe9ro de TVA",value:"FR63840379499"},{type:"copy_data",label:"Num\xe9ro de t\xe9l\xe9phone",value:"+33 2 33 85 15 15"},{type:"copy_data",label:"Adresse",value:"171 Quai de Valmy"},{type:"copy_data",label:"Code postal",value:"75010"},{type:"copy_data",label:"Ville",value:"Paris"},"Cliquez sur 'Suivant'."]},{title:"Secteur d'activit\xe9",steps:["Dans 'Cat\xe9gorie', s\xe9lectionnez 'Services professionnels'.","Dans 'Sous-cat\xe9gorie', s\xe9lectionnez 'Entreposage et stockage'.",{type:"copy_data",label:"Num\xe9ro de t\xe9l\xe9phone de la boutique",value:"+33 2 33 85 15 15"},"Cliquez sur 'Suivant'."]},{title:"Repr\xe9sentant du compte",steps:[{type:"copy_data",label:"Pr\xe9nom",value:"Boris"},{type:"copy_data",label:"Nom de famille",value:"Ducteil"},{type:"checkbox_group",items:["Cette personne d\xe9tient 25% ou plus des capitaux propres de l'entreprise"]},{type:"copy_data",label:"Participation (%)",value:"100"},{type:"checkbox_group",items:["Cette personne est un(e) dirigeant(e) de l\u2019entreprise.","Cette personne si\xe8ge au conseil d\u2019administration de l\u2019entreprise."]},{type:"copy_data",label:"Date de naissance (JJ/MM/AAAA)",value:"02/01/1980"},{type:"copy_data",label:"Nationalit\xe9",value:"Fran\xe7aise"},{type:"copy_data",label:"Poste",value:"Dirigeant"},{type:"copy_data",label:"E-mail",value:"boris.ducteil@sna-gz.com"},"Laissez le champ 'SPI' vide.",{type:"copy_data",label:"Num\xe9ro de t\xe9l\xe9phone",value:"+33 2 33 85 15 15"},{type:"copy_data",label:"Adresse",value:"63 Avenue du Mar\xe9chal Foch, Deuil-la-Barre"},{type:"copy_data",label:"Code postal",value:"95170"},{type:"copy_data",label:"Ville",value:"Deuil-la-Barre"},"Cliquez sur 'Suivant'."]},"Dans l'\xe9cran 'Participation au capital', cliquez sur 'Suivant' sans rien modifier.","Dans l'\xe9cran 'Conseil d'administration', cliquez sur 'Suivant' sans rien modifier.","Dans l'\xe9cran 'Dirigeants', cliquez sur 'Suivant' sans rien modifier.",{title:"Importer les documents",steps:[{type:"file_download",label:"Cliquez sur 'Importer' pour la 'Preuve d'immatriculation'",select:"Preuve d'immatriculation de l'entreprise",file:"Extrait KBIS - SNA GZ.pdf",buttonText:"T\xe9l\xe9charger Extrait KBIS"},"Cliquez sur 'Confirmer'.",{type:"file_download",label:"Cliquez sur 'Importer' pour le 'Justificatif de domicile'",select:"Relev\xe9 bancaire ou facture de services publics",file:"Justificatif de domicile 23 juil. 2024.pdf",buttonText:"T\xe9l\xe9charger Justificatif"},"Cliquez sur 'Termin\xe9'.",{type:"file_download",label:"Cliquez sur 'Importer' pour la 'Pi\xe8ce d'identit\xe9'",select:"Passeport",file:"Passport_Boris.jpg",buttonText:"T\xe9l\xe9charger Passeport"},"Cliquez sur 'Termin\xe9'.","Enfin, cliquez sur 'Confirmer' puis sur 'Soumettre pour v\xe9rification'."]},{title:"Ajouter un compte bancaire",steps:["Cliquez sur le bouton 'Ajouter un compte bancaire'.",{type:"iban"},"Cliquez sur 'Enregistrer'."]}]},{id:6,title:"Configuration des March\xe9s",description:"Configurez les march\xe9s Shopify pour votre boutique",instructions:['Dans les <span class="font-bold">Param\xe8tres</span>, allez dans la section <span class="font-bold">March\xe9s</span> sur la barre lat\xe9rale gauche.',{title:"March\xe9 Union Europ\xe9enne",steps:['Cliquez sur le bouton <span class="font-bold">+</span> \xe0 c\xf4t\xe9 de <span class="font-bold">Cr\xe9er le march\xe9 Union europ\xe9enne</span>.',"Cliquez sur l'ic\xf4ne en forme de crayon pour modifier le march\xe9.",'Dans la barre de recherche, ajoutez les r\xe9gions suivantes une par une : <span class="font-bold">La R\xe9union</span>, <span class="font-bold">Martinique</span>, <span class="font-bold">Guadeloupe</span>.',"Cochez les cases correspondantes pour les ajouter au march\xe9.",'Cliquez sur <span class="font-bold">Termin\xe9</span>, puis sur <span class="font-bold">Enregistrer</span>.']},{title:"March\xe9 International",steps:['Retournez \xe0 la section <span class="font-bold">March\xe9s</span>.','Cliquez sur le bouton <span class="font-bold">+</span> \xe0 droite de <span class="font-bold">Cr\xe9er le march\xe9 International</span>.','Cliquez sur <span class="font-bold">Enregistrer</span> pour cr\xe9er le march\xe9 international.']}]}];return be&&e.push({id:e.length+1,title:"Configuration du Module Mondial Relay",description:"Installez et connectez l'application Mondial Relay",instructions:[{title:"Installation et configuration",steps:["Depuis le tableau de bord, cliquez sur la fl\xe8che '>' \xe0 droite de la section Applications, puis appuyez sur Entr\xe9e pour acc\xe9der au Shopify App Store.",'Dans la barre de recherche, tapez <span class="font-bold">Mondial Relay InPost Officiel</span>.',{type:"image",src:"/api/internal/files/download/1ce5021cbfb5eff03e8af1d8bbfed6b9_512x512.jpg",alt:"Mondial Relay App Icon"},'Cliquez sur l\'ic\xf4ne puis sur <span class="font-bold">Installer</span>.','Une fois de retour dans Shopify, cliquez \xe0 nouveau sur <span class="font-bold">Installer</span>.',"Vous serez redirig\xe9 vers le site Mondial Relay.","Nous allons maintenant remplir le formulaire de configuration avec les donn\xe9es suivantes :",{type:"form_section",title:"Section Votre compte Mondial Relay",fields:[{type:"copy_data",label:"Identifiant Mondial Relay",value:"benjamin.saillard@snadisc.com"},{type:"env_data",label:"Code enseigne",envKey:"codeEnseigne"},{type:"env_data",label:"Cl\xe9 priv\xe9e",envKey:"clePrivee"},{type:"env_data",label:"Code Marque",envKey:"codeMarque"}]},{type:"form_section",title:"Section Votre adresse d'exp\xe9dition",fields:[{type:"copy_data",label:"Nom Entreprise",value:"SNA GZ"},{type:"copy_data",label:"Adresse soci\xe9t\xe9",value:"171 Quai de Valmy"},{type:"copy_data",label:"Code postal",value:"75010"},{type:"copy_data",label:"Ville",value:"Paris"},{type:"copy_data",label:"Pays",value:"France"},{type:"copy_data",label:"Email de contact",value:"benjamin.saillard@snadisc.com"},{type:"copy_data",label:"T\xe9l\xe9phone",value:"+33 2 33 85 15 15"}]},'Cliquez sur <span class="font-bold">Valider</span>.','Vous serez redirig\xe9 vers une page de validation. Cochez <span class="font-bold">J\'accepte les Conditions g\xe9n\xe9rales de vente et la politique de confidentialit\xe9</span>.','Cliquez sur <span class="font-bold">Activer l\'abonnement</span>.','Vous serez redirig\xe9 vers Shopify. Cliquez sur le bouton noir <span class="font-bold">Approuver</span> pour valider le module Mondial Relay pour 34,99 USD par mois.',"Vous pouvez maintenant retourner au tableau de bord Shopify."]}]}),e.push({id:e.length+1,title:"Param\xe9trage des API",description:"Cr\xe9ation d'une application personnalis\xe9e pour l'acc\xe8s API.",instructions:[{title:"Navigation vers le d\xe9veloppement d'applications",steps:["Dans le tableau de bord Shopify, cliquez sur la fl\xe8che `>` \xe0 droite de `Applications`.","Cliquez sur l'ic\xf4ne en forme de roue dent\xe9e (\u2699\ufe0f) \xe0 gauche de `Param\xe8tres des applications et canaux de vente` qui appara\xeet sous la barre de recherche.","Cliquez sur le bouton `D\xe9velopper des applications`."]},{title:"Autorisation du d\xe9veloppement",steps:["Cliquez sur le premier bouton noir `Autoriser le d\xe9veloppement d'applications personnalis\xe9es`.","Confirmez en cliquant sur le deuxi\xe8me bouton noir `Autoriser le d\xe9veloppement d'applications personnalis\xe9es`."]},{title:"Cr\xe9ation de l'application",steps:["Cliquez sur le bouton noir `Cr\xe9er une application`.","Nommez l'application `Auto` et cliquez sur `Cr\xe9er l'application`."]},{title:"Configuration des acc\xe8s API Admin",steps:[{type:"notice",level:"warning",text:"Cette \xe9tape est cruciale. L'attribution des bonnes autorisations est essentielle au bon fonctionnement de nos automatisations."},"Dans le tableau de bord de l'application, cliquez sur le bouton blanc `Configurer les niveaux d'acc\xe8s Admin API`.","Cochez les cases pour les autorisations suivantes. Vous pouvez utiliser la barre de recherche pour les trouver rapidement.",{type:"api_scopes",scopes:[{id:"write_products",label:"write_products",description:"Cr\xe9er et modifier les produits et collections."},{id:"read_products",label:"read_products",description:"Consulter les produits et collections."},{id:"write_themes",label:"write_themes",description:"Modifier les fichiers du th\xe8me (logos, banni\xe8res, textes...)."},{id:"read_themes",label:"read_themes",description:"Consulter les fichiers du th\xe8me."},{id:"write_content",label:"write_content",description:"Cr\xe9er et modifier le contenu de la boutique en ligne (pages, blogs...)."},{id:"read_content",label:"read_content",description:"Consulter le contenu de la boutique en ligne."}]},"Une fois toutes les cases coch\xe9es, cliquez sur `Enregistrer` en haut \xe0 droite."]},{title:"Installation et r\xe9cup\xe9ration des identifiants",steps:["Naviguez vers l'onglet `Aper\xe7u` de votre application `Auto`.","Cliquez sur le bouton noir `Installer l'application` en haut \xe0 droite, puis confirmez en cliquant sur `Installer`.",{type:"notice",level:"critical",text:"ATTENTION : Le jeton d'acc\xe8s Admin API ne sera affich\xe9 qu'UNE SEULE FOIS. Copiez-le soigneusement."},"Vous \xeates maintenant dans la section `Identifiants d'API`.",{type:"api_credentials_form",fields:[{id:"accessToken",label:"Jeton d'acc\xe8s \xe0 l'API Admin",instruction:"Cliquez sur `R\xe9v\xe9ler le jeton une seule fois`, puis copiez la valeur ici."},{id:"apiKey",label:"Cl\xe9 API",instruction:"Faites d\xe9filer vers le bas et copiez la `Cl\xe9 API` ici."},{id:"apiSecret",label:"Cl\xe9 secr\xe8te de l'API",instruction:"Copiez la `Cl\xe9 secr\xe8te de l'API` ici."}]}]}]}),e.push({id:e.length+1,title:"Configuration Finale (CGV & Th\xe8me)",description:"Finalisation de la configuration de la boutique.",instructions:[{title:"R\xe9sum\xe9 et g\xe9n\xe9ration",steps:[{type:"final_step_content",isVendeur:E}]}]}),e},[l,E,be]),Ce=e=>{p(t=>new Set(t).add(e))},Pe=()=>Se.find(e=>e.id===c);return s&&l?(0,o.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Assistant de Param\xe9trage Shopify"}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Boutique: ",(0,o.jsx)("span",{className:"font-semibold",children:l.name})]})]}),(0,o.jsx)("button",{onClick:()=>{h(!1),i()},className:"text-gray-500 hover:text-gray-800 transition-colors p-2 rounded-full hover:bg-gray-100",children:(0,o.jsx)(Ee,{size:24})})]}),(0,o.jsxs)("div",{className:"flex-grow flex min-h-0",children:[(0,o.jsxs)("div",{className:"w-1/2 bg-gray-50 border-r p-6 overflow-y-auto flex-shrink-0",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:[(0,o.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"Progression"}),(0,o.jsx)("div",{className:"space-y-2",children:Se.map(e=>(0,o.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-md "+(c===e.id?"bg-blue-100 border border-blue-200":u.has(e.id)?"bg-green-50":""),children:[(0,o.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-sm "+(u.has(e.id)?"bg-green-500 text-white":c===e.id?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"),children:u.has(e.id)?(0,o.jsx)(ee,{size:12}):e.id}),(0,o.jsx)("span",{className:"text-sm "+(c===e.id?"font-semibold":""),children:e.title})]},e.id))})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,o.jsxs)("h3",{className:"font-semibold text-gray-800",children:["\xc9tape ",c,": ",null===(r=Pe())||void 0===r?void 0:r.title]}),u.has(c)&&(0,o.jsx)(ee,{className:"text-green-500",size:16})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:null===(n=Pe())||void 0===n?void 0:n.description}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-700 text-sm",children:"Instructions:"}),(0,o.jsx)("ol",{className:"space-y-4",children:null===(a=Pe())||void 0===a?void 0:a.instructions.map((e,t)=>{if("string"===typeof e){const r=/<[a-z][\s\S]*>/i.test(e);return(0,o.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,o.jsxs)("span",{className:"text-blue-500 font-medium",children:[t+1,"."]}),r?(0,o.jsx)("span",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:e}}):(0,o.jsx)("span",{className:"text-gray-700",children:e})]},`inst-${t}`)}return e.title?(0,o.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,o.jsx)("h5",{className:"font-medium text-gray-800 mb-2",children:e.title}),(0,o.jsx)("ol",{className:"space-y-2",children:e.steps.map((t,r)=>{if("string"===typeof t){const n=/<[a-z][\s\S]*>/i.test(t)?(0,o.jsx)("span",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:t}}):(0,o.jsx)("span",{className:"text-gray-700",children:t}),a=(0,o.jsxs)("li",{className:"flex items-start space-x-2 text-sm",children:[(0,o.jsxs)("span",{className:"text-blue-500 font-medium",children:[r+1,"."]}),n]},`sub-${r}`);if("Premi\xe8re connexion"===e.title){if(0===r)return[a,(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Email"}),x?(0,o.jsxs)("div",{className:"flex items-center p-2 text-gray-500 text-sm",children:[(0,o.jsx)(ke,{className:"animate-spin mr-2"})," ","Chargement..."]}):v?(0,o.jsx)("p",{className:"text-sm text-red-500",children:v}):(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:P||"Non configur\xe9"}),(0,o.jsx)("button",{onClick:()=>P&&navigator.clipboard.writeText(P),className:"text-blue-600 hover:text-blue-800 ml-2 "+(P?"":"opacity-50 cursor-not-allowed"),title:P?"Copier l'email":"Email non configur\xe9",disabled:!P,children:(0,o.jsx)(se,{})})]})]},"email-box")];if(1===r)return[a,(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Mot de passe"}),x?(0,o.jsxs)("div",{className:"flex items-center p-2 text-gray-500 text-sm",children:[(0,o.jsx)(ke,{className:"animate-spin mr-2"})," ","Chargement..."]}):v?(0,o.jsx)("p",{className:"text-sm text-red-500",children:v}):(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 select-all",children:D?I?D:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Non configur\xe9"}),(0,o.jsx)("button",{onClick:()=>D&&T(!I),className:"text-blue-600 hover:text-blue-800 ml-2 "+(D?"":"opacity-50 cursor-not-allowed"),title:I?"Masquer":"Afficher",disabled:!D,children:I?(0,o.jsx)(pe,{}):(0,o.jsx)(me,{})}),(0,o.jsx)("button",{onClick:()=>D&&navigator.clipboard.writeText(D),className:"text-blue-600 hover:text-blue-800 ml-2 "+(D?"":"opacity-50 cursor-not-allowed"),title:D?"Copier le mot de passe":"Mot de passe non configur\xe9",disabled:!D,children:(0,o.jsx)(se,{})})]})]},"pwd-box")]}return a}if("separator"===t.type)return(0,o.jsx)("div",{className:"flex items-center justify-center my-2",children:(0,o.jsx)("span",{className:"font-bold text-gray-700",children:t.value})},`separator-${r}`);if("shop_name"===t.type||"shop_domain"===t.type)return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"shop_name"===t.type?"Nom de la boutique":"Domaine de la boutique"}),(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:t.value}),(0,o.jsx)("button",{onClick:()=>navigator.clipboard.writeText(t.value),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier",children:(0,o.jsx)(se,{})})]})]},`shop-info-${r}`);if("account_type"===t.type){var n;const e=null!==(n=null===w||void 0===w?void 0:w[E?"vendeur":"mandataire"])&&void 0!==n?n:{};return N?(0,o.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,o.jsx)(ke,{className:"animate-spin mr-2"}),"Chargement des identifiants..."]}):S?(0,o.jsxs)("p",{className:"text-sm text-red-500 mt-2",children:["Erreur: ",S]}):(0,o.jsxs)("div",{className:"mt-4 bg-white p-4 rounded-lg border border-gray-200",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:t.title}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Email"}),(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:e.email||"Email non configur\xe9"}),(0,o.jsx)("button",{onClick:()=>e.email&&navigator.clipboard.writeText(e.email),className:"text-blue-600 hover:text-blue-800 ml-2 "+(e.email?"":"opacity-50 cursor-not-allowed"),title:e.email?"Copier l'email":"Email non configur\xe9",children:(0,o.jsx)(se,{})})]})]}),(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:"Mot de passe"}),(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:e.password?M?e.password:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Mot de passe non configur\xe9"}),(0,o.jsx)("button",{onClick:()=>A(!M),className:"text-blue-600 hover:text-blue-800 ml-2 "+(e.password?"":"opacity-50 cursor-not-allowed"),title:M?"Masquer":"Afficher",children:M?(0,o.jsx)(pe,{}):(0,o.jsx)(me,{})}),(0,o.jsx)("button",{onClick:()=>e.password&&navigator.clipboard.writeText(e.password),className:"text-blue-600 hover:text-blue-800 ml-2 "+(e.password?"":"opacity-50 cursor-not-allowed"),title:e.password?"Copier le mot de passe":"Mot de passe non configur\xe9",children:(0,o.jsx)(se,{})})]})]}),(!e.email||!e.password)&&(0,o.jsx)("p",{className:"text-xs text-red-500 mt-2",children:"Les identifiants PayPal ne sont pas configur\xe9s. Veuillez contacter l'administrateur."})]})]},`account-${r}`)}if("checkbox_group"===t.type)return(0,o.jsx)("div",{className:"mt-4 bg-gray-100 p-3 rounded-lg border",children:t.items.map((e,t)=>(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",readOnly:!0,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,o.jsx)("label",{className:"ml-2 text-sm text-gray-800",children:e})]},t))},`checkbox-group-${r}`);if("file_download"===t.type)return(0,o.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,o.jsx)("p",{className:"text-sm text-gray-700 mb-2",dangerouslySetInnerHTML:{__html:t.label}}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["S\xe9lectionnez :"," ",(0,o.jsxs)("span",{className:"font-semibold text-gray-800",children:['"',t.select,'"']})]}),(0,o.jsxs)("a",{href:`/api/internal/files/download/${encodeURIComponent(t.file)}`,download:!0,className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,o.jsx)(ie,{className:"mr-2"}),t.buttonText]})]},`file-download-${r}`);if("iban"===t.type){var a;const e=null===w||void 0===w||null===(a=w[E?"vendeur":"mandataire"])||void 0===a?void 0:a.iban;return(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:["IBAN (",E?"Vendeur":"Mandataire",")"]}),(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:e||"IBAN non configur\xe9"}),(0,o.jsx)("button",{onClick:()=>e&&navigator.clipboard.writeText(e),className:"text-blue-600 hover:text-blue-800 ml-2 "+(e?"":"opacity-50 cursor-not-allowed"),title:e?"Copier l'IBAN":"IBAN non configur\xe9",children:(0,o.jsx)(se,{})})]}),!e&&(0,o.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Veuillez configurer l'IBAN dans le fichier .env du backend."})]},`iban-${r}`)}if("phone_number"===t.type)return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:t.label}),(0,o.jsx)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800",children:t.value})})]},`phone-${r}`);if("copy_data"===t.type)return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:t.label}),(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:t.value}),(0,o.jsx)("button",{onClick:()=>navigator.clipboard.writeText(t.value),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier",children:(0,o.jsx)(se,{})})]})]},`copy-data-${r}`);if("shop_prefix"===t.type){const e=(t.value||"").toUpperCase();return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:t.label}),(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"text-gray-500 mr-1",children:"#"}),(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 font-mono",children:e}),(0,o.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier le nom en majuscules",children:(0,o.jsx)(se,{})})]}),(0,o.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Cliquez sur l'ic\xf4ne de copie pour copier uniquement le nom en majuscules (sans le #)"})]},`shop-prefix-${r}`)}if("env_data"===t.type){const e=null===_||void 0===_?void 0:_[t.envKey];return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:t.label}),(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:e||"Non configur\xe9"}),(0,o.jsx)("button",{onClick:()=>e&&navigator.clipboard.writeText(e),className:"text-blue-600 hover:text-blue-800 ml-2 "+(e?"":"opacity-50 cursor-not-allowed"),title:e?"Copier la donn\xe9e":"Donn\xe9e non configur\xe9e",children:(0,o.jsx)(se,{})})]})]},`env-data-${r}`)}if("form_section"===t.type)return(0,o.jsxs)("div",{className:"mt-4 bg-white p-4 rounded-lg border border-gray-200",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:t.title}),(0,o.jsx)("div",{className:"space-y-2",children:t.fields.map((e,t)=>(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsxs)("label",{className:"text-sm font-medium text-gray-700 mr-2",children:[e.label,":"]}),(0,o.jsx)("div",{className:"flex-1",children:"copy_data"===e.type?(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:e.value}),(0,o.jsx)("button",{onClick:()=>e.value&&navigator.clipboard.writeText(e.value),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier",children:(0,o.jsx)(se,{})})]}):"env_data"===e.type?(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:(null===_||void 0===_?void 0:_[e.envKey])||"Non configur\xe9"}),(0,o.jsx)("button",{onClick:()=>(null===_||void 0===_?void 0:_[e.envKey])&&navigator.clipboard.writeText(_[e.envKey]),className:"text-blue-600 hover:text-blue-800 ml-2 "+(null!==_&&void 0!==_&&_[e.envKey]?"":"opacity-50 cursor-not-allowed"),title:null!==_&&void 0!==_&&_[e.envKey]?"Copier la donn\xe9e":"Donn\xe9e non configur\xe9e",children:(0,o.jsx)(se,{})})]}):null})]},`field-${t}`))})]},`form-section-${r}`);if("image"===t.type)return(0,o.jsx)("div",{className:"mt-4",children:(0,o.jsx)("img",{src:t.src,alt:t.alt,className:"w-12 h-12 object-contain rounded-md"})},`image-${r}`);if("notice"===t.type){const e={warning:"bg-yellow-50 border-yellow-300 text-yellow-800",critical:"bg-red-100 border-red-400 text-red-900"};return(0,o.jsx)("div",{className:`mt-4 p-3 border rounded-lg ${e[t.level]||e.warning}`,children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(de,{className:"h-5 w-5 mr-2 flex-shrink-0"}),(0,o.jsx)("p",{className:"font-bold text-sm ml-2",children:t.text})]})},`notice-${r}`)}if("api_scopes"===t.type)return(0,o.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 border rounded-lg",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"Autorisations requises :"}),(0,o.jsx)("div",{className:"space-y-2",children:t.scopes.map(e=>(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)("input",{type:"checkbox",id:`checkbox-${e.id}`,checked:ye[e.id],onChange:t=>{return r=e.id,n=t.target.checked,void ve(e=>{const t={...e,[r]:n};return n&&r.startsWith("write_")&&(t[r.replace("write_","read_")]=!0),t});var r,n},className:"h-4 w-4 mt-1 border-gray-300 rounded text-blue-600 focus:ring-blue-500"}),(0,o.jsxs)("div",{className:"ml-3 text-sm",children:[(0,o.jsx)("label",{htmlFor:`checkbox-${e.id}`,className:"font-mono bg-gray-200 px-1 rounded cursor-pointer",children:e.label}),(0,o.jsx)("p",{className:"text-gray-600",children:e.description})]})]},e.id))})]},`api-scopes-${r}`);if("api_credentials_form"===t.type)return(0,o.jsxs)("div",{className:"mt-4 p-4 bg-white border rounded-lg space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-gray-700",children:"Jeton d'acc\xe8s \xe0 l'API Admin"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Cliquez sur `R\xe9v\xe9ler le jeton une seule fois`, puis copiez la valeur ici."}),(0,o.jsx)("input",{type:"text",id:"accessToken",value:Y,onChange:e=>K(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Cl\xe9 API"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Faites d\xe9filer vers le bas et copiez la `Cl\xe9 API` ici."}),(0,o.jsx)("input",{type:"text",id:"apiKey",value:B,onChange:e=>V(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"apiSecret",className:"block text-sm font-medium text-gray-700",children:"Cl\xe9 secr\xe8te de l'API"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Copiez la `Cl\xe9 secr\xe8te de l'API` ici."}),(0,o.jsx)("input",{type:"text",id:"apiSecret",value:U,onChange:e=>H(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"adminUrl",className:"block text-sm font-medium text-gray-700",children:"URL d'administration de la boutique"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Copiez l'URL de votre tableau de bord admin (ex: https://votre-boutique.myshopify.com/admin)"}),(0,o.jsx)("input",{type:"url",id:"adminUrl",value:Q,onChange:e=>G(e.target.value),placeholder:"https://votre-boutique.myshopify.com/admin",className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{className:"pt-2",children:[(0,o.jsxs)("button",{onClick:we,disabled:J||re,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${re?"bg-green-600":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50`,children:[J&&(0,o.jsx)(ke,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),re?"Cl\xe9s enregistr\xe9es avec succ\xe8s !":"Valider les cl\xe9s API"]}),Z&&(0,o.jsx)("p",{className:"mt-2 text-sm text-red-600",children:Z})]})]},`api-creds-form-${r}`);if("final_step_content"===t.type){Se.length;return(0,o.jsxs)("div",{className:"mt-4 p-4 bg-white border rounded-lg space-y-4",children:[t.isVendeur?(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"Pour les Vendeurs (G\xe9n\xe9ration Automatis\xe9e)"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"En cliquant sur le bouton ci-dessous, le syst\xe8me g\xe9n\xe9rera automatiquement les documents l\xe9gaux (CGV, Mentions L\xe9gales, Politiques) et appliquera les \xe9l\xe9ments graphiques (banni\xe8res, logos) au th\xe8me de la boutique."})]}):(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"Pour les Mandataires (Action Manuelle Requise)"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Les documents tels que les CGV, Mentions L\xe9gales et Politiques de confidentialit\xe9 doivent \xeatre fournis par le client. Notre automatisation ne peut donc pas les g\xe9n\xe9rer."}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Cependant, le bouton ci-dessous appliquera tous les \xe9l\xe9ments graphiques n\xe9cessaires comme les banni\xe8res et les logos au th\xe8me."})]}),(0,o.jsx)("div",{className:"pt-2",children:(0,o.jsxs)("button",{onClick:je,disabled:le,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${le?"bg-gray-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:[le&&(0,o.jsx)(ke,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),le?"Configuration en cours...":"G\xe9n\xe9rer et Appliquer la Configuration"]})})]},`final-step-${r}`)}return null})})]},`path-${t}`):null})})]})]}),(0,o.jsx)("div",{className:"space-y-3 mt-6",children:(0,o.jsxs)("div",{className:"flex space-x-3",children:[c>1&&(0,o.jsxs)("button",{onClick:()=>{c>1&&d(c-1)},className:"flex-1 py-2 px-4 bg-gray-600 text-white rounded-md text-sm font-medium hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[(0,o.jsx)(W,{className:"transform rotate-180",size:12}),(0,o.jsx)("span",{children:"\xc9tape pr\xe9c\xe9dente"})]}),c<Se.length?(0,o.jsxs)("button",{onClick:()=>{Ce(c),c<Se.length?d(c+1):oe(!0)},className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[(0,o.jsx)("span",{children:"\xc9tape suivante"}),(0,o.jsx)(W,{size:12})]}):!ae&&(0,o.jsxs)("button",{onClick:async()=>{ce(!0),fe(null);try{var e;const t=await fetch(`/api/internal/shops/${encodeURIComponent(l._id)}/mark-parametrized`,{method:"PUT"}),r=null===(e=t.headers.get("content-type"))||void 0===e?void 0:e.includes("application/json"),n=r?await t.json():await t.text();if(!t.ok){const e=r?n.message:n;throw new Error(e||"\xc9chec de la finalisation.")}Ce(Se.length),oe(!0)}catch(t){fe(t.message)}finally{ce(!1)}},disabled:le,className:`flex-1 py-2 px-4 rounded-md text-sm font-medium flex items-center justify-center space-x-2 ${le?"bg-gray-400 text-white":"bg-green-600 text-white hover:bg-green-700"} transition-colors`,children:[le&&(0,o.jsx)(ke,{className:"animate-spin -ml-1 mr-3 h-4 w-4"}),(0,o.jsx)("span",{children:le?"Finalisation...":"Finaliser"})]})]})})]}),(0,o.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center p-6 bg-gray-50",children:ae?(0,o.jsxs)("div",{className:"text-center max-w-md space-y-4",children:[(0,o.jsx)(ee,{className:"text-green-500 mx-auto",size:48}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-green-800",children:"Param\xe9trage Termin\xe9 !"}),(0,o.jsxs)("p",{className:"text-sm text-gray-700",children:["Toutes les \xe9tapes de configuration pour la boutique"," ",(0,o.jsx)("strong",{children:null===l||void 0===l?void 0:l.name})," ont \xe9t\xe9 compl\xe9t\xe9es. Vous pouvez maintenant fermer cet assistant."]}),(0,o.jsx)("button",{onClick:async()=>{try{(await fetch(`/api/internal/shops/${encodeURIComponent(l._id)}/mark-parametrized`,{method:"PUT"})).ok?console.log("Shop successfully marked as parametrized"):console.warn("Failed to mark shop as parametrized, but continuing to close")}catch(e){console.error("Error marking shop as parametrized:",e)}finally{i()}},className:"px-6 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 transition-colors",children:"Fermer l'assistant"})]}):(0,o.jsxs)("div",{className:"text-center max-w-md space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-start space-x-2 mb-6 bg-yellow-50 p-4 rounded-md",children:[(0,o.jsx)(ue,{className:"text-yellow-600 mt-0.5 flex-shrink-0",size:16}),(0,o.jsxs)("p",{className:"text-sm text-yellow-800 text-left",children:[(0,o.jsx)("strong",{children:"Important :"})," Suivez les \xe9tapes dans l'ordre et utilisez la page Shopify ouverte dans le nouvel onglet pour effectuer les actions demand\xe9es."]})]}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-blue-800",children:"Page Shopify ouverte dans un nouvel onglet"}),(0,o.jsx)("p",{className:"text-sm text-gray-700",children:"Nous avons automatiquement ouvert la page de connexion Shopify (recherche de boutique) dans un nouvel onglet. Utilisez-la pour suivre les instructions de cette fen\xeatre."}),(0,o.jsx)("p",{className:"text-sm text-gray-700",children:"Cliquez sur le bouton ci-dessous pour ouvrir la page de connexion Shopify, puis votre interface d'administration dans de nouveaux onglets."}),(0,o.jsx)("button",{onClick:()=>{window.open("https://accounts.shopify.com/store-login","_blank"),h(!0)},disabled:m,className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+(m?"bg-green-600 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:m?"Page Shopify ouverte":"Ouvrir la page Shopify"})]})})]}),(0,o.jsx)("div",{className:"p-4 border-t bg-gray-50 flex justify-between items-center",children:(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,o.jsx)("span",{className:"font-medium",children:"Progression:"})," ",u.size,"/",Se.length," \xe9tapes termin\xe9es"]})})]}),ge.open&&(0,o.jsx)(Ge,{open:ge.open,title:ge.title,message:ge.message,type:ge.type,onClose:ge.onClose,onConfirm:ge.onConfirm,confirmText:ge.confirmText,cancelText:ge.cancelText})]}):null},sv=e=>{var r,n,a,s;let{isOpen:i,onClose:l,shop:c,onSuccess:d}=e;const[u,p]=(0,t.useState)(1),[m,h]=(0,t.useState)(new Set),[f,g]=(0,t.useState)(!1),[x,y]=(0,t.useState)(null),[v,b]=(0,t.useState)(!0),[w,j]=(0,t.useState)(null),[N,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(""),[E,P]=(0,t.useState)(!1),[D,I]=(0,t.useState)(null),[T,M]=(0,t.useState)(!1),[A,_]=(0,t.useState)(!1),[z,O]=(0,t.useState)(!1),[L,R]=(0,t.useState)(null);null===x||void 0===x||x.email,null===x||void 0===x||x.password;(0,t.useEffect)(()=>{i||(p(1),h(new Set),_(!1),g(!1),C(""),I(null),M(!1),P(!1),y(null),b(!1),j(null),O(!1),R(null))},[i]),(0,t.useEffect)(()=>{if(i){const e=async()=>{try{var e,t;b(!0),j(null);const r=await fetch("/api/internal/config/shopify-partner-credentials"),n=null===(e=r.headers.get("content-type"))||void 0===e?void 0:e.includes("application/json");let a=null;if(a=n?await r.json():await r.text(),!r.ok){const e=n&&a&&a.message?a.message:a;throw new Error(e||"Failed to fetch partner credentials")}if(!n||null===(t=a)||void 0===t||!t.credentials)throw new Error("Invalid credentials format");y(a.credentials)}catch(r){j(r.message)}finally{b(!1)}};e()}},[i]);const $=async()=>{P(!0),I(null),M(!1);try{if(!S.trim())throw new Error("L'URL d'administration est requise.");const e=S.match(/^https:\/\/(.*?)\.myshopify\.com/)||S.match(/^https:\/\/admin\.shopify\.com\/store\/(.*?)(?:\?|\/|$)/);if(!e)throw new Error("Format d'URL invalide. Utilisez un format comme https://votre-boutique.myshopify.com/admin");const t=e[1],r=await fetch(`/api/internal/shops/${c._id}/save-domain`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shopifyDomain:t,adminUrl:S.trim()})}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to save domain.");M(!0)}catch(e){I(e.message)}finally{P(!1)}},F=(0,t.useMemo)(()=>[{id:1,title:"Connexion",description:"Connexion \xe0 votre compte Shopify",instructions:[{title:"Premi\xe8re connexion",steps:["Saisissez l'adresse e-mail ci-dessous puis cliquez sur 'Continuer avec un e-mail'","Saisissez le mot de passe ci-dessous puis cliquez sur 'Se connecter'","Si un code 2FA est demand\xe9, ouvrez votre application d'authentification ou vos SMS, saisissez le code et cliquez sur 'Connexion'","Vous acc\xe9derez alors au tableau de bord administrateur"]},{title:"Connexion avec compte existant",steps:["Si la page 'Choisir un compte' s'affiche, s\xe9lectionnez le compte '<span class=\"font-bold\">Boris Ducteil</span>'","OU vous serez directement redirig\xe9 vers le tableau de bord administrateur"]}]},{id:2,title:"Acc\xe8s \xe0 la cr\xe9ation de boutique",description:"Navigation vers l'interface de cr\xe9ation",instructions:["Une fois sur le tableau de bord Shopify, cliquez sur l'ic\xf4ne en forme de boutique dans le coin sup\xe9rieur droit avec le nom de la boutique actuelle","Dans le menu d\xe9roulant qui appara\xeet, s\xe9lectionnez '<span class=\"font-bold\">Toutes les boutiques</span>'","Un nouvel onglet s'ouvrira avec la liste de toutes vos boutiques"]},{id:3,title:"Cr\xe9ation de la nouvelle boutique",description:"\xc9tapes de cr\xe9ation de la boutique",instructions:["Dans le nouvel onglet, cliquez sur le bouton noir '<span class=\"font-bold\">+ Cr\xe9er une boutique</span>'",{title:"Configuration de la boutique - \xc9tape 1",steps:["Question : '<span class=\"font-bold\">Sur quels canaux souhaitez\u2011vous vendre ?</span>'","R\xe9ponse : S\xe9lectionnez '<span class=\"font-bold\">Une boutique en ligne</span>'","Cliquez sur '<span class=\"font-bold\">Suivant</span>'"]},{title:"Configuration de la boutique - \xc9tape 2",steps:["Question : '<span class=\"font-bold\">Cette boutique est-elle destin\xe9e \xe0 une nouvelle entreprise ou \xe0 une entreprise existante ?</span>'","R\xe9ponse : S\xe9lectionnez '<span class=\"font-bold\">Entreprise existante</span>'","Cliquez sur '<span class=\"font-bold\">Suivant</span>'"]},{title:"Configuration de la boutique - \xc9tape 3",steps:["Question : '<span class=\"font-bold\">Quelle est la taille de votre entreprise ?</span>'","R\xe9ponse : S\xe9lectionnez '<span class=\"font-bold\">Petite</span>'","Cliquez sur '<span class=\"font-bold\">Suivant</span>'"]},{title:"Configuration de la boutique - \xc9tape 4",steps:["Question : '<span class=\"font-bold\">Vendez-vous actuellement sur d'autres plateformes ?</span>'","R\xe9ponse : S\xe9lectionnez '<span class=\"font-bold\">Non, je n'utilise aucune plateforme</span>'","Cliquez sur '<span class=\"font-bold\">Suivant</span>'"]},{title:"Configuration de la boutique - \xc9tape 5",steps:["Question : '<span class=\"font-bold\">Que pr\xe9voyez-vous de vendre ?</span>'","R\xe9ponse : S\xe9lectionnez '<span class=\"font-bold\">Produits que j'ach\xe8te ou fabrique moi-m\xeame</span>'","Cliquez sur '<span class=\"font-bold\">Suivant</span>'"]},{title:"Configuration de l'abonnement",steps:["Page : '<span class=\"font-bold\">Commencez gratuitement. Continuez pour 1 \u20ac.</span>'","Cliquez sur '<span class=\"font-bold\">Passer, je d\xe9ciderai plus tard</span>'"]}]},{id:4,title:"Configuration du nom de la boutique",description:"Personnalisation des param\xe8tres de la boutique",instructions:["Vous \xeates maintenant dans le tableau de bord de la nouvelle boutique","Dans la barre lat\xe9rale gauche, cliquez sur '<span class=\"font-bold\">Param\xe8tres</span>'",{title:"Modification du nom de la boutique",steps:["Dans la section '<span class=\"font-bold\">D\xe9tails de la boutique</span>', placez votre souris sur '<span class=\"font-bold\">Ma boutique</span>' et cliquez sur l'ic\xf4ne crayon qui appara\xeet","Dans le champ '<span class=\"font-bold\">Nom de la boutique</span>', saisissez :",{type:"shop_name_copy",label:"Nom de la boutique",value:(null===c||void 0===c?void 0:c.nomProjet)||(null===c||void 0===c?void 0:c.name)||"Nom du projet"},"Cliquez sur le bouton noir '<span class=\"font-bold\">Enregistrer</span>'","Cliquez sur la croix en haut \xe0 droite pour fermer la modal"]}]},{id:5,title:"R\xe9cup\xe9ration de l'URL d'administration",description:"Configuration finale de la boutique",instructions:["Une fois de retour dans le tableau de bord, copiez l'URL d'administration de la boutique depuis la barre d'adresse du navigateur","L'URL devrait ressembler \xe0 : '<span class=\"font-bold\">https://votre-boutique.myshopify.com/admin</span>' ou '<span class=\"font-bold\">https://admin.shopify.com/store/votre-boutique</span>'",{title:"Saisie de l'URL d'administration",steps:[{type:"admin_url_form",instruction:"Collez l'URL d'administration de votre nouvelle boutique ci-dessous :"}]}]}],[c]),q=e=>{h(t=>new Set(t).add(e))},B=()=>F.find(e=>e.id===u);return i&&c?(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-green-50 to-blue-50",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Assistant de Cr\xe9ation de Boutique Shopify"}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Boutique:"," ",(0,o.jsx)("span",{className:"font-semibold",children:c.nomProjet||c.name})]})]}),(0,o.jsx)("button",{onClick:()=>{g(!1),l()},className:"text-gray-500 hover:text-gray-800 transition-colors p-2 rounded-full hover:bg-gray-100",children:(0,o.jsx)(Ee,{size:24})})]}),(0,o.jsxs)("div",{className:"flex-grow flex min-h-0",children:[(0,o.jsxs)("div",{className:"w-1/2 bg-gray-50 border-r p-6 overflow-y-auto flex-shrink-0",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:[(0,o.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"Progression"}),(0,o.jsx)("div",{className:"space-y-2",children:F.map(e=>(0,o.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-md "+(u===e.id?"bg-blue-100 border border-blue-200":m.has(e.id)?"bg-green-50":""),children:[(0,o.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-sm "+(m.has(e.id)?"bg-green-500 text-white":u===e.id?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"),children:m.has(e.id)?(0,o.jsx)(ee,{size:12}):e.id}),(0,o.jsx)("span",{className:"text-sm "+(u===e.id?"font-semibold":""),children:e.title})]},e.id))})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,o.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["\xc9tape ",u,": ",null===(r=B())||void 0===r?void 0:r.title]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:null===(n=B())||void 0===n?void 0:n.description}),(0,o.jsx)("div",{className:"space-y-4",children:null===(a=B())||void 0===a||null===(s=a.instructions)||void 0===s?void 0:s.map((e,t)=>{return"string"===typeof e?(0,o.jsx)("div",{className:"text-sm text-gray-700",dangerouslySetInnerHTML:{__html:e}},t):e.title?(0,o.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,o.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:e.title}),(0,o.jsx)("div",{className:"space-y-2",children:null===(r=e.steps)||void 0===r?void 0:r.map((e,t)=>"string"===typeof e?(0,o.jsx)("div",{className:"text-sm text-gray-700",dangerouslySetInnerHTML:{__html:e}},t):"shop_name_copy"===e.type?(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1",children:e.label}),(0,o.jsxs)("div",{className:"flex items-center border rounded-md px-3 py-2 bg-gray-100",children:[(0,o.jsx)("span",{className:"flex-1 text-sm text-gray-800 break-all",children:e.value}),(0,o.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e.value),className:"text-blue-600 hover:text-blue-800 ml-2",title:"Copier",children:(0,o.jsx)(se,{})})]})]},`shop-name-${t}`):"admin_url_form"===e.type?(0,o.jsxs)("div",{className:"mt-4 p-4 bg-white border rounded-lg space-y-4",children:[(0,o.jsx)("p",{className:"text-sm text-gray-700",children:e.instruction}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"adminUrl",className:"block text-sm font-medium text-gray-700",children:"URL d'administration de la boutique"}),(0,o.jsx)("input",{type:"url",id:"adminUrl",value:S,onChange:e=>C(e.target.value),placeholder:"https://votre-boutique.myshopify.com/admin",className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,o.jsx)("div",{className:"pt-2",children:(0,o.jsx)("button",{onClick:$,disabled:E||T||!S.trim(),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+(T?"bg-green-600 text-white":E||!S.trim()?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:E?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ke,{className:"animate-spin inline mr-2"}),"Enregistrement..."]}):T?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ee,{className:"inline mr-2"}),"Enregistr\xe9"]}):"Enregistrer l'URL"})}),D&&(0,o.jsxs)("div",{className:"text-red-600 text-sm mt-2",children:[(0,o.jsx)(de,{className:"inline mr-1"}),D]}),T&&(0,o.jsxs)("div",{className:"text-green-600 text-sm mt-2",children:[(0,o.jsx)(ee,{className:"inline mr-1"}),"URL d'administration enregistr\xe9e avec succ\xe8s"]})]},`admin-url-form-${t}`):null)})]},t):null;var r})})]}),(0,o.jsxs)("div",{className:"space-y-3 mt-6",children:[(0,o.jsxs)("div",{className:"flex space-x-3",children:[u>1&&(0,o.jsxs)("button",{onClick:()=>{u>1&&p(u-1)},className:"flex-1 py-2 px-4 bg-gray-600 text-white rounded-md text-sm font-medium hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[(0,o.jsx)(W,{className:"transform rotate-180",size:12}),(0,o.jsx)("span",{children:"\xc9tape pr\xe9c\xe9dente"})]}),u<F.length?(0,o.jsxs)("button",{onClick:()=>{q(u),u<F.length?p(u+1):_(!0)},className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[(0,o.jsx)("span",{children:"\xc9tape suivante"}),(0,o.jsx)(W,{size:12})]}):!A&&(0,o.jsxs)("button",{onClick:async()=>{O(!0),R(null);try{var e;const t=await fetch(`/api/internal/shops/${encodeURIComponent(c._id)}/mark-shopify-created`,{method:"PUT"}),r=null===(e=t.headers.get("content-type"))||void 0===e?void 0:e.includes("application/json"),n=r?await t.json():await t.text();if(!t.ok){const e=r?n.message:n;throw new Error(e||"\xc9chec de la finalisation.")}q(F.length),_(!0),d&&d()}catch(t){R(t.message)}finally{O(!1)}},disabled:z||!T,className:`flex-1 py-2 px-4 rounded-md text-sm font-medium flex items-center justify-center space-x-2 ${z||!T?"bg-gray-400 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"} transition-colors`,children:[z&&(0,o.jsx)(ke,{className:"animate-spin -ml-1 mr-3 h-4 w-4"}),(0,o.jsx)("span",{children:z?"Finalisation...":"Finaliser la cr\xe9ation"})]})]}),L&&(0,o.jsxs)("div",{className:"text-red-600 text-sm",children:[(0,o.jsx)(de,{className:"inline mr-1"}),L]})]})]}),(0,o.jsx)("div",{className:"w-1/2 p-6 flex items-center justify-center",children:A?(0,o.jsxs)("div",{className:"text-center max-w-md space-y-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:(0,o.jsx)(ee,{className:"text-green-600",size:32})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-green-800",children:"Boutique cr\xe9\xe9e avec succ\xe8s !"}),(0,o.jsxs)("p",{className:"text-sm text-gray-700",children:["Votre boutique Shopify"," ",(0,o.jsx)("strong",{children:c.nomProjet||c.name})," a \xe9t\xe9 cr\xe9\xe9e et configur\xe9e avec succ\xe8s. Vous pouvez maintenant commencer \xe0 ajouter vos produits et configurer votre boutique."]}),(0,o.jsx)("button",{onClick:l,className:"px-6 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 transition-colors",children:"Terminer"})]}):(0,o.jsxs)("div",{className:"text-center max-w-md space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-start space-x-2 mb-6 bg-yellow-50 p-4 rounded-md",children:[(0,o.jsx)(ue,{className:"text-yellow-600 mt-0.5 flex-shrink-0",size:16}),(0,o.jsxs)("p",{className:"text-sm text-yellow-800 text-left",children:[(0,o.jsx)("strong",{children:"Important :"})," Suivez les \xe9tapes dans l'ordre et utilisez la page Shopify ouverte dans le nouvel onglet pour effectuer les actions demand\xe9es."]})]}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-blue-800",children:"Cr\xe9ation de boutique Shopify"}),(0,o.jsx)("p",{className:"text-sm text-gray-700",children:"Nous allons vous guider \xe0 travers le processus de cr\xe9ation d'une nouvelle boutique Shopify. Utilisez les instructions \xe0 gauche pour suivre les \xe9tapes."}),(0,o.jsx)("p",{className:"text-sm text-gray-700",children:"Cliquez sur le bouton ci-dessous pour ouvrir la page de connexion Shopify dans un nouvel onglet."}),(0,o.jsx)("button",{onClick:()=>{window.open("https://accounts.shopify.com/store-login","_blank"),g(!0)},disabled:f,className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+(f?"bg-green-600 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:f?"Page Shopify ouverte":"Ouvrir la page Shopify"})]})})]})]})}):null},ov=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[p,m]=(0,t.useState)(0),[h,f]=(0,t.useState)({open:!1}),[g,x]=(0,t.useState)(""),[y,v]=(0,t.useState)(null),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(""),k=(0,t.useRef)(""),[S,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)(null),[D,I]=(0,t.useState)(!1),[T,M]=(0,t.useState)(null),[A,_]=(0,t.useState)(!1),[z,O]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!d)return;const e=e=>{e.data&&"form_submitted"===e.data.type?(console.log("Form submitted in iframe, refreshing content..."),setTimeout(()=>{m(e=>e+1)},1e3)):e.data&&"captcha_completed"===e.data.type&&(console.log("CAPTCHA completed, refreshing content..."),setTimeout(()=>{m(e=>e+1)},500))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[d]),(0,t.useEffect)(()=>{const e=localStorage.getItem("shopifyGeneratingFor");e&&fetch(`/api/shopify/status/${e}`).then(e=>e.json()).then(t=>{t.running?c(e):(localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopifyGenStart"),localStorage.removeItem("shopify2FASession"))}).catch(e=>{console.error("Failed to check status:",e),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopifyGenStart"),localStorage.removeItem("shopify2FASession")});const t=localStorage.getItem("shopify2FASession");t&&$(t)},[]),(0,t.useEffect)(()=>{if(!l)return;const t=e.find(e=>e._id===l);t&&t.hasShopify&&(c(null),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopify2FASession"))},[e,l]),(0,t.useEffect)(()=>{if(!l)return;const e=setInterval(()=>{const e=parseInt(localStorage.getItem("shopifyGenStart")||"0",10);e&&Date.now()-e>6e5&&(c(null),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopifyGenStart"),localStorage.removeItem("shopify2FASession"),f({open:!0,type:"error",title:"Temps \xe9coul\xe9",message:"La tentative de connexion \xe0 Shopify a expir\xe9. Veuillez r\xe9essayer.",onClose:()=>f({open:!1})}))},3e4);return()=>clearInterval(e)},[l]);const L=async()=>{try{a(!0);const e=await fetch("/api/customer/all?details=true",{headers:{"Cache-Control":"no-cache"},credentials:"include"});if(!e.ok)throw new Error("Erreur lors de la r\xe9cup\xe9ration des boutiques");const t=((await e.json()).customers||[]).reduce((e,t)=>{if("active"===t.status&&Array.isArray(t.shops)){const r=t.shops.map(e=>{var r;return{_id:e.shopId||e._id||e.id,name:e.nomProjet||e.shopName||e.name||"-",clientName:t.raisonSociale||t.name,clientId:(null===(r=t._id)||void 0===r?void 0:r.toString())||t.id,Payement:t.Payement,isValidated:"valid"===e.status,isDocumented:"documented"===e.documented||!0===e.documented,hasShopify:!0===e.hasShopify||!0===e.shopifyConfigured,isParametrized:!0===e.isParametrized||!0===e.shopifyParametrized||"true"===e.isParametrized||1===e.isParametrized,parametrizationError:e.shopifyParametrizationError,shopifyDomain:e.shopifyDomain,moduleMondialRelay:e.moduleMondialRelay,raw:e}});return[...e,...r]}return e},[]);return r(t),i(null),t}catch(e){return console.error("Erreur:",e),i("Une erreur est survenue lors du chargement des boutiques."),[]}finally{a(!1)}};(0,t.useEffect)(()=>{L()},[]);const R=async e=>{try{await fetch(`/api/shopify/cancel/${e}`,{method:"POST"})}catch(t){console.error("Error canceling process:",t)}finally{f({open:!1}),x(""),v(null),c(null),w(!1),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopify2FASession"),localStorage.removeItem("shopifyGenStart")}},$=e=>{v(e),x(""),f({open:!0,type:"confirmation",title:"Code d'authentification",message:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"mb-4 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:(0,o.jsxs)("p",{className:"text-yellow-700 text-sm",children:[(0,o.jsx)("strong",{children:"\u26a0\ufe0f Attention :"})," Cette \xe9tape ne doit pas \xe9chouer. Assurez-vous de saisir le bon code car un \xe9chec pourrait bloquer l'outil de g\xe9n\xe9ration de boutique pendant 30 minutes \xe0 1 heure."]})}),(0,o.jsx)("p",{children:"Veuillez entrer le code \xe0 6 chiffres g\xe9n\xe9r\xe9 par votre application d'authentification."}),(0,o.jsx)("input",{type:"text",maxLength:"6",onChange:e=>{const t=e.target.value.replace(/\D/g,"");k.current=t,x(t)},className:"mt-4 w-full border rounded p-2 text-center tracking-widest",placeholder:"123456"})]}),onClose:()=>R(e),onConfirm:()=>F(e,k.current),cancelText:"\u274c Annuler et fermer le navigateur",confirmText:"\u2705 Valider"})},F=async(e,t)=>{try{f({open:!1}),w(!0),c(e);const r=await fetch(`/api/shopify/2fa/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})});if(203===r.status){console.log("[2FA] CAPTCHA required after 2FA code submission");const e=await r.json(),{sessionId:t,captchaUrl:n,message:a}=e;return u({sessionId:t,captchaUrl:n}),f({open:!1}),w(!1),void console.log("[2FA] CAPTCHA modal will show for post-2FA verification")}if(!r.ok){const t=await r.json().catch(()=>({}));return c(null),w(!1),console.log("[2FA] Response error:",r.status,t),void f({open:!0,type:"confirmation",title:"\u274c Code d'authentification incorrect",message:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-400 rounded",children:(0,o.jsxs)("p",{className:"text-red-700 text-sm",children:[(0,o.jsx)("strong",{children:"Code incorrect!"})," Veuillez v\xe9rifier votre application d'authentification et entrer le bon code."]})}),(0,o.jsx)("p",{className:"mb-4",children:"Veuillez entrer le code \xe0 6 chiffres g\xe9n\xe9r\xe9 par votre application d'authentification."}),(0,o.jsx)("input",{type:"text",maxLength:"6",onChange:e=>{const t=e.target.value.replace(/\D/g,"");k.current=t,x(t)},className:"mt-4 w-full border rounded p-2 text-center tracking-widest",placeholder:"123456",autoFocus:!0})]}),onClose:()=>R(e),onConfirm:()=>F(e,k.current),cancelText:"\u274c Annuler et fermer le navigateur",confirmText:"\u2705 Valider"})}await L(),c(null),w(!1),f({open:!0,type:"success",title:"\ud83c\udf89 Boutique cr\xe9\xe9e avec succ\xe8s !",message:"F\xe9licitations ! Votre boutique Shopify a \xe9t\xe9 cr\xe9\xe9e et configur\xe9e automatiquement. Elle est maintenant pr\xeate \xe0 \xeatre utilis\xe9e.",onClose:()=>f({open:!1})}),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopify2FASession"),localStorage.removeItem("shopifyGenStart")}catch(r){console.error(r),c(null),w(!1);const t=r.message&&(r.message.includes("Code incorrect")||r.message.includes("code")||r.message.includes("authentification"));f(t?{open:!0,type:"confirmation",title:"\u274c Erreur de validation",message:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-400 rounded",children:(0,o.jsxs)("p",{className:"text-red-700 text-sm",children:[(0,o.jsx)("strong",{children:"Erreur!"})," ",r.message||"Une erreur est survenue lors de la validation du code."]})}),(0,o.jsx)("p",{className:"mb-4",children:"Veuillez entrer le code \xe0 6 chiffres g\xe9n\xe9r\xe9 par votre application d'authentification."}),(0,o.jsx)("input",{type:"text",maxLength:"6",onChange:e=>{const t=e.target.value.replace(/\D/g,"");k.current=t,x(t)},className:"mt-4 w-full border rounded p-2 text-center tracking-widest",placeholder:"123456",autoFocus:!0})]}),onClose:()=>R(e),onConfirm:()=>F(e,k.current),cancelText:"\u274c Annuler et fermer le navigateur",confirmText:"\u2705 Valider"}:{open:!0,type:"error",title:"Erreur de g\xe9n\xe9ration",message:r.message||"Une erreur est survenue lors de la g\xe9n\xe9ration de la boutique.",onClose:()=>{f({open:!1}),R(e)}})}finally{x("")}},q=e=>{f({open:!0,type:"confirmation",title:"\ud83d\udd11 Ajouter les cl\xe9s API",message:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("p",{className:"text-sm text-gray-700",children:["Pour pouvoir communiquer avec Shopify, vous devez cr\xe9er une"," ",(0,o.jsx)("strong",{children:"application personnalis\xe9e"})," (Custom App) dans votre nouvelle boutique puis copier",(0,o.jsx)("br",{})," ",(0,o.jsx)("code",{className:"bg-gray-100 px-1",children:"API key"})," &"," ",(0,o.jsx)("code",{className:"bg-gray-100 px-1",children:"API secret key"})," ci-dessous."]}),(0,o.jsxs)("details",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:[(0,o.jsx)("summary",{className:"cursor-pointer font-medium text-blue-800",children:"Tutoriel \u2013 cr\xe9er l'app dans Shopify"}),(0,o.jsxs)("ol",{className:"list-decimal ml-6 mt-3 space-y-1 text-sm text-blue-700",children:[(0,o.jsxs)("li",{children:["Ouvrez l'Admin de la boutique\xa0:"," ",(0,o.jsxs)("a",{href:`https://${e.shopifyDomain}.myshopify.com/admin`,className:"underline",target:"_blank",rel:"noopener noreferrer",children:[e.shopifyDomain,".myshopify.com/admin"]})]}),(0,o.jsxs)("li",{children:["Menu ",(0,o.jsx)("strong",{children:"Apps \u2192 Develop apps"})]}),(0,o.jsxs)("li",{children:["Cliquez ",(0,o.jsx)("strong",{children:"Create an app"})," ; donnez-lui par ex. le nom \xab SNA-Connector \xbb"]}),(0,o.jsxs)("li",{children:["Onglet ",(0,o.jsx)("strong",{children:"Configuration"})," \u2192"," ",(0,o.jsx)("strong",{children:"Admin API integration"})]}),(0,o.jsxs)("li",{children:["Activez ",(0,o.jsx)("em",{children:"toutes"})," les autorisations disponibles (ou au minimum \xab Products \xbb en lecture/\xe9criture) puis"," ",(0,o.jsx)("strong",{children:"Save"})]}),(0,o.jsxs)("li",{children:["Retournez \xe0 l'onglet ",(0,o.jsx)("strong",{children:"API credentials"})," \u2192 Cliquez"," ",(0,o.jsx)("strong",{children:"Install app"})," puis confirmez"]}),(0,o.jsxs)("li",{children:["Copiez les champs"," ",(0,o.jsx)("code",{className:"bg-gray-100 px-1",children:"API key"})," et"," ",(0,o.jsx)("code",{className:"bg-gray-100 px-1",children:"API secret key"})]})]})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium",children:"API key :"}),(0,o.jsx)("input",{id:"shop-api-key",type:"text",className:"w-full border rounded p-2",placeholder:"ex: 3d2f0d6a0e..."}),(0,o.jsx)("label",{className:"block text-sm font-medium mt-3",children:"API secret key :"}),(0,o.jsx)("input",{id:"shop-api-secret",type:"text",className:"w-full border rounded p-2",placeholder:"ex: shpss_..."}),(0,o.jsx)("label",{className:"block text-sm font-medium mt-3",children:"Access Token :"}),(0,o.jsx)("input",{id:"shop-access-token",type:"text",className:"w-full border rounded p-2",placeholder:"ex: shpat_..."})]})]}),onClose:()=>f({open:!1}),onConfirm:async()=>{var t,r,n;const a=null===(t=document.getElementById("shop-api-key"))||void 0===t?void 0:t.value.trim(),s=null===(r=document.getElementById("shop-api-secret"))||void 0===r?void 0:r.value.trim(),o=null===(n=document.getElementById("shop-access-token"))||void 0===n?void 0:n.value.trim();if(!a||!s||!o)return alert("Veuillez remplir les trois champs");try{if(!(await fetch(`/api/internal/clients/${e.clientId}/shops/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({"shopifyConfig.apiKey":a,"shopifyConfig.apiSecret":s,"shopifyConfig.accessToken":o})})).ok)throw new Error("\xc9chec de la sauvegarde");await L(),f({open:!1})}catch(i){alert(i.message)}},confirmText:"\ud83d\udcbe Enregistrer",cancelText:"Annuler"})};return(0,o.jsxs)("div",{className:"space-y-6 p-6 relative",children:[l&&!d&&(0,o.jsxs)("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-white/70 z-40",children:[(0,o.jsx)(ke,{className:"animate-spin h-8 w-8 text-sna-primary mb-4"}),(0,o.jsx)("p",{className:"text-sna-primary",children:b?"Ouverture de la boutique\u2026":"Connexion \xe0 Shopify\u2026"})]}),d&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,o.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83e\udd16 CAPTCHA - V\xe9rification humaine requise"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"R\xe9solvez le CAPTCHA ci-dessous pour continuer."})]}),(0,o.jsx)("button",{onClick:()=>{u(null),c(null),w(!1)},className:"text-gray-400 hover:text-gray-600 text-xl font-bold",children:"\u2715"})]}),(0,o.jsxs)("div",{className:"flex-1 p-4",children:[(0,o.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-4",children:(0,o.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,o.jsx)("strong",{children:"Instructions :"}),' Cliquez sur "Activer hCaptcha" pour d\xe9clencher le d\xe9fi, puis r\xe9solvez-le directement dans l\'aper\xe7u ci-dessous.']})}),(0,o.jsxs)("div",{className:"flex justify-center mb-6",children:[(0,o.jsx)("button",{onClick:async()=>{try{const e=await fetch(`/api/shopify/click-captcha/${d.sessionId}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("\xc9chec de l'activation du CAPTCHA");{const t=await e.json();console.log("CAPTCHA click result:",t),m(e=>e+1),f({open:!0,type:"success",title:"hCaptcha activ\xe9",message:"Le d\xe9fi hCaptcha a \xe9t\xe9 activ\xe9. Vous pouvez maintenant le r\xe9soudre dans l'aper\xe7u ci-dessous.",onClose:()=>f({open:!1})})}}catch(e){console.error("CAPTCHA click failed:",e),f({open:!0,type:"error",title:"Erreur d'activation",message:"Impossible d'activer le hCaptcha. Essayez le bouton 'Actualiser' puis r\xe9essayez.",onClose:()=>f({open:!1})})}},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium mr-4",children:"\ud83c\udfaf Activer hCaptcha"}),(0,o.jsx)("button",{onClick:()=>{const e=window.open(`/api/shopify/live/${d.sessionId}?popup=true`,"hcaptcha-popup","width=900,height=700,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=yes,status=no");if(e){e.focus();const t=setInterval(()=>{e.closed&&(clearInterval(t),m(e=>e+1))},1e3)}},className:"inline-flex items-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium mr-4",children:"\ud83e\ude9f Ouvrir dans une fen\xeatre"}),(0,o.jsx)("button",{onClick:async()=>{try{const e=await fetch(`/api/shopify/force-refresh/${d.sessionId}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("\xc9chec de l'actualisation");{const t=await e.json();console.log("Force refresh result:",t),m(e=>e+1),f({open:!0,type:"success",title:"Page actualis\xe9e",message:"La page a \xe9t\xe9 actualis\xe9e. Essayez maintenant d'activer le hCaptcha.",onClose:()=>f({open:!1})})}}catch(e){console.error("Force refresh failed:",e),f({open:!0,type:"error",title:"Erreur d'actualisation",message:"Impossible d'actualiser la page. Veuillez r\xe9essayer.",onClose:()=>f({open:!1})})}},className:"inline-flex items-center px-4 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium mr-4",children:"\ud83d\udd04 Actualiser"}),(0,o.jsx)("button",{onClick:async()=>{try{const e=await fetch(`/api/shopify/debug/${d.sessionId}`);if(!e.ok)throw new Error("\xc9chec de l'analyse");{const t=await e.json();console.log("Debug analysis:",t),f({open:!0,type:"confirmation",title:"\ud83d\udd0d Analyse de la page",message:(0,o.jsxs)("div",{className:"max-h-96 overflow-y-auto",children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h4",{className:"font-bold mb-2",children:"\xc9l\xe9ments CAPTCHA trouv\xe9s:"}),t.pageAnalysis.captchaElements.length>0?(0,o.jsx)("ul",{className:"list-disc pl-5 text-sm",children:t.pageAnalysis.captchaElements.map((e,t)=>(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:e.selector})," -"," ",e.tagName,e.visible?" (visible)":" (cach\xe9)","- ",e.rect.width,"\xd7",e.rect.height,"px"]},t))}):(0,o.jsx)("p",{className:"text-red-600",children:"Aucun \xe9l\xe9ment CAPTCHA trouv\xe9!"})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h4",{className:"font-bold mb-2",children:"Iframes trouv\xe9es:"}),t.pageAnalysis.allIframes.length>0?(0,o.jsx)("ul",{className:"list-disc pl-5 text-sm",children:t.pageAnalysis.allIframes.map((e,t)=>(0,o.jsxs)("li",{children:[e.src||"Sans src",e.visible?" (visible)":" (cach\xe9)","- ",e.rect.width,"\xd7",e.rect.height,"px"]},t))}):(0,o.jsx)("p",{children:"Aucune iframe trouv\xe9e"})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h4",{className:"font-bold mb-2",children:"URL de la page:"}),(0,o.jsx)("p",{className:"text-sm text-blue-600",children:t.pageAnalysis.url})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h4",{className:"font-bold mb-2",children:"Contenu de la page:"}),(0,o.jsx)("p",{className:"text-xs bg-gray-100 p-2 rounded",children:t.pageAnalysis.pageText})]})]}),onClose:()=>f({open:!1}),confirmText:"Fermer",onConfirm:()=>f({open:!1})})}}catch(e){console.error("Debug failed:",e),f({open:!0,type:"error",title:"Erreur d'analyse",message:"Impossible d'analyser la page. Veuillez r\xe9essayer.",onClose:()=>f({open:!1})})}},className:"inline-flex items-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"\ud83d\udd0d Analyser la page"})]}),(0,o.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4",children:(0,o.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,o.jsx)("strong",{children:"Recommand\xe9 :"}),' Cliquez d\'abord sur "Activer hCaptcha" pour d\xe9clencher le d\xe9fi, puis r\xe9solvez-le directement dans l\'aper\xe7u. Si le hCaptcha ne se charge pas, utilisez "Actualiser" puis r\xe9essayez.']})}),(0,o.jsxs)("div",{className:"border-2 border-gray-300 rounded-lg overflow-hidden bg-gray-50",children:[(0,o.jsx)("div",{className:"p-4 bg-gray-100 border-b",children:(0,o.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,o.jsx)("div",{className:"text-2xl mr-2",children:"\ud83e\udd16"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"hCaptcha - R\xe9solution en direct"}),(0,o.jsx)("p",{className:"text-xs text-gray-500",children:"Une fois activ\xe9, r\xe9solvez le d\xe9fi directement ici"})]})]})}),(0,o.jsx)("div",{className:"h-96",children:(0,o.jsx)("iframe",{src:`/api/shopify/live/${d.sessionId}?t=${p}`,className:"w-full h-full border-0",title:"hCaptcha Live",style:{pointerEvents:"auto",opacity:1}},p)})]}),(0,o.jsx)("div",{className:"bg-green-50 border-l-4 border-green-400 p-3 mt-4",children:(0,o.jsxs)("p",{className:"text-sm text-green-700",children:[(0,o.jsx)("strong",{children:"Astuce :"}),' Une fois le hCaptcha r\xe9solu avec succ\xe8s, cliquez sur "Continuer" ci-dessous pour poursuivre la cr\xe9ation de la boutique.']})})]}),(0,o.jsxs)("div",{className:"p-4 border-t flex justify-end space-x-4",children:[(0,o.jsx)("button",{onClick:()=>{u(null),c(null),w(!1)},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded hover:bg-gray-300 transition-colors",children:"\u274c Annuler"}),(0,o.jsxs)("button",{onClick:async()=>{if(null!==d&&void 0!==d&&d.sessionId)try{const e=await fetch(`/api/shopify/captcha/${d.sessionId}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(202===e.status){const t=await e.json();return u(null),f({open:!1}),void $(t.sessionId)}if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.error||"Erreur lors de la continuation apr\xe8s CAPTCHA")}u(null),f({open:!1}),await L(),c(null),w(!1),f({open:!0,type:"success",title:"Boutique g\xe9n\xe9r\xe9e",message:"La boutique Shopify a \xe9t\xe9 cr\xe9\xe9e avec succ\xe8s apr\xe8s r\xe9solution du CAPTCHA.",onClose:()=>f({open:!1})})}catch(e){console.error("Erreur:",e),f({open:!0,type:"error",title:"Erreur",message:e.message||"Une erreur est survenue lors de la continuation.",onClose:()=>{f({open:!1}),u(null)}})}finally{c(null),localStorage.removeItem("shopifyGeneratingFor"),localStorage.removeItem("shopifyGenStart")}},className:"px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700 flex items-center transition-colors",children:[(0,o.jsx)(te,{className:"mr-2"}),"\u2705 Continuer (CAPTCHA r\xe9solu)"]})]})]})}),(0,o.jsx)(av,{isOpen:S,onClose:()=>C(!1),shop:E}),(0,o.jsx)(sv,{isOpen:D,onClose:()=>I(!1),shop:T,onSuccess:async()=>{await L(),f({open:!0,type:"success",title:"Configuration termin\xe9e",message:"La boutique Shopify a \xe9t\xe9 configur\xe9e avec succ\xe8s!",onClose:()=>f({open:!1})})}}),(0,o.jsx)(Ge,{open:h.open,type:h.type,title:h.title,message:h.message,onClose:h.onClose,onConfirm:h.onConfirm}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuration Shopify"}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher une boutique ou un client...",className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sna-primary",value:j,onChange:e=>N(e.target.value)})]}),(0,o.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)(U,{className:"h-5 w-5 text-blue-400"})}),(0,o.jsx)("div",{className:"ml-3",children:(0,o.jsxs)("p",{className:"text-sm text-blue-700",children:["Pour pouvoir cr\xe9er une boutique Shopify, la boutique doit \xeatre"," ",(0,o.jsx)("span",{className:"font-semibold",children:"valid\xe9e"})," et"," ",(0,o.jsx)("span",{className:"font-semibold",children:"document\xe9e"}),". Assurez-vous que toutes les informations n\xe9cessaires sont compl\xe9t\xe9es avant de proc\xe9der."]})})]})}),s&&(0,o.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,o.jsx)("div",{className:"flex",children:(0,o.jsx)("div",{className:"ml-3",children:(0,o.jsx)("p",{className:"text-sm text-red-700",children:s})})})}),n?(0,o.jsx)("div",{className:"flex justify-center py-10",children:(0,o.jsx)(ke,{className:"h-8 w-8 animate-spin text-gray-400"})}):(0,o.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,o.jsx)("ul",{className:"divide-y divide-gray-200",children:e.filter(e=>{if(!j)return!0;const t=j.toLowerCase();return e.name.toLowerCase().includes(t)||e.clientName.toLowerCase().includes(t)}).map(e=>{var t;return(0,o.jsx)("li",{children:(0,o.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:e.clientName})]})}),(0,o.jsx)("div",{className:"flex items-center space-x-4",children:e.hasShopify?(0,o.jsxs)(o.Fragment,{children:[!Boolean(e.isParametrized)&&(0,o.jsxs)("button",{onClick:()=>(async e=>{console.log("[ShopifyConfig] handleParametrizeShop called with shop:",e),console.log("[ShopifyConfig] shop.moduleMondialRelay:",null===e||void 0===e?void 0:e.moduleMondialRelay),P(e),C(!0)})(e),className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors duration-200",children:[(0,o.jsx)(ae,{className:"h-4 w-4 mr-2"}),"Param\xe9trer la boutique"]}),Boolean(e.isParametrized)&&(0,o.jsxs)("button",{onClick:()=>(e=>{O(e),_(!0)})(e),className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-orange-700 bg-orange-50 hover:bg-orange-100 transition-colors duration-200",children:[(0,o.jsx)(Pe,{className:"h-4 w-4 mr-2"}),"D\xe9sparametriser"]}),(0,o.jsxs)("button",{onClick:()=>(async e=>{console.log("[ShopifyConfig] Marquage hasShopify=false pour",e._id);try{if(!(await fetch(`/api/internal/clients/${e.clientId}/shops/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hasShopify:!1})})).ok)throw new Error("Erreur lors de la mise \xe0 jour");await L(),console.log("[ShopifyConfig] Marquage termin\xe9 pour",e._id)}catch(t){console.error("Erreur:",t),i("Impossible de mettre \xe0 jour le statut Shopify pour cette boutique.")}})(e),className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors duration-200",children:[(0,o.jsx)(Ee,{className:"h-4 w-4 mr-2"}),"Retirer Shopify"]}),!(null!==(t=e.shopifyConfig)&&void 0!==t&&t.apiKey)&&(0,o.jsx)("button",{onClick:()=>q(e),className:"ml-2 text-xs text-purple-600 underline",children:"Ajouter cl\xe9s API"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>(async e=>{console.log("[ShopifyConfig] Marquage hasShopify=true pour",e._id);try{if(!(await fetch(`/api/internal/clients/${e.clientId}/shops/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hasShopify:!0})})).ok)throw new Error("Erreur lors de la mise \xe0 jour");await L(),console.log("[ShopifyConfig] Marquage termin\xe9 pour",e._id)}catch(t){console.error("Erreur:",t),i("Impossible de mettre \xe0 jour le statut Shopify pour cette boutique.")}})(e),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Le shop a d\xe9j\xe0 un Shopify"}),(0,o.jsx)("button",{onClick:()=>(e=>{M(e),I(!0)})(e),disabled:null!==l||!e.isValidated||!e.isDocumented,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white "+(null===l&&e.isValidated&&e.isDocumented?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"),children:l===e._id?(0,o.jsx)(ke,{className:"animate-spin h-4 w-4"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(U,{className:"mr-2 h-4 w-4"}),"Configurer Shopify"]})})]})})]}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsxs)("div",{className:"flex space-x-4 flex-wrap",children:[e.hasShopify?(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[(0,o.jsx)(U,{className:"h-4 w-4 mr-1"})," Shopify"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.isValidated?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isValidated?"Valid\xe9e":"Non valid\xe9e"}),(0,o.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.isDocumented?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isDocumented?"Document\xe9e":"Non document\xe9e"})]}),e.hasShopify&&(0,o.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(Boolean(e.isParametrized)?"bg-green-100 text-green-800":e.parametrizationError?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),title:e.parametrizationError||"",children:Boolean(e.isParametrized)?"Param\xe9tr\xe9e":e.parametrizationError?"Erreur param\xe9trage":"Param\xe9trage en attente"})]})})]})},e._id)})})})]}),A&&z&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Confirmer la d\xe9sparametrisation"}),(0,o.jsx)("button",{onClick:()=>{_(!1),O(null)},className:"text-gray-400 hover:text-gray-600",children:(0,o.jsx)(Ee,{className:"h-5 w-5"})})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:['\xcates-vous s\xfbr de vouloir d\xe9sparametriser la boutique "',(0,o.jsx)("span",{className:"font-medium",children:z.nomProjet||z.projectName}),'" ?']}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:'Cela supprimera toutes les configurations Shopify mais conservera le statut "A un Shopify".'})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:()=>{_(!1),O(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Annuler"}),(0,o.jsx)("button",{onClick:async()=>{if(z)try{const e=await fetch(`/api/internal/shopify/shop/${z._id}/unparametrize`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to unparametrize shop")}await L(),f({open:!0,type:"success",title:"Boutique d\xe9sparam\xe9tr\xe9e",message:"La boutique a \xe9t\xe9 d\xe9sparam\xe9tr\xe9e avec succ\xe8s.",onClose:()=>f({open:!1})})}catch(s){console.error("Error unparametrizing shop:",s),f({open:!0,type:"error",title:"Erreur",message:`Erreur lors de la d\xe9sparametrisation: ${s.message}`,onClose:()=>f({open:!1})})}finally{_(!1),O(null)}},className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-md",children:"D\xe9sparametriser"})]})]})})]})},iv=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(new Set),[s,i]=(0,t.useState)({}),[l,c]=(0,t.useState)({}),[d,u]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[g,x]=(0,t.useState)({}),[y,v]=(0,t.useState)({open:!1}),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[k,S]=(0,t.useState)(""),[C,E]=(0,t.useState)(!1),P=async()=>{try{const e=await fetch("/api/customer/all?details=true"),t=await e.json(),n=[];(t.customers||[]).forEach(e=>{(e.shops||[]).forEach(t=>{if(t.hasShopify){var r;const a=t.shopifyConfig||{apiKey:t["shopifyConfig.apiKey"],apiSecret:t["shopifyConfig.apiSecret"],accessToken:t["shopifyConfig.accessToken"]};n.push({...t,shopifyConfig:a,customerName:e.raisonSociale,clientId:(null===(r=e._id)||void 0===r?void 0:r.toString())||e.id})}})}),r(n);const a={};await Promise.all(n.map(async e=>{try{const t=await fetch(`/api/customer/shop/${e.shopId}/products`),r=await t.json();a[e.shopId]=(r.products||[]).filter(e=>!0===e.documented)}catch(t){console.error("Preload products error",t),a[e.shopId]=[]}})),i(a)}catch(e){console.error(e)}};(0,t.useEffect)(()=>{P()},[]);const D=async e=>{if(s[e])return;const t=await fetch(`/api/customer/shop/${e}/products`),r=((await t.json()).products||[]).filter(e=>!0===e.documented);i(t=>({...t,[e]:r}))},I=async()=>{if(0===Object.keys(l).length)return void m({type:"error",message:"Veuillez s\xe9lectionner au moins un produit."});if(0===[...new Set(Object.values(l).map(e=>e.shopId))].length)return void m({type:"error",message:"Aucune boutique trouv\xe9e pour les produits s\xe9lectionn\xe9s."});const t={};Object.values(l).forEach(e=>{let{shopId:r,productId:n}=e;t[r]||(t[r]=[]),t[r].push(n)});const r=e.find(e=>{if(!t[e.shopId])return!1;const r=e.shopifyConfig||{},n=r.apiKey||e.apiKey||e["shopifyConfig.apiKey"],a=r.apiSecret||e.apiSecret||e["shopifyConfig.apiSecret"],s=r.accessToken||e.accessToken||e["shopifyConfig.accessToken"];return!n||!a||!s});if(r)return n=r,void v({open:!0,type:"confirmation",title:"Ajouter les cl\xe9s API",message:(0,o.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,o.jsxs)("p",{children:["Cette boutique n'a pas encore de cl\xe9s API Shopify enregistr\xe9es. Suivez les \xe9tapes ci-dessous pour cr\xe9er une"," ",(0,o.jsx)("strong",{children:"application personnalis\xe9e"})," et r\xe9cup\xe9rer les cl\xe9s :"]}),(0,o.jsx)("div",{className:"bg-gray-50 border p-3 rounded",children:(0,o.jsxs)("ol",{className:"list-decimal ml-5 space-y-1",children:[(0,o.jsxs)("li",{children:["Connectez-vous \xe0 l'Admin de la boutique : ",(0,o.jsx)("br",{}),(0,o.jsxs)("a",{href:`https://${n.shopifyDomain||n.myshopify_domain}.myshopify.com/admin/apps`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[n.shopifyDomain||n.myshopify_domain,".myshopify.com/admin"]})]}),(0,o.jsx)("li",{children:"Menu \xab Apps \xbb \u2192 \xab Develop apps \xbb \u2192 \xab Create an app \xbb"}),(0,o.jsx)("li",{children:"Donnez-lui un nom (\xab SNA-Connector \xbb par ex.) et cr\xe9ez"}),(0,o.jsx)("li",{children:"Onglet \xab Configuration \xbb \u2192 \xab Admin API integration \xbb : activez *toutes* les autorisations ou au minimum \xab Products \xbb (read & write), puis \xab Save \xbb"}),(0,o.jsx)("li",{children:"Revenez \xe0 l'onglet \xab API credentials \xbb puis \xab Install app \xbb et confirmez"}),(0,o.jsx)("li",{children:"Copiez les champs \xab API key \xbb, \xab API secret key \xbb et \xab Access token \xbb affich\xe9s"})]})}),(0,o.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,o.jsx)("label",{className:"block text-xs font-medium",children:"API key"}),(0,o.jsx)("input",{id:"api-key-input",className:"w-full border p-2 text-xs",placeholder:"ex: 3d2f0d6a0e..."}),(0,o.jsx)("label",{className:"block text-xs font-medium",children:"API secret key"}),(0,o.jsx)("input",{id:"api-secret-input",className:"w-full border p-2 text-xs",placeholder:"ex: shpss_..."}),(0,o.jsx)("label",{className:"block text-xs font-medium",children:"API token"}),(0,o.jsx)("input",{id:"api-token-input",className:"w-full border p-2 text-xs",placeholder:"ex: shpat_..."})]})]}),onConfirm:async()=>{const e=document.getElementById("api-key-input").value.trim(),t=document.getElementById("api-secret-input").value.trim(),r=document.getElementById("api-token-input").value.trim();if(!e||!t||!r)return alert("Veuillez remplir les trois champs");try{if(!(await fetch(`/api/internal/clients/${n.clientId}/shops/${n.shopId}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({shopifyConfig:{apiKey:e,apiSecret:t,accessToken:r}})})).ok)throw new Error("Erreur lors de la sauvegarde");await P(),m({type:"success",message:"Cl\xe9s API enregistr\xe9es \u2013 g\xe9n\xe9ration en cours..."}),v({open:!1}),await I()}catch(a){alert(a.message)}},onClose:()=>v({open:!1})});var n;u(!0);try{for(const n of Object.keys(t)){const r=e.find(e=>e.shopId===n);if(!r)continue;const a=t[n];console.log(`[Frontend] Publishing ${a.length} products for shop ${r.customerName}`);const s=await fetch(`/api/internal/shopify/shop/${n}/publish-products`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({productIds:a})}),o=await s.json();if(console.log("[Frontend] Publication response:",o),o.success)m({type:"success",message:`${o.message||"Produits publi\xe9s avec succ\xe8s"} (${o.successCount}/${o.totalProcessed})`}),o.results&&o.results.forEach(e=>{e.success?console.log(`\u2705 ${e.title}: Created with ID ${e.shopifyProductId}`):console.error(`\u274c ${e.title}: ${e.error}`)});else{const t=o.error||o.details||"Erreur lors de la publication";if(t.includes("No Shopify domain configured")||t.includes("domain")){const t=e.find(e=>e.shopId===n);if(t)return N(t),void w(!0)}m({type:"error",message:`\xc9chec de publication: ${t}`}),o.results&&o.results.filter(e=>!e.success).forEach(e=>{console.error(`\u274c ${e.title}: ${e.error}`)})}}const r=Object.keys(t).map(e=>D(e));await Promise.all(r),c({})}catch(a){m({type:"error",message:"Erreur lors de la publication: "+a.message})}finally{u(!1)}},T=e=>{if(!e)return null;const t=parseFloat(e);return isNaN(t)?null:t.toFixed(2)},M=e=>{if(null==e)return null;if("object"===typeof e){if(Array.isArray(e))return e.join(", ");return Object.keys(e).filter(t=>{const r=e[t];return"boolean"===typeof r?r:null!=r}).join(", ")||JSON.stringify(e)}return String(e)},A=e=>{const t=null!=e.prix?e.prix:e.price,r=e.eans||{},n=e.skus||{},a=Object.values(r).filter(Boolean),s=Object.values(n).filter(Boolean);let i=null;null!=e.stock&&(i="object"===typeof e.stock?Object.values(e.stock).reduce((e,t)=>e+("number"===typeof t?t:0),0):e.stock);const l=e.tailles||e.sizes||[],c=e.couleurs||e.colors||[];return(0,o.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,o.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.categories&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(0,o.jsx)(Ce,{className:"mr-1"}),M(e.categories)]}),T(t)&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[T(t)," \u20ac"]}),null!=i&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,o.jsx)(G,{className:"mr-1"}),"Stock: ",i]}),e.hasShopify&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,o.jsx)(je,{className:"mr-1"}),"Ce produit a d\xe9j\xe0 une fiche Shopify"]}),a.length>0&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",title:a.join(", "),children:[(0,o.jsx)(K,{className:"mr-1"}),`EANs (${a.length})`]}),s.length>0&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",title:s.join(", "),children:[(0,o.jsx)(Ce,{className:"mr-1"}),`SKUs (${s.length})`]})]}),(l.length>0||c.length>0)&&(0,o.jsx)("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:(0,o.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[l.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-medium",children:"Tailles:"})," ",l.join(", ")]}),c.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-medium",children:"Couleurs:"})," ",c.join(", ")]})]})}),e.caracteristiques&&(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Caract\xe9ristiques:"}),(0,o.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(e.caracteristiques).map(e=>{let t,[r,n]=e;return t=n&&"object"===typeof n?Array.isArray(n)?n.join(", "):Object.keys(n).filter(e=>n[e]).join(", "):n,(0,o.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 rounded p-2",children:[(0,o.jsxs)("span",{className:"font-medium",children:[r,":"]})," ",M(t)]},r)})})]})]})},_=(e,t,r)=>{i(n=>{const a={...n};return a[e]?(a[e]=a[e].map(e=>e.productId===t?{...e,hasShopify:r}:e),a):n})},z=e=>{try{const t=new URL(e);if(t.hostname.includes(".myshopify.com"))return t.hostname.replace(".myshopify.com","");if("admin.shopify.com"===t.hostname){const e=t.pathname.split("/"),r=e.indexOf("store");if(-1!==r&&e[r+1])return e[r+1]}return t.hostname}catch(t){return console.error("Error extracting domain:",t),e}},O=e.filter(e=>(e.nomProjet||"").toLowerCase().includes(h.toLowerCase())).filter(e=>{var t;return(null===(t=s[e.shopId])||void 0===t?void 0:t.length)>0});return(0,o.jsxs)("div",{className:"p-6 space-y-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",children:"Fiches produits Shopify"}),(0,o.jsxs)("div",{className:"relative w-64",children:[(0,o.jsx)("input",{type:"text",placeholder:"Rechercher une boutique...",className:"pl-10 pr-4 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-sna-primary/50",value:h,onChange:e=>f(e.target.value)}),(0,o.jsx)(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),p&&(0,o.jsx)("div",{className:"mb-4 p-4 rounded-lg flex items-center "+("success"===p.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:p.message}),(0,o.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-lg flex items-start space-x-3",children:[(0,o.jsx)(ge,{className:"text-blue-500 mt-1 flex-shrink-0"}),(0,o.jsx)("p",{className:"text-sm text-blue-700",children:"Seules les boutiques avec au moins un produit document\xe9 sont list\xe9es. Dans chaque boutique, seuls les produits d\xe9j\xe0 document\xe9s apparaissent."})]}),(0,o.jsxs)("button",{disabled:d||0===Object.keys(l).length,onClick:I,className:"mb-4 px-6 py-2 rounded-lg text-white font-medium transition-colors "+(d||0===Object.keys(l).length?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary/90"),children:["Publier les produits s\xe9lectionn\xe9s (",Object.keys(l).length,")"]}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:O.map(e=>(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>(async e=>{if(n.has(e)){const t=new Set(n);t.delete(e),a(t)}else await D(e),a(new Set(n).add(e)),x(t=>({...t,[e]:""}))})(e.shopId),children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium text-sna-primary",children:e.nomProjet}),(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:["Client : ",e.customerName]}),e.myshopify_domain&&(0,o.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Shopify: ",e.myshopify_domain]})]}),(0,o.jsx)("span",{className:"text-gray-400",children:n.has(e.shopId)?"\u25b2":"\u25bc"})]}),n.has(e.shopId)&&(0,o.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,o.jsx)("div",{className:"space-y-3",children:(0,o.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,o.jsxs)("div",{className:"relative flex-1",children:[(0,o.jsx)("input",{type:"text",placeholder:"Rechercher un produit...",className:"pl-10 pr-4 py-2 border rounded-lg w-full text-sm focus:outline-none focus:ring-2 focus:ring-sna-primary/50",value:g[e.shopId]||"",onChange:t=>x(r=>({...r,[e.shopId]:t.target.value}))}),(0,o.jsx)(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),(s[e.shopId]||[]).filter(t=>(t.titre||"").toLowerCase().includes((g[e.shopId]||"").toLowerCase())).length>0&&(0,o.jsxs)("div",{className:"flex items-center space-x-2 whitespace-nowrap py-2",children:[(0,o.jsx)("input",{type:"checkbox",id:`select-all-${e.shopId}`,checked:(s[e.shopId]||[]).filter(t=>(t.titre||"").toLowerCase().includes((g[e.shopId]||"").toLowerCase())).every(t=>{const r=`${e.shopId}-${t.productId}`;return!!l[r]}),onChange:()=>(e=>{const t=(s[e]||[]).filter(t=>(t.titre||"").toLowerCase().includes((g[e]||"").toLowerCase())),r=t.every(t=>{const r=`${e}-${t.productId}`;return!!l[r]});c(n=>{const a={...n};return r?t.forEach(t=>{const r=`${e}-${t.productId}`;delete a[r]}):t.forEach(t=>{const r=`${e}-${t.productId}`;a[r]={shopId:e,productId:t.productId}}),a})})(e.shopId),className:"h-4 w-4 text-sna-primary focus:ring-sna-primary border-gray-300 rounded"}),(0,o.jsx)("label",{htmlFor:`select-all-${e.shopId}`,className:"text-sm font-medium text-gray-700 cursor-pointer",children:"S\xe9lectionner tout"})]})]})}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(s[e.shopId]||[]).filter(t=>(t.titre||"").toLowerCase().includes((g[e.shopId]||"").toLowerCase())).map(t=>{const r=`${e.shopId}-${t.productId}`,n=!!l[r];return(0,o.jsx)("div",{className:"relative p-4 rounded-lg flex items-center space-x-4 transition-colors "+(t.hasShopify?"border border-emerald-500 bg-emerald-50/30":"border border-gray-200 bg-white"),children:(0,o.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,o.jsx)("input",{type:"checkbox",checked:n,onChange:()=>((e,t)=>{const r=`${e}-${t}`;c(n=>{const a={...n};return a[r]?delete a[r]:a[r]={shopId:e,productId:t},a})})(e.shopId,t.productId),className:"h-5 w-5 rounded text-sna-primary focus:ring-sna-primary"}),(0,o.jsxs)("div",{className:"flex-grow",children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-800",children:t.titre}),t.description&&(0,o.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:M(t.description)}),A(t)]}),t.hasShopify?(0,o.jsx)("button",{className:"absolute top-2 right-2 bg-red-50 border border-red-200 text-red-700 px-2 py-1 text-xs font-medium rounded hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-200 transition",onClick:()=>(async(e,t)=>{try{const{clientId:r,shopId:n}=e,{productId:a}=t;if(!(await fetch(`/api/internal/products/${r}/${n}/${a}/set-shopify-status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hasShopify:!1})})).ok)throw new Error("Erreur lors de la mise \xe0 jour du produit");_(n,a,!1)}catch(r){console.error("Error disassociating Shopify from product:",r),m({type:"error",message:r.message})}})(e,t),children:"Ce produit n'a pas de fiche produit"}):(0,o.jsx)("button",{className:"absolute top-2 right-2 bg-emerald-50 border border-emerald-300 text-emerald-700 px-2 py-1 text-xs font-medium rounded hover:bg-emerald-100 focus:outline-none focus:ring-2 focus:ring-emerald-200 transition",onClick:()=>(async(e,t)=>{try{const{clientId:r,shopId:n}=e,{productId:a}=t;if(!(await fetch(`/api/internal/products/${r}/${n}/${a}/set-shopify-status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hasShopify:!0})})).ok)throw new Error("Erreur lors de la mise \xe0 jour du produit");_(n,a,!0)}catch(r){console.error("Error associating Shopify to product:",r),m({type:"error",message:r.message})}})(e,t),children:"Ce produit a d\xe9j\xe0 une fiche Shopify"})]})},t.productId)}),s[e.shopId]&&0===s[e.shopId].length&&(0,o.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"Aucun produit document\xe9"})]})]})]},e.shopId))}),b&&j&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-screen overflow-y-auto",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Configuration du domaine Shopify"}),(0,o.jsx)("button",{onClick:()=>{w(!1),N(null),S("")},className:"text-gray-400 hover:text-gray-600",children:(0,o.jsx)(Ee,{className:"h-5 w-5"})})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)(ue,{className:"h-5 w-5 text-yellow-400 mt-0.5 mr-3"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-yellow-800",children:"Domaine Shopify manquant"}),(0,o.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Pour g\xe9n\xe9rer les fiches produits, nous avons besoin de l'URL d'administration de votre boutique Shopify."})]})]})}),(0,o.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Comment trouver votre URL d'administration :"}),(0,o.jsxs)("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal ml-4",children:[(0,o.jsx)("li",{children:"Connectez-vous \xe0 votre boutique Shopify"}),(0,o.jsx)("li",{children:"Une fois dans l'admin, copiez l'URL compl\xe8te de votre navigateur"}),(0,o.jsxs)("li",{children:["L'URL ressemble \xe0 :",(0,o.jsx)("div",{className:"mt-1 text-xs bg-blue-100 p-2 rounded font-mono",children:"https://your-shop.myshopify.com/admin"}),(0,o.jsx)("div",{className:"text-xs mt-1",children:"ou"}),(0,o.jsx)("div",{className:"mt-1 text-xs bg-blue-100 p-2 rounded font-mono",children:"https://admin.shopify.com/store/your-shop"})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"adminUrl",className:"block text-sm font-medium text-gray-700 mb-2",children:["URL d'administration de la boutique \"",j.nomProjet||j.customerName,'"']}),(0,o.jsx)("input",{type:"url",id:"adminUrl",value:k,onChange:e=>S(e.target.value),placeholder:"https://your-shop.myshopify.com/admin",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:()=>{w(!1),N(null),S("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",disabled:C,children:"Annuler"}),(0,o.jsxs)("button",{onClick:async()=>{if(k.trim()){E(!0);try{const e=await fetch(`/api/internal/shops/${j.shopId}/save-domain`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adminUrl:k.trim(),shopifyDomain:z(k.trim())})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Erreur lors de la sauvegarde du domaine")}m({type:"success",message:"Domaine sauvegard\xe9 avec succ\xe8s! Vous pouvez maintenant relancer la g\xe9n\xe9ration."}),w(!1),N(null),S(""),await P()}catch(e){m({type:"error",message:`Erreur: ${e.message}`})}finally{E(!1)}}else m({type:"error",message:"Veuillez entrer l'URL d'administration"})},disabled:C||!k.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 rounded-md flex items-center",children:[C&&(0,o.jsx)(ke,{className:"animate-spin mr-2"}),"Enregistrer"]})]})]})}),y.open&&(0,o.jsx)(Ge,{open:y.open,type:y.type,title:y.title,message:y.message,onClose:y.onClose,onConfirm:y.onConfirm})]})},lv=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(new Set),[s,i]=(0,t.useState)({}),[l,c]=(0,t.useState)({}),[d,u]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[g,x]=(0,t.useState)({}),[y,v]=(0,t.useState)({open:!1});(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/customer/all?details=true",{headers:{"Cache-Control":"no-cache"}}),t=await e.json();if(!e.ok)throw new Error("Failed to fetch shop data");const n=[];(t.customers||[]).forEach(e=>{(e.shops||[]).forEach(t=>{const r=!0===t.documented||"documented"===t.documented,a=t.hasShopify||t.shopifyConfigured;var s;r&&a&&n.push({...t,customerName:e.raisonSociale,clientId:(null===(s=e._id)||void 0===s?void 0:s.toString())||e.id})})});const a={};await Promise.all(n.map(async e=>{try{const t=await fetch(`/api/customer/shop/${e.shopId}/products`),r=await t.json();a[e.shopId]=(r.products||[]).filter(e=>!0===e.hasShopify)}catch(t){console.error(`Failed to load products for shop ${e.shopId}`,t),a[e.shopId]=[]}}));const s=n.filter(e=>a[e.shopId]&&a[e.shopId].length>0);r(s),i(a)}catch(e){console.error("Error loading shops for EC generation:",e),m({type:"error",message:"Impossible de charger les boutiques."})}})()},[]);const b=e=>{if(null==e)return null;const t=parseFloat(e);return isNaN(t)?null:t.toFixed(2)},w=e=>{var t;const r=null!==(t=e.prix)&&void 0!==t?t:e.price,n=e.eans||{},a=e.skus||{},s=Object.values(n).filter(Boolean),i=Object.values(a).filter(Boolean);let l=null;return null!=e.stock&&(l="object"===typeof e.stock?Object.values(e.stock).reduce((e,t)=>e+("number"===typeof t?t:0),0):e.stock),(0,o.jsx)("div",{className:"mt-2 space-y-2",children:(0,o.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.categories&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(0,o.jsx)(Ce,{className:"mr-1"})," ",(c=e.categories,null==c?null:"object"===typeof c?Array.isArray(c)?c.join(", "):Object.keys(c).join(", "):String(c))]}),b(r)&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[b(r)," \u20ac"]}),null!=l&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,o.jsx)(G,{className:"mr-1"})," Stock: ",l]}),s.length>0&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",title:s.join(", "),children:[(0,o.jsx)(K,{className:"mr-1"}),`EANs (${s.length})`]}),i.length>0&&(0,o.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",title:i.join(", "),children:[(0,o.jsx)(Ce,{className:"mr-1"}),`SKUs (${i.length})`]})]})});var c},j=e.filter(e=>(e.nomProjet||"").toLowerCase().includes(h.toLowerCase()));return(0,o.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,o.jsx)(Ge,{...y}),(0,o.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"G\xe9n\xe9ration d'EC"}),(0,o.jsxs)("div",{className:"relative w-72",children:[(0,o.jsx)("input",{type:"text",placeholder:"Rechercher une boutique...",className:"pl-10 pr-4 py-2 border rounded-full w-full focus:outline-none focus:ring-2 focus:ring-sna-primary",value:h,onChange:e=>f(e.target.value)}),(0,o.jsx)(be,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),p&&(0,o.jsx)("div",{className:"mb-4 p-4 rounded-lg flex items-center shadow-sm "+("success"===p.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:p.message}),(0,o.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-4 rounded-r-lg mb-6 flex items-start",children:[(0,o.jsx)(ge,{className:"h-5 w-5 mr-3 mt-0.5"}),(0,o.jsxs)("p",{className:"text-sm",children:["Cette page liste les boutiques ",(0,o.jsx)("strong",{children:"document\xe9es"})," ayant des produits d\xe9j\xe0 ",(0,o.jsx)("strong",{children:"publi\xe9s sur Shopify"}),". Utilisez cette interface pour g\xe9n\xe9rer les fichiers EC correspondants."]})]}),(0,o.jsx)("div",{className:"flex justify-start mb-6",children:(0,o.jsxs)("button",{disabled:d||0===Object.keys(l).length,onClick:async()=>{const e=Object.values(l);if(0===e.length)return;const t=e[0].shopId,r=e.map(e=>e.productId);u(!0),m(null);try{const e=await fetch(`/api/internal/ec/shop/${t}/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productIds:r})}),n=await e.json();if(!e.ok||!n.success)throw new Error(n.message||"La g\xe9n\xe9ration du fichier EC a \xe9chou\xe9.");v({open:!0,type:"success",title:"G\xe9n\xe9ration r\xe9ussie",message:"Le fichier EC a \xe9t\xe9 g\xe9n\xe9r\xe9 et est disponible dans les t\xe9l\xe9chargements.",onClose:()=>v({open:!1})}),c({})}catch(n){v({open:!0,type:"error",title:"Erreur de G\xe9n\xe9ration",message:n.message,onClose:()=>v({open:!1})})}finally{u(!1)}},className:"px-6 py-2.5 rounded-lg text-white font-semibold transition-all duration-200 flex items-center shadow-md "+(d||0===Object.keys(l).length?"bg-gray-400 cursor-not-allowed":"bg-sna-primary hover:bg-sna-primary-dark"),children:[(0,o.jsx)(je,{className:"mr-2"}),"G\xe9n\xe9rer EC pour ",Object.keys(l).length," produit(s)"]})}),(0,o.jsx)("div",{className:"space-y-4",children:j.map(e=>(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300",children:[(0,o.jsxs)("div",{className:"p-5 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>(e=>{const t=new Set(n);t.has(e)?t.delete(e):(t.add(e),g[e]||x(t=>({...t,[e]:""}))),a(t)})(e.shopId),children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-semibold text-lg text-sna-primary",children:e.nomProjet}),(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:["Client : ",e.customerName]})]}),(0,o.jsx)("span",{className:"text-gray-400 text-xl",children:n.has(e.shopId)?"\u25b2":"\u25bc"})]}),n.has(e.shopId)&&(0,o.jsxs)("div",{className:"p-5 border-t border-gray-200 bg-gray-50",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,o.jsx)("input",{type:"text",placeholder:"Rechercher un produit par nom...",className:"pl-10 pr-4 py-2 border rounded-full w-full text-sm focus:outline-none focus:ring-2 focus:ring-sna-primary",value:g[e.shopId]||"",onChange:t=>x(r=>({...r,[e.shopId]:t.target.value}))}),(0,o.jsx)(be,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),(0,o.jsx)("button",{onClick:()=>(e=>{const t=(s[e]||[]).filter(t=>(t.titre||"").toLowerCase().includes((g[e]||"").toLowerCase())),r=t.every(t=>l[`${e}-${t.productId}`]);c(n=>{const a={...n};return r?t.forEach(t=>delete a[`${e}-${t.productId}`]):t.forEach(t=>{a[`${e}-${t.productId}`]={shopId:e,productId:t.productId}}),a})})(e.shopId),className:"text-sm font-medium text-sna-primary hover:underline",children:"Tout s\xe9lectionner/d\xe9s\xe9lectionner"})]}),(0,o.jsx)("div",{className:"space-y-3",children:(s[e.shopId]||[]).filter(t=>(t.titre||"").toLowerCase().includes((g[e.shopId]||"").toLowerCase())).map(t=>(0,o.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex items-center space-x-4",children:[(0,o.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded text-sna-primary focus:ring-sna-primary",checked:!!l[`${e.shopId}-${t.productId}`],onChange:()=>((e,t)=>{const r=`${e}-${t}`;c(n=>{const a={...n};return a[r]?delete a[r]:a[r]={shopId:e,productId:t},a})})(e.shopId,t.productId)}),(0,o.jsxs)("div",{className:"flex-grow",children:[(0,o.jsx)("p",{className:"font-semibold text-gray-800",children:t.titre}),w(t)]}),t.hasShopify&&(0,o.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Publi\xe9"})]},t.productId))})]})]},e.shopId))})]})]})},cv=e=>{let{children:t}=e;const r=(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}),n=(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}),a=[{name:"Comptes Clients",href:"/admin/client-accounts",icon:n},{name:"Comptes Internes",href:"/admin/internal-accounts",icon:n},{name:"Comptes Admins",href:"/admin/admin-accounts",icon:n},{name:"Profil Admin",href:"/admin/profile",icon:r}];return(0,o.jsxs)("div",{className:"flex flex-1",children:[(0,o.jsx)("div",{className:"hidden md:flex md:flex-col md:w-64 bg-white shadow-sm md:sticky md:top-20 h-auto md:h-[calc(100vh-5rem)] overflow-y-auto z-30",children:(0,o.jsxs)("div",{className:"flex flex-col flex-grow pt-5",children:[(0,o.jsx)("nav",{className:"flex-1 px-4 pb-4 space-y-2",children:a.map(e=>{return(0,o.jsxs)("a",{href:e.href,className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors \n                  ${t=e.href,"undefined"!==typeof window&&window.location.pathname===t?"bg-gray-100 text-gray-800":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"}\n                `,children:[(0,o.jsx)("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.icon}),e.name]},e.name);var t})}),(0,o.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,o.jsxs)("button",{onClick:async()=>{try{(await fetch("/api/logout-admin",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})).ok?console.log("Admin logout successful"):console.error("Admin logout API call failed")}catch(e){console.error("Error during admin logout:",e)}localStorage.removeItem("token"),sessionStorage.clear(),window.location.href="/logout-admin"},className:"flex w-full items-center px-4 py-3 text-sm font-medium rounded-lg text-red-600 hover:bg-red-50 transition-colors group",children:[(0,o.jsx)("svg",{className:"mr-3 h-5 w-5 flex-shrink-0 text-red-400 group-hover:text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"D\xe9connexion"]})})]})}),(0,o.jsx)("div",{className:"md:pl-64 flex flex-col flex-1",children:(0,o.jsx)("main",{className:"flex-1 py-8 px-6 overflow-y-auto",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto",children:t})})})]})},dv=e=>{let{userType:r,onClose:n,onSuccess:a}=e;const[s,i]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",role:r,sendWelcomeEmail:!1}),[l,c]=(0,t.useState)({}),[d,u]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[g,x]=(0,t.useState)(!1),y=e=>{const{name:t,value:r}=e.target;i(e=>({...e,[t]:r})),l[t]&&c(e=>({...e,[t]:""}))};return(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Cr\xe9er un Compte"," ","internal"===r?"Personnel":"client"===r?"Client":"Administrateur"]}),(0,o.jsxs)("button",{onClick:n,className:"text-gray-400 hover:text-gray-500",children:[(0,o.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,o.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=(()=>{const e={};return s.name.trim()||(e.name="Le nom est requis"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(e.email="L'email n'est pas valide"):e.email="L'email est requis",s.password?s.password.length<6&&(e.password="Le mot de passe doit contenir au moins 6 caract\xe8res"):e.password="Le mot de passe est requis",s.password!==s.confirmPassword&&(e.confirmPassword="Les mots de passe ne correspondent pas"),e})();if(Object.keys(t).length>0)c(t);else{u(!0),c({});try{const e=`/api/accounts/${r}`,t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.name,email:s.email,password:s.password,sendWelcomeEmail:s.sendWelcomeEmail}),credentials:"include"}),n=await t.json();if(!n.success)throw new Error(n.message||"Failed to create user");console.log("User created successfully:",n),a(n)}catch(n){console.error("Error creating user:",n),c({submit:n.message||"Une erreur est survenue lors de la cr\xe9ation du compte"})}finally{u(!1)}}},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom complet"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm "+(l.name?"border-red-500":"")}),l.name&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm "+(l.email?"border-red-500":"")}),l.email&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l.email})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,o.jsxs)("button",{type:"button",onClick:()=>{const e=(()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let t="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="0123456789",a="!@#$%^&*";t+="abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random())),t+=r.charAt(Math.floor(26*Math.random())),t+=n.charAt(Math.floor(10*Math.random())),t+=a.charAt(Math.floor(8*Math.random()));for(let s=t.length;s<12;s++)t+=e.charAt(Math.floor(70*Math.random()));return t.split("").sort(()=>Math.random()-.5).join("")})();f(e),i(t=>({...t,password:e,confirmPassword:e})),m(!0),c(e=>({...e,password:"",confirmPassword:""}))},className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded text-sna-primary hover:text-sna-primary/80 focus:outline-none",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"G\xe9n\xe9rer mot de passe"]})]}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{type:p?"text":"password",id:"password",name:"password",value:s.password,onChange:y,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm ${l.password?"border-red-500":""} ${p?"pr-20":""}`}),p&&h&&(0,o.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[(0,o.jsx)("button",{type:"button",onClick:()=>m(!p),className:"p-2 text-gray-400 hover:text-gray-600 focus:outline-none",title:p?"Masquer":"Afficher",children:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,o.jsx)("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(h),x(!0),setTimeout(()=>x(!1),2e3)}catch(e){console.error("Failed to copy password:",e)}},className:"p-2 text-gray-400 hover:text-gray-600 focus:outline-none mr-1",title:"Copier",children:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),p&&h&&(0,o.jsxs)("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("svg",{className:"w-4 h-4 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,o.jsx)("span",{className:"text-sm text-green-800 font-medium",children:"Mot de passe g\xe9n\xe9r\xe9"})]}),g&&(0,o.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"\u2713 Copi\xe9!"})]}),(0,o.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"Mot de passe s\xe9curis\xe9 g\xe9n\xe9r\xe9 automatiquement. Assurez-vous de le communiquer \xe0 l'utilisateur de mani\xe8re s\xe9curis\xe9e."})]}),l.password&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l.password})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),(0,o.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sna-primary focus:ring-sna-primary sm:text-sm "+(l.confirmPassword?"border-red-500":"")}),l.confirmPassword&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l.confirmPassword})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",id:"sendWelcomeEmail",name:"sendWelcomeEmail",checked:s.sendWelcomeEmail,onChange:e=>i(t=>({...t,sendWelcomeEmail:e.target.checked})),className:"h-4 w-4 text-sna-primary focus:ring-sna-primary border-gray-300 rounded"}),(0,o.jsx)("label",{htmlFor:"sendWelcomeEmail",className:"ml-2 block text-sm text-gray-900",children:"Envoyer un email de bienvenue (avec mot de passe temporaire)"})]}),!s.sendWelcomeEmail&&h&&(0,o.jsxs)("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,o.jsx)("span",{className:"text-sm text-yellow-800 font-medium",children:"Mot de passe \xe0 communiquer manuellement"})]}),g&&(0,o.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"\u2713 Copi\xe9!"})]}),(0,o.jsx)("p",{className:"text-xs text-yellow-700 mt-2",children:"L'email de bienvenue est d\xe9sactiv\xe9. Vous devrez communiquer ces identifiants manuellement \xe0 l'utilisateur :"}),(0,o.jsxs)("div",{className:"mt-2 p-2 bg-white border border-yellow-300 rounded",children:[(0,o.jsxs)("p",{className:"text-sm",children:[(0,o.jsx)("strong",{children:"Email :"})," ",s.email]}),(0,o.jsxs)("p",{className:"text-sm",children:[(0,o.jsx)("strong",{children:"Mot de passe :"})," ",h]})]})]}),!s.sendWelcomeEmail&&(0,o.jsx)("div",{className:"bg-blue-50 p-4 rounded-md",children:(0,o.jsx)("p",{className:"text-sm text-blue-700",children:"L'utilisateur recevra les informations de connexion manuellement et devra changer son mot de passe lors de sa premi\xe8re connexion."})}),l.submit&&(0,o.jsx)("div",{className:"bg-red-50 p-4 rounded-md",children:(0,o.jsx)("p",{className:"text-sm text-red-600",children:l.submit})}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,o.jsx)("button",{type:"button",onClick:n,disabled:d,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Annuler"}),(0,o.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sna-primary hover:bg-sna-primary/90 disabled:opacity-50 flex items-center",children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cr\xe9ation..."]}):"Cr\xe9er"})]})]})]})})},uv=e=>{var r,n,a;let{type:s,title:i}=e;const[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[y,v]=(0,t.useState)(null),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)({show:!1,user:null});(0,t.useEffect)(()=>{k()},[s]);const k=async()=>{try{u(!0),m(null);const e=`/api/accounts/${s}`,t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();if(!r.success)throw new Error(r.message||"Failed to fetch users");{const e=r.users.map(e=>({id:e.username,username:e.username,name:e.name||"N/A",email:e.email,status:e.enabled?"active":"inactive",cognitoStatus:e.status,createdAt:e.createdAt?new Date(e.createdAt).toISOString().split("T")[0]:"N/A",sub:e.sub,hasMappedCustomer:e.hasMappedCustomer,customerMapping:e.customerMapping}));c(e)}}catch(p){console.error("Error fetching users:",p),m(p.message)}finally{u(!1)}};return d?(0,o.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sna-primary mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement des comptes..."})]})}):p?(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,o.jsxs)("div",{className:"ml-3",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-red-700",children:p}),(0,o.jsx)("button",{onClick:k,className:"mt-3 bg-red-100 px-3 py-1 rounded text-red-800 hover:bg-red-200",children:"R\xe9essayer"})]})]})}):(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:i}),(0,o.jsx)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary/90 transition-colors",children:"Cr\xe9er un compte"})]}),(0,o.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),"client"===s&&(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mapping Client"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cr\xe9ation"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===l.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"client"===s?6:5,className:"px-6 py-8 text-center text-gray-500",children:"Aucun compte trouv\xe9"})}):l.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:e.cognitoStatus})]}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("div",{className:"text-sm text-gray-500",children:e.email})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"active"===e.status?"Actif":"Inactif"})}),"client"===s&&(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.hasMappedCustomer?(0,o.jsxs)("div",{className:"text-sm",children:[(0,o.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"\u2713 Mapp\xe9"}),e.customerMapping&&(0,o.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.customerMapping.raisonSociale})]}):(0,o.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"\u26a0 Non mapp\xe9"})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"N/A"!==e.createdAt?new Date(e.createdAt).toLocaleDateString("fr-FR"):"N/A"}),(0,o.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,o.jsx)("button",{onClick:()=>x(e),className:"text-sna-primary hover:text-sna-primary/80 mr-3",children:"Modifier"}),(0,o.jsx)("button",{onClick:()=>(async e=>{try{const t="active"!==l.find(t=>t.username===e).status,r=`/api/accounts/${s}/${e}/status`,n=await fetch(r,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t}),credentials:"include"}),a=await n.json();if(!a.success)throw new Error(a.message||"Failed to update user status");c(r=>r.map(r=>r.username===e?{...r,status:t?"active":"inactive"}:r))}catch(p){console.error("Error toggling user status:",p),alert("Erreur lors de la modification du statut: "+p.message)}})(e.username),className:"text-orange-600 hover:text-orange-800 mr-3",children:"active"===e.status?"D\xe9sactiver":"Activer"}),(0,o.jsx)("button",{onClick:()=>(e=>{N({show:!0,user:e})})(e),className:"text-red-600 hover:text-red-800",children:"Supprimer"})]})]},e.username))})]})})}),(h||g)&&(0,o.jsx)(dv,{userType:s,onClose:()=>{f(!1),x(null)},onSuccess:e=>{k(),e.user&&(v({name:e.user.name,email:e.user.email,username:e.user.username,status:e.user.status,loginUrl:"client"===s?"/client":"internal"===s?"/internal":"/admin"}),w(!0)),f(!1),x(null)},initialData:g}),j.show&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,o.jsx)("div",{className:"bg-red-100 p-3 rounded-full",children:(0,o.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Supprimer le compte utilisateur"}),(0,o.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,o.jsxs)("p",{className:"mb-2",children:["\xcates-vous s\xfbr de vouloir supprimer le compte de"," ",(0,o.jsx)("strong",{className:"text-gray-900",children:null===(r=j.user)||void 0===r?void 0:r.name})," ","?"]}),"client"===s&&(null===(n=j.user)||void 0===n?void 0:n.hasMappedCustomer)&&(0,o.jsx)("div",{className:"mb-3 p-2 bg-orange-50 border border-orange-200 rounded",children:(0,o.jsx)("p",{className:"text-xs text-orange-800 font-medium",children:"\u26a0\ufe0f Ce client a un profil associ\xe9 qui sera \xe9galement supprim\xe9 d\xe9finitivement."})}),(0,o.jsxs)("p",{className:"text-xs text-red-600",children:[(0,o.jsx)("strong",{children:"Attention:"})," Cette action est irr\xe9versible et supprimera d\xe9finitivement l'acc\xe8s de cet utilisateur","client"===s&&null!==(a=j.user)&&void 0!==a&&a.hasMappedCustomer?" ainsi que toutes ses donn\xe9es (boutiques, produits, etc.)":"","."]})]})]}),(0,o.jsxs)("div",{className:"mt-6 flex justify-center space-x-3",children:[(0,o.jsx)("button",{onClick:()=>N({show:!1,user:null}),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Annuler"}),(0,o.jsx)("button",{onClick:async()=>{const{user:e}=j;if(e)try{const t=`/api/accounts/${s}/${e.username}`,r=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}),n=await r.json();if(!n.success)throw new Error(n.message||"Failed to delete user");c(t=>t.filter(t=>t.username!==e.username)),N({show:!1,user:null}),n.deletedCustomerDocument?console.log("\u2705 Account and customer profile deleted:",n.deletedCustomer):console.log("\u2705 Account deleted successfully")}catch(p){console.error("Error deleting user:",p),alert("Erreur lors de la suppression: "+p.message),N({show:!1,user:null})}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Supprimer d\xe9finitivement"})]})]})}),b&&y&&(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Compte cr\xe9\xe9 avec succ\xe8s"}),(0,o.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-500",children:(0,o.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("div",{className:"bg-green-50 p-4 rounded-md",children:(0,o.jsx)("p",{className:"text-sm text-green-700",children:"Le compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s. Voici les informations de connexion :"})}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Nom:"}),(0,o.jsx)("p",{className:"text-sm text-gray-900",children:y.name})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email/Username:"}),(0,o.jsx)("p",{className:"text-sm text-gray-900",children:y.email})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,o.jsx)("p",{className:"text-sm text-gray-900",children:y.status})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"URL de connexion:"}),(0,o.jsxs)("p",{className:"text-sm text-blue-600",children:[window.location.origin,y.loginUrl]})]})]}),(0,o.jsx)("div",{className:"bg-yellow-50 p-4 rounded-md",children:(0,o.jsx)("p",{className:"text-sm text-yellow-700",children:"L'utilisateur devra changer son mot de passe lors de sa premi\xe8re connexion."})})]}),(0,o.jsx)("div",{className:"mt-6 flex justify-end",children:(0,o.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-sna-primary text-white rounded-md hover:bg-sna-primary/90",children:"Fermer"})})]})})]})},pv=()=>(0,o.jsx)(uv,{type:"client",title:"Gestion des Comptes Clients"}),mv=()=>(0,o.jsx)(uv,{type:"internal",title:"Gestion des Comptes Personnel"}),hv=()=>(0,o.jsx)(uv,{type:"admin",title:"Gestion des Comptes Administrateur"}),fv=()=>(0,o.jsx)("div",{className:"p-4",children:"Admin: Profil"}),gv=()=>{const{pathname:e}=window.location;let t=M,r=e=>{let{children:t}=e;return(0,o.jsx)(o.Fragment,{children:t})},n={};const a=(e,t)=>{const r=e.split("/").filter(e=>e),n=t.split("/").filter(e=>e),a={};return r.forEach((e,t)=>{e.startsWith(":")&&n[t]&&(a[e.substring(1)]=n[t])}),a};if("/"===e)t=M;else if("/reset-password"===e)t=at;else if("/client/dashboard"===e)r=_e,t=Oe;else if("/client/boutiques"===e)r=_e,t=Le,n={};else if("/client/boutiques/create"===e)r=_e,t=He;else if("/client/produits"===e)r=_e,t=Xe;else if("/client/produits/create"===e)r=_e,t=Je;else if(e.startsWith("/client/boutiques/edit/")){r=_e,t=Ye;n={shopId:a("/client/boutiques/edit/:shopId",e).shopId,returnPath:"/client/boutiques"}}else if("/client/compte"===e)r=_e,t=Ze,n={returnPath:"/client/dashboard"};else{if("/internal/dashboard"===e)return window.location.replace("/internal/clients"),null;if("/internal/clients"===e)r=st,t=ft;else if("/internal/documentation"===e)r=st,t=ac;else if(e.startsWith("/internal/clients/")&&e.endsWith("/boutiques")&&5===e.split("/").length){r=st,t=Ql;n={clientId:a("/internal/clients/:clientId/boutiques",e).clientId}}else if(e.startsWith("/internal/clients/")&&6===e.split("/").length&&e.includes("/boutiques/")){r=st,t=Jl;const s=a("/internal/clients/:clientId/boutiques/:shopId",e);n={clientId:s.clientId,shopId:s.shopId}}else if(e.startsWith("/internal/clients/")&&(4===e.split("/").length||5===e.split("/").length&&e.endsWith("/"))){r=st,t=Kl;n={clientId:a("/internal/clients/:clientId",e.endsWith("/")?e.slice(0,-1):e).clientId}}else"/internal/boutiques"===e?(r=st,t=Xl):"/internal/produits"===e?(r=st,t=nc):"/internal/boutiques-a-valider"===e?(r=st,t=Zl):"/internal/produits-a-valider"===e?(r=st,t=rc):"/internal/clients-a-valider"===e?(r=st,t=tt):"/internal/profile"===e?(r=st,t=nt):"/internal/statistiques"===e?(r=st,t=rt):"/internal/shopify"===e?(r=st,t=nv,n={returnPath:"/internal/shopify"}):"/internal/configuration-shopify"===e?(r=st,t=ov,n={returnPath:"/internal/configuration-shopify"}):"/internal/fiche-produits-shopify"===e?(r=st,t=iv,n={returnPath:"/internal/fiche-produits-shopify"}):"/internal/generation-ec"===e?(r=st,t=lv,n={returnPath:"/internal/generation-ec"}):"/internal/creation-comptes-client"===e?(r=st,t=pv,n={}):"/admin"===e||"/admin/"===e||"/admin/client-accounts"===e?(r=cv,t=pv):"/admin/internal-accounts"===e?(r=cv,t=mv):"/admin/admin-accounts"===e?(r=cv,t=hv):"/admin/profile"===e&&(r=cv,t=fv)}return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,o.jsx)(i,{}),(0,o.jsx)("main",{className:"flex-1 pt-20",children:(0,o.jsx)(r,{children:(0,o.jsx)(t,{...n})})}),(0,o.jsx)(l,{})]})};a.createRoot(document.getElementById("root")).render((0,o.jsx)(t.StrictMode,{children:(0,o.jsx)(gv,{})}))})()})();
//# sourceMappingURL=main.9194e1c2.js.map