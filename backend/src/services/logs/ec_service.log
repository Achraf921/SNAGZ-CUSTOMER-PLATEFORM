[2025-07-08T10:30:44.533Z] --- Initiating EC Generation Request ---
[2025-07-08T10:30:44.534Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T10:30:44.538Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T10:30:44.538Z] Found shop: FicheProd
[2025-07-08T10:30:44.539Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T10:30:44.539Z] Checking for required EC API credentials...
[2025-07-08T10:30:44.539Z] ERROR: Missing required EC API credentials in .env file.
[2025-07-08T10:30:44.539Z] --- EC Generation Request Failed ---
[2025-07-08T10:30:44.539Z] FATAL ERROR: Error: Missing required EC API credentials (URL, login, password) in environment variables.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:97:11)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:374:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-07-08T10:32:35.790Z] --- Initiating EC Generation Request ---
[2025-07-08T10:32:35.804Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T10:32:35.810Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T10:32:35.811Z] Found shop: FicheProd
[2025-07-08T10:32:35.811Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T10:32:35.811Z] Checking for required EC API credentials...
[2025-07-08T10:32:35.811Z] ERROR: Missing required EC API credentials in .env file.
[2025-07-08T10:32:35.812Z] --- EC Generation Request Failed ---
[2025-07-08T10:32:35.812Z] FATAL ERROR: Error: Missing required EC API credentials (URL, login, password) in environment variables.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:97:11)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:374:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-07-08T10:43:59.066Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T10:43:59.068Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T10:43:59.078Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T10:43:59.079Z] Found shop: FicheProd
[2025-07-08T10:43:59.079Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T10:43:59.081Z] Checking for required EC API credentials...
[2025-07-08T10:43:59.082Z] ERROR: Missing required EC API credentials in .env file.
[2025-07-08T10:43:59.082Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T10:43:59.083Z] FATAL ERROR: Error: Missing required EC API credentials (URL, login, password) in environment variables.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:97:11)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-07-08T10:48:31.938Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T10:48:31.939Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T10:48:31.943Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T10:48:31.943Z] Found shop: FicheProd
[2025-07-08T10:48:31.943Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T10:48:31.943Z] Checking for required EC API credentials...
[2025-07-08T10:48:31.943Z] Environment variables check:
[2025-07-08T10:48:31.943Z]   EC_API_BASE_URL: "https://portail.sna-gz.com" (length: 26)
[2025-07-08T10:48:31.943Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T10:48:31.944Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T10:48:31.944Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T10:48:31.944Z]   process.env.NODE_ENV: development
[2025-07-08T10:48:31.944Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T10:48:31.944Z] All EC_* environment variables:
[2025-07-08T10:48:31.944Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T10:48:31.944Z]   EC_API_BASE_URL: "https://portail.sna-gz.com" (length: 26)
[2025-07-08T10:48:31.944Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T10:48:31.944Z] Credentials check passed.
[2025-07-08T10:48:31.944Z] Mapping products to EC items...
[2025-07-08T10:48:31.944Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T10:48:31.944Z]     - Generated 4 variant combinations.
[2025-07-08T10:48:31.944Z]       - Processing combination: XS-Rouge
[2025-07-08T10:48:31.944Z]       - Processing combination: XS-Bleu
[2025-07-08T10:48:31.945Z]       - Processing combination: S-Rouge
[2025-07-08T10:48:31.945Z]       - Processing combination: S-Bleu
[2025-07-08T10:48:31.945Z] Total items to import: 4
[2025-07-08T10:48:31.945Z] Preparing to POST to https://portail.sna-gz.com/api-v1/item
[2025-07-08T10:48:31.945Z] Params: CustomerAccount=887459, Login=232635_006, uploadType=User, User=TsT
[2025-07-08T10:48:31.945Z] Body (first item): {"productType":"Autre produit","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T10:48:32.059Z] ERROR during Axios request to EC API.
[2025-07-08T10:48:32.059Z] Axios error status: 405
[2025-07-08T10:48:32.060Z] Axios error headers: {"content-length":"157","content-type":"text/html","date":"Tue, 08 Jul 2025 10:48:32 GMT","server":"nginx/1.29.0","x-frame-options":"SAMEORIGIN"}
[2025-07-08T10:48:32.060Z] Axios error data: "<html>\r\n<head><title>405 Not Allowed</title></head>\r\n<body>\r\n<center><h1>405 Not Allowed</h1></center>\r\n<hr><center>nginx/1.29.0</center>\r\n</body>\r\n</html>\r\n"
[2025-07-08T10:48:32.060Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T10:48:32.060Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:175:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T10:51:19.488Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T10:51:19.490Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T10:51:19.499Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T10:51:19.500Z] Found shop: FicheProd
[2025-07-08T10:51:19.501Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T10:51:19.502Z] Checking for required EC API credentials...
[2025-07-08T10:51:19.502Z] Environment variables check:
[2025-07-08T10:51:19.503Z]   EC_API_BASE_URL: "https://api.sna-gz.com/" (length: 23)
[2025-07-08T10:51:19.503Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T10:51:19.503Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T10:51:19.504Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T10:51:19.504Z]   process.env.NODE_ENV: development
[2025-07-08T10:51:19.504Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T10:51:19.504Z] All EC_* environment variables:
[2025-07-08T10:51:19.504Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T10:51:19.504Z]   EC_API_BASE_URL: "https://api.sna-gz.com/" (length: 23)
[2025-07-08T10:51:19.504Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T10:51:19.505Z] Credentials check passed.
[2025-07-08T10:51:19.505Z] Mapping products to EC items...
[2025-07-08T10:51:19.505Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T10:51:19.505Z]     - Generated 4 variant combinations.
[2025-07-08T10:51:19.506Z]       - Processing combination: XS-Rouge
[2025-07-08T10:51:19.506Z]       - Processing combination: XS-Bleu
[2025-07-08T10:51:19.506Z]       - Processing combination: S-Rouge
[2025-07-08T10:51:19.506Z]       - Processing combination: S-Bleu
[2025-07-08T10:51:19.506Z] Total items to import: 4
[2025-07-08T10:51:19.506Z] Preparing to POST to https://api.sna-gz.com//api-v1/item
[2025-07-08T10:51:19.506Z] Params: CustomerAccount=887459, Login=232635_006, uploadType=User, User=TsT
[2025-07-08T10:51:19.506Z] Body (first item): {"productType":"Autre produit","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T10:51:19.506Z] Attempting endpoint: https://api.sna-gz.com//api-v1/item
[2025-07-08T10:51:19.612Z] Endpoint /api-v1/item failed with error:
[2025-07-08T10:51:19.612Z]   Status: 404
[2025-07-08T10:51:19.612Z]   Headers: {"access-control-allow-credentials":"true","content-length":"157","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:19 GMT","etag":"W/\"9d-/dc+BRkGc8rAMjZ0v577E59/ABg\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:19.612Z]   Data: {"message":"Cannot POST //api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:19.613Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:19.613Z] Attempting endpoint: https://api.sna-gz.com//api/v1/item
[2025-07-08T10:51:19.629Z] Endpoint /api/v1/item failed with error:
[2025-07-08T10:51:19.629Z]   Status: 404
[2025-07-08T10:51:19.629Z]   Headers: {"access-control-allow-credentials":"true","content-length":"157","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:19 GMT","etag":"W/\"9d-aytAxlC4MfW6rUfISmMK+58YglE\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:19.629Z]   Data: {"message":"Cannot POST //api/v1/item?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:19.629Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:19.629Z] Attempting endpoint: https://api.sna-gz.com//api-v1/items
[2025-07-08T10:51:19.644Z] Endpoint /api-v1/items failed with error:
[2025-07-08T10:51:19.644Z]   Status: 404
[2025-07-08T10:51:19.644Z]   Headers: {"access-control-allow-credentials":"true","content-length":"158","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:19 GMT","etag":"W/\"9e-p7nScJUOqkPmUKURbe6lLjYflg4\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:19.644Z]   Data: {"message":"Cannot POST //api-v1/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:19.645Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:19.645Z] Attempting endpoint: https://api.sna-gz.com//api/v1/items
[2025-07-08T10:51:19.663Z] Endpoint /api/v1/items failed with error:
[2025-07-08T10:51:19.663Z]   Status: 404
[2025-07-08T10:51:19.663Z]   Headers: {"access-control-allow-credentials":"true","content-length":"158","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:19 GMT","etag":"W/\"9e-sWxILHczd1CkOFwo20CQV3+N+rw\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:19.663Z]   Data: {"message":"Cannot POST //api/v1/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:19.663Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:19.664Z] Attempting endpoint: https://api.sna-gz.com//api/item
[2025-07-08T10:51:19.680Z] Endpoint /api/item failed with error:
[2025-07-08T10:51:19.680Z]   Status: 404
[2025-07-08T10:51:19.680Z]   Headers: {"access-control-allow-credentials":"true","content-length":"154","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:19 GMT","etag":"W/\"9a-nh4J20V1ttRUMF1PIo3Aqej8MvQ\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:19.680Z]   Data: {"message":"Cannot POST //api/item?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:19.680Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:19.680Z] Attempting endpoint: https://api.sna-gz.com//api/items
[2025-07-08T10:51:19.697Z] Endpoint /api/items failed with error:
[2025-07-08T10:51:19.697Z]   Status: 404
[2025-07-08T10:51:19.697Z]   Headers: {"access-control-allow-credentials":"true","content-length":"155","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:19 GMT","etag":"W/\"9b-LxON6sxK6ESpb//b3H411TcJqZQ\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:19.698Z]   Data: {"message":"Cannot POST //api/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:19.698Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:19.698Z] ERROR: All API endpoints failed.
[2025-07-08T10:51:19.698Z] Last error status: 404
[2025-07-08T10:51:19.698Z] Last error headers: {"access-control-allow-credentials":"true","content-length":"155","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:19 GMT","etag":"W/\"9b-LxON6sxK6ESpb//b3H411TcJqZQ\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:19.698Z] Last error data: {"message":"Cannot POST //api/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:19.699Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T10:51:19.699Z] FATAL ERROR: Error: Failed to import items to EC API - all endpoints returned errors.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:208:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T10:51:47.801Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T10:51:47.807Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T10:51:47.831Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T10:51:47.831Z] Found shop: FicheProd
[2025-07-08T10:51:47.832Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T10:51:47.832Z] Checking for required EC API credentials...
[2025-07-08T10:51:47.832Z] Environment variables check:
[2025-07-08T10:51:47.832Z]   EC_API_BASE_URL: "https://api.sna-gz.com/" (length: 23)
[2025-07-08T10:51:47.832Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T10:51:47.832Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T10:51:47.832Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T10:51:47.832Z]   process.env.NODE_ENV: development
[2025-07-08T10:51:47.832Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T10:51:47.832Z] All EC_* environment variables:
[2025-07-08T10:51:47.832Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T10:51:47.832Z]   EC_API_BASE_URL: "https://api.sna-gz.com/" (length: 23)
[2025-07-08T10:51:47.832Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T10:51:47.832Z] Credentials check passed.
[2025-07-08T10:51:47.832Z] Mapping products to EC items...
[2025-07-08T10:51:47.833Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T10:51:47.833Z]     - Generated 4 variant combinations.
[2025-07-08T10:51:47.833Z]       - Processing combination: XS-Rouge
[2025-07-08T10:51:47.833Z]       - Processing combination: XS-Bleu
[2025-07-08T10:51:47.833Z]       - Processing combination: S-Rouge
[2025-07-08T10:51:47.833Z]       - Processing combination: S-Bleu
[2025-07-08T10:51:47.833Z] Total items to import: 4
[2025-07-08T10:51:47.833Z] Preparing to POST to https://api.sna-gz.com//api-v1/item
[2025-07-08T10:51:47.833Z] Params: CustomerAccount=887459, Login=232635_006, uploadType=User, User=TsT
[2025-07-08T10:51:47.833Z] Body (first item): {"productType":"Autre produit","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T10:51:47.833Z] Attempting endpoint: https://api.sna-gz.com//api-v1/item
[2025-07-08T10:51:47.938Z] Endpoint /api-v1/item failed with error:
[2025-07-08T10:51:47.938Z]   Status: 404
[2025-07-08T10:51:47.938Z]   Headers: {"access-control-allow-credentials":"true","content-length":"157","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:47 GMT","etag":"W/\"9d-/dc+BRkGc8rAMjZ0v577E59/ABg\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:47.938Z]   Data: {"message":"Cannot POST //api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:47.938Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:47.938Z] Attempting endpoint: https://api.sna-gz.com//api/v1/item
[2025-07-08T10:51:47.953Z] Endpoint /api/v1/item failed with error:
[2025-07-08T10:51:47.953Z]   Status: 404
[2025-07-08T10:51:47.953Z]   Headers: {"access-control-allow-credentials":"true","content-length":"157","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:47 GMT","etag":"W/\"9d-aytAxlC4MfW6rUfISmMK+58YglE\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:47.953Z]   Data: {"message":"Cannot POST //api/v1/item?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:47.953Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:47.953Z] Attempting endpoint: https://api.sna-gz.com//api-v1/items
[2025-07-08T10:51:47.968Z] Endpoint /api-v1/items failed with error:
[2025-07-08T10:51:47.969Z]   Status: 404
[2025-07-08T10:51:47.969Z]   Headers: {"access-control-allow-credentials":"true","content-length":"158","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:47 GMT","etag":"W/\"9e-p7nScJUOqkPmUKURbe6lLjYflg4\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:47.969Z]   Data: {"message":"Cannot POST //api-v1/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:47.969Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:47.969Z] Attempting endpoint: https://api.sna-gz.com//api/v1/items
[2025-07-08T10:51:47.985Z] Endpoint /api/v1/items failed with error:
[2025-07-08T10:51:47.985Z]   Status: 404
[2025-07-08T10:51:47.985Z]   Headers: {"access-control-allow-credentials":"true","content-length":"158","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:47 GMT","etag":"W/\"9e-sWxILHczd1CkOFwo20CQV3+N+rw\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:47.985Z]   Data: {"message":"Cannot POST //api/v1/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:47.985Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:47.985Z] Attempting endpoint: https://api.sna-gz.com//api/item
[2025-07-08T10:51:48.002Z] Endpoint /api/item failed with error:
[2025-07-08T10:51:48.002Z]   Status: 404
[2025-07-08T10:51:48.002Z]   Headers: {"access-control-allow-credentials":"true","content-length":"154","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:48 GMT","etag":"W/\"9a-nh4J20V1ttRUMF1PIo3Aqej8MvQ\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:48.002Z]   Data: {"message":"Cannot POST //api/item?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:48.002Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:48.002Z] Attempting endpoint: https://api.sna-gz.com//api/items
[2025-07-08T10:51:48.017Z] Endpoint /api/items failed with error:
[2025-07-08T10:51:48.017Z]   Status: 404
[2025-07-08T10:51:48.017Z]   Headers: {"access-control-allow-credentials":"true","content-length":"155","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:48 GMT","etag":"W/\"9b-LxON6sxK6ESpb//b3H411TcJqZQ\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:48.017Z]   Data: {"message":"Cannot POST //api/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:48.017Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:51:48.017Z] ERROR: All API endpoints failed.
[2025-07-08T10:51:48.017Z] Last error status: 404
[2025-07-08T10:51:48.017Z] Last error headers: {"access-control-allow-credentials":"true","content-length":"155","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:51:48 GMT","etag":"W/\"9b-LxON6sxK6ESpb//b3H411TcJqZQ\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:51:48.017Z] Last error data: {"message":"Cannot POST //api/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:51:48.018Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T10:51:48.018Z] FATAL ERROR: Error: Failed to import items to EC API - all endpoints returned errors.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:208:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T10:52:19.431Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T10:52:19.432Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T10:52:19.446Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T10:52:19.447Z] Found shop: FicheProd
[2025-07-08T10:52:19.447Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T10:52:19.448Z] Checking for required EC API credentials...
[2025-07-08T10:52:19.449Z] Environment variables check:
[2025-07-08T10:52:19.449Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T10:52:19.449Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T10:52:19.450Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T10:52:19.450Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T10:52:19.450Z]   process.env.NODE_ENV: development
[2025-07-08T10:52:19.451Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T10:52:19.451Z] All EC_* environment variables:
[2025-07-08T10:52:19.452Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T10:52:19.452Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T10:52:19.452Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T10:52:19.452Z] Credentials check passed.
[2025-07-08T10:52:19.452Z] Mapping products to EC items...
[2025-07-08T10:52:19.453Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T10:52:19.454Z]     - Generated 4 variant combinations.
[2025-07-08T10:52:19.455Z]       - Processing combination: XS-Rouge
[2025-07-08T10:52:19.455Z]       - Processing combination: XS-Bleu
[2025-07-08T10:52:19.456Z]       - Processing combination: S-Rouge
[2025-07-08T10:52:19.456Z]       - Processing combination: S-Bleu
[2025-07-08T10:52:19.456Z] Total items to import: 4
[2025-07-08T10:52:19.456Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T10:52:19.456Z] Params: CustomerAccount=887459, Login=232635_006, uploadType=User, User=TsT
[2025-07-08T10:52:19.457Z] Body (first item): {"productType":"Autre produit","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T10:52:19.457Z] Attempting endpoint: https://api.sna-gz.com/api-v1/item
[2025-07-08T10:52:20.057Z] Endpoint /api-v1/item failed with error:
[2025-07-08T10:52:20.058Z]   Status: 500
[2025-07-08T10:52:20.058Z]   Headers: {"access-control-allow-credentials":"true","content-length":"89","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:52:20 GMT","etag":"W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:52:20.058Z]   Data: {"statusCode":500,"message":"Une erreur est survenue lors du traitement de l'élément."}
[2025-07-08T10:52:20.058Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:52:20.059Z] Attempting endpoint: https://api.sna-gz.com/api/v1/item
[2025-07-08T10:52:20.077Z] Endpoint /api/v1/item failed with error:
[2025-07-08T10:52:20.078Z]   Status: 404
[2025-07-08T10:52:20.078Z]   Headers: {"access-control-allow-credentials":"true","content-length":"156","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:52:20 GMT","etag":"W/\"9c-PBryTuk6WgtcnWc++6oxql5H4q8\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:52:20.078Z]   Data: {"message":"Cannot POST /api/v1/item?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:52:20.078Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:52:20.079Z] Attempting endpoint: https://api.sna-gz.com/api-v1/items
[2025-07-08T10:52:20.095Z] Endpoint /api-v1/items failed with error:
[2025-07-08T10:52:20.096Z]   Status: 404
[2025-07-08T10:52:20.096Z]   Headers: {"access-control-allow-credentials":"true","content-length":"157","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:52:20 GMT","etag":"W/\"9d-uP1y8B4zN+iTv7u5cwHiSg8ezGI\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:52:20.096Z]   Data: {"message":"Cannot POST /api-v1/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:52:20.096Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:52:20.096Z] Attempting endpoint: https://api.sna-gz.com/api/v1/items
[2025-07-08T10:52:20.114Z] Endpoint /api/v1/items failed with error:
[2025-07-08T10:52:20.115Z]   Status: 404
[2025-07-08T10:52:20.115Z]   Headers: {"access-control-allow-credentials":"true","content-length":"157","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:52:20 GMT","etag":"W/\"9d-VmfyBKILVTBwhjMmdxbNzAtEwlI\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:52:20.115Z]   Data: {"message":"Cannot POST /api/v1/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:52:20.115Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:52:20.116Z] Attempting endpoint: https://api.sna-gz.com/api/item
[2025-07-08T10:52:20.134Z] Endpoint /api/item failed with error:
[2025-07-08T10:52:20.135Z]   Status: 404
[2025-07-08T10:52:20.135Z]   Headers: {"access-control-allow-credentials":"true","content-length":"153","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:52:20 GMT","etag":"W/\"99-TnpPaPWZzfwkgy4ojL3jH3sK/4U\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:52:20.135Z]   Data: {"message":"Cannot POST /api/item?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:52:20.135Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:52:20.135Z] Attempting endpoint: https://api.sna-gz.com/api/items
[2025-07-08T10:52:20.153Z] Endpoint /api/items failed with error:
[2025-07-08T10:52:20.153Z]   Status: 404
[2025-07-08T10:52:20.154Z]   Headers: {"access-control-allow-credentials":"true","content-length":"154","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:52:20 GMT","etag":"W/\"9a-WA0zb0n6V2m1CxIuVfdgsgzvLJk\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:52:20.154Z]   Data: {"message":"Cannot POST /api/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:52:20.154Z]   Non-405 error, this might be a valid endpoint with a different issue. Continuing...
[2025-07-08T10:52:20.154Z] ERROR: All API endpoints failed.
[2025-07-08T10:52:20.155Z] Last error status: 404
[2025-07-08T10:52:20.155Z] Last error headers: {"access-control-allow-credentials":"true","content-length":"154","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 10:52:20 GMT","etag":"W/\"9a-WA0zb0n6V2m1CxIuVfdgsgzvLJk\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T10:52:20.155Z] Last error data: {"message":"Cannot POST /api/items?CustomerAccount=887459&Login=232635_006&Password=23645n&uploadType=User&User=TsT","error":"Not Found","statusCode":404}
[2025-07-08T10:52:20.157Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T10:52:20.157Z] FATAL ERROR: Error: Failed to import items to EC API - all endpoints returned errors.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:208:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T11:03:19.604Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T11:03:19.610Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T11:03:19.615Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T11:03:19.616Z] Found shop: FicheProd
[2025-07-08T11:03:19.617Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T11:03:19.617Z] Checking for required EC API credentials...
[2025-07-08T11:03:19.618Z] Environment variables check:
[2025-07-08T11:03:19.618Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T11:03:19.618Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T11:03:19.619Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T11:03:19.619Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T11:03:19.619Z]   process.env.NODE_ENV: development
[2025-07-08T11:03:19.619Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T11:03:19.619Z] All EC_* environment variables:
[2025-07-08T11:03:19.619Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T11:03:19.620Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T11:03:19.620Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T11:03:19.620Z] Credentials check passed.
[2025-07-08T11:03:19.620Z] Mapping products to EC items...
[2025-07-08T11:03:19.621Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T11:03:19.621Z]     - Generated 4 variant combinations.
[2025-07-08T11:03:19.622Z]       - Processing combination: XS-Rouge
[2025-07-08T11:03:19.622Z]       - Processing combination: XS-Bleu
[2025-07-08T11:03:19.622Z]       - Processing combination: S-Rouge
[2025-07-08T11:03:19.622Z]       - Processing combination: S-Bleu
[2025-07-08T11:03:19.622Z] Total items to import: 4
[2025-07-08T11:03:19.622Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T11:03:19.622Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645n, uploadType=User, User=TsT
[2025-07-08T11:03:19.622Z] Body (first item): {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T11:03:20.203Z] ERROR during Axios request to EC API.
[2025-07-08T11:03:20.204Z] Axios error status: 500
[2025-07-08T11:03:20.204Z] Axios error headers: {"access-control-allow-credentials":"true","content-length":"89","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 11:03:20 GMT","etag":"W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T11:03:20.210Z] Axios error data: {"statusCode":500,"message":"Une erreur est survenue lors du traitement de l'élément."}
[2025-07-08T11:03:20.211Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T11:03:20.211Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:184:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T11:06:43.939Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T11:06:43.943Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T11:06:43.949Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T11:06:43.949Z] Found shop: FicheProd
[2025-07-08T11:06:43.949Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T11:06:43.951Z] Checking for required EC API credentials...
[2025-07-08T11:06:43.951Z] Environment variables check:
[2025-07-08T11:06:43.951Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T11:06:43.951Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T11:06:43.951Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T11:06:43.951Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T11:06:43.951Z]   process.env.NODE_ENV: development
[2025-07-08T11:06:43.952Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T11:06:43.952Z] All EC_* environment variables:
[2025-07-08T11:06:43.952Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T11:06:43.952Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T11:06:43.952Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T11:06:43.952Z] Credentials check passed.
[2025-07-08T11:06:43.952Z] Mapping products to EC items...
[2025-07-08T11:06:43.953Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T11:06:43.953Z]     - Generated 4 variant combinations.
[2025-07-08T11:06:43.953Z]       - Processing combination: XS-Rouge
[2025-07-08T11:06:43.954Z]         - Item validation for XS-Rouge:
[2025-07-08T11:06:43.954Z]           productType: "Hoodie Client" (required)
[2025-07-08T11:06:43.954Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T11:06:43.954Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T11:06:43.954Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T11:06:43.954Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T11:06:43.954Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T11:06:43.955Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T11:06:43.955Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T11:06:43.955Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T11:06:43.955Z]       - Processing combination: XS-Bleu
[2025-07-08T11:06:43.955Z]         - Item validation for XS-Bleu:
[2025-07-08T11:06:43.955Z]           productType: "Hoodie Client" (required)
[2025-07-08T11:06:43.956Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T11:06:43.956Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T11:06:43.956Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T11:06:43.956Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T11:06:43.956Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T11:06:43.956Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T11:06:43.957Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T11:06:43.957Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T11:06:43.957Z]       - Processing combination: S-Rouge
[2025-07-08T11:06:43.957Z]         - Item validation for S-Rouge:
[2025-07-08T11:06:43.957Z]           productType: "Hoodie Client" (required)
[2025-07-08T11:06:43.957Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T11:06:43.957Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T11:06:43.957Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T11:06:43.957Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T11:06:43.957Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T11:06:43.957Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T11:06:43.957Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T11:06:43.957Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T11:06:43.957Z]       - Processing combination: S-Bleu
[2025-07-08T11:06:43.957Z]         - Item validation for S-Bleu:
[2025-07-08T11:06:43.958Z]           productType: "Hoodie Client" (required)
[2025-07-08T11:06:43.958Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T11:06:43.958Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T11:06:43.958Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T11:06:43.958Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T11:06:43.958Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T11:06:43.958Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T11:06:43.958Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T11:06:43.958Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T11:06:43.958Z] Total items to import: 4
[2025-07-08T11:06:43.958Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T11:06:43.958Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645n, uploadType=User, User=TsT
[2025-07-08T11:06:43.958Z] Body (first item): {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T11:06:43.958Z] Attempting with minimal item (required fields only) first...
[2025-07-08T11:06:43.958Z] Minimal item: {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000"}
[2025-07-08T11:06:43.959Z] Testing with minimal item first...
[2025-07-08T11:06:44.534Z] ERROR during Axios request to EC API.
[2025-07-08T11:06:44.535Z] Axios error status: 500
[2025-07-08T11:06:44.535Z] Axios error headers: {"access-control-allow-credentials":"true","content-length":"89","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 11:06:44 GMT","etag":"W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T11:06:44.535Z] Axios error data: {"statusCode":500,"message":"Une erreur est survenue lors du traitement de l'élément."}
[2025-07-08T11:06:44.535Z] Got 500 error - this suggests a data validation issue on the API side.
[2025-07-08T11:06:44.535Z] Let's analyze potential problematic fields:
[2025-07-08T11:06:44.536Z] Trying again with only required fields to see if optional fields are the issue...
[2025-07-08T11:06:44.729Z] ❌ Minimal item retry also failed with status: 500
[2025-07-08T11:06:44.730Z] This suggests the issue is with required fields or API credentials.
[2025-07-08T11:06:44.730Z] Retry error data: {"statusCode":500,"message":"Une erreur est survenue lors du traitement de l'élément."}
[2025-07-08T11:06:44.731Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T11:06:44.731Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:270:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T12:27:13.463Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:27:13.466Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T12:27:13.540Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:27:13.541Z] Found shop: FicheProd
[2025-07-08T12:27:13.541Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:27:13.541Z] Checking for required EC API credentials...
[2025-07-08T12:27:13.541Z] Environment variables check:
[2025-07-08T12:27:13.541Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:27:13.541Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:27:13.541Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T12:27:13.541Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:27:13.541Z]   process.env.NODE_ENV: development
[2025-07-08T12:27:13.542Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:27:13.542Z] All EC_* environment variables:
[2025-07-08T12:27:13.542Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:27:13.542Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:27:13.542Z]   EC_API_PASSWORD: "236***" (length: 6)
[2025-07-08T12:27:13.542Z] Credentials check passed.
[2025-07-08T12:27:13.542Z] Mapping products to EC items...
[2025-07-08T12:27:13.542Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T12:27:13.543Z]     - Generated 4 variant combinations.
[2025-07-08T12:27:13.543Z]       - Processing combination: XS-Rouge
[2025-07-08T12:27:13.543Z]         - Item validation for XS-Rouge:
[2025-07-08T12:27:13.543Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:27:13.543Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:27:13.543Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T12:27:13.543Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:27:13.543Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:27:13.543Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:27:13.543Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:27:13.543Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:27:13.543Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:27:13.543Z]       - Processing combination: XS-Bleu
[2025-07-08T12:27:13.543Z]         - Item validation for XS-Bleu:
[2025-07-08T12:27:13.543Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:27:13.544Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:27:13.544Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T12:27:13.544Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:27:13.544Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:27:13.544Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:27:13.544Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:27:13.544Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:27:13.544Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:27:13.544Z]       - Processing combination: S-Rouge
[2025-07-08T12:27:13.544Z]         - Item validation for S-Rouge:
[2025-07-08T12:27:13.544Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:27:13.544Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:27:13.544Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T12:27:13.544Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:27:13.544Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:27:13.544Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:27:13.544Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:27:13.544Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:27:13.544Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:27:13.544Z]       - Processing combination: S-Bleu
[2025-07-08T12:27:13.544Z]         - Item validation for S-Bleu:
[2025-07-08T12:27:13.545Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:27:13.545Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:27:13.545Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T12:27:13.545Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:27:13.545Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:27:13.545Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:27:13.545Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:27:13.545Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:27:13.545Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:27:13.545Z] Total items to import: 4
[2025-07-08T12:27:13.545Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T12:27:13.545Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645n, uploadType=User, User=TsT
[2025-07-08T12:27:13.545Z] Body (first item): {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T12:27:13.545Z] Attempting with minimal item (required fields only) first...
[2025-07-08T12:27:13.545Z] Minimal item: {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000"}
[2025-07-08T12:27:13.545Z] Testing with minimal item first...
[2025-07-08T12:27:14.495Z] ERROR during Axios request to EC API.
[2025-07-08T12:27:14.495Z] Axios error status: 500
[2025-07-08T12:27:14.495Z] Axios error headers: {"access-control-allow-credentials":"true","content-length":"89","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 12:27:14 GMT","etag":"W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T12:27:14.495Z] Axios error data: {"statusCode":500,"message":"Une erreur est survenue lors du traitement de l'élément."}
[2025-07-08T12:27:14.495Z] Got 500 error - this suggests a data validation issue on the API side.
[2025-07-08T12:27:14.495Z] Let's analyze potential problematic fields:
[2025-07-08T12:27:14.495Z] Trying again with only required fields to see if optional fields are the issue...
[2025-07-08T12:27:14.685Z] ❌ Minimal item retry also failed with status: 500
[2025-07-08T12:27:14.685Z] This suggests the issue is with required fields or API credentials.
[2025-07-08T12:27:14.685Z] Retry error data: {"statusCode":500,"message":"Une erreur est survenue lors du traitement de l'élément."}
[2025-07-08T12:27:14.686Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:27:14.686Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:270:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T12:36:36.027Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:36:36.033Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T12:36:36.039Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:36:36.040Z] Found shop: FicheProd
[2025-07-08T12:36:36.040Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:36:36.040Z] Checking for required EC API credentials...
[2025-07-08T12:36:36.041Z] Environment variables check:
[2025-07-08T12:36:36.041Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:36:36.041Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:36:36.041Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:36:36.041Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:36:36.041Z]   process.env.NODE_ENV: development
[2025-07-08T12:36:36.041Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:36:36.042Z] All EC_* environment variables:
[2025-07-08T12:36:36.042Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:36:36.042Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:36:36.043Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:36:36.043Z] Credentials check passed.
[2025-07-08T12:36:36.043Z] Mapping products to EC items...
[2025-07-08T12:36:36.044Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T12:36:36.045Z]     - Generated 4 variant combinations.
[2025-07-08T12:36:36.045Z]       - Processing combination: XS-Rouge
[2025-07-08T12:36:36.045Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:36:36.045Z]         - Item validation for XS-Rouge:
[2025-07-08T12:36:36.045Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:36:36.045Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:36:36.045Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T12:36:36.045Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:36:36.045Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:36:36.045Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:36:36.045Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:36:36.045Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:36:36.046Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:36:36.046Z]       - Processing combination: XS-Bleu
[2025-07-08T12:36:36.046Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:36:36.048Z]         - Item validation for XS-Bleu:
[2025-07-08T12:36:36.048Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:36:36.049Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:36:36.049Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T12:36:36.050Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:36:36.050Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:36:36.050Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:36:36.050Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:36:36.050Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:36:36.050Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:36:36.050Z]       - Processing combination: S-Rouge
[2025-07-08T12:36:36.050Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:36:36.051Z]         - Item validation for S-Rouge:
[2025-07-08T12:36:36.051Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:36:36.051Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:36:36.051Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T12:36:36.051Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:36:36.051Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:36:36.051Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:36:36.052Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:36:36.052Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:36:36.052Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:36:36.052Z]       - Processing combination: S-Bleu
[2025-07-08T12:36:36.052Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:36:36.052Z]         - Item validation for S-Bleu:
[2025-07-08T12:36:36.052Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:36:36.052Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:36:36.052Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T12:36:36.052Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:36:36.052Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:36:36.052Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:36:36.053Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:36:36.053Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:36:36.053Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:36:36.053Z] Total items to import: 4
[2025-07-08T12:36:36.053Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T12:36:36.053Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645, uploadType=User, User=TsT
[2025-07-08T12:36:36.053Z] Body (first item): {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T12:36:36.053Z] Full API URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:36:36.053Z] Attempting with minimal item (required fields only) first...
[2025-07-08T12:36:36.053Z] Minimal item: {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000"}
[2025-07-08T12:36:36.053Z] Testing with minimal item first...
[2025-07-08T12:36:36.683Z] ERROR during Axios request to EC API.
[2025-07-08T12:36:36.685Z] Axios error status: 500
[2025-07-08T12:36:36.685Z] Axios error headers: {"access-control-allow-credentials":"true","content-length":"89","content-type":"application/json; charset=utf-8","date":"Tue, 08 Jul 2025 12:36:36 GMT","etag":"W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"","vary":"Origin","x-powered-by":"Express"}
[2025-07-08T12:36:36.686Z] Axios error data: {"statusCode":500,"message":"Une erreur est survenue lors du traitement de l'élément."}
[2025-07-08T12:36:36.686Z] Got 500 error - this suggests a data validation issue on the API side.
[2025-07-08T12:36:36.687Z] Let's analyze potential problematic fields:
[2025-07-08T12:36:36.687Z] Trying again with only required fields to see if optional fields are the issue...
[2025-07-08T12:36:36.885Z] ❌ Minimal item retry also failed with status: 500
[2025-07-08T12:36:36.887Z] This suggests the issue is with required fields or API credentials.
[2025-07-08T12:36:36.887Z] Retry error data: {"statusCode":500,"message":"Une erreur est survenue lors du traitement de l'élément."}
[2025-07-08T12:36:36.888Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:36:36.888Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:307:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T12:39:14.780Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:39:14.784Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T12:39:14.789Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:39:14.789Z] Found shop: FicheProd
[2025-07-08T12:39:14.789Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:39:14.790Z] Checking for required EC API credentials...
[2025-07-08T12:39:14.790Z] Environment variables check:
[2025-07-08T12:39:14.790Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:39:14.790Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:39:14.790Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:39:14.791Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:39:14.791Z]   process.env.NODE_ENV: development
[2025-07-08T12:39:14.791Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:39:14.791Z] All EC_* environment variables:
[2025-07-08T12:39:14.791Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:39:14.791Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:39:14.791Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:39:14.791Z] Credentials check passed.
[2025-07-08T12:39:14.791Z] Mapping products to EC items...
[2025-07-08T12:39:14.792Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T12:39:14.792Z]     - Generated 4 variant combinations.
[2025-07-08T12:39:14.792Z]       - Processing combination: XS-Rouge
[2025-07-08T12:39:14.792Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:39:14.792Z]         - Item validation for XS-Rouge:
[2025-07-08T12:39:14.792Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:39:14.792Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:39:14.792Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T12:39:14.792Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:39:14.792Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:39:14.793Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:39:14.793Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:39:14.793Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:39:14.793Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:39:14.793Z]       - Processing combination: XS-Bleu
[2025-07-08T12:39:14.793Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:39:14.793Z]         - Item validation for XS-Bleu:
[2025-07-08T12:39:14.793Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:39:14.793Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:39:14.793Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T12:39:14.793Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:39:14.793Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:39:14.793Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:39:14.793Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:39:14.793Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:39:14.793Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:39:14.793Z]       - Processing combination: S-Rouge
[2025-07-08T12:39:14.793Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:39:14.794Z]         - Item validation for S-Rouge:
[2025-07-08T12:39:14.794Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:39:14.794Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:39:14.794Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T12:39:14.794Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:39:14.794Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:39:14.794Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:39:14.794Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:39:14.794Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:39:14.794Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:39:14.794Z]       - Processing combination: S-Bleu
[2025-07-08T12:39:14.794Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:39:14.794Z]         - Item validation for S-Bleu:
[2025-07-08T12:39:14.794Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:39:14.794Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:39:14.794Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T12:39:14.794Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:39:14.794Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:39:14.794Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:39:14.794Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:39:14.794Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:39:14.794Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:39:14.794Z] Total items to import: 4
[2025-07-08T12:39:14.794Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T12:39:14.795Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645, uploadType=User, User=TsT
[2025-07-08T12:39:14.795Z] Body (first item): {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T12:39:14.795Z] Full API URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:39:14.795Z] Attempting with minimal item (required fields only) first...
[2025-07-08T12:39:14.795Z] Minimal item: {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000"}
[2025-07-08T12:39:14.795Z] Testing with minimal item first...
[2025-07-08T12:39:14.795Z] === COMPLETE REQUEST DEBUG ===
[2025-07-08T12:39:14.795Z] HTTP Method: POST
[2025-07-08T12:39:14.795Z] Full URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:39:14.795Z] Request Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service"
}
[2025-07-08T12:39:14.795Z] Request Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:39:14.795Z] Request Body Length: 148 characters
[2025-07-08T12:39:14.795Z] ===============================
[2025-07-08T12:39:15.452Z] === ERROR RESPONSE DEBUG ===
[2025-07-08T12:39:15.453Z] ERROR during Axios request to EC API.
[2025-07-08T12:39:15.453Z] Response Status: 500 Internal Server Error
[2025-07-08T12:39:15.453Z] Response Headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:39:15 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:39:15.454Z] Response Data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:39:15.454Z] Response Data Type: object
[2025-07-08T12:39:15.454Z] Got 500 error - testing with minimal fields to isolate the issue...
[2025-07-08T12:39:15.454Z] === MINIMAL FALLBACK REQUEST DEBUG ===
[2025-07-08T12:39:15.454Z] Fallback URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:39:15.454Z] Fallback Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service-Fallback"
}
[2025-07-08T12:39:15.454Z] Fallback Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:39:15.454Z] ======================================
[2025-07-08T12:39:15.658Z] ❌ Minimal fallback also failed with status: 500
[2025-07-08T12:39:15.660Z] Fallback error headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:39:15 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:39:15.660Z] Fallback error data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:39:15.660Z] This suggests the issue is with required fields or API configuration.
[2025-07-08T12:39:15.660Z] ============================
[2025-07-08T12:39:15.662Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:39:15.662Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:355:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T12:39:44.543Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:39:44.546Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T12:39:44.552Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:39:44.553Z] Found shop: FicheProd
[2025-07-08T12:39:44.553Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:39:44.554Z] Checking for required EC API credentials...
[2025-07-08T12:39:44.554Z] Environment variables check:
[2025-07-08T12:39:44.554Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:39:44.554Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:39:44.555Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:39:44.555Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:39:44.555Z]   process.env.NODE_ENV: development
[2025-07-08T12:39:44.555Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:39:44.555Z] All EC_* environment variables:
[2025-07-08T12:39:44.556Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:39:44.556Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:39:44.556Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:39:44.557Z] Credentials check passed.
[2025-07-08T12:39:44.557Z] Mapping products to EC items...
[2025-07-08T12:39:44.558Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T12:39:44.558Z]     - Generated 4 variant combinations.
[2025-07-08T12:39:44.558Z]       - Processing combination: XS-Rouge
[2025-07-08T12:39:44.558Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:39:44.558Z]         - Item validation for XS-Rouge:
[2025-07-08T12:39:44.558Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:39:44.559Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:39:44.559Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T12:39:44.559Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:39:44.559Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:39:44.559Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:39:44.559Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:39:44.559Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:39:44.559Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:39:44.559Z]       - Processing combination: XS-Bleu
[2025-07-08T12:39:44.559Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:39:44.559Z]         - Item validation for XS-Bleu:
[2025-07-08T12:39:44.559Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:39:44.559Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:39:44.560Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T12:39:44.560Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:39:44.560Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:39:44.560Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:39:44.560Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:39:44.560Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:39:44.560Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:39:44.560Z]       - Processing combination: S-Rouge
[2025-07-08T12:39:44.560Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:39:44.560Z]         - Item validation for S-Rouge:
[2025-07-08T12:39:44.560Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:39:44.560Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:39:44.560Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T12:39:44.560Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:39:44.561Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:39:44.561Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:39:44.561Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:39:44.561Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:39:44.561Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:39:44.561Z]       - Processing combination: S-Bleu
[2025-07-08T12:39:44.561Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:39:44.561Z]         - Item validation for S-Bleu:
[2025-07-08T12:39:44.561Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:39:44.561Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:39:44.561Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T12:39:44.561Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:39:44.561Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:39:44.561Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:39:44.561Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:39:44.561Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:39:44.562Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:39:44.562Z] Total items to import: 4
[2025-07-08T12:39:44.562Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T12:39:44.562Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645, uploadType=User, User=TsT
[2025-07-08T12:39:44.562Z] Body (first item): {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T12:39:44.562Z] Full API URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:39:44.562Z] Attempting with minimal item (required fields only) first...
[2025-07-08T12:39:44.562Z] Minimal item: {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000"}
[2025-07-08T12:39:44.562Z] Testing with minimal item first...
[2025-07-08T12:39:44.562Z] === COMPLETE REQUEST DEBUG ===
[2025-07-08T12:39:44.562Z] HTTP Method: POST
[2025-07-08T12:39:44.562Z] Full URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:39:44.562Z] Request Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service"
}
[2025-07-08T12:39:44.562Z] Request Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:39:44.562Z] Request Body Length: 148 characters
[2025-07-08T12:39:44.562Z] ===============================
[2025-07-08T12:39:44.911Z] === ERROR RESPONSE DEBUG ===
[2025-07-08T12:39:44.912Z] ERROR during Axios request to EC API.
[2025-07-08T12:39:44.912Z] Response Status: 500 Internal Server Error
[2025-07-08T12:39:44.912Z] Response Headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:39:44 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:39:44.913Z] Response Data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:39:44.913Z] Response Data Type: object
[2025-07-08T12:39:44.913Z] Got 500 error - testing with minimal fields to isolate the issue...
[2025-07-08T12:39:44.913Z] === MINIMAL FALLBACK REQUEST DEBUG ===
[2025-07-08T12:39:44.913Z] Fallback URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:39:44.913Z] Fallback Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service-Fallback"
}
[2025-07-08T12:39:44.914Z] Fallback Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:39:44.914Z] ======================================
[2025-07-08T12:39:45.101Z] ❌ Minimal fallback also failed with status: 500
[2025-07-08T12:39:45.102Z] Fallback error headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:39:45 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:39:45.102Z] Fallback error data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:39:45.102Z] This suggests the issue is with required fields or API configuration.
[2025-07-08T12:39:45.102Z] ============================
[2025-07-08T12:39:45.102Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:39:45.103Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:355:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T12:42:39.919Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:42:39.924Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T12:42:39.932Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:42:39.932Z] Found shop: FicheProd
[2025-07-08T12:42:39.932Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:42:39.933Z] Checking for required EC API credentials...
[2025-07-08T12:42:39.933Z] Environment variables check:
[2025-07-08T12:42:39.933Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:42:39.933Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:42:39.934Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:42:39.934Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:42:39.934Z]   process.env.NODE_ENV: development
[2025-07-08T12:42:39.934Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:42:39.934Z] All EC_* environment variables:
[2025-07-08T12:42:39.934Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:42:39.934Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:42:39.934Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:42:39.935Z] Credentials check passed.
[2025-07-08T12:42:39.935Z] Mapping products to EC items...
[2025-07-08T12:42:39.935Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T12:42:39.935Z]     - Generated 4 variant combinations.
[2025-07-08T12:42:39.936Z]       - Processing combination: XS-Rouge
[2025-07-08T12:42:39.936Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:42:39.936Z]         - Item validation for XS-Rouge:
[2025-07-08T12:42:39.936Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:42:39.936Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:42:39.936Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T12:42:39.936Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:42:39.937Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:42:39.937Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:42:39.937Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:42:39.937Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:42:39.937Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:42:39.937Z]       - Processing combination: XS-Bleu
[2025-07-08T12:42:39.937Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:42:39.937Z]         - Item validation for XS-Bleu:
[2025-07-08T12:42:39.937Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:42:39.937Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:42:39.937Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T12:42:39.937Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:42:39.937Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:42:39.937Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:42:39.937Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:42:39.937Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:42:39.937Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:42:39.938Z]       - Processing combination: S-Rouge
[2025-07-08T12:42:39.938Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:42:39.938Z]         - Item validation for S-Rouge:
[2025-07-08T12:42:39.938Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:42:39.938Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:42:39.938Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T12:42:39.938Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:42:39.938Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:42:39.938Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:42:39.938Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:42:39.938Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:42:39.938Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:42:39.938Z]       - Processing combination: S-Bleu
[2025-07-08T12:42:39.938Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:42:39.938Z]         - Item validation for S-Bleu:
[2025-07-08T12:42:39.938Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:42:39.938Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:42:39.938Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T12:42:39.938Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:42:39.938Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:42:39.938Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:42:39.939Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:42:39.939Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:42:39.939Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:42:39.939Z] Total items to import: 4
[2025-07-08T12:42:39.939Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T12:42:39.939Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645, uploadType=User, User=TsT
[2025-07-08T12:42:39.939Z] Body (first item): {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T12:42:39.939Z] Full API URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:42:39.939Z] Attempting with minimal item (required fields only) first...
[2025-07-08T12:42:39.939Z] Original minimal item: {
  "productType": "Hoodie Client",
  "CptClient": "887459",
  "sku": "HOODIE-TESTEC-ROUGE-XS",
  "title": "TESTEC",
  "CN23Label": "TESTEC",
  "custodyCode": "00000000"
}
[2025-07-08T12:42:39.939Z] Ultra minimal test item: {
  "productType": "Hoodie Client",
  "CptClient": "887459",
  "sku": "TEST123",
  "title": "TEST",
  "CN23Label": "TEST",
  "custodyCode": "00000000"
}
[2025-07-08T12:42:39.939Z] Testing ultra minimal item first...
[2025-07-08T12:42:39.939Z] Minimal item: {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000"}
[2025-07-08T12:42:39.939Z] === TESTING ULTRA MINIMAL ITEM FIRST ===
[2025-07-08T12:42:39.939Z] Ultra minimal URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:42:39.939Z] Ultra minimal Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service-Ultra"
}
[2025-07-08T12:42:39.940Z] Ultra minimal Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "TEST123",
    "title": "TEST",
    "CN23Label": "TEST",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:42:40.518Z] ❌ Ultra minimal also failed: 500
[2025-07-08T12:42:40.519Z] Ultra error data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:42:40.519Z] The issue is with required fields or API configuration.
[2025-07-08T12:42:40.519Z] ==========================================
[2025-07-08T12:42:40.519Z] Testing with original minimal item...
[2025-07-08T12:42:40.519Z] === COMPLETE REQUEST DEBUG ===
[2025-07-08T12:42:40.519Z] HTTP Method: POST
[2025-07-08T12:42:40.519Z] Full URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:42:40.520Z] Request Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service"
}
[2025-07-08T12:42:40.520Z] Request Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:42:40.520Z] Request Body Length: 148 characters
[2025-07-08T12:42:40.520Z] ===============================
[2025-07-08T12:42:40.702Z] === ERROR RESPONSE DEBUG ===
[2025-07-08T12:42:40.748Z] ERROR during Axios request to EC API.
[2025-07-08T12:42:40.748Z] Response Status: 500 Internal Server Error
[2025-07-08T12:42:40.748Z] Response Headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:42:40 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:42:40.748Z] Response Data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:42:40.749Z] Response Data Type: object
[2025-07-08T12:42:40.749Z] Got 500 error - testing with minimal fields to isolate the issue...
[2025-07-08T12:42:40.749Z] === MINIMAL FALLBACK REQUEST DEBUG ===
[2025-07-08T12:42:40.749Z] Fallback URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:42:40.749Z] Fallback Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service-Fallback"
}
[2025-07-08T12:42:40.749Z] Fallback Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:42:40.749Z] ======================================
[2025-07-08T12:42:40.932Z] ❌ Minimal fallback also failed with status: 500
[2025-07-08T12:42:40.933Z] Fallback error headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:42:40 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:42:40.933Z] Fallback error data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:42:40.933Z] This suggests the issue is with required fields or API configuration.
[2025-07-08T12:42:40.934Z] ============================
[2025-07-08T12:42:40.934Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:42:40.934Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:398:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T12:43:43.703Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:43:43.709Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T12:43:43.776Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:43:43.776Z] Found shop: FicheProd
[2025-07-08T12:43:43.776Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:43:43.776Z] Checking for required EC API credentials...
[2025-07-08T12:43:43.776Z] Environment variables check:
[2025-07-08T12:43:43.776Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:43:43.776Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:43:43.776Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:43:43.776Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:43:43.776Z]   process.env.NODE_ENV: development
[2025-07-08T12:43:43.776Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:43:43.776Z] All EC_* environment variables:
[2025-07-08T12:43:43.777Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:43:43.777Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:43:43.777Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:43:43.777Z] Credentials check passed.
[2025-07-08T12:43:43.777Z] Mapping products to EC items...
[2025-07-08T12:43:43.777Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T12:43:43.777Z]     - Generated 4 variant combinations.
[2025-07-08T12:43:43.777Z]       - Processing combination: XS-Rouge
[2025-07-08T12:43:43.777Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:43:43.777Z]         - Item validation for XS-Rouge:
[2025-07-08T12:43:43.777Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:43:43.777Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:43:43.777Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T12:43:43.777Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:43:43.777Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:43:43.777Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:43:43.777Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:43:43.777Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:43:43.777Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:43:43.778Z]       - Processing combination: XS-Bleu
[2025-07-08T12:43:43.778Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:43:43.778Z]         - Item validation for XS-Bleu:
[2025-07-08T12:43:43.778Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:43:43.778Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:43:43.778Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T12:43:43.778Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:43:43.778Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:43:43.778Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:43:43.778Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:43:43.778Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:43:43.778Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:43:43.778Z]       - Processing combination: S-Rouge
[2025-07-08T12:43:43.778Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:43:43.778Z]         - Item validation for S-Rouge:
[2025-07-08T12:43:43.778Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:43:43.778Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:43:43.778Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T12:43:43.778Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:43:43.778Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:43:43.778Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:43:43.778Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:43:43.779Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:43:43.779Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:43:43.779Z]       - Processing combination: S-Bleu
[2025-07-08T12:43:43.779Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:43:43.779Z]         - Item validation for S-Bleu:
[2025-07-08T12:43:43.779Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:43:43.779Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:43:43.779Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T12:43:43.779Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:43:43.779Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:43:43.779Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:43:43.779Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:43:43.779Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:43:43.779Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:43:43.779Z] Total items to import: 4
[2025-07-08T12:43:43.779Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T12:43:43.779Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645, uploadType=User, User=TsT
[2025-07-08T12:43:43.779Z] Body (first item): {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000","artist":"TsT","barCode":"1234567891011","description":"HoodieTest pour creation fiche prod et EC","size":"XS","color":"Rouge","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T12:43:43.779Z] Full API URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:43:43.779Z] Attempting with minimal item (required fields only) first...
[2025-07-08T12:43:43.779Z] Original minimal item: {
  "productType": "Hoodie Client",
  "CptClient": "887459",
  "sku": "HOODIE-TESTEC-ROUGE-XS",
  "title": "TESTEC",
  "CN23Label": "TESTEC",
  "custodyCode": "00000000"
}
[2025-07-08T12:43:43.780Z] Ultra minimal test item: {
  "productType": "Hoodie Client",
  "CptClient": "887459",
  "sku": "TEST123",
  "title": "TEST",
  "CN23Label": "TEST",
  "custodyCode": "00000000"
}
[2025-07-08T12:43:43.780Z] Testing ultra minimal item first...
[2025-07-08T12:43:43.780Z] Minimal item: {"productType":"Hoodie Client","CptClient":"887459","sku":"HOODIE-TESTEC-ROUGE-XS","title":"TESTEC","CN23Label":"TESTEC","custodyCode":"00000000"}
[2025-07-08T12:43:43.780Z] === TESTING ULTRA MINIMAL ITEM FIRST ===
[2025-07-08T12:43:43.780Z] Ultra minimal URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:43:43.780Z] Ultra minimal Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service-Ultra"
}
[2025-07-08T12:43:43.780Z] Ultra minimal Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "TEST123",
    "title": "TEST",
    "CN23Label": "TEST",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:43:44.400Z] ❌ Ultra minimal also failed: 500
[2025-07-08T12:43:44.400Z] Ultra error data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:43:44.401Z] The issue is with required fields or API configuration.
[2025-07-08T12:43:44.401Z] ==========================================
[2025-07-08T12:43:44.401Z] Testing with original minimal item...
[2025-07-08T12:43:44.401Z] === COMPLETE REQUEST DEBUG ===
[2025-07-08T12:43:44.401Z] HTTP Method: POST
[2025-07-08T12:43:44.401Z] Full URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:43:44.401Z] Request Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service"
}
[2025-07-08T12:43:44.401Z] Request Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:43:44.401Z] Request Body Length: 148 characters
[2025-07-08T12:43:44.401Z] ===============================
[2025-07-08T12:43:44.584Z] === ERROR RESPONSE DEBUG ===
[2025-07-08T12:43:44.585Z] ERROR during Axios request to EC API.
[2025-07-08T12:43:44.585Z] Response Status: 500 Internal Server Error
[2025-07-08T12:43:44.585Z] Response Headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:43:44 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:43:44.585Z] Response Data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:43:44.585Z] Response Data Type: object
[2025-07-08T12:43:44.585Z] Got 500 error - testing with minimal fields to isolate the issue...
[2025-07-08T12:43:44.585Z] === MINIMAL FALLBACK REQUEST DEBUG ===
[2025-07-08T12:43:44.585Z] Fallback URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:43:44.585Z] Fallback Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service-Fallback"
}
[2025-07-08T12:43:44.586Z] Fallback Body: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:43:44.586Z] ======================================
[2025-07-08T12:43:44.766Z] ❌ Minimal fallback also failed with status: 500
[2025-07-08T12:43:44.767Z] Fallback error headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:43:44 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:43:44.767Z] Fallback error data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:43:44.767Z] This suggests the issue is with required fields or API configuration.
[2025-07-08T12:43:44.767Z] ============================
[2025-07-08T12:43:44.768Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:43:44.768Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:398:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:371:20
[2025-07-08T12:45:52.009Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:45:52.016Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686b8570cf7b591fb74456da"]
[2025-07-08T12:45:52.021Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:45:52.022Z] Found shop: FicheProd
[2025-07-08T12:45:52.022Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:45:52.023Z] Checking for required EC API credentials...
[2025-07-08T12:45:52.023Z] Environment variables check:
[2025-07-08T12:45:52.023Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:45:52.023Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:45:52.023Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:45:52.024Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:45:52.024Z]   process.env.NODE_ENV: development
[2025-07-08T12:45:52.024Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:45:52.024Z] All EC_* environment variables:
[2025-07-08T12:45:52.025Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:45:52.025Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:45:52.025Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:45:52.025Z] Credentials check passed.
[2025-07-08T12:45:52.026Z] Mapping products to EC items...
[2025-07-08T12:45:52.027Z]   - Mapping product: TestMerchProduitTailleUnique (ID: 686b8570cf7b591fb74456da)
[2025-07-08T12:45:52.027Z]     - Generated 1 variant combinations.
[2025-07-08T12:45:52.027Z]       - Processing combination: default
[2025-07-08T12:45:52.027Z]         - WARNING: SKU is missing for combination default.
[2025-07-08T12:45:52.027Z]         - WARNING: EAN is missing for combination default.
[2025-07-08T12:45:52.028Z]     - WARNING: No mapping found for Merch/undefined, using fallback: Autre produit
[2025-07-08T12:45:52.028Z]         - Item validation for default:
[2025-07-08T12:45:52.028Z]           productType: "Autre produit" (required)
[2025-07-08T12:45:52.028Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:45:52.028Z]           sku: "" (required, max 38 chars, actual: 0)
[2025-07-08T12:45:52.028Z]           title: "TestMerchProduitTailleUnique" (required, max 70 chars, actual: 28)
[2025-07-08T12:45:52.028Z]           CN23Label: "TestMerchProduitTailleUnique" (required, max 30 chars, actual: 28)
[2025-07-08T12:45:52.028Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:45:52.028Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: undefined)
[2025-07-08T12:45:52.028Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:45:52.028Z]           description: "Produit pour tester la génération de fiches produits shopify et d'EC sur le portail pour un produit merch qui serait en taille unique et sans variantes." (max 255 chars, actual: 152)
[2025-07-08T12:45:52.029Z] Total items to import: 1
[2025-07-08T12:45:52.029Z] Preparing to POST to https://api.sna-gz.com/api-v1/item
[2025-07-08T12:45:52.029Z] Query params: CustomerAccount=887459, Login=232635_006, Password=23645, uploadType=User, User=TsT
[2025-07-08T12:45:52.029Z] Body (first item): {"productType":"Autre produit","CptClient":"887459","sku":"","title":"TestMerchProduitTailleUnique","CN23Label":"TestMerchProduitTailleUnique","custodyCode":"00000000","artist":"TsT","barCode":"","description":"Produit pour tester la génération de fiches produits shopify et d'EC sur le portail pour un produit merch qui serait en taille unique et sans variantes.","itemClassification":"Merch","Boutique":"FicheProd","occ":false}
[2025-07-08T12:45:52.029Z] Full API URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:45:52.029Z] Attempting with minimal item (required fields only) first...
[2025-07-08T12:45:52.029Z] Original minimal item: {
  "productType": "Autre produit",
  "CptClient": "887459",
  "sku": "",
  "title": "TestMerchProduitTailleUnique",
  "CN23Label": "TestMerchProduitTailleUnique",
  "custodyCode": "00000000"
}
[2025-07-08T12:45:52.030Z] Ultra minimal test item: {
  "productType": "Autre produit",
  "CptClient": "887459",
  "sku": "TEST123",
  "title": "TEST",
  "CN23Label": "TEST",
  "custodyCode": "00000000"
}
[2025-07-08T12:45:52.030Z] Testing ultra minimal item first...
[2025-07-08T12:45:52.030Z] Minimal item: {"productType":"Autre produit","CptClient":"887459","sku":"","title":"TestMerchProduitTailleUnique","CN23Label":"TestMerchProduitTailleUnique","custodyCode":"00000000"}
[2025-07-08T12:45:52.030Z] === TESTING ULTRA MINIMAL ITEM FIRST ===
[2025-07-08T12:45:52.030Z] Ultra minimal URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:45:52.030Z] Ultra minimal Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service-Ultra"
}
[2025-07-08T12:45:52.030Z] Ultra minimal Body: [
  {
    "productType": "Autre produit",
    "CptClient": "887459",
    "sku": "TEST123",
    "title": "TEST",
    "CN23Label": "TEST",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:45:52.734Z] ❌ Ultra minimal also failed: 500
[2025-07-08T12:45:52.736Z] Ultra error data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:45:52.736Z] The issue is with required fields or API configuration.
[2025-07-08T12:45:52.736Z] ==========================================
[2025-07-08T12:45:52.736Z] Testing with original minimal item...
[2025-07-08T12:45:52.737Z] === COMPLETE REQUEST DEBUG ===
[2025-07-08T12:45:52.737Z] HTTP Method: POST
[2025-07-08T12:45:52.737Z] Full URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:45:52.738Z] Request Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service"
}
[2025-07-08T12:45:52.738Z] Request Body: [
  {
    "productType": "Autre produit",
    "CptClient": "887459",
    "sku": "",
    "title": "TestMerchProduitTailleUnique",
    "CN23Label": "TestMerchProduitTailleUnique",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:45:52.738Z] Request Body Length: 170 characters
[2025-07-08T12:45:52.738Z] ===============================
[2025-07-08T12:45:52.929Z] === ERROR RESPONSE DEBUG ===
[2025-07-08T12:45:52.929Z] ERROR during Axios request to EC API.
[2025-07-08T12:45:52.929Z] Response Status: 500 Internal Server Error
[2025-07-08T12:45:52.930Z] Response Headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:45:52 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:45:52.930Z] Response Data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:45:52.930Z] Response Data Type: object
[2025-07-08T12:45:52.931Z] Got 500 error - testing with minimal fields to isolate the issue...
[2025-07-08T12:45:52.931Z] === MINIMAL FALLBACK REQUEST DEBUG ===
[2025-07-08T12:45:52.931Z] Fallback URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:45:52.931Z] Fallback Headers: {
  "Content-Type": "application/json",
  "User-Agent": "Node.js/EC-Service-Fallback"
}
[2025-07-08T12:45:52.932Z] Fallback Body: [
  {
    "productType": "Autre produit",
    "CptClient": "887459",
    "sku": "",
    "title": "TestMerchProduitTailleUnique",
    "CN23Label": "TestMerchProduitTailleUnique",
    "custodyCode": "00000000"
  }
]
[2025-07-08T12:45:52.932Z] ======================================
[2025-07-08T12:45:53.116Z] ❌ Minimal fallback also failed with status: 500
[2025-07-08T12:45:53.121Z] Fallback error headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:45:53 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:45:53.122Z] Fallback error data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:45:53.122Z] This suggests the issue is with required fields or API configuration.
[2025-07-08T12:45:53.122Z] ============================
[2025-07-08T12:45:53.123Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:45:53.128Z] FATAL ERROR: Error: Failed to import items to EC API.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:398:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:385:20
[2025-07-08T12:48:30.556Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:48:30.568Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T12:48:30.574Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:48:30.575Z] Found shop: FicheProd
[2025-07-08T12:48:30.575Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:48:30.576Z] Checking for required EC API credentials...
[2025-07-08T12:48:30.576Z] Environment variables check:
[2025-07-08T12:48:30.577Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:48:30.577Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:48:30.577Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:48:30.577Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:48:30.577Z]   process.env.NODE_ENV: development
[2025-07-08T12:48:30.578Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:48:30.578Z] All EC_* environment variables:
[2025-07-08T12:48:30.578Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:48:30.579Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:48:30.579Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:48:30.579Z] Credentials check passed.
[2025-07-08T12:48:30.579Z] Mapping products to EC items...
[2025-07-08T12:48:30.580Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T12:48:30.581Z]     - Generated 4 variant combinations.
[2025-07-08T12:48:30.581Z]       - Processing combination: XS-Rouge
[2025-07-08T12:48:30.584Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:48:30.585Z]         - Item validation for XS-Rouge:
[2025-07-08T12:48:30.585Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:48:30.585Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:48:30.585Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T12:48:30.585Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:48:30.585Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:48:30.585Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:48:30.586Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:48:30.586Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:48:30.586Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:48:30.586Z]       - Processing combination: XS-Bleu
[2025-07-08T12:48:30.586Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:48:30.587Z]         - Item validation for XS-Bleu:
[2025-07-08T12:48:30.587Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:48:30.587Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:48:30.587Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T12:48:30.587Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:48:30.587Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:48:30.588Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:48:30.588Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:48:30.588Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:48:30.588Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:48:30.588Z]       - Processing combination: S-Rouge
[2025-07-08T12:48:30.588Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:48:30.589Z]         - Item validation for S-Rouge:
[2025-07-08T12:48:30.589Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:48:30.589Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:48:30.589Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T12:48:30.589Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:48:30.589Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:48:30.589Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:48:30.590Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:48:30.590Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:48:30.590Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:48:30.590Z]       - Processing combination: S-Bleu
[2025-07-08T12:48:30.590Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:48:30.591Z]         - Item validation for S-Bleu:
[2025-07-08T12:48:30.591Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:48:30.591Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:48:30.592Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T12:48:30.593Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:48:30.593Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:48:30.594Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:48:30.594Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:48:30.594Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:48:30.594Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:48:30.594Z] Total items to import: 4
[2025-07-08T12:48:30.594Z] --- Sending Request to EC API ---
[2025-07-08T12:48:30.594Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:48:30.594Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-08T12:48:30.594Z] BODY (4 items): [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "1234567891011",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "XS",
    "color": "Rouge",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  },
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-BLEU-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "9876543211011",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "XS",
    "color": "Bleu",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  },
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-S",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2719461464612",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "S",
    "color": "Rouge",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  },
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-BLEU-S",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2747149732142",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "S",
    "color": "Bleu",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-08T12:48:30.594Z] ---------------------------------
[2025-07-08T12:48:31.188Z] --- ERROR from EC API ---
[2025-07-08T12:48:31.188Z] Response Status: 500 Internal Server Error
[2025-07-08T12:48:31.188Z] Response Headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:48:31 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:48:31.188Z] Response Data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:48:31.189Z] -------------------------
[2025-07-08T12:48:31.189Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:48:31.189Z] FATAL ERROR: Error: Une erreur est survenue lors du traitement de l'élément.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:260:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:385:20
[2025-07-08T12:57:00.196Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:57:00.206Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686b8570cf7b591fb74456da"]
[2025-07-08T12:57:00.214Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:57:00.215Z] Found shop: FicheProd
[2025-07-08T12:57:00.215Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:57:00.217Z] Checking for required EC API credentials...
[2025-07-08T12:57:00.218Z] Environment variables check:
[2025-07-08T12:57:00.220Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:57:00.220Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:57:00.221Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:57:00.221Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:57:00.221Z]   process.env.NODE_ENV: development
[2025-07-08T12:57:00.222Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:57:00.222Z] All EC_* environment variables:
[2025-07-08T12:57:00.222Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:57:00.222Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:57:00.222Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:57:00.222Z] Credentials check passed.
[2025-07-08T12:57:00.223Z] Mapping products to EC items...
[2025-07-08T12:57:00.224Z]   - Mapping product: TestMerchProduitTailleUnique (ID: 686b8570cf7b591fb74456da)
[2025-07-08T12:57:00.225Z]     - Generated 1 variant combinations.
[2025-07-08T12:57:00.225Z]       - Processing combination: default
[2025-07-08T12:57:00.225Z]         - ERROR: SKU is missing for combination default. This is a required field for the EC API.
[2025-07-08T12:57:00.225Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:57:00.226Z] FATAL ERROR: Error: SKU is missing for product variant "undefined". All variants must have a valid SKU.
    at mapProductToItem (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:81:13)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:209:42
    at Array.flatMap (<anonymous>)
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:209:29)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:385:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-07-08T12:57:04.849Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T12:57:04.852Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T12:57:04.896Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T12:57:04.897Z] Found shop: FicheProd
[2025-07-08T12:57:04.897Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T12:57:04.901Z] Checking for required EC API credentials...
[2025-07-08T12:57:04.904Z] Environment variables check:
[2025-07-08T12:57:04.904Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:57:04.905Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:57:04.905Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:57:04.905Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T12:57:04.906Z]   process.env.NODE_ENV: development
[2025-07-08T12:57:04.906Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T12:57:04.906Z] All EC_* environment variables:
[2025-07-08T12:57:04.906Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T12:57:04.906Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T12:57:04.907Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T12:57:04.907Z] Credentials check passed.
[2025-07-08T12:57:04.907Z] Mapping products to EC items...
[2025-07-08T12:57:04.907Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T12:57:04.908Z]     - Generated 4 variant combinations.
[2025-07-08T12:57:04.908Z]       - Processing combination: XS-Rouge
[2025-07-08T12:57:04.909Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:57:04.909Z]         - Item validation for XS-Rouge:
[2025-07-08T12:57:04.909Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:57:04.909Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:57:04.910Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T12:57:04.910Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:57:04.910Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:57:04.910Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:57:04.910Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:57:04.910Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:57:04.910Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:57:04.910Z]       - Processing combination: XS-Bleu
[2025-07-08T12:57:04.911Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:57:04.911Z]         - Item validation for XS-Bleu:
[2025-07-08T12:57:04.911Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:57:04.911Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:57:04.911Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T12:57:04.912Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:57:04.912Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:57:04.912Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:57:04.912Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:57:04.912Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:57:04.912Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:57:04.912Z]       - Processing combination: S-Rouge
[2025-07-08T12:57:04.912Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:57:04.912Z]         - Item validation for S-Rouge:
[2025-07-08T12:57:04.912Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:57:04.912Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:57:04.913Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T12:57:04.913Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:57:04.913Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:57:04.913Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:57:04.913Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:57:04.913Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:57:04.913Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:57:04.913Z]       - Processing combination: S-Bleu
[2025-07-08T12:57:04.913Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T12:57:04.913Z]         - Item validation for S-Bleu:
[2025-07-08T12:57:04.914Z]           productType: "Hoodie Client" (required)
[2025-07-08T12:57:04.914Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T12:57:04.914Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T12:57:04.914Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T12:57:04.914Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T12:57:04.914Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T12:57:04.914Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T12:57:04.915Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T12:57:04.915Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T12:57:04.915Z] Total items to import: 4
[2025-07-08T12:57:04.915Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "232635_006",
  "Password": "***",
  "uploadType": "User",
  "User": "TsT"
}
[2025-07-08T12:57:04.917Z] --- Sending Request to EC API ---
[2025-07-08T12:57:04.918Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T12:57:04.918Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-08T12:57:04.918Z] BODY (4 items): [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "1234567891011",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "XS",
    "color": "Rouge",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  },
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-BLEU-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "9876543211011",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "XS",
    "color": "Bleu",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  },
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-S",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2719461464612",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "S",
    "color": "Rouge",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  },
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-BLEU-S",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2747149732142",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "S",
    "color": "Bleu",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-08T12:57:04.920Z] ---------------------------------
[2025-07-08T12:57:05.683Z] --- ERROR from EC API ---
[2025-07-08T12:57:05.684Z] Response Status: 500 Internal Server Error
[2025-07-08T12:57:05.684Z] Response Headers: {
  "access-control-allow-credentials": "true",
  "content-length": "89",
  "content-type": "application/json; charset=utf-8",
  "date": "Tue, 08 Jul 2025 12:57:05 GMT",
  "etag": "W/\"59-GcLqZuyD9P7VL+NvxKvko9mfoos\"",
  "vary": "Origin",
  "x-powered-by": "Express"
}
[2025-07-08T12:57:05.684Z] Response Data: {
  "statusCode": 500,
  "message": "Une erreur est survenue lors du traitement de l'élément."
}
[2025-07-08T12:57:05.685Z] -------------------------
[2025-07-08T12:57:05.685Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T12:57:05.685Z] FATAL ERROR: Error: Une erreur est survenue lors du traitement de l'élément.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:270:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:385:20
[2025-07-08T13:14:55.305Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T13:14:55.313Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686ce258da9eb17b89ba2192"]
[2025-07-08T13:14:55.333Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T13:14:55.333Z] Found shop: FicheProd
[2025-07-08T13:14:55.333Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T13:14:55.334Z] Checking for required EC API credentials...
[2025-07-08T13:14:55.334Z] Environment variables check:
[2025-07-08T13:14:55.334Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T13:14:55.334Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T13:14:55.335Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T13:14:55.335Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T13:14:55.335Z]   process.env.NODE_ENV: development
[2025-07-08T13:14:55.335Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T13:14:55.335Z] All EC_* environment variables:
[2025-07-08T13:14:55.335Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T13:14:55.335Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T13:14:55.335Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T13:14:55.336Z] Credentials check passed.
[2025-07-08T13:14:55.336Z] Mapping products to EC items...
[2025-07-08T13:14:55.336Z]   - Mapping product: TESTEC (ID: 686ce258da9eb17b89ba2192)
[2025-07-08T13:14:55.336Z]     - Generated 4 variant combinations.
[2025-07-08T13:14:55.337Z]       - Processing combination: XS-Rouge
[2025-07-08T13:14:55.337Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T13:14:55.337Z]         - Item validation for XS-Rouge:
[2025-07-08T13:14:55.337Z]           productType: "Hoodie Client" (required)
[2025-07-08T13:14:55.337Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T13:14:55.337Z]           sku: "HOODIE-TESTEC-ROUGE-XS" (required, max 38 chars, actual: 22)
[2025-07-08T13:14:55.338Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T13:14:55.338Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T13:14:55.338Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T13:14:55.338Z]           barCode: "1234567891011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T13:14:55.338Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T13:14:55.338Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T13:14:55.338Z]       - Processing combination: XS-Bleu
[2025-07-08T13:14:55.338Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T13:14:55.338Z]         - Item validation for XS-Bleu:
[2025-07-08T13:14:55.339Z]           productType: "Hoodie Client" (required)
[2025-07-08T13:14:55.339Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T13:14:55.339Z]           sku: "HOODIE-TESTEC-BLEU-XS" (required, max 38 chars, actual: 21)
[2025-07-08T13:14:55.339Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T13:14:55.339Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T13:14:55.339Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T13:14:55.339Z]           barCode: "9876543211011" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T13:14:55.340Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T13:14:55.340Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T13:14:55.340Z]       - Processing combination: S-Rouge
[2025-07-08T13:14:55.340Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T13:14:55.340Z]         - Item validation for S-Rouge:
[2025-07-08T13:14:55.340Z]           productType: "Hoodie Client" (required)
[2025-07-08T13:14:55.340Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T13:14:55.340Z]           sku: "HOODIE-TESTEC-ROUGE-S" (required, max 38 chars, actual: 21)
[2025-07-08T13:14:55.341Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T13:14:55.341Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T13:14:55.341Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T13:14:55.341Z]           barCode: "2719461464612" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T13:14:55.341Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T13:14:55.341Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T13:14:55.341Z]       - Processing combination: S-Bleu
[2025-07-08T13:14:55.341Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-08T13:14:55.341Z]         - Item validation for S-Bleu:
[2025-07-08T13:14:55.341Z]           productType: "Hoodie Client" (required)
[2025-07-08T13:14:55.341Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T13:14:55.341Z]           sku: "HOODIE-TESTEC-BLEU-S" (required, max 38 chars, actual: 20)
[2025-07-08T13:14:55.341Z]           title: "TESTEC" (required, max 70 chars, actual: 6)
[2025-07-08T13:14:55.341Z]           CN23Label: "TESTEC" (required, max 30 chars, actual: 6)
[2025-07-08T13:14:55.342Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T13:14:55.342Z]           barCode: "2747149732142" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T13:14:55.342Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T13:14:55.342Z]           description: "HoodieTest pour creation fiche prod et EC" (max 255 chars, actual: 41)
[2025-07-08T13:14:55.342Z] Total items to import: 4
[2025-07-08T13:14:55.342Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "232635_006",
  "Password": "***",
  "uploadType": "User",
  "User": "TsT"
}
[2025-07-08T13:14:55.342Z] --- Starting variant-by-variant import for 4 items ---
[2025-07-08T13:14:55.342Z] 
--- Sending Variant (SKU: HOODIE-TESTEC-ROUGE-XS) ---
[2025-07-08T13:14:55.342Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T13:14:55.343Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-08T13:14:55.343Z] BODY: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "1234567891011",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "XS",
    "color": "Rouge",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-08T13:14:55.343Z] -------------------------------------------
[2025-07-08T13:14:56.044Z] ❌ FAILED for SKU: HOODIE-TESTEC-ROUGE-XS. Reason: Une erreur est survenue lors du traitement de l'élément.
[2025-07-08T13:14:56.045Z] 
--- Sending Variant (SKU: HOODIE-TESTEC-BLEU-XS) ---
[2025-07-08T13:14:56.046Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T13:14:56.046Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-08T13:14:56.046Z] BODY: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-BLEU-XS",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "9876543211011",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "XS",
    "color": "Bleu",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-08T13:14:56.046Z] -------------------------------------------
[2025-07-08T13:14:56.230Z] ❌ FAILED for SKU: HOODIE-TESTEC-BLEU-XS. Reason: Une erreur est survenue lors du traitement de l'élément.
[2025-07-08T13:14:56.232Z] 
--- Sending Variant (SKU: HOODIE-TESTEC-ROUGE-S) ---
[2025-07-08T13:14:56.232Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T13:14:56.232Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-08T13:14:56.232Z] BODY: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-ROUGE-S",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2719461464612",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "S",
    "color": "Rouge",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-08T13:14:56.232Z] -------------------------------------------
[2025-07-08T13:14:56.419Z] ❌ FAILED for SKU: HOODIE-TESTEC-ROUGE-S. Reason: Une erreur est survenue lors du traitement de l'élément.
[2025-07-08T13:14:56.421Z] 
--- Sending Variant (SKU: HOODIE-TESTEC-BLEU-S) ---
[2025-07-08T13:14:56.422Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T13:14:56.422Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-08T13:14:56.422Z] BODY: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTEC-BLEU-S",
    "title": "TESTEC",
    "CN23Label": "TESTEC",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2747149732142",
    "description": "HoodieTest pour creation fiche prod et EC",
    "size": "S",
    "color": "Bleu",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-08T13:14:56.422Z] -------------------------------------------
[2025-07-08T13:14:56.607Z] ❌ FAILED for SKU: HOODIE-TESTEC-BLEU-S. Reason: Une erreur est survenue lors du traitement de l'élément.
[2025-07-08T13:14:56.607Z] 
--- Import Process Complete ---
[2025-07-08T13:14:56.607Z] Successfully imported: 0
[2025-07-08T13:14:56.608Z] Failed to import: 4
[2025-07-08T13:14:56.608Z] -----------------------------
[2025-07-08T13:14:56.608Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T13:14:56.608Z] FATAL ERROR: Error: Failed to import 4 variant(s). Details: SKU HOODIE-TESTEC-ROUGE-XS: Une erreur est survenue lors du traitement de l'élément.; SKU HOODIE-TESTEC-BLEU-XS: Une erreur est survenue lors du traitement de l'élément.; SKU HOODIE-TESTEC-ROUGE-S: Une erreur est survenue lors du traitement de l'élément.; SKU HOODIE-TESTEC-BLEU-S: Une erreur est survenue lors du traitement de l'élément.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:273:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:385:20
[2025-07-08T13:19:20.153Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-08T13:19:20.157Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686d1a21750a93c999f80829"]
[2025-07-08T13:19:20.161Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-08T13:19:20.161Z] Found shop: FicheProd
[2025-07-08T13:19:20.162Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-08T13:19:20.162Z] Checking for required EC API credentials...
[2025-07-08T13:19:20.162Z] Environment variables check:
[2025-07-08T13:19:20.162Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T13:19:20.162Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T13:19:20.162Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T13:19:20.162Z]   EC_API_USER: "TsT" (length: 3)
[2025-07-08T13:19:20.162Z]   process.env.NODE_ENV: development
[2025-07-08T13:19:20.162Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-08T13:19:20.162Z] All EC_* environment variables:
[2025-07-08T13:19:20.163Z]   EC_API_LOGIN: "232635_006" (length: 10)
[2025-07-08T13:19:20.163Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-08T13:19:20.163Z]   EC_API_PASSWORD: "236***" (length: 5)
[2025-07-08T13:19:20.163Z] Credentials check passed.
[2025-07-08T13:19:20.163Z] Mapping products to EC items...
[2025-07-08T13:19:20.163Z]   - Mapping product: TestECPhono (ID: 686d1a21750a93c999f80829)
[2025-07-08T13:19:20.163Z]     - Generated 1 variant combinations.
[2025-07-08T13:19:20.163Z]       - Processing combination: default
[2025-07-08T13:19:20.163Z]     - Mapped Phono/CD to: CD Client
[2025-07-08T13:19:20.163Z]         - Item validation for default:
[2025-07-08T13:19:20.164Z]           productType: "CD Client" (required)
[2025-07-08T13:19:20.164Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-08T13:19:20.164Z]           sku: "CD-TESTECPHONO-FICHEPROD-OCC" (required, max 38 chars, actual: 28)
[2025-07-08T13:19:20.164Z]           title: "TestECPhono" (required, max 70 chars, actual: 11)
[2025-07-08T13:19:20.164Z]           CN23Label: "TestECPhono" (required, max 30 chars, actual: 11)
[2025-07-08T13:19:20.164Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-08T13:19:20.164Z]           barCode: "2173791294129" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-08T13:19:20.164Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-08T13:19:20.164Z]           description: "CD Test pour generation d'EC par API" (max 255 chars, actual: 36)
[2025-07-08T13:19:20.165Z] Total items to import: 1
[2025-07-08T13:19:20.165Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "232635_006",
  "Password": "***",
  "uploadType": "User",
  "User": "TsT"
}
[2025-07-08T13:19:20.166Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-08T13:19:20.166Z] 
--- Sending Variant (SKU: CD-TESTECPHONO-FICHEPROD-OCC) ---
[2025-07-08T13:19:20.166Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=232635_006&Password=23645&uploadType=User&User=TsT
[2025-07-08T13:19:20.166Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-08T13:19:20.166Z] BODY: [
  {
    "productType": "CD Client",
    "CptClient": "887459",
    "sku": "CD-TESTECPHONO-FICHEPROD-OCC",
    "title": "TestECPhono",
    "CN23Label": "TestECPhono",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2173791294129",
    "description": "CD Test pour generation d'EC par API",
    "itemClassification": "Phono",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-08T13:19:20.166Z] -------------------------------------------
[2025-07-08T13:19:20.782Z] ❌ FAILED for SKU: CD-TESTECPHONO-FICHEPROD-OCC. Reason: Une erreur est survenue lors du traitement de l'élément.
[2025-07-08T13:19:20.784Z] 
--- Import Process Complete ---
[2025-07-08T13:19:20.784Z] Successfully imported: 0
[2025-07-08T13:19:20.784Z] Failed to import: 1
[2025-07-08T13:19:20.784Z] -----------------------------
[2025-07-08T13:19:20.785Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-08T13:19:20.785Z] FATAL ERROR: Error: Failed to import 1 variant(s). Details: SKU CD-TESTECPHONO-FICHEPROD-OCC: Une erreur est survenue lors du traitement de l'élément.
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:273:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:385:20
[2025-07-10T14:55:38.761Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-10T14:55:38.767Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686d1a21750a93c999f80829"]
[2025-07-10T14:55:38.777Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-10T14:55:38.777Z] Found shop: FicheProd
[2025-07-10T14:55:38.778Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-10T14:55:38.778Z] Checking for required EC API credentials...
[2025-07-10T14:55:38.778Z] Environment variables check:
[2025-07-10T14:55:38.779Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-10T14:55:38.779Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-10T14:55:38.779Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-10T14:55:38.779Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-10T14:55:38.779Z]   process.env.NODE_ENV: development
[2025-07-10T14:55:38.779Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-10T14:55:38.779Z] All EC_* environment variables:
[2025-07-10T14:55:38.780Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-10T14:55:38.781Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-10T14:55:38.781Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-10T14:55:38.781Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-10T14:55:38.781Z] Credentials check passed.
[2025-07-10T14:55:38.781Z] Mapping products to EC items...
[2025-07-10T14:55:38.782Z]   - Mapping product: TestECPhono (ID: 686d1a21750a93c999f80829)
[2025-07-10T14:55:38.783Z]     - Generated 1 variant combinations.
[2025-07-10T14:55:38.783Z]       - Processing combination: default
[2025-07-10T14:55:38.783Z]     - Mapped Phono/CD to: CD Client
[2025-07-10T14:55:38.784Z]         - Item validation for default:
[2025-07-10T14:55:38.784Z]           productType: "CD Client" (required)
[2025-07-10T14:55:38.784Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-10T14:55:38.784Z]           sku: "CD-TESTECPHONO-FICHEPROD-OCC" (required, max 38 chars, actual: 28)
[2025-07-10T14:55:38.784Z]           title: "TestECPhono" (required, max 70 chars, actual: 11)
[2025-07-10T14:55:38.784Z]           CN23Label: "TestECPhono" (required, max 30 chars, actual: 11)
[2025-07-10T14:55:38.784Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-10T14:55:38.785Z]           barCode: "2173791294129" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-10T14:55:38.785Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-10T14:55:38.785Z]           description: "CD Test pour generation d'EC par API" (max 255 chars, actual: 36)
[2025-07-10T14:55:38.785Z] Total items to import: 1
[2025-07-10T14:55:38.785Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-10T14:55:38.786Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-10T14:55:38.786Z] 
--- Sending Variant (SKU: CD-TESTECPHONO-FICHEPROD-OCC) ---
[2025-07-10T14:55:38.786Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-10T14:55:38.786Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-10T14:55:38.786Z] BODY: [
  {
    "productType": "CD Client",
    "CptClient": "887459",
    "sku": "CD-TESTECPHONO-FICHEPROD-OCC",
    "title": "TestECPhono",
    "CN23Label": "TestECPhono",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2173791294129",
    "description": "CD Test pour generation d'EC par API",
    "itemClassification": "Phono",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-10T14:55:38.786Z] -------------------------------------------
[2025-07-10T14:55:39.532Z] ❌ FAILED for SKU: CD-TESTECPHONO-FICHEPROD-OCC. Reason: Invalid EAN13 code for item with SKU CD-TESTECPHONO-FICHEPROD-OCC: 2173791294129
[2025-07-10T14:55:39.533Z] 
--- Import Process Complete ---
[2025-07-10T14:55:39.534Z] Successfully imported: 0
[2025-07-10T14:55:39.534Z] Failed to import: 1
[2025-07-10T14:55:39.534Z] -----------------------------
[2025-07-10T14:55:39.534Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-10T14:55:39.534Z] FATAL ERROR: Error: Failed to import 1 variant(s). Details: SKU CD-TESTECPHONO-FICHEPROD-OCC: Invalid EAN13 code for item with SKU CD-TESTECPHONO-FICHEPROD-OCC: 2173791294129
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:273:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:612:20
[2025-07-11T07:49:04.384Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T07:49:04.398Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686d1a21750a93c999f80829"]
[2025-07-11T07:49:04.401Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T07:49:04.401Z] Found shop: FicheProd
[2025-07-11T07:49:04.401Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T07:49:04.401Z] Checking for required EC API credentials...
[2025-07-11T07:49:04.401Z] Environment variables check:
[2025-07-11T07:49:04.401Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T07:49:04.401Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T07:49:04.402Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T07:49:04.402Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T07:49:04.402Z]   process.env.NODE_ENV: development
[2025-07-11T07:49:04.402Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T07:49:04.402Z] All EC_* environment variables:
[2025-07-11T07:49:04.402Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T07:49:04.402Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T07:49:04.402Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T07:49:04.402Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T07:49:04.402Z] Credentials check passed.
[2025-07-11T07:49:04.402Z] Mapping products to EC items...
[2025-07-11T07:49:04.402Z]   - Mapping product: TestECPhono (ID: 686d1a21750a93c999f80829)
[2025-07-11T07:49:04.402Z]     - Generated 1 variant combinations.
[2025-07-11T07:49:04.402Z]       - Processing combination: default
[2025-07-11T07:49:04.402Z]     - Mapped Phono/CD to: CD Client
[2025-07-11T07:49:04.403Z]         - Item validation for default:
[2025-07-11T07:49:04.403Z]           productType: "CD Client" (required)
[2025-07-11T07:49:04.403Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-11T07:49:04.403Z]           sku: "CD-TESTECPHONO-FICHEPROD-OCC" (required, max 38 chars, actual: 28)
[2025-07-11T07:49:04.403Z]           title: "TestECPhono" (required, max 70 chars, actual: 11)
[2025-07-11T07:49:04.403Z]           CN23Label: "TestECPhono" (required, max 30 chars, actual: 11)
[2025-07-11T07:49:04.403Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-11T07:49:04.403Z]           barCode: "2173791294129" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-11T07:49:04.403Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-11T07:49:04.403Z]           description: "CD Test pour generation d'EC par API" (max 255 chars, actual: 36)
[2025-07-11T07:49:04.409Z] Total items to import: 1
[2025-07-11T07:49:04.409Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-11T07:49:04.411Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-11T07:49:04.411Z] 
--- Sending Variant (SKU: CD-TESTECPHONO-FICHEPROD-OCC) ---
[2025-07-11T07:49:04.411Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-11T07:49:04.411Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-11T07:49:04.411Z] BODY: [
  {
    "productType": "CD Client",
    "CptClient": "887459",
    "sku": "CD-TESTECPHONO-FICHEPROD-OCC",
    "title": "TestECPhono",
    "CN23Label": "TestECPhono",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2173791294129",
    "description": "CD Test pour generation d'EC par API",
    "itemClassification": "Phono",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-11T07:49:04.411Z] -------------------------------------------
[2025-07-11T07:49:05.090Z] ❌ FAILED for SKU: CD-TESTECPHONO-FICHEPROD-OCC. Reason: Invalid EAN13 code for item with SKU CD-TESTECPHONO-FICHEPROD-OCC: 2173791294129
[2025-07-11T07:49:05.091Z] 
--- Import Process Complete ---
[2025-07-11T07:49:05.091Z] Successfully imported: 0
[2025-07-11T07:49:05.091Z] Failed to import: 1
[2025-07-11T07:49:05.091Z] -----------------------------
[2025-07-11T07:49:05.091Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-11T07:49:05.092Z] FATAL ERROR: Error: Failed to import 1 variant(s). Details: SKU CD-TESTECPHONO-FICHEPROD-OCC: Invalid EAN13 code for item with SKU CD-TESTECPHONO-FICHEPROD-OCC: 2173791294129
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:273:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:612:20
[2025-07-11T07:57:16.149Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T07:57:16.158Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686d1a21750a93c999f80829"]
[2025-07-11T07:57:16.165Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T07:57:16.165Z] Found shop: FicheProd
[2025-07-11T07:57:16.165Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T07:57:16.165Z] Checking for required EC API credentials...
[2025-07-11T07:57:16.165Z] Environment variables check:
[2025-07-11T07:57:16.166Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T07:57:16.166Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T07:57:16.166Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T07:57:16.166Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T07:57:16.166Z]   process.env.NODE_ENV: development
[2025-07-11T07:57:16.166Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T07:57:16.166Z] All EC_* environment variables:
[2025-07-11T07:57:16.166Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T07:57:16.167Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T07:57:16.167Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T07:57:16.167Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T07:57:16.167Z] Credentials check passed.
[2025-07-11T07:57:16.167Z] Mapping products to EC items...
[2025-07-11T07:57:16.167Z]   - Mapping product: TestECPhono (ID: 686d1a21750a93c999f80829)
[2025-07-11T07:57:16.167Z]     - Generated 1 variant combinations.
[2025-07-11T07:57:16.167Z]       - Processing combination: default
[2025-07-11T07:57:16.168Z]     - Mapped Phono/CD to: CD Client
[2025-07-11T07:57:16.168Z]         - Item validation for default:
[2025-07-11T07:57:16.168Z]           productType: "CD Client" (required)
[2025-07-11T07:57:16.168Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-11T07:57:16.168Z]           sku: "CD-TESTECPHONO-FICHEPROD-OCC" (required, max 38 chars, actual: 28)
[2025-07-11T07:57:16.168Z]           title: "TestECPhono" (required, max 70 chars, actual: 11)
[2025-07-11T07:57:16.168Z]           CN23Label: "TestECPhono" (required, max 30 chars, actual: 11)
[2025-07-11T07:57:16.168Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-11T07:57:16.168Z]           barCode: "2173791294129" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-11T07:57:16.168Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-11T07:57:16.169Z]           description: "CD Test pour generation d'EC par API" (max 255 chars, actual: 36)
[2025-07-11T07:57:16.169Z] Total items to import: 1
[2025-07-11T07:57:16.169Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-11T07:57:16.170Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-11T07:57:16.170Z] 
--- Sending Variant (SKU: CD-TESTECPHONO-FICHEPROD-OCC) ---
[2025-07-11T07:57:16.170Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-11T07:57:16.170Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-11T07:57:16.171Z] BODY: [
  {
    "productType": "CD Client",
    "CptClient": "887459",
    "sku": "CD-TESTECPHONO-FICHEPROD-OCC",
    "title": "TestECPhono",
    "CN23Label": "TestECPhono",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "2173791294129",
    "description": "CD Test pour generation d'EC par API",
    "itemClassification": "Phono",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-11T07:57:16.171Z] -------------------------------------------
[2025-07-11T07:57:16.839Z] ❌ FAILED for SKU: CD-TESTECPHONO-FICHEPROD-OCC. Reason: Invalid EAN13 code for item with SKU CD-TESTECPHONO-FICHEPROD-OCC: 2173791294129
[2025-07-11T07:57:16.840Z] 
--- Import Process Complete ---
[2025-07-11T07:57:16.841Z] Successfully imported: 0
[2025-07-11T07:57:16.841Z] Failed to import: 1
[2025-07-11T07:57:16.841Z] -----------------------------
[2025-07-11T07:57:16.841Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-11T07:57:16.841Z] FATAL ERROR: Error: Failed to import 1 variant(s). Details: SKU CD-TESTECPHONO-FICHEPROD-OCC: Invalid EAN13 code for item with SKU CD-TESTECPHONO-FICHEPROD-OCC: 2173791294129
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:273:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:612:20
[2025-07-11T08:12:23.994Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T08:12:24.055Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686d1a21750a93c999f80829"]
[2025-07-11T08:12:24.058Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T08:12:24.059Z] Found shop: FicheProd
[2025-07-11T08:12:24.059Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T08:12:24.059Z] Checking for required EC API credentials...
[2025-07-11T08:12:24.059Z] Environment variables check:
[2025-07-11T08:12:24.059Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:12:24.059Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:12:24.059Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:12:24.059Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:12:24.060Z]   process.env.NODE_ENV: development
[2025-07-11T08:12:24.060Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T08:12:24.060Z] All EC_* environment variables:
[2025-07-11T08:12:24.060Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:12:24.060Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:12:24.060Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:12:24.060Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:12:24.060Z] Credentials check passed.
[2025-07-11T08:12:24.060Z] Mapping products to EC items...
[2025-07-11T08:12:24.061Z]   - Mapping product: TestECPhono (ID: 686d1a21750a93c999f80829)
[2025-07-11T08:12:24.061Z]     - Generated 1 variant combinations.
[2025-07-11T08:12:24.061Z]       - Processing combination: default
[2025-07-11T08:12:24.061Z]         - ERROR: Invalid EAN13 code for combination default: "2173791294129". Checksum is incorrect.
[2025-07-11T08:12:24.061Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-11T08:12:24.067Z] FATAL ERROR: Error: Invalid EAN13 code "2173791294129" for product variant "default". The checksum is incorrect.
    at mapProductToItem (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:108:13)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:227:42
    at Array.flatMap (<anonymous>)
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:227:29)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:612:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-07-11T08:12:31.123Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T08:12:31.124Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686d1a21750a93c999f80829"]
[2025-07-11T08:12:31.137Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T08:12:31.137Z] Found shop: FicheProd
[2025-07-11T08:12:31.137Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T08:12:31.137Z] Checking for required EC API credentials...
[2025-07-11T08:12:31.137Z] Environment variables check:
[2025-07-11T08:12:31.138Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:12:31.138Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:12:31.138Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:12:31.138Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:12:31.138Z]   process.env.NODE_ENV: development
[2025-07-11T08:12:31.138Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T08:12:31.138Z] All EC_* environment variables:
[2025-07-11T08:12:31.138Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:12:31.138Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:12:31.138Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:12:31.139Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:12:31.139Z] Credentials check passed.
[2025-07-11T08:12:31.140Z] Mapping products to EC items...
[2025-07-11T08:12:31.140Z]   - Mapping product: TestECPhono (ID: 686d1a21750a93c999f80829)
[2025-07-11T08:12:31.140Z]     - Generated 1 variant combinations.
[2025-07-11T08:12:31.141Z]       - Processing combination: default
[2025-07-11T08:12:31.141Z]         - ERROR: Invalid EAN13 code for combination default: "2173791294129". Checksum is incorrect.
[2025-07-11T08:12:31.141Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-11T08:12:31.141Z] FATAL ERROR: Error: Invalid EAN13 code "2173791294129" for product variant "default". The checksum is incorrect.
    at mapProductToItem (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:108:13)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:227:42
    at Array.flatMap (<anonymous>)
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:227:29)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:612:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-07-11T08:12:59.946Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T08:12:59.948Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["686d1a21750a93c999f80829"]
[2025-07-11T08:12:59.958Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T08:12:59.958Z] Found shop: FicheProd
[2025-07-11T08:12:59.959Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T08:12:59.959Z] Checking for required EC API credentials...
[2025-07-11T08:12:59.959Z] Environment variables check:
[2025-07-11T08:12:59.959Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:12:59.959Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:12:59.959Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:12:59.960Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:12:59.960Z]   process.env.NODE_ENV: development
[2025-07-11T08:12:59.960Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T08:12:59.960Z] All EC_* environment variables:
[2025-07-11T08:12:59.961Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:12:59.961Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:12:59.961Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:12:59.961Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:12:59.961Z] Credentials check passed.
[2025-07-11T08:12:59.961Z] Mapping products to EC items...
[2025-07-11T08:12:59.961Z]   - Mapping product: TestECPhono (ID: 686d1a21750a93c999f80829)
[2025-07-11T08:12:59.961Z]     - Generated 1 variant combinations.
[2025-07-11T08:12:59.961Z]       - Processing combination: default
[2025-07-11T08:12:59.962Z]     - Mapped Phono/CD to: CD Client
[2025-07-11T08:12:59.962Z]         - Item validation for default:
[2025-07-11T08:12:59.963Z]           productType: "CD Client" (required)
[2025-07-11T08:12:59.963Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-11T08:12:59.963Z]           sku: "CD-TESTECPHONO-FICHEPROD-OCC" (required, max 38 chars, actual: 28)
[2025-07-11T08:12:59.963Z]           title: "TestECPhono" (required, max 70 chars, actual: 11)
[2025-07-11T08:12:59.966Z]           CN23Label: "TestECPhono" (required, max 30 chars, actual: 11)
[2025-07-11T08:12:59.967Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-11T08:12:59.967Z]           barCode: "3700187689872" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-11T08:12:59.967Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-11T08:12:59.967Z]           description: "CD Test pour generation d'EC par API" (max 255 chars, actual: 36)
[2025-07-11T08:12:59.967Z] Total items to import: 1
[2025-07-11T08:12:59.967Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-11T08:12:59.967Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-11T08:12:59.967Z] 
--- Sending Variant (SKU: CD-TESTECPHONO-FICHEPROD-OCC) ---
[2025-07-11T08:12:59.968Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-11T08:12:59.968Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-11T08:12:59.968Z] BODY: [
  {
    "productType": "CD Client",
    "CptClient": "887459",
    "sku": "CD-TESTECPHONO-FICHEPROD-OCC",
    "title": "TestECPhono",
    "CN23Label": "TestECPhono",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "3700187689872",
    "description": "CD Test pour generation d'EC par API",
    "itemClassification": "Phono",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-11T08:12:59.968Z] -------------------------------------------
[2025-07-11T08:13:00.776Z] ✅ SUCCESS for SKU: CD-TESTECPHONO-FICHEPROD-OCC. Status: 200
[2025-07-11T08:13:00.776Z] 
--- Import Process Complete ---
[2025-07-11T08:13:00.776Z] Successfully imported: 1
[2025-07-11T08:13:00.777Z] Failed to import: 0
[2025-07-11T08:13:00.777Z] -----------------------------
[2025-07-11T08:13:00.777Z] EC service call completed. Updating product statuses in DB.
[2025-07-11T08:13:00.814Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
[2025-07-11T08:32:37.411Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T08:32:37.422Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["6870cbe64729e227ee3447c9"]
[2025-07-11T08:32:37.427Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T08:32:37.427Z] Found shop: FicheProd
[2025-07-11T08:32:37.427Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T08:32:37.427Z] Checking for required EC API credentials...
[2025-07-11T08:32:37.428Z] Environment variables check:
[2025-07-11T08:32:37.428Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:32:37.428Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:32:37.428Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:32:37.428Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:32:37.428Z]   process.env.NODE_ENV: development
[2025-07-11T08:32:37.428Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T08:32:37.428Z] All EC_* environment variables:
[2025-07-11T08:32:37.429Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:32:37.429Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:32:37.429Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:32:37.429Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:32:37.429Z] Credentials check passed.
[2025-07-11T08:32:37.429Z] Mapping products to EC items...
[2025-07-11T08:32:37.429Z]   - Mapping product: TESTECEAN (ID: 6870cbe64729e227ee3447c9)
[2025-07-11T08:32:37.429Z]     - Generated 1 variant combinations.
[2025-07-11T08:32:37.430Z]       - Processing combination: default
[2025-07-11T08:32:37.430Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-11T08:32:37.430Z]         - Item validation for default:
[2025-07-11T08:32:37.430Z]           productType: "T-shirt Client" (required)
[2025-07-11T08:32:37.430Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-11T08:32:37.430Z]           sku: "TSHIRT-TESTECEAN" (required, max 38 chars, actual: 16)
[2025-07-11T08:32:37.430Z]           title: "TESTECEAN" (required, max 70 chars, actual: 9)
[2025-07-11T08:32:37.430Z]           CN23Label: "TESTECEAN" (required, max 30 chars, actual: 9)
[2025-07-11T08:32:37.431Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-11T08:32:37.431Z]           barCode: "0000000000000" (max 13 chars, actual: 13, valid EAN13: true)
[2025-07-11T08:32:37.431Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-11T08:32:37.431Z]           description: "Pour tester la creation d'un EC sans EAN" (max 255 chars, actual: 40)
[2025-07-11T08:32:37.431Z] Total items to import: 1
[2025-07-11T08:32:37.431Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-11T08:32:37.432Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-11T08:32:37.432Z] 
--- Sending Variant (SKU: TSHIRT-TESTECEAN) ---
[2025-07-11T08:32:37.432Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-11T08:32:37.432Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-11T08:32:37.432Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-TESTECEAN",
    "title": "TESTECEAN",
    "CN23Label": "TESTECEAN",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "0000000000000",
    "description": "Pour tester la creation d'un EC sans EAN",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-11T08:32:37.432Z] -------------------------------------------
[2025-07-11T08:32:38.090Z] ❌ FAILED for SKU: TSHIRT-TESTECEAN. Reason: Invalid EAN13 code for item with SKU TSHIRT-TESTECEAN: 0000000000000
[2025-07-11T08:32:38.091Z] 
--- Import Process Complete ---
[2025-07-11T08:32:38.092Z] Successfully imported: 0
[2025-07-11T08:32:38.092Z] Failed to import: 1
[2025-07-11T08:32:38.092Z] -----------------------------
[2025-07-11T08:32:38.092Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-11T08:32:38.092Z] FATAL ERROR: Error: Failed to import 1 variant(s). Details: SKU TSHIRT-TESTECEAN: Invalid EAN13 code for item with SKU TSHIRT-TESTECEAN: 0000000000000
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:291:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:612:20
[2025-07-11T08:33:18.714Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T08:33:18.718Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["6870cbe64729e227ee3447c9"]
[2025-07-11T08:33:18.985Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T08:33:18.985Z] Found shop: FicheProd
[2025-07-11T08:33:18.985Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T08:33:18.985Z] Checking for required EC API credentials...
[2025-07-11T08:33:18.985Z] Environment variables check:
[2025-07-11T08:33:18.985Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:33:18.985Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:33:18.985Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:33:18.986Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:33:18.986Z]   process.env.NODE_ENV: development
[2025-07-11T08:33:18.986Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T08:33:18.986Z] All EC_* environment variables:
[2025-07-11T08:33:18.986Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:33:18.986Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:33:18.986Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:33:18.986Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:33:18.986Z] Credentials check passed.
[2025-07-11T08:33:18.986Z] Mapping products to EC items...
[2025-07-11T08:33:18.987Z]   - Mapping product: TESTECEAN (ID: 6870cbe64729e227ee3447c9)
[2025-07-11T08:33:18.987Z]     - Generated 1 variant combinations.
[2025-07-11T08:33:18.987Z]       - Processing combination: default
[2025-07-11T08:33:18.987Z]         - ERROR: Invalid EAN13 code for combination default: "0000000000000". Checksum is incorrect.
[2025-07-11T08:33:18.987Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-11T08:33:18.987Z] FATAL ERROR: Error: Invalid EAN13 code "0000000000000" for product variant "default". The checksum is incorrect.
    at mapProductToItem (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:109:13)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:228:42
    at Array.flatMap (<anonymous>)
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:228:29)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:612:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-07-11T08:33:51.290Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T08:33:51.291Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["6870cbe64729e227ee3447c9"]
[2025-07-11T08:33:51.294Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T08:33:51.294Z] Found shop: FicheProd
[2025-07-11T08:33:51.294Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T08:33:51.294Z] Checking for required EC API credentials...
[2025-07-11T08:33:51.295Z] Environment variables check:
[2025-07-11T08:33:51.295Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:33:51.295Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:33:51.295Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:33:51.295Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:33:51.295Z]   process.env.NODE_ENV: development
[2025-07-11T08:33:51.295Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T08:33:51.295Z] All EC_* environment variables:
[2025-07-11T08:33:51.295Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:33:51.295Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:33:51.295Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:33:51.295Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:33:51.295Z] Credentials check passed.
[2025-07-11T08:33:51.295Z] Mapping products to EC items...
[2025-07-11T08:33:51.296Z]   - Mapping product: TESTECEAN (ID: 6870cbe64729e227ee3447c9)
[2025-07-11T08:33:51.296Z]     - Generated 1 variant combinations.
[2025-07-11T08:33:51.296Z]       - Processing combination: default
[2025-07-11T08:33:51.296Z]         - ERROR: Invalid EAN13 code for combination default: "0000000000000". Checksum is incorrect.
[2025-07-11T08:33:51.296Z] --- EC Generation Request Failed (NEW ROUTE) ---
[2025-07-11T08:33:51.296Z] FATAL ERROR: Error: Invalid EAN13 code "0000000000000" for product variant "default". The checksum is incorrect.
    at mapProductToItem (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:109:13)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:228:42
    at Array.flatMap (<anonymous>)
    at importItemsToEC (/Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/services/ecService.js:228:29)
    at /Users/achrafbayi/Desktop/Data processing alternative/Code/backend/src/routes/internal.js:612:26
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-07-11T08:36:47.398Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T08:36:47.409Z] Shop ID: 686b80725da233385b1fe324, Product IDs: ["6870cbe64729e227ee3447c9"]
[2025-07-11T08:36:47.416Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T08:36:47.417Z] Found shop: FicheProd
[2025-07-11T08:36:47.417Z] [EC Generation] Starting EC generation for 1 products from shop FicheProd
[2025-07-11T08:36:47.419Z] Checking for required EC API credentials...
[2025-07-11T08:36:47.419Z] Environment variables check:
[2025-07-11T08:36:47.419Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:36:47.419Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:36:47.420Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:36:47.420Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:36:47.420Z]   process.env.NODE_ENV: development
[2025-07-11T08:36:47.420Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T08:36:47.420Z] All EC_* environment variables:
[2025-07-11T08:36:47.421Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T08:36:47.421Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T08:36:47.421Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T08:36:47.421Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T08:36:47.421Z] Credentials check passed.
[2025-07-11T08:36:47.422Z] Mapping products to EC items...
[2025-07-11T08:36:47.424Z]   - Mapping product: TESTECEAN (ID: 6870cbe64729e227ee3447c9)
[2025-07-11T08:36:47.424Z]     - Generated 1 variant combinations.
[2025-07-11T08:36:47.424Z]       - Processing combination: default
[2025-07-11T08:36:47.425Z]         - WARNING: Invalid EAN13 code for combination default: "0000000000000". Will send empty barCode.
[2025-07-11T08:36:47.425Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-11T08:36:47.425Z]         - Item validation for default:
[2025-07-11T08:36:47.425Z]           productType: "T-shirt Client" (required)
[2025-07-11T08:36:47.425Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-11T08:36:47.425Z]           sku: "TSHIRT-TESTECEAN" (required, max 38 chars, actual: 16)
[2025-07-11T08:36:47.426Z]           title: "TESTECEAN" (required, max 70 chars, actual: 9)
[2025-07-11T08:36:47.426Z]           CN23Label: "TESTECEAN" (required, max 30 chars, actual: 9)
[2025-07-11T08:36:47.426Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-11T08:36:47.426Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-11T08:36:47.426Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-11T08:36:47.426Z]           description: "Pour tester la creation d'un EC sans EAN" (max 255 chars, actual: 40)
[2025-07-11T08:36:47.426Z] Total items to import: 1
[2025-07-11T08:36:47.426Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-11T08:36:47.426Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-11T08:36:47.427Z] 
--- Sending Variant (SKU: TSHIRT-TESTECEAN) ---
[2025-07-11T08:36:47.427Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-11T08:36:47.427Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-11T08:36:47.427Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-TESTECEAN",
    "title": "TESTECEAN",
    "CN23Label": "TESTECEAN",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Pour tester la creation d'un EC sans EAN",
    "itemClassification": "Merch",
    "Boutique": "FicheProd",
    "occ": false
  }
]
[2025-07-11T08:36:47.427Z] -------------------------------------------
[2025-07-11T08:36:48.171Z] ✅ SUCCESS for SKU: TSHIRT-TESTECEAN. Status: 200
[2025-07-11T08:36:48.173Z] 
--- Import Process Complete ---
[2025-07-11T08:36:48.173Z] Successfully imported: 1
[2025-07-11T08:36:48.173Z] Failed to import: 0
[2025-07-11T08:36:48.173Z] -----------------------------
[2025-07-11T08:36:48.173Z] EC service call completed. Updating product statuses in DB.
[2025-07-11T08:36:48.226Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
[2025-07-11T14:04:20.206Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T14:04:20.214Z] Shop ID: 6871174504e4102288a0c90b, Product IDs: ["687117c204e4102288a0c90c"]
[2025-07-11T14:04:20.220Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T14:04:20.220Z] Found shop: TestVendrei
[2025-07-11T14:04:20.220Z] [EC Generation] Starting EC generation for 1 products from shop TestVendrei
[2025-07-11T14:04:20.221Z] Checking for required EC API credentials...
[2025-07-11T14:04:20.221Z] Environment variables check:
[2025-07-11T14:04:20.222Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T14:04:20.222Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T14:04:20.223Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T14:04:20.223Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T14:04:20.223Z]   process.env.NODE_ENV: development
[2025-07-11T14:04:20.223Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T14:04:20.223Z] All EC_* environment variables:
[2025-07-11T14:04:20.224Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T14:04:20.224Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T14:04:20.224Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T14:04:20.224Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T14:04:20.224Z] Credentials check passed.
[2025-07-11T14:04:20.224Z] Mapping products to EC items...
[2025-07-11T14:04:20.225Z]   - Mapping product: ProduitTest (ID: 687117c204e4102288a0c90c)
[2025-07-11T14:04:20.225Z]     - Generated 1 variant combinations.
[2025-07-11T14:04:20.225Z]       - Processing combination: default
[2025-07-11T14:04:20.226Z]         - WARNING: Invalid EAN13 code for combination default: "0000000000000". Will send empty barCode.
[2025-07-11T14:04:20.226Z]     - Mapped Phono/Vinyl to: Vinyle Client
[2025-07-11T14:04:20.226Z]         - Item validation for default:
[2025-07-11T14:04:20.226Z]           productType: "Vinyle Client" (required)
[2025-07-11T14:04:20.226Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-11T14:04:20.226Z]           sku: "VINYL-PRODUITTEST-TESTVENDREI-OCC" (required, max 38 chars, actual: 33)
[2025-07-11T14:04:20.227Z]           title: "ProduitTest" (required, max 70 chars, actual: 11)
[2025-07-11T14:04:20.227Z]           CN23Label: "ProduitTest" (required, max 30 chars, actual: 11)
[2025-07-11T14:04:20.227Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-11T14:04:20.227Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-11T14:04:20.227Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-11T14:04:20.227Z]           description: "faaffafs" (max 255 chars, actual: 8)
[2025-07-11T14:04:20.227Z] Total items to import: 1
[2025-07-11T14:04:20.227Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-11T14:04:20.227Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-11T14:04:20.228Z] 
--- Sending Variant (SKU: VINYL-PRODUITTEST-TESTVENDREI-OCC) ---
[2025-07-11T14:04:20.228Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-11T14:04:20.228Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-11T14:04:20.228Z] BODY: [
  {
    "productType": "Vinyle Client",
    "CptClient": "887459",
    "sku": "VINYL-PRODUITTEST-TESTVENDREI-OCC",
    "title": "ProduitTest",
    "CN23Label": "ProduitTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "faaffafs",
    "itemClassification": "Phono",
    "Boutique": "TestVendrei",
    "occ": false
  }
]
[2025-07-11T14:04:20.228Z] -------------------------------------------
[2025-07-11T14:04:21.156Z] ✅ SUCCESS for SKU: VINYL-PRODUITTEST-TESTVENDREI-OCC. Status: 200
[2025-07-11T14:04:21.158Z] 
--- Import Process Complete ---
[2025-07-11T14:04:21.158Z] Successfully imported: 1
[2025-07-11T14:04:21.158Z] Failed to import: 0
[2025-07-11T14:04:21.159Z] -----------------------------
[2025-07-11T14:04:21.159Z] EC service call completed. Updating product statuses in DB.
[2025-07-11T14:04:21.170Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
[2025-07-11T14:04:37.659Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-11T14:04:37.668Z] Shop ID: 6871174504e4102288a0c90b, Product IDs: ["687117c204e4102288a0c90c"]
[2025-07-11T14:04:37.680Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-11T14:04:37.681Z] Found shop: TestVendrei
[2025-07-11T14:04:37.681Z] [EC Generation] Starting EC generation for 1 products from shop TestVendrei
[2025-07-11T14:04:37.682Z] Checking for required EC API credentials...
[2025-07-11T14:04:37.682Z] Environment variables check:
[2025-07-11T14:04:37.682Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T14:04:37.682Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T14:04:37.683Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T14:04:37.683Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T14:04:37.683Z]   process.env.NODE_ENV: development
[2025-07-11T14:04:37.683Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-11T14:04:37.683Z] All EC_* environment variables:
[2025-07-11T14:04:37.684Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-11T14:04:37.685Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-11T14:04:37.685Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-11T14:04:37.686Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-11T14:04:37.687Z] Credentials check passed.
[2025-07-11T14:04:37.687Z] Mapping products to EC items...
[2025-07-11T14:04:37.687Z]   - Mapping product: ProduitTest (ID: 687117c204e4102288a0c90c)
[2025-07-11T14:04:37.687Z]     - Generated 1 variant combinations.
[2025-07-11T14:04:37.688Z]       - Processing combination: default
[2025-07-11T14:04:37.688Z]         - WARNING: Invalid EAN13 code for combination default: "0000000000000". Will send empty barCode.
[2025-07-11T14:04:37.688Z]     - Mapped Phono/Vinyl to: Vinyle Client
[2025-07-11T14:04:37.689Z]         - Item validation for default:
[2025-07-11T14:04:37.689Z]           productType: "Vinyle Client" (required)
[2025-07-11T14:04:37.689Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-11T14:04:37.689Z]           sku: "VINYL-PRODUITTEST-TESTVENDREI-OCC" (required, max 38 chars, actual: 33)
[2025-07-11T14:04:37.689Z]           title: "ProduitTest" (required, max 70 chars, actual: 11)
[2025-07-11T14:04:37.689Z]           CN23Label: "ProduitTest" (required, max 30 chars, actual: 11)
[2025-07-11T14:04:37.689Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-11T14:04:37.698Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-11T14:04:37.698Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-11T14:04:37.699Z]           description: "faaffafs" (max 255 chars, actual: 8)
[2025-07-11T14:04:37.699Z] Total items to import: 1
[2025-07-11T14:04:37.699Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-11T14:04:37.700Z] --- Starting variant-by-variant import for 1 items ---
[2025-07-11T14:04:37.700Z] 
--- Sending Variant (SKU: VINYL-PRODUITTEST-TESTVENDREI-OCC) ---
[2025-07-11T14:04:37.700Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-11T14:04:37.700Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-11T14:04:37.700Z] BODY: [
  {
    "productType": "Vinyle Client",
    "CptClient": "887459",
    "sku": "VINYL-PRODUITTEST-TESTVENDREI-OCC",
    "title": "ProduitTest",
    "CN23Label": "ProduitTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "faaffafs",
    "itemClassification": "Phono",
    "Boutique": "TestVendrei",
    "occ": false
  }
]
[2025-07-11T14:04:37.701Z] -------------------------------------------
[2025-07-11T14:04:38.127Z] ✅ SUCCESS for SKU: VINYL-PRODUITTEST-TESTVENDREI-OCC. Status: 200
[2025-07-11T14:04:38.127Z] 
--- Import Process Complete ---
[2025-07-11T14:04:38.127Z] Successfully imported: 1
[2025-07-11T14:04:38.127Z] Failed to import: 0
[2025-07-11T14:04:38.127Z] -----------------------------
[2025-07-11T14:04:38.127Z] EC service call completed. Updating product statuses in DB.
[2025-07-11T14:04:38.482Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
[2025-07-15T08:34:59.738Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-15T08:34:59.740Z] Shop ID: 687608fa1fa998ee43125e95, Product IDs: ["68760c851fa998ee43125e96"]
[2025-07-15T08:34:59.745Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-15T08:34:59.747Z] Found shop: TestFixBugs
[2025-07-15T08:34:59.747Z] [EC Generation] Starting EC generation for 1 products from shop TestFixBugs
[2025-07-15T08:34:59.748Z] Checking for required EC API credentials...
[2025-07-15T08:34:59.748Z] Environment variables check:
[2025-07-15T08:34:59.748Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-15T08:34:59.748Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-15T08:34:59.748Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-15T08:34:59.749Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-15T08:34:59.749Z]   process.env.NODE_ENV: development
[2025-07-15T08:34:59.749Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-15T08:34:59.749Z] All EC_* environment variables:
[2025-07-15T08:34:59.749Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-15T08:34:59.749Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-15T08:34:59.749Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-15T08:34:59.749Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-15T08:34:59.749Z] Credentials check passed.
[2025-07-15T08:34:59.749Z] Mapping products to EC items...
[2025-07-15T08:34:59.749Z]   - Mapping product: TestFix Bugs (ID: 68760c851fa998ee43125e96)
[2025-07-15T08:34:59.749Z]     - Generated 2 variant combinations.
[2025-07-15T08:34:59.749Z]       - Processing combination: Noir
[2025-07-15T08:34:59.750Z]         - WARNING: Invalid EAN13 code for combination Noir: "0000000000000". Will send empty barCode.
[2025-07-15T08:34:59.750Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-15T08:34:59.750Z]         - Item validation for Noir:
[2025-07-15T08:34:59.750Z]           productType: "Hoodie Client" (required)
[2025-07-15T08:34:59.750Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-15T08:34:59.750Z]           sku: "HOODIE-TESTFIXBUGS-NOIR" (required, max 38 chars, actual: 23)
[2025-07-15T08:34:59.750Z]           title: "TestFix Bugs" (required, max 70 chars, actual: 12)
[2025-07-15T08:34:59.750Z]           CN23Label: "TestFix Bugs" (required, max 30 chars, actual: 12)
[2025-07-15T08:34:59.750Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-15T08:34:59.750Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-15T08:34:59.750Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-15T08:34:59.750Z]           description: "to fix the bugs" (max 255 chars, actual: 15)
[2025-07-15T08:34:59.750Z]       - Processing combination: Vert
[2025-07-15T08:34:59.750Z]         - WARNING: Invalid EAN13 code for combination Vert: "0000000000000". Will send empty barCode.
[2025-07-15T08:34:59.750Z]     - Mapped Merch/Hoodie to: Hoodie Client
[2025-07-15T08:34:59.750Z]         - Item validation for Vert:
[2025-07-15T08:34:59.750Z]           productType: "Hoodie Client" (required)
[2025-07-15T08:34:59.750Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-15T08:34:59.750Z]           sku: "HOODIE-TESTFIXBUGS-VERT" (required, max 38 chars, actual: 23)
[2025-07-15T08:34:59.750Z]           title: "TestFix Bugs" (required, max 70 chars, actual: 12)
[2025-07-15T08:34:59.750Z]           CN23Label: "TestFix Bugs" (required, max 30 chars, actual: 12)
[2025-07-15T08:34:59.751Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-15T08:34:59.751Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-15T08:34:59.751Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-15T08:34:59.751Z]           description: "to fix the bugs" (max 255 chars, actual: 15)
[2025-07-15T08:34:59.751Z] Total items to import: 2
[2025-07-15T08:34:59.751Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-15T08:34:59.751Z] --- Starting variant-by-variant import for 2 items ---
[2025-07-15T08:34:59.751Z] 
--- Sending Variant (SKU: HOODIE-TESTFIXBUGS-NOIR) ---
[2025-07-15T08:34:59.751Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-15T08:34:59.751Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-15T08:34:59.751Z] BODY: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTFIXBUGS-NOIR",
    "title": "TestFix Bugs",
    "CN23Label": "TestFix Bugs",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "to fix the bugs",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "TestFixBugs",
    "occ": false
  }
]
[2025-07-15T08:34:59.751Z] -------------------------------------------
[2025-07-15T08:35:00.450Z] ✅ SUCCESS for SKU: HOODIE-TESTFIXBUGS-NOIR. Status: 200
[2025-07-15T08:35:00.455Z] 
--- Sending Variant (SKU: HOODIE-TESTFIXBUGS-VERT) ---
[2025-07-15T08:35:00.455Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-15T08:35:00.456Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-15T08:35:00.456Z] BODY: [
  {
    "productType": "Hoodie Client",
    "CptClient": "887459",
    "sku": "HOODIE-TESTFIXBUGS-VERT",
    "title": "TestFix Bugs",
    "CN23Label": "TestFix Bugs",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "to fix the bugs",
    "color": "Vert",
    "itemClassification": "Merch",
    "Boutique": "TestFixBugs",
    "occ": false
  }
]
[2025-07-15T08:35:00.456Z] -------------------------------------------
[2025-07-15T08:35:00.714Z] ✅ SUCCESS for SKU: HOODIE-TESTFIXBUGS-VERT. Status: 200
[2025-07-15T08:35:00.717Z] 
--- Import Process Complete ---
[2025-07-15T08:35:00.717Z] Successfully imported: 2
[2025-07-15T08:35:00.717Z] Failed to import: 0
[2025-07-15T08:35:00.717Z] -----------------------------
[2025-07-15T08:35:00.717Z] EC service call completed. Updating product statuses in DB.
[2025-07-15T08:35:00.725Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
[2025-07-15T10:42:28.570Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-15T10:42:28.574Z] Shop ID: 68762918372766ff101cf6cb, Product IDs: ["68762a1c372766ff101cf6cc"]
[2025-07-15T10:42:28.581Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-15T10:42:28.582Z] Found shop: NewTestFix
[2025-07-15T10:42:28.582Z] [EC Generation] Starting EC generation for 1 products from shop NewTestFix
[2025-07-15T10:42:28.583Z] Checking for required EC API credentials...
[2025-07-15T10:42:28.583Z] Environment variables check:
[2025-07-15T10:42:28.583Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-15T10:42:28.584Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-15T10:42:28.584Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-15T10:42:28.584Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-15T10:42:28.584Z]   process.env.NODE_ENV: development
[2025-07-15T10:42:28.584Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-15T10:42:28.584Z] All EC_* environment variables:
[2025-07-15T10:42:28.585Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-15T10:42:28.585Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-15T10:42:28.585Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-15T10:42:28.585Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-15T10:42:28.585Z] Credentials check passed.
[2025-07-15T10:42:28.585Z] Mapping products to EC items...
[2025-07-15T10:42:28.586Z]   - Mapping product: ProductGenTest (ID: 68762a1c372766ff101cf6cc)
[2025-07-15T10:42:28.587Z]     - Generated 5 variant combinations.
[2025-07-15T10:42:28.587Z]       - Processing combination: XS-Noir
[2025-07-15T10:42:28.587Z]         - WARNING: Invalid EAN13 code for combination XS-Noir: "0000000000000". Will send empty barCode.
[2025-07-15T10:42:28.588Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-15T10:42:28.588Z]         - Item validation for XS-Noir:
[2025-07-15T10:42:28.588Z]           productType: "T-shirt Client" (required)
[2025-07-15T10:42:28.588Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-15T10:42:28.588Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-XS" (required, max 38 chars, actual: 29)
[2025-07-15T10:42:28.588Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-15T10:42:28.588Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-15T10:42:28.588Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-15T10:42:28.588Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-15T10:42:28.588Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-15T10:42:28.589Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-15T10:42:28.589Z]       - Processing combination: S-Noir
[2025-07-15T10:42:28.589Z]         - WARNING: Invalid EAN13 code for combination S-Noir: "0000000000000". Will send empty barCode.
[2025-07-15T10:42:28.589Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-15T10:42:28.589Z]         - Item validation for S-Noir:
[2025-07-15T10:42:28.589Z]           productType: "T-shirt Client" (required)
[2025-07-15T10:42:28.589Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-15T10:42:28.590Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-S" (required, max 38 chars, actual: 28)
[2025-07-15T10:42:28.590Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-15T10:42:28.590Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-15T10:42:28.590Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-15T10:42:28.590Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-15T10:42:28.590Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-15T10:42:28.590Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-15T10:42:28.591Z]       - Processing combination: M-Noir
[2025-07-15T10:42:28.591Z]         - WARNING: Invalid EAN13 code for combination M-Noir: "0000000000000". Will send empty barCode.
[2025-07-15T10:42:28.591Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-15T10:42:28.591Z]         - Item validation for M-Noir:
[2025-07-15T10:42:28.591Z]           productType: "T-shirt Client" (required)
[2025-07-15T10:42:28.591Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-15T10:42:28.591Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-M" (required, max 38 chars, actual: 28)
[2025-07-15T10:42:28.591Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-15T10:42:28.591Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-15T10:42:28.592Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-15T10:42:28.592Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-15T10:42:28.592Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-15T10:42:28.592Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-15T10:42:28.592Z]       - Processing combination: L-Noir
[2025-07-15T10:42:28.592Z]         - WARNING: Invalid EAN13 code for combination L-Noir: "0000000000000". Will send empty barCode.
[2025-07-15T10:42:28.592Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-15T10:42:28.592Z]         - Item validation for L-Noir:
[2025-07-15T10:42:28.592Z]           productType: "T-shirt Client" (required)
[2025-07-15T10:42:28.593Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-15T10:42:28.593Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-L" (required, max 38 chars, actual: 28)
[2025-07-15T10:42:28.593Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-15T10:42:28.593Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-15T10:42:28.593Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-15T10:42:28.593Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-15T10:42:28.593Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-15T10:42:28.594Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-15T10:42:28.594Z]       - Processing combination: XL-Noir
[2025-07-15T10:42:28.594Z]         - WARNING: Invalid EAN13 code for combination XL-Noir: "0000000000000". Will send empty barCode.
[2025-07-15T10:42:28.594Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-15T10:42:28.594Z]         - Item validation for XL-Noir:
[2025-07-15T10:42:28.594Z]           productType: "T-shirt Client" (required)
[2025-07-15T10:42:28.594Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-15T10:42:28.594Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-XL" (required, max 38 chars, actual: 29)
[2025-07-15T10:42:28.595Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-15T10:42:28.595Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-15T10:42:28.595Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-15T10:42:28.595Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-15T10:42:28.595Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-15T10:42:28.595Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-15T10:42:28.595Z] Total items to import: 5
[2025-07-15T10:42:28.595Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-15T10:42:28.596Z] --- Starting variant-by-variant import for 5 items ---
[2025-07-15T10:42:28.596Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-XS) ---
[2025-07-15T10:42:28.596Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-15T10:42:28.596Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-15T10:42:28.596Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-XS",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "XS",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-15T10:42:28.596Z] -------------------------------------------
[2025-07-15T10:42:29.300Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-XS. Status: 200
[2025-07-15T10:42:29.305Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-S) ---
[2025-07-15T10:42:29.306Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-15T10:42:29.309Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-15T10:42:29.309Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-S",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "S",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-15T10:42:29.309Z] -------------------------------------------
[2025-07-15T10:42:29.567Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-S. Status: 200
[2025-07-15T10:42:29.569Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-M) ---
[2025-07-15T10:42:29.569Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-15T10:42:29.570Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-15T10:42:29.570Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-M",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "M",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-15T10:42:29.570Z] -------------------------------------------
[2025-07-15T10:42:29.799Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-M. Status: 200
[2025-07-15T10:42:29.799Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-L) ---
[2025-07-15T10:42:29.799Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-15T10:42:29.799Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-15T10:42:29.799Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-L",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "L",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-15T10:42:29.800Z] -------------------------------------------
[2025-07-15T10:42:30.031Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-L. Status: 200
[2025-07-15T10:42:30.032Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-XL) ---
[2025-07-15T10:42:30.032Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-15T10:42:30.032Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-15T10:42:30.032Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-XL",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "XL",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-15T10:42:30.032Z] -------------------------------------------
[2025-07-15T10:42:30.268Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-XL. Status: 200
[2025-07-15T10:42:30.269Z] 
--- Import Process Complete ---
[2025-07-15T10:42:30.270Z] Successfully imported: 5
[2025-07-15T10:42:30.270Z] Failed to import: 0
[2025-07-15T10:42:30.270Z] -----------------------------
[2025-07-15T10:42:30.270Z] EC service call completed. Updating product statuses in DB.
[2025-07-15T10:42:30.277Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
[2025-07-16T08:48:01.801Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-16T08:48:01.803Z] Shop ID: 68762918372766ff101cf6cb, Product IDs: ["68762a1c372766ff101cf6cc"]
[2025-07-16T08:48:01.808Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-16T08:48:01.808Z] Found shop: NewTestFix
[2025-07-16T08:48:01.809Z] [EC Generation] Starting EC generation for 1 products from shop NewTestFix
[2025-07-16T08:48:01.811Z] Checking for required EC API credentials...
[2025-07-16T08:48:01.811Z] Environment variables check:
[2025-07-16T08:48:01.811Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-16T08:48:01.811Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-16T08:48:01.812Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-16T08:48:01.812Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-16T08:48:01.812Z]   process.env.NODE_ENV: development
[2025-07-16T08:48:01.812Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-16T08:48:01.812Z] All EC_* environment variables:
[2025-07-16T08:48:01.812Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-16T08:48:01.812Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-16T08:48:01.813Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-16T08:48:01.813Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-16T08:48:01.813Z] Credentials check passed.
[2025-07-16T08:48:01.813Z] Mapping products to EC items...
[2025-07-16T08:48:01.814Z]   - Mapping product: ProductGenTest (ID: 68762a1c372766ff101cf6cc)
[2025-07-16T08:48:01.814Z]     - Generated 5 variant combinations.
[2025-07-16T08:48:01.814Z]       - Processing combination: XS-Noir
[2025-07-16T08:48:01.815Z]         - WARNING: Invalid EAN13 code for combination XS-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:01.815Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:01.815Z]         - Item validation for XS-Noir:
[2025-07-16T08:48:01.815Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:01.815Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:01.815Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-XS" (required, max 38 chars, actual: 29)
[2025-07-16T08:48:01.816Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:01.816Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:01.816Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:01.816Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:01.816Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:01.816Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:01.816Z]       - Processing combination: S-Noir
[2025-07-16T08:48:01.817Z]         - WARNING: Invalid EAN13 code for combination S-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:01.817Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:01.817Z]         - Item validation for S-Noir:
[2025-07-16T08:48:01.817Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:01.817Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:01.817Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-S" (required, max 38 chars, actual: 28)
[2025-07-16T08:48:01.817Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:01.817Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:01.817Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:01.817Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:01.817Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:01.817Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:01.818Z]       - Processing combination: M-Noir
[2025-07-16T08:48:01.818Z]         - WARNING: Invalid EAN13 code for combination M-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:01.818Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:01.818Z]         - Item validation for M-Noir:
[2025-07-16T08:48:01.818Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:01.818Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:01.818Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-M" (required, max 38 chars, actual: 28)
[2025-07-16T08:48:01.818Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:01.818Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:01.818Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:01.818Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:01.818Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:01.818Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:01.818Z]       - Processing combination: L-Noir
[2025-07-16T08:48:01.819Z]         - WARNING: Invalid EAN13 code for combination L-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:01.819Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:01.819Z]         - Item validation for L-Noir:
[2025-07-16T08:48:01.819Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:01.819Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:01.819Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-L" (required, max 38 chars, actual: 28)
[2025-07-16T08:48:01.819Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:01.819Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:01.819Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:01.819Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:01.819Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:01.819Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:01.819Z]       - Processing combination: XL-Noir
[2025-07-16T08:48:01.820Z]         - WARNING: Invalid EAN13 code for combination XL-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:01.820Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:01.820Z]         - Item validation for XL-Noir:
[2025-07-16T08:48:01.820Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:01.820Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:01.820Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-XL" (required, max 38 chars, actual: 29)
[2025-07-16T08:48:01.821Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:01.821Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:01.822Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:01.822Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:01.822Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:01.822Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:01.822Z] Total items to import: 5
[2025-07-16T08:48:01.823Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-16T08:48:01.823Z] --- Starting variant-by-variant import for 5 items ---
[2025-07-16T08:48:01.823Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-XS) ---
[2025-07-16T08:48:01.823Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:01.823Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:01.823Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-XS",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "XS",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:01.823Z] -------------------------------------------
[2025-07-16T08:48:02.594Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-XS. Status: 200
[2025-07-16T08:48:02.605Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-S) ---
[2025-07-16T08:48:02.605Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:02.605Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:02.605Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-S",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "S",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:02.606Z] -------------------------------------------
[2025-07-16T08:48:02.858Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-S. Status: 200
[2025-07-16T08:48:02.861Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-M) ---
[2025-07-16T08:48:02.861Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:02.861Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:02.861Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-M",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "M",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:02.862Z] -------------------------------------------
[2025-07-16T08:48:03.092Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-M. Status: 200
[2025-07-16T08:48:03.094Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-L) ---
[2025-07-16T08:48:03.094Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:03.095Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:03.095Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-L",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "L",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:03.095Z] -------------------------------------------
[2025-07-16T08:48:03.333Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-L. Status: 200
[2025-07-16T08:48:03.336Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-XL) ---
[2025-07-16T08:48:03.336Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:03.337Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:03.337Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-XL",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "XL",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:03.337Z] -------------------------------------------
[2025-07-16T08:48:03.579Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-XL. Status: 200
[2025-07-16T08:48:03.581Z] 
--- Import Process Complete ---
[2025-07-16T08:48:03.581Z] Successfully imported: 5
[2025-07-16T08:48:03.581Z] Failed to import: 0
[2025-07-16T08:48:03.582Z] -----------------------------
[2025-07-16T08:48:03.582Z] EC service call completed. Updating product statuses in DB.
[2025-07-16T08:48:03.601Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
[2025-07-16T08:48:46.376Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-16T08:48:46.387Z] Shop ID: 68762918372766ff101cf6cb, Product IDs: ["68762a1c372766ff101cf6cc"]
[2025-07-16T08:48:46.460Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-16T08:48:46.460Z] Found shop: NewTestFix
[2025-07-16T08:48:46.460Z] [EC Generation] Starting EC generation for 1 products from shop NewTestFix
[2025-07-16T08:48:46.460Z] Checking for required EC API credentials...
[2025-07-16T08:48:46.460Z] Environment variables check:
[2025-07-16T08:48:46.460Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-16T08:48:46.460Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-16T08:48:46.460Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-16T08:48:46.460Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-16T08:48:46.460Z]   process.env.NODE_ENV: development
[2025-07-16T08:48:46.460Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-16T08:48:46.460Z] All EC_* environment variables:
[2025-07-16T08:48:46.461Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-16T08:48:46.461Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-16T08:48:46.461Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-16T08:48:46.461Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-16T08:48:46.461Z] Credentials check passed.
[2025-07-16T08:48:46.461Z] Mapping products to EC items...
[2025-07-16T08:48:46.461Z]   - Mapping product: ProductGenTest (ID: 68762a1c372766ff101cf6cc)
[2025-07-16T08:48:46.461Z]     - Generated 5 variant combinations.
[2025-07-16T08:48:46.461Z]       - Processing combination: XS-Noir
[2025-07-16T08:48:46.461Z]         - WARNING: Invalid EAN13 code for combination XS-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:46.461Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:46.462Z]         - Item validation for XS-Noir:
[2025-07-16T08:48:46.462Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:46.462Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:46.462Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-XS" (required, max 38 chars, actual: 29)
[2025-07-16T08:48:46.462Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:46.462Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:46.462Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:46.462Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:46.462Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:46.462Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:46.462Z]       - Processing combination: S-Noir
[2025-07-16T08:48:46.462Z]         - WARNING: Invalid EAN13 code for combination S-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:46.462Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:46.462Z]         - Item validation for S-Noir:
[2025-07-16T08:48:46.462Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:46.462Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:46.462Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-S" (required, max 38 chars, actual: 28)
[2025-07-16T08:48:46.463Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:46.463Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:46.463Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:46.463Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:46.463Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:46.463Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:46.463Z]       - Processing combination: M-Noir
[2025-07-16T08:48:46.463Z]         - WARNING: Invalid EAN13 code for combination M-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:46.463Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:46.463Z]         - Item validation for M-Noir:
[2025-07-16T08:48:46.463Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:46.463Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:46.463Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-M" (required, max 38 chars, actual: 28)
[2025-07-16T08:48:46.463Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:46.463Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:46.463Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:46.463Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:46.463Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:46.463Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:46.464Z]       - Processing combination: L-Noir
[2025-07-16T08:48:46.464Z]         - WARNING: Invalid EAN13 code for combination L-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:46.464Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:46.464Z]         - Item validation for L-Noir:
[2025-07-16T08:48:46.464Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:46.464Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:46.464Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-L" (required, max 38 chars, actual: 28)
[2025-07-16T08:48:46.464Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:46.464Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:46.464Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:46.464Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:46.464Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:46.464Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:46.464Z]       - Processing combination: XL-Noir
[2025-07-16T08:48:46.464Z]         - WARNING: Invalid EAN13 code for combination XL-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:48:46.464Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:48:46.464Z]         - Item validation for XL-Noir:
[2025-07-16T08:48:46.464Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:48:46.464Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:48:46.464Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-XL" (required, max 38 chars, actual: 29)
[2025-07-16T08:48:46.464Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:48:46.464Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:48:46.465Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:48:46.465Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:48:46.465Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:48:46.465Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:48:46.465Z] Total items to import: 5
[2025-07-16T08:48:46.465Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-16T08:48:46.465Z] --- Starting variant-by-variant import for 5 items ---
[2025-07-16T08:48:46.465Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-XS) ---
[2025-07-16T08:48:46.465Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:46.465Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:46.465Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-XS",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "XS",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:46.465Z] -------------------------------------------
[2025-07-16T08:48:46.875Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-XS. Status: 200
[2025-07-16T08:48:46.876Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-S) ---
[2025-07-16T08:48:46.877Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:46.877Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:46.877Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-S",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "S",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:46.878Z] -------------------------------------------
[2025-07-16T08:48:47.124Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-S. Status: 200
[2025-07-16T08:48:47.124Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-M) ---
[2025-07-16T08:48:47.125Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:47.125Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:47.125Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-M",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "M",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:47.125Z] -------------------------------------------
[2025-07-16T08:48:47.475Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-M. Status: 200
[2025-07-16T08:48:47.476Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-L) ---
[2025-07-16T08:48:47.476Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:47.476Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:47.477Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-L",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "L",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:47.477Z] -------------------------------------------
[2025-07-16T08:48:47.705Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-L. Status: 200
[2025-07-16T08:48:47.707Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-XL) ---
[2025-07-16T08:48:47.708Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:48:47.708Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:48:47.708Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-XL",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "XL",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:48:47.708Z] -------------------------------------------
[2025-07-16T08:48:47.945Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-XL. Status: 200
[2025-07-16T08:48:47.948Z] 
--- Import Process Complete ---
[2025-07-16T08:48:47.948Z] Successfully imported: 5
[2025-07-16T08:48:47.948Z] Failed to import: 0
[2025-07-16T08:48:47.948Z] -----------------------------
[2025-07-16T08:48:47.948Z] EC service call completed. Updating product statuses in DB.
[2025-07-16T08:48:47.967Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
[2025-07-16T08:50:12.250Z] --- Initiating EC Generation Request (NEW ROUTE) ---
[2025-07-16T08:50:12.264Z] Shop ID: 68762918372766ff101cf6cb, Product IDs: ["68762a1c372766ff101cf6cc"]
[2025-07-16T08:50:12.288Z] Found customer: TsT (683da69591456c53b3729dce)
[2025-07-16T08:50:12.288Z] Found shop: NewTestFix
[2025-07-16T08:50:12.288Z] [EC Generation] Starting EC generation for 1 products from shop NewTestFix
[2025-07-16T08:50:12.288Z] Checking for required EC API credentials...
[2025-07-16T08:50:12.289Z] Environment variables check:
[2025-07-16T08:50:12.289Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-16T08:50:12.289Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-16T08:50:12.289Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-16T08:50:12.289Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-16T08:50:12.289Z]   process.env.NODE_ENV: development
[2025-07-16T08:50:12.289Z]   Current working directory: /Users/achrafbayi/Desktop/Data processing alternative/Code/backend
[2025-07-16T08:50:12.289Z] All EC_* environment variables:
[2025-07-16T08:50:12.289Z]   EC_API_LOGIN: "015130_01" (length: 9)
[2025-07-16T08:50:12.290Z]   EC_API_BASE_URL: "https://api.sna-gz.com" (length: 22)
[2025-07-16T08:50:12.290Z]   EC_API_PASSWORD: "LHf***" (length: 12)
[2025-07-16T08:50:12.290Z]   EC_API_USER: "Ggytg$jgh45" (length: 11)
[2025-07-16T08:50:12.290Z] Credentials check passed.
[2025-07-16T08:50:12.290Z] Mapping products to EC items...
[2025-07-16T08:50:12.290Z]   - Mapping product: ProductGenTest (ID: 68762a1c372766ff101cf6cc)
[2025-07-16T08:50:12.290Z]     - Generated 5 variant combinations.
[2025-07-16T08:50:12.290Z]       - Processing combination: XS-Noir
[2025-07-16T08:50:12.290Z]         - WARNING: Invalid EAN13 code for combination XS-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:50:12.290Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:50:12.290Z]         - Item validation for XS-Noir:
[2025-07-16T08:50:12.290Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:50:12.291Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:50:12.291Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-XS" (required, max 38 chars, actual: 29)
[2025-07-16T08:50:12.291Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:50:12.291Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:50:12.291Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:50:12.291Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:50:12.291Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:50:12.291Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:50:12.291Z]       - Processing combination: S-Noir
[2025-07-16T08:50:12.291Z]         - WARNING: Invalid EAN13 code for combination S-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:50:12.291Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:50:12.291Z]         - Item validation for S-Noir:
[2025-07-16T08:50:12.291Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:50:12.291Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:50:12.292Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-S" (required, max 38 chars, actual: 28)
[2025-07-16T08:50:12.292Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:50:12.292Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:50:12.292Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:50:12.292Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:50:12.292Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:50:12.292Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:50:12.292Z]       - Processing combination: M-Noir
[2025-07-16T08:50:12.292Z]         - WARNING: Invalid EAN13 code for combination M-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:50:12.292Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:50:12.292Z]         - Item validation for M-Noir:
[2025-07-16T08:50:12.292Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:50:12.292Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:50:12.292Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-M" (required, max 38 chars, actual: 28)
[2025-07-16T08:50:12.292Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:50:12.292Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:50:12.292Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:50:12.292Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:50:12.292Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:50:12.292Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:50:12.292Z]       - Processing combination: L-Noir
[2025-07-16T08:50:12.293Z]         - WARNING: Invalid EAN13 code for combination L-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:50:12.293Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:50:12.293Z]         - Item validation for L-Noir:
[2025-07-16T08:50:12.293Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:50:12.293Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:50:12.293Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-L" (required, max 38 chars, actual: 28)
[2025-07-16T08:50:12.293Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:50:12.293Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:50:12.293Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:50:12.295Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:50:12.295Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:50:12.295Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:50:12.295Z]       - Processing combination: XL-Noir
[2025-07-16T08:50:12.295Z]         - WARNING: Invalid EAN13 code for combination XL-Noir: "0000000000000". Will send empty barCode.
[2025-07-16T08:50:12.296Z]     - Mapped Merch/T-Shirt to: T-shirt Client
[2025-07-16T08:50:12.296Z]         - Item validation for XL-Noir:
[2025-07-16T08:50:12.296Z]           productType: "T-shirt Client" (required)
[2025-07-16T08:50:12.296Z]           CptClient: "887459" (required, 6 chars, actual: 6)
[2025-07-16T08:50:12.296Z]           sku: "TSHIRT-PRODUCTGENTEST-NOIR-XL" (required, max 38 chars, actual: 29)
[2025-07-16T08:50:12.296Z]           title: "ProductGenTest" (required, max 70 chars, actual: 14)
[2025-07-16T08:50:12.296Z]           CN23Label: "ProductGenTest" (required, max 30 chars, actual: 14)
[2025-07-16T08:50:12.296Z]           custodyCode: "00000000" (required, max 8 chars, actual: 8)
[2025-07-16T08:50:12.296Z]           barCode: "" (max 13 chars, actual: 0, valid EAN13: false)
[2025-07-16T08:50:12.296Z]           artist: "TsT" (max 70 chars, actual: 3)
[2025-07-16T08:50:12.296Z]           description: "Tshirt to test Claude's fix to our issues" (max 255 chars, actual: 41)
[2025-07-16T08:50:12.296Z] Total items to import: 5
[2025-07-16T08:50:12.296Z] Query Parameters prepared for request: {
  "CustomerAccount": "887459",
  "Login": "015130_01",
  "Password": "***",
  "uploadType": "User",
  "User": "Ggytg$jgh45"
}
[2025-07-16T08:50:12.296Z] --- Starting variant-by-variant import for 5 items ---
[2025-07-16T08:50:12.296Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-XS) ---
[2025-07-16T08:50:12.296Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:50:12.296Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:50:12.296Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-XS",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "XS",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:50:12.296Z] -------------------------------------------
[2025-07-16T08:50:12.917Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-XS. Status: 200
[2025-07-16T08:50:12.921Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-S) ---
[2025-07-16T08:50:12.921Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:50:12.921Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:50:12.921Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-S",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "S",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:50:12.921Z] -------------------------------------------
[2025-07-16T08:50:13.148Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-S. Status: 200
[2025-07-16T08:50:13.148Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-M) ---
[2025-07-16T08:50:13.149Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:50:13.149Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:50:13.149Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-M",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "M",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:50:13.149Z] -------------------------------------------
[2025-07-16T08:50:13.336Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-M. Status: 200
[2025-07-16T08:50:13.336Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-L) ---
[2025-07-16T08:50:13.336Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:50:13.336Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:50:13.336Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-L",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "L",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:50:13.336Z] -------------------------------------------
[2025-07-16T08:50:13.640Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-L. Status: 200
[2025-07-16T08:50:13.641Z] 
--- Sending Variant (SKU: TSHIRT-PRODUCTGENTEST-NOIR-XL) ---
[2025-07-16T08:50:13.641Z] URL: https://api.sna-gz.com/api-v1/item?CustomerAccount=887459&Login=015130_01&Password=LHfgvrHfrJ78&uploadType=User&User=Ggytg%24jgh45
[2025-07-16T08:50:13.641Z] HEADERS: {
  "Content-Type": "application/json",
  "User-Agent": "SNA-GZ-Portal/1.0"
}
[2025-07-16T08:50:13.641Z] BODY: [
  {
    "productType": "T-shirt Client",
    "CptClient": "887459",
    "sku": "TSHIRT-PRODUCTGENTEST-NOIR-XL",
    "title": "ProductGenTest",
    "CN23Label": "ProductGenTest",
    "custodyCode": "00000000",
    "artist": "TsT",
    "barCode": "",
    "description": "Tshirt to test Claude's fix to our issues",
    "size": "XL",
    "color": "Noir",
    "itemClassification": "Merch",
    "Boutique": "NewTestFix",
    "occ": false
  }
]
[2025-07-16T08:50:13.641Z] -------------------------------------------
[2025-07-16T08:50:13.828Z] ✅ SUCCESS for SKU: TSHIRT-PRODUCTGENTEST-NOIR-XL. Status: 200
[2025-07-16T08:50:13.828Z] 
--- Import Process Complete ---
[2025-07-16T08:50:13.828Z] Successfully imported: 5
[2025-07-16T08:50:13.828Z] Failed to import: 0
[2025-07-16T08:50:13.829Z] -----------------------------
[2025-07-16T08:50:13.829Z] EC service call completed. Updating product statuses in DB.
[2025-07-16T08:50:13.850Z] --- EC Generation Request Succeeded (NEW ROUTE) ---
